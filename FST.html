<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>FST</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.36.1): A free (gratis and libre) story format.

Copyright © 2013–2021 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/1.2.20171210/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~a(this,t+"")},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",~a(this,t)||(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);~e;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.replace=function(t,e){var n=a(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(p){void 0!==p.number&&-2146823252!==p.number||(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2020 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.14/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=arguments.length===0?0:arguments.length===1?i-f:b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return n.indexOf(t)==-1&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return n!=-1&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){if(Array.isArray(e))return e;var t="object"==typeof e&&"number"==typeof e.length;return t?d.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var s=e;return"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||e))}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console,d=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/dist/FileSaver.js */
(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url('data:application/octet-stream;base64,d09GRgABAAAAADLAAA8AAAAAWHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEkIY21hcAAAAdgAAAG8AAAF3rob9jFjdnQgAAADlAAAABMAAAAgBtX/BGZwZ20AAAOoAAAFkAAAC3CKkZBZZ2FzcAAACTgAAAAIAAAACAAAABBnbHlmAAAJQAAAI6gAADv+gJOpzGhlYWQAACzoAAAAMwAAADYY1IZaaGhlYQAALRwAAAAgAAAAJAfCBClobXR4AAAtPAAAAJEAAAFMBfb/0WxvY2EAAC3QAAAAqAAAAKhjiHI5bWF4cAAALngAAAAgAAAAIAFjDA9uYW1lAAAumAAAAY0AAAL94+zEpHBvc3QAADAoAAACHAAAA11cG/YjcHJlcAAAMkQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZgnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4EMgf9z2KIYg5imAYUZgTJAQDSIQumAHic7dTVbltRAETR7dpNCikzQ8rMzMxt/M39mHnsU1/TfZz5jFpaV7pXJunMDLAZmOqaZjD5y4Tx+uPTyeL5lG2L5zN+L94zG8+ztr7ulXH1fra4bvK9M79xiWW2sNXPbWeFHexkF7vZw172sZ8DHOQQhznCUY5xnBOc5BSnOcNZVjnHeS5wkUtc5gpX/f3r3OAmt7jNHe5yj/s84CGPeMwTnvKM57zgJa94zRve8o73fOAjn/jMF77yje/84Ce/WGPun1zi/2tlXKbp3Xyc44bFyZanSWokJDXOOjXSk/LUSXn+pEwCKTNBaqQqZU5IjX+XMjukTBEp80TKZJEyY6RMGylzR8oEkjKLpEwlKfNJyqSSMrOkTC8pc0zKRJMy26RMOSnzTsrkk7IDpGwDKXtByoaQsiukbA0p+0PKJpGyU6RsFyl7RmosQcrukbKFpOwjKZtJyo6Ssq2k7C0pG0zKLpOy1aTsNymbTsrOk7L9pNwBUi4CKbeBlCtByr0g5XKQckNIuSak3BVSLgwpt4aUq0PK/SHlEpFyk0i5TqTcKVIuFim3i5QrRso9I+WykXLjXOYNzP8BuAPUwHicY2BAAxIQyBz0PwuEARJsA90AeJytVml300YUHXlJnIQsJQstamHExGmwRiZswYAJQbJjIF2crZWgixQ76b7xid/gX/Nk2nPoN35a7xsvJJC053Cak6N3583VzNtlElqS2AvrkZSbL8XU1iaN7DwJ6YZNy1F8KDt7IWWKyd8FURCtltq3HYdERCJQta6wRBD7HlmaZHzoUUbLtqRXTcotPekuW+NBvVXffho6yrE7oaRmM3RoPbIlVRhVokimPVLSpmWo+itJK7y/wsxXzVDCiE4iabwZxtBI3htntMpoNbbjKIpsstwoUiSa4UEUeZTVEufkigkMygfNkPLKpxHlw/yIrNijnFawS7bT/L4vead3OT+xX29RtuRAH8iO7ODsdCVfhFtbYdy0k+0oVBF213dCbNnsVP9mj/KaRgO3KzK90IxgqXyFECs/ocz+IVktnE/5kkejWrKRE0HrZU7sSz6B1uOIKXHNGFnQ3dEJEdT9kjMM9pg+Hvzx3imWCxMCeBzLekclnAgTKWFzNEnaMHJgJWWLKqn1rpg45XVaxFvCfu3a0ZfOaONQd2I8Ww8dWzlRyfFoUqeZTJ3aSc2jKQ2ilHQmeMyvAyg/oklebWM1iZVH0zhmxoREIgIt3EtTQSw7saQpBM2jGb25G6a5di1apMkD9dyj9/TmVri501PaDvSzRn9Wp2I62AvT6WnkL/Fp2uUiRen66Rl+TOJB1gIykS02w5SDB2/9DtLL15YchdcG2O7t8yuofdZE8KQB+xvQHk/VKQlMhZhViFZAYq1rWZbJ1awWqcjUd0OaVr6s0wSKchwXx76Mcf1fMzOWmBK+34nTsyMuPXPtSwjTHHybdT2a16nFcgFxZnlOp1mW7+s0x/IDneZZntfpCEtbp6MsP9RpgeVHOh1jeUELmnTfwZCLMOQCDpAwhKUDQ1hegiEsFQxhuQhDWBZhCMslGMLyYxjCchmGsLysZdXUU0nj2plYBmxCYGKOHrnMReVqKrlUQrtoVGpDnhJulVQUz6p/ZaBePPKGObAWSJfIml8xzpWPRuX41hUtbxo7V8Cx6m8fjvY58VLWi4U/Bf/V1lQlvWLNw5Or8BuGnmwnqjapeHRNl89VPbr+X1RUWAv0G0iFWCjKsmxwZyKEjzqdhmqglUPMbMw8tOt1y5qfw/03MUIWUP34NxQaC9yDTllJWe3grNXX27LcO4NyOBMsSTE38/pW+CIjs9J+kVnKno98HnAFjEpl2GoDrRW82ScxD5neJM8EcVtRNkja2M4EiQ0c84B5850EJmHqqg3kTuGGDfgFYW7BeSdconqjLIfuRezzKKT8W6fiRPaoaIzAs9kbYa/vQspvcQwkNPmlfgxUFaGpGDUV0DRSbqgGX8bZum1Cxg70Iyp2w7Ks4sPHFveVkm0ZhHykiNWjo5/WXqJOqtx+ZhSX752+BcEgNTF/e990cZDKu1rJMkdtA1O3GpVT15pD41WH6uZR9b3j7BM5a5puuiceel/TqtvBxVwssPZtDtJSJhfU9WGFDaLLxaVQ6mU0Se+4BxgWGNDvUIqN/6v62HyeK1WF0XEk307Ut9HnYAz8D9h/R/UD0Pdj6HINLs/3mhOfbvThbJmuohfrp+g3MGutuVm6BtzQdAPiIUetjrjKDXynBnF6pLkc6SHgY90V4gHAJoDF4BPdtYzmUwCj+Yw5PsDnzGHQZA6DLeYw2GbOGsAOcxjsMofBHnMYfMGcdYAvmcMgZA6DiDkMnjAnAHjKHAZfMYfB18xh8A1z7gN8yxwGMXMYJMxhsK/p1jDMLV7QXaC2QVWgA1NPWNzD4lBTZcj+jheG/b1BzP7BIKb+qOn2kPoTLwz1Z4OY+otBTP1V050h9TdeGOrvBjH1D4OY+ky/GMtlBr+MfJcKB5RdbD7n74n3D9vFQLkAAQAB//8AD3icrXsLcFzlleZ//v+++nb37dfte/VotVrdrW5JltuKpO6WJVluPyXbsmOEbGRjO4KVjWPZlsM4QIU4IYGlgCE2yxqKIQkJg2GreKQCTCZb1CZkiswjzOwOmSTATNVWTZLdDUwSMrVDsomD23vOf69assFAqgbk+773P4//nPOdc/5mwNjFl8WjosbaWblmxiOmIlTGYXzb11M7Z2ohAMbZCcZ5iG9prZl4whfwGju05xtttitUdwXYEUgkbQtWga5lC+XBaqJI285qpb8dVEc8Gnm5L5QM/f58yAlB399a7dD0mWAmdAqaMvBmKPKX9TdDwSjod9yhx03FAPcvI6Gk2lV33XoXUtKgL8C6Wa0WSzXbVjhg6JoqIPShCK0FOvOuE48K1V4B1VUQAVevugmP7Fz2CmTzW5/8+ZGP/+Kp7h/8oI4MuOZ7M5B9IvujH2Wf+PnCAjzn8ZK6AieMKRcvXnxWWSWCzGARlPcqtqs21WZzEBFgYIVDAYWzVJIrXBlH+hXGlWNM00GAJmYZ8sKBzTJFVZVppijqDFMVdTIWLa0o5JrdaHusPZGIG1IjFhQGK2mAZEe56kJnR1bTY7ZT7eivFGODBTdma3pHtlCNDVbwmgMHx/aO4R8ffeet5/ZCG6TfuV03IaSJU3oIzKsGO9+5PV+BwU5xqnOQx1aO8fW71yvD9fPn55/fA22PmsaFvfSgwZ8wzPiFvZ2DUMnzJ2hHVDMmHucPsSRrq7UQo4DMAV/AW7CANw/Zru3NIx20bBEpXwukArlxxOPReibaG63/SyQyiftzcBy3k1HuOHgjEgFHnkYfh4VodDJC4138Ff8hv5PlWbrWmm2O6grNEgGNCWGnbFtRm1Z04gzQPPWvkqMWF4eWU8DB267Df+gNe84bBvfRpfNI5Ny5yAmHDh5/PPLuByMlekDS9DsRR73nWHetwBShSO5PqCBQONO4E2wGlSvYZG6gMzeQ09SWFZC0tWION3oOVVXGTbGM+hrAzQj0O25yoN8R8YzzRsaZdzLwhpsGPEm783hAJ9+kq286eDX5pn/VydDjvk7i8EuchU21JJ3DNOqFzeABmywPcNXxhu/wB+3whrqwVw7Cn1j8vPfdDH6O7PR3fDV/Cb85wua/waSit309grZJHHOhHEQ9CA7zTGVCUb0ZvXzc1lrRe5Af+4An0aSL9op0IU9y6vRFtAYGKy7KJGFbQrdg2dXqGAwWilld0zUy9xLqd6A/zeFuy7gzYFmBOwOhZ6NNhZakm8YTI7S1pyM1mM032V26qevXGlzZ8+TKvROlB/BBkO9ACDalB7OZuBnuC5tRcAItpalENNOfhajVH1A2a1HjbHZ4N4r54oWLz4qPoe4jrMo2sonapm5QRQBQ3XycKVxwRRxjQuVCnWc6mrzOZ5FvBiraOmia5FubYRpok8n0ioRTKOQMNbWiszxYWAFZrQ1sB+dDJTFYghzyiBN3oB857ndIAha4Se/+YGUtjAkXXUO2xPE2eoe3TWPeMOXmzNi+j9w1HghvVbSAmu4c6nFac6MgbzXFU2baDr1241+98TfHtU/9t7df+MzU4msmfPYj06Wbw8Gqohda0/FkSyiyvtPGG/FsMKq1pLqmPvndkye/+y+08eYIHEJZpFmJra2Nop/VWuKcCwPvgRhnGlOFps6iIdAEmFVAKh53jblZyBU6nAFdbfX03tGwioZ9oGnEyDSWTQCyFzhoR+s/jdjgWLmc3L2K21zEmXCsM5aDm4g9Ny5v0PZVb+dY9Rcd/sl5eTiPj0nTaeiU+BhhW2qbuzJcUy2Nc2gCrjBkxWCqZiArGgOuwSzjAlDb5L91XfpvfYbpij6ZRIUWYoVcLqC2+UqNLddsMrekY3GZztVl2uQjpl4xjedIM+Uybc/r5viShuHgcgXuwQtpuoMHz8utCe/s8S+Y/7xMaYu2DX1yDrez3lp3cyyKdop+HLcLi878Uh9SKOSlj73cOIUFRVKVKHhaSS9JP452RCcYoJ3w85bz8Ckp9VN4xeZj9atpH4FnPCV4OtiDNIVYCrWwsbauK81VxUlaQnA+riFBisoUsiU0LbQpASCmmRAwg1MNJoH19uQ6WpriUV1jIQjphA5QjosiTfiy1tF+kPJKMTFYpAu6lkx40odnTv7VjYtC/QtTJyGH9HmMnKamGrcaqmaagRsMUwR9WeLmwsQREvIRevSvYa8uVFXo9Sc0w5A8/Rp5+jcxhXLuYAOIx/pbY+ggFp0FV8lNoLNAEQvyDkwBZR9T1ZC6xR0qFgsybix3DJcR7iIGwCsCHHQM0nYKVSBXQZPnqG7KDZiqrn8K524gpN9ghAx42k4GsvF3nohnA0kbnglkC9mrl7h4Db2TommKcVE1QOPRd97K5WJxsKO5nIjHbHtx/og3kK8iWys1he/EkKlqCbFOB6iKQp5Q5Yp6DB0AsjmPvHEFSGsoFraPaVpI2zLc2lmudErjJ/eeQwbKPoRBZulcwhwXYc6i1SdiEpiCF+KrFOIrAzKaHdhQ79tw4MAGuJv4rt8sQQu80jloGnnDfNVJBa+vn1WjSg1d8NHrg44FbTgdJ5+T77yy/gDI5wY7633yTbI7+CdyMDyEL2paDd0BvZjyfIYXH2/H+aqjDfXUisgnk3rFYMePoyZBegWanQpM5hKdlUSU1JnoQH2iG1d90IYADi0JPV2/oxMEeB7apm+aBngFw/ObMjzHzv7dgzyOh48fHZnmO9c8Wv+2RAGwHiP20UNnzx46mvYxyaMixDpZX22lQqQgRDqG4kYcMo92cpypAOo0Ti+iSYXJRGc5l8wvQhPfqpE0SYa7nDwkeQyh26OOlbecqVumoCwJ8+mDm+9/5T4eOyOt+4wk8WjavYTIG+7nD5Li2cWv8zGkMYoz51q2u3Y1JQSwfcumSn9JUxW0CZIWQ5isqKCo8zoGFPybx/lyHD2w4AaCBw7Ap1HIxAaHyZlr1tXG1owMt7h5Ox5QmxF4Iv6vDhaQoTFAYADuYIlnLa7b7RwtiOBDtVK1dbyCMXXxn5azOIIKfLFKaQP9K3HKIMYEQosvhkIWH23TQ9wIpCq9M4WxycnJsQIUYrEJ/bPGuOZohfHVzdmMaAmHm418c7DU3xdoyYPebFktPJtpHu7fefjw4R0VHiNTa06ZUTPe09a1sdTUVNrYtbo3nth11VW7tBa1d/U1a1t71rdG2u1IJNkWDYdbUs0pnnFT+OloWzISsdsjqVpvy9prqrNjed41POfPx2+J7TIXaWP5Wgf5bvToBEvpppQYOXPOJoda4gTQE6TsNK8sAvUSSHBFygfnfM9wL+8aK/Bddv0tZ8SufyKZ7ml7s20iCWdsPpPu4YVaXuur/2M6WX8riReTE21vtPUAnn4iyTxdf0vJ+/QM0pwsUL4D5BmUBQEeXpaU4W6RtExzN1In7eT9qHPpIoUdqAzSrdyHIPo1JNRps1uioCWJyIm2U/JG8oO4aZMXozF8b4RupRd5JJv7Nn8ZeUyxjlrakhJHcwO2gHMUDgGLR0MmS0GrIoMRWos0K81LUnPZYgmkw6sM8HtCoQTaT9y0Wu3f/MZuCYfijhMPhUVQNdL2hY8kMroS/8UvEqqeSfC/xzPV07k3vsqyrL+2ykYnhJjEz45OLIdbu4ncrbrWhImzltU7oqqaXAEdMWiHxPsSdvuF70K6/xf6FejjL13YBvFVP+UXrkwnyelZjBcltoLypQIoEmsoiDUw4C2QFS/I/J6yx5ybWOOqaMad0kJlKo+ElAdLqvRTMqOsgucuM64j3hgHU1H1mIkQ084Oje3eXT1lZwL1nwaD0BZMNfFTcHpv+sf7v6LEo4oZMlRbFNqH9tb60nEN0UkQ0mYawZNpR878eFuD1lWsl/Jb9J5iMbPlDKnkh3raBmS66U1M9Jm5rKUmMel1dKLOcxrVSgf5dJqU4o0g0pJyTlV37x4bytpCATOG8VUT4+m9cPoURiakE34ZMes/wbB0Roun+2p7h9oLSlwzQqZq2eIr+xe2/Rhp5QF8hHn5Hh/FfM9ibs32UrNG+l22ZbrnJ8N+fERAcD6YCp6nuPc2Aq/vWXiMfzKaye/BDfzTLPwe33MT8ns4P/y0uiLBdyZw3qRvNvGZegjF6H+escXvreOnkD7zm7IkADTbJEkU4sdw1jmwzpTj42smHLB82ijenjfx9YsXkccR+B5+I1azGtQk+4maTpnLlsBL75E7O1IPea+mzfPmUwQt00FJoG+nPxN/zruZzZprTljyx2GpXiHdYWBZtcINeB+2xVP16/GT9euDwf00TbqgK5gK7QvCmfp/wPn15WDa3BcM1l/Hy8F9wZQ31nf4Q2IjjrXyG+BnzXnMmqXiTuB5CLa01gINjvb8mesSTwHuSAEtzm8anp+uvwbdprkfhUs0wCNIxH6TP1l/vf6aPDThK0TXI5I+tjj+SX/8wIcaPxWX4y+CqsCiEIiAIzhsKrgfh+6qv+4L4RETPl6/zqMKukki9AA96OseZb3Zk7UKVKxZKt65tpR1J9p1sTGgP5Z4ah+KEzl73R/xEfr+I8H5fchlN/Jr0n0c3fSGkrz+vbhd5m2ZWltThDeKUaKh3WTZXWauS+WomBdMkjGvOCRuT9YfcIZxk0x24/5cT3q8redxe8TpTsLn03b9LIaFo/I0eQ7uxtjQm6rffI4elnTcJfbwX/qRFyG+Vw+SaJdyFIpugk0WXCcnaZFo1323viNAWHZPvk1+ugfjTf2sbcPR5LDT442bhwPj6Z5z9qi9wr8B85Ji51yXb3tISxlpSUtaZEYnFX8ZbHI6C8vk4ll2h5/YdRQbM0CUbSmXHsd5rH5zWz7fBnc/5iA1NLANwyQZ2+5JjiYfQ4mle+BxJA1prT9g+770dv4zTz9RnTPp+JlY4DJKoroOucmyT4fnsGIeFC3H9EtmB+qnGyP6413tPvs4BhIwipskDKakeIg+KKTgbl92JBkkHn1J3c8t+9ia2vBKhMFkGBJtEjrGDIzKE1SeAgTJiDAVRYpKmSGwMlksJor5gUWgjKlXYS0gurS4neaYflXJnaWBUjDKNAVhkWoF1WhHz7uJ2PapE8NHJkulySPD62/qVmLapMq10a997JqvnphQarc8dO3UQ2smYr38pfOWszK6fTs+eBKfHy4j8t2uWNrWnbDx5CNfe+TkxrHVE/EEW4ynxM9H2FhtpAeE2tnGFUH1J4xXChxD5hACLNXbLgOA3WU353rI37Y44SipbwdxwED/mEC0rOmuIzmlGkw7SBzNxZ6NN3519+zXRhV1Uosp3TdtGD68s4eXJo8uzHVtjyXc85gC9MYmRh+euuaRk+vhAG43Tm3RLGW7Clp52Oesq3N7dKVjnW9KxCdWjyFvi/nUs+Ja5CnPxtn+2t4NnVwLrELw76JqDMz1MacMGJoR0I5RVsA1lR/DLEdonLJLQWnOMcSamKlrszLnWWZ3mzcVOjsrnYWynTfVNmQ6aQFxrWtL9SQtgjqsojbxf5lp+qquSF1rVGyk02qZZEEKRkPdlv9ff3LVQ6MTFMas8xSft3fNVbd+vqg1KaF5w7RwBsirUye24UVXDS3oIcj/nz+56mF6qQlUAQ++gGoNytcxFG7P98DWMXMoHIL/6l/Z7p1riv8ko2oiyiru129WsSrmUjO1XdtWc0Pr7miOoWOV9YUQ07WQPmsCisWYDge5puAUAI3NIk6EQACmaQ+BGRaAwOSemV1TH90+vnlDrZBNFOi/nEUlLL96lYx5VZLqB5zDQLFQzGm6KuUX89L6YqxRuaPsCwXYTlJE1EVJt9ycWTo8bereoW7Wv38ewfOzmgI/N42Kn53LatjTxUCv85zbEyg+Y5hTcDddq99M2ysc8/51lABfjZ++8KvSxvUlnpCj7U+mIG3vR8yhXSbXEbaB3cDmatdds4lrhi9Z8hskNo2hkI+RQHWN6fMIUwKGFZiNhDmCNq6BoR1gejCoTzNdD86woB6cPDh33YFr91w99dHJLePr1tp525NylKZkzJtthLplN+ADzhOxjpiN1trRPwb/vhKfqIcMg8Mr3DDqd38o4cM36y9KWa+Tsn7v4/ocj134Vcg2TZsf/ABFKH4tYwrtObZYYxoF3QiQC+PjATwUho5+W8MkQlOOqUDxnlMNjZpsfB8zjJCxZe2afKeTjXeuboqT2XcOlsACB6XROFhWch7AeNy/VsZfx4fO5Aj8EjTVRPjLdtrmTS1NX7Azce6kmjZnnHf+1iuBiG0duzsmQTiZPzfjEoTGAqZ7xqt/nmmai8gXOWb0/sG9z8vyyPNOZjKDf9DlRgmQR93keVlHOU/9RTkfH8W8ieTQzWpsc21DGRM0Xw4soAUWDEDPtMB0oS9I5qeXC0PhMySPyTWjuYFctn9JEgWLp6FSXdz71TeSgzuQBmnXVHPXGqWhIhXkF+H2lQXxVqiSO5OthN9CQQSazmBOhdycwSgoZRJvQ28Yz8SVltDiwd3PUxMLN9De1dWehinH5783RvA9xhpyoHgnWAfGvE3sqtqOFT25rGIoMB4GBa0NAaepg2KYyiwVijQqFKGtopEeUFFYgQCboj0jZ8cCk7U1Q2W3MBBLjMRi0SCKxO0od6gD6Muon6Q35JGLDZS9DEpfLNZTA4aqrmrD0rwHCAO8Cs/Ur4a3J0Lql9WU4RfBJiYySfg+cviqaczLvipt59LuhbjXflPdSuRLUUd/9VV422jRv6SF/NbehYrcQ1p2AZ6jd80L5+kSRwE3WV+OVGTs9GvnU6yLDbJsrZ2aE+iijskqPtuHgTAktgz0r+xtaUaslZRRH6FKlRJrBwO9bK+lef8YXipg7j8GSJjM+GRPmSApRv6n//T4VrH3qqbRaNxoqoxSNMfwD6MV18yPulftrX+xZ7gXeka7vMCPgf2aQ8+N4bPuaKz7lg2LIGjjTT3x4T4jvubPYKL+cFtPTxscwm0DA+yVNaMjbFNt/cE9k+sUpoxgas8Gu1qjhG7GqUu+oAFel8B2gTDcgt+54If2XXv1VVsmVvRkM4m4TnnrYCGLtt5foc4F2rWO/NrIbxENvBHUy0WJBYqEg8hbyklAxoATvupfHMCZ3wAHaASEAFz/Y7pUPh+ZumWK7z65G1KGftgMJro0NbIzrOvbm1sCuhL9tBGKtrof1aLaZkdRjS4zYhzSDTDVw4bldnrPGtubWgKGiH0adR1JuR9VI/qErSgB72HMk0emp2+anr6F7kfTydZ+zdKSO0EdDRuTqaip3xAIjapaLa1aWqg/kmqNQEiXzza3ZFbqId3euezR4Iiqbkj5j7ZEIeTX7X4n9vLvLmKL2mAXILVUp0WPoyLCVJVGQ+/yNlGhjP8PNLq4y9vNy9rPrn+eW36OaPmdX0nTF7EIpu9XPlvW1XMgOiHbSHIL1ji1nsbpBdbAyXtlTRwjSHuCqyJvkjfAVEiMe317oeLEURlNKa/CI7tfVLxLp5qb4tFwUFVYJ3R6/STHqy1Xi1R9RLvvd6lSPIba14rZoo6zwa3w/7L18OGzRwC+N7B52+HD2zYPfA8OP3iIH9kyjkd4Fdwj9x85skUPzfXhQd9cSN96mB+97yjgoYUXvZ7kxYu/UW7mL7Eo+rwKK9byTKWsSWWz6N8VBaZxB5ShgDJZHerscm0J6L1at2fNGPH4CqQNZ+gAGTeaPZVNBB52IJ7nt/uI3N/B0707Do+8vmEH37rpdTLX8eEDd47Xr564Y3aIj+67azM8Q4dwYHjpHbJoOu1/8OkH++lk4s59Y2Lo+tsevG1ukA/N3uHb9f9TbkFebNRET61I/GEuOEtdCkxKcdfISpPptmSn01kdVNF4Y4NjHF1rWnh0cxWZKImsJdKcKPPIkZR5RIoYkcJ7dh665dDOHqV/4jgc2ILXkYz77zgwypGsH1zKst/L+ir6nJVsPdtR2zaC4aQTZC9CR4p0jigDQ6gmexJcUeeXdbS0xY7WslzDdpPF8uryAPX0L+tqoVNFD5QrFi7rbKGXwYnkJGCpwra4XMZe1th6JZcOCL0VgV445HepqL+l5jVdKMHP1VeH89a/WtYaK2/9Z/g4noyFYduzjf6WpSS0FIKDRovrC4aaQ9ZArQ9b1r/K58P0Yhi/4Msl4WPhFbUuzCTBb1OitsjmCVsAn+Qs3eokTJ1FeEQlI1nGXNlfnbS8tcc/sYz4wU8vsbd+lr/UII5u7mncOYBJ+WKc+5jsETe/L03AXCfmN4IlTVnCOYiVSxyWr5h45up7d/Lpu568c7ey4zRcu6yjzk9P3Xvu3im5qb9yaf98ab2AwZIsy0Zrq6nXxkG22zi121ScGiC71IoiZwcZqlAmzUCmvaU5GgkkzaQfoNCjlKimWnxvGhtR5b4r0roYFX59BZLFsvVB5NMRIVAGQ65bJoBsRuaFbLJM/0n3nZCLlZaWYKj+efWy88WezKv+yiG5dKnN23mX2uUJbi5bY+Rc4XgxBrHXGnlYb637gwLPEuXVBmD1ViiIyzgRfl5f9NddvfoB9NDxw0clWD9KV0FbdhMMjzfc+H7uJXEG8fo6Ns4O1q5fU+KCCq16PhXG3JuJcczFw6GwEaLSBXkQwNwF4DgLs1AgHDqA2FToAXEgCDpj+jTudDaDgUmnGsaG9bWx1UOVctJGzBlDf2HJWgZyh1HHkeV53RK5WC6Gc8fr45AzKSByxwlWHShTsxydSgfVLhALUZsXOiS8w0TlVOdJ006bC4ZayA43j7cN9WCqeCgYDTvGJzKnKG0Jn7ou6KSC18Frs8FUk2Jch1frv65/kWLdMMbf2fWfDKac4HFdaYpb8HY9ZDXZhnEylEgHP7t2L6YMcO46M22b111HA113zoFBDJQUpy/WLx6B36K+MxQdmlHBKerm0BIJKqUu68GgoLY0VSpexdChJiDC1WpC9qwK1cQYpS7U0BW0JAzeMrX6P+hRI2Dy4z/hqqmb4gS3jG8GLT77P1Ue5E4wfOFTFoioAS8NYVYZhv9umJapaPV6hct6wHdkHiowcqVYnvUivt5Qa+3vK/X2dBXy2Uy6pclBE4pR4XkwxWHTtq93vH+tv0l2U6pFvbNRePWrv51uBFbBWmgHbw/upXv+0LnRc1AxL/RjLrVgmvx/yP0Fq1KJxarV2A+PHct2HDvWwbvxJIYX60/THfzHrcdGH7shQm/iC2l6E/fXRumtaPU/ybeyx+p34UkVL0LJv9PAUHOomzL1w8q9uZaYoV3SIOoujHBKKii60eKMxhJHXUMgTQW0InVqqErq22AbYN6BHOMkFCMtlpWLDDc/0NM23tYLZ1uGMX5ZrWfPtkQj+chQ61lZiH+gZSiai0Sbz4JhDbeswXd2PSVr8E/twqtr8KXdu690Q2KpI6jHMMuhBjdRdbG9iQslEae6YVhDV7gBdOiHgK4iKtSERkv4yOpAP8ZMpimmNqtSRuUFG50FDD2AeaYRNrasGS0P2LTwuGDncpRJNtZ5Fpev85SVhMY6T3ewBJrtjAFIs8XZi95eSXOXLJkW75wKaXmE7afkst1TsjBDJxP3v3I//kG6Z9R+ce7WnfcfrvHRo6fPnT46CpteTMJZ7yXKMb2XTlHieMpspgUYLz+k3UsJV/LFTWNH7vvT08eHlfWHHtx+69yLSbZMRhHWhDn2SG0oYCC3qE/B0qAKuZqPg+b5XkErlwWmYkKlMkNY2eLmUAqF3OJinmKjrPIhuK1/W/IJ6z8kh5K1D2aK+/UTWqOzkz1fC4xVOgKKKqgjZqKV9nhTGGOgUGnZjiK4Mq8jJFKOMwJ0UxSLdlO/Ymvrtq8H3/UG+nBNcG0e7Vh79xt/yOf37KklDMPYaeyc3LZ1y8hwT671KoP8BApooL9agOqYUm2FATeRptTcdeQGxexmC3pWyw2u5ZSr4l9xsLCKW+DaaeqxVskXZql+XdTggY9NDrcHk331MoTzqZSj3fGlCe3GxJQT6IsGjeBkQOGQO53v+VKSb9E1EVMQ5vKs2/R7axiimWAmiVCh4/MZ1eYrecvvMWx9oa71KppmNkVhBs6G6m+veHkw8amOFi0QFY4pTI7RrikRxSd1jgBaCeytDEHmYSsUN/HTEEyqQVQ6ppY4937ER/nPmMXaWK6W8TvQy1cj+s28wcIlS70LHqQsSoS5rB18abP70ubwv0VMqrRhJALnb2SJXZ76vg7pAPc9++oF2+s8XzLyZUMt/3ajhy35encPGy4n+lIy4Xvvou1JERMJFmTa8zqHldSwlaBa9k6VC63heDzM/3cYttfndDMiKlbIwCN7eV2F8FS61toUNZhCzHltUoKChwg/yah6WVnr8jIXJer+ultoizj14CWn/GfvvEU5uIjTdtnx8nw86K1TlzWF5QsXBhYXGlw+3rLk/5IB/G8+gzZuYUagPa8ByoUaWfiRIuA35I4CrJOMVariLtOCaKD+Ryq3gvWTwSDci1AAfVtQi7zzsmWE4F5Vq/+RPKDe8714vX5SVSVGuXjxa2K/iCyN42qyOkbLkXwt6FIjmt5sRsHC11VB2yANZQl1HL+GWjFC9Em4Vx7Q2oKTeB2+oKkeL3xEkBU015zWlri4VEBrpICIlwZ7Eso2mgSVKs8GLeJN5YsLnmn7Lh7/45KS6ncSg5I/Por8NcaWi7UW27Te2JeyTGPqPg3VS9j2CzJyeznjn1qaGXCrpsq8ro655n7+1zi3WwkBRkGuRl5e3eMyi6L0TvDJcnYwTnM14fWG5Xyh5nXVLya56BmNJRUi25oYoiGRJBGXdaO+Rb1Y9R861mlZYzodsf21K8/wZ1mC8I75Hr9viTsF+fsW5BzxTSO1IFQNz6DJvnC/lPv9L6Ab4KcvfJU6gC94y9NfMP31s7i5XY5RIn6LJqKRxjAKDuOVppiQA65ycUhaEvVeQya8dVuF6uCYKClVFADVGd5FyGt9RTWAAgg50ahiNFm2YkcCarHv3QTW/6Jna0TY0VA0FEpnMkbciKJ0RGSrrMN/XzzKfy7p3saOsq21cUl7FVQ2Dboqxg8D38S4hnxooL2bGRU1qurqAtP1Q1M7xzd3Sd4MKlx9aN7cxtWq/1OQAi25ohrK0s0ilVHwbgmKVNGWD1T/IMmcmd2u68h5MhPsLpW6Mf7ZEUPfceC+0zfhdXy9uTm5cQffujnZrMQFzmZdv+n0HyDOnl33Z4RjOcFoIL338N50IIpBxBEd9+2+7fV+vGGHQ5Y18NCTDw1EwkITYRu/JwZe9fPMI+IfxFUsyjbSqvKhAcwt168pdedsTBbTzZxTnRzRxQyV/if8uggP8y2VcpqWw7iyTmgJOy3GuEu5oK35P5xC0L6GZFag308hopD9/6r3KyoE7rKG5Tqi3D9z8s6TM/3+7mEeeCxiPDanxdWDjxmRxwKIeebmVFVePajGtTl5VaWLcGDdLdMVpbTvxD0n9pWUyvQtew1RfioQFOU/1vU/Lotg4KmyMEz9nnuM2OINTVu8ETPuuUeXPuNZUcFYEmd9rFRbYSxfVUjLiN9dFerqyvd2yKWFBEEB548Fup3m1PWnBQHUERnjyKYur0O1v1pBfvl30u2Hnj4EwydOw/CBOyd23vd4+YefpuUbvHb84elmO9HXD1P3Tq1f48YM5VZ17msH5/d1fPtmWQndeOwTd1EnZNeXbtwsoBRbcbJ29T3T0GbGDO+3J95aen6KxViWDVCHL8i5wsPAxPLfE1FDb55RmQnmCYgrEoijOyX+6KeDoE66Tt5ONjkSgheKBA9LqL6qpqchU0E7QaSYtJ3+irSVimrrmpLJU3ej0gsK6vTRXbdlEXtnb9u17Z9B+Un9m9Hg5rmoE93YF4zCPwZ31H9b/6f6b3cEgzvAgAIYO4IwfMe64Q03nOX3fXzD8Lo7brzrLtiCz85tCkajwb6N0b9LJD738MOfSxTs2x7mj3yGsEgjzzBYB9Xw2hGCYAZOzYWG2uR6nFlvxlJeEZfO732ziNsX84be4ffMGz7/gRmQb1dyTX8Q/dtArU8Hb8Wybmgod53NBlQOilxbg9mPCIstK3sTAzE7O5BMJuTKkvJgwfulBskXM0CBMymXLQrpkSoDMVmJ6aA2QjGG4SJkRk38g5sd61dtYGoQ4St+jHY+U23r4aVWOEjtseoMnDgvfwCEm2+hp6r/X91AK4zYkU3HMVEaxnR3qBfqPzn+/wHPnsOreJxjYGRgYABi1vIsoXh+m68M3MwvgCIMt5YoxkDp2P9f/2exVDAHAbkcDEwgUQAz1Qu/AHicY2BkYGAO+p/FwMBS9v/r/68sFQxAERQQDACh8QbyeJxdT0sVwzAMy49AkAxAkbT3UQiAITGAISmAYQiA9th4ttUs7Q568UeSlVidiwSkB3PUPg+ESd6ZD/+8v7HyrtzwghY89ZB6BcyrYqc6RZhw48YhaA1Wc/v1PQtdeXJ/HppUmFM597nvBVK7D+Z+E8/uQZLBgDyaz3Llvxx02S3c/Hv813JrznryZP4F+6lSfQAAAAAAAAAAUAC2ATABaAGyAfoCJAKwAzYDmgQSBFwExgUyBbQF/AZOBvwHRAe2B/YISgigCPIJGglCCWQJignACgAKQAp2CroLAAtGC4oL8gxcDPINng5iDuYPag/6EF4RIBGGEeQSShKYEyQTbhOyFAoUYhS+FVoVphYoFooXHBeGGFoYnhjGGOwZChlOGXgZrBneGhwaWhqgGtIbLhvyHHQc2B1QHZ4d/wABAAAAUwBtAAYAAAAAAAIAIAAwAHMAAAB2C3AAAAAAeJx1kN9q2zAUh39q0441YxcbjN3tXJWWEcc1lEGvWkLbXZeSu8JUV/6T2VKQlY48w95ifYa9zt6jd/vFESUUYiP5O5/O8ZEE4AP+QWH9nHKsWeEdozXv4A0uIu/Sf488IN9G3sMQPyLv0/+MfICv+BV5iI/4wz+owVtGM/yNrPBZfYm8g/fqW+Rd+svIA/Jd5D18UovI+/S/Ix9gqp4iD3GoniduvvR1WQU5mhxLlmap3C/FUdVWN6IXoXK+k3MpnA2maVySuza0ZlToUZ07292YctFov6k2eWp8VzsrJ0m6qa+NNV4H87Dq1j2WWQiFFN61chX7yNy7mclDUoUwPxuPN/tjAoc5lvCoUaJCgOCI9pjfDGk/BPfMEGaus2pYaDQ0GgtWVP1Kx/ico2BkaQ0zGnKCnHNL09KNuK451721rLqhLfmfht5vzdrmp7Sr3nUfC07YL92afU1r+wrd7/Dh5WwdHrmLjDawanUK3+9acPXqPML7Wq3NaHL6pL+1QHuGMd8t5/8PvPGO3QAAAHicbZLnlpswEIV9DRiwvZtseu89Ib333vvmBWRZYMVC0pHEEufpg8BO/kTncOfTaLgMOtPr97o17P1/baKPACEiDBAjQYohRhhjDevYhu3YwA7sxC7sxh7sxT7sxwEcxCEcxhEcxTEcxwmcxCmcxhmcxTmcxwVcxCVkuIwruIpruI4buIlbuI07uIt7uI8HeIhHeIwneIpneI4XeIlXeI03eIt3eI8P+IhP+Iwv+Ipv+I5N/OiF1hEz9JKxUrtFrDl1lWF9NR9QIikToRaVjUouKxvOmNBjLxnlhgo2DbnM1djLKrNGnGPScSUzItzGv93yPP2bSQSX84z9cqFQdJ56yZRmMhW8mLlJJSaBI0XYPDaZKDUviZmvr6DrNjJMi0WcK1MTM02mqpbZlJtEsNx5SI238jSodJtoS7qv+BpPw67IY9xU+dg5TXjROTWwdGrIOzWhT+uA0jolxqjaZrSOnCF2Nmq16651EYpMm1fakAul9SJQeR5QVYQlk1VkZ8SwoVNFIVjWnKQrlBGdMToftdoZjrs77DajqXKrS02YEFxbbtdWkG0x44JJVUS5aBqKSlJwmhDrmOF2Hv9Wqsy4TNqoKhfmSrrQKuNSL5nvPG6p0s0AkEWkSWVZMy1Kx3ljk03qLuZ14lTmB8gNGmByGrGfjLrhlhJV2f7SaIneNF1ypQNbybBUSgZswQaWEUNngeay1/sD4l/60HicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=') format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0\00a0"}[data-icon-after]:after{content:"\00a0\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}@media (prefers-reduced-motion:reduce){.passage{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-core-macro" type="text/css">@-webkit-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}.macro-type-cursor:after{-webkit-animation:cursor-blink 1s infinite;-o-animation:cursor-blink 1s infinite;animation:cursor-blink 1s infinite;content:"\2590";opacity:1}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}@media (prefers-reduced-motion:reduce){#ui-overlay.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-overlay:not(.open){-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-dialog.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}@media (prefers-reduced-motion:reduce){#story{-webkit-transition:margin-left 0s;-o-transition:margin-left 0s;transition:margin-left 0s}#ui-bar{-webkit-transition:left 0s;-o-transition:left 0s;transition:left 0s}}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-ui-debug" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript must be enabled to play.</noscript></div>
		<div id="init-lacking"><p>Browser lacks capabilities required to play.</p><p>Upgrade or switch to another browser.</p></div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="FST" startnode="1" creator="Twine" creator-version="2.8.1" format="SugarCube" format-version="2.36.1" ifid="BA21ABA3-B1CA-4E56-BBD2-E6254B6F20B7" options="" tags="" zoom="0.6" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">#passages { max-width: 70em; }

.hover {
    position: relative;
    display: inline-block;
		font-weight: bold;
		color: black;
}

.hover .common {
	border:5px solid gray;
	border-radius: 12px;
	padding: 5px 5px;
	color: gray;
}

.hover .uncommon {
	border:5px solid forestgreen;
	border-radius: 12px;
	padding: 5px 5px;
	color: forestgreen;
}

.hover .unique {
	border:5px solid darkturquoise;
	border-radius: 12px;
	padding: 5px 5px;
	color: darkturquoise;
}

.hover .rare {
	border:5px solid mediumslateblue;
	border-radius: 12px;
	padding: 5px 5px;
	color: mediumslateblue;
}

.hover .special {
	border:5px solid mediumvioletred;
	border-radius: 12px;
	padding: 5px 5px;
	color: mediumslateblue;
}

.hover .hoverblock {
    visibility: hidden;
    min-width: 300px;
    background-color: gray;
    color: white;
    text-align: center;
    border-radius: 6px;
		border-left: 6px solid white;
    padding: 5px 5px;
  	top: 120%;
		position: absolute;
		margin: auto;
		left: 0;
		right: 0;
    z-index: 1;
    font-weight: normal;
}

.hover:hover .hoverblock {
    visibility: visible;
}

input[type="text"] {
	min-width: 12em; /* default: 18em */
}

titled {
  	font-weight: bold;
  	color: #000000;
  	text-shadow: -1px 0 #d6d6d6,0 1px #d6d6d6,1px 0 #d6d6d6,0 -1px #d6d6d6;
}

#story-caption {
   text-align: left;
}

table {
	border-collapse: collapse;
    border-style: hidden;
}

table.Scroll {
  display: table;
  width: 100%;
  border-collapse: collapse;
  border-style: solid;
}

table.Scroll thead,
table.Scroll tbody {
  width: 100%;
}

table.Scroll thead {
  overflow-y: scroll;
  display: table;
  table-layout: fixed;
  width: calc(100% - 16px); /* assuming scrollbar width as 16px */
}

table.Scroll tbody {
  overflow: auto;
  height: 150px;
  display: block;
}

table.Scroll tbody.skills {
  overflow: auto;
  height: 150px;
  display: block;
}

table.Scroll tr {
  width: 100%;
  text-align: left;
  display: table;
  table-layout: fixed;
}

table.Scroll th.history {
	color: lightskyblue;
  text-align: center;
  border-top: none;
 	border-bottom: none;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: none;
 	border-right: none;
  border-color: gray;
}

table.Scroll td.history {
	color: white;
  text-align: left;
  border-top: none;
 	border-bottom: none;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: none;
 	border-color: gray;
}

table.Scroll th.skills {
	color: lightskyblue;
  text-align: center;
  border-top: 2px solid;
  border-bottom: 2px solid;
  padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: solid 2px;
  border-right: solid 2px;
  border-color: gray;
}

table.Scroll th.slb {
	color: lightskyblue;
  text-align: center;
  border-top: none;
  border-bottom: 2px solid;
  padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: solid 2px;
  border-right: none;
  border-color: gray;
}

table.Scroll th.smb {
	color: lightskyblue;
  text-align: center;
  border-top: none;
  border-bottom: none;
  padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
  border-right: solid 2px;
  border-color: gray;
}

table.Scroll th.srb {
	color: lightskyblue;
  text-align: center;
  border-top: none;
  border-bottom: 2px solid;
  padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
  border-right: solid 2px;
  border-color: gray;
}

table.Scroll td.skillname {
	color: white;
  text-align: center;
  border-top: none;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: none;
 	border-color: gray;
}

table.Scroll td.skilldesc {
	color: white;
  text-align: left;
  border-top: none;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: none;
 	border-color: gray;
}

table.subchart {
  	border-collapse: collapse;
    border-style: none;
}

table.inventory {
	border-collapse: collapse;
    border-style: solid;
}

table.inventory th {
	color: lightskyblue;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: solid 2px;
  border-color: gray;
}

table.inventory th.noborder {
	color: lightskyblue;
  text-align: center;
  border-top: none;
 	border-bottom: none;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: none;
 	border-right: none;
  border-color: gray;
}

table.inventory th.nobottop {
	color: lightskyblue;
  text-align: center;
  border-top: none;
 	border-bottom: none;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: solid 2px;
  border-color: gray;
}

table.inventory th.nobottom {
	color: lightskyblue;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: none;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: solid 2px;
  border-color: gray;
}

table.inventory th.listing {
	color: lightskyblue;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: none;
 	border-right: none;
  border-color: gray;
}

table.inventory th.nblisting {
	color: lightskyblue;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: none;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: none;
 	border-right: none;
  border-color: gray;
}

table.inventory th.lb {
	color: lightskyblue;
  text-align: center;
  border-top: none;
  border-bottom: none;
  padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: solid 2px;
  border-right: none;
  border-color: gray;
}

table.inventory th.rb {
	color: lightskyblue;
  text-align: center;
  border-top: none;
  border-bottom: none;
  padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
  border-right: solid 2px;
  border-color: gray;
}

table.inventory td {
	color: white;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: solid 2px;
 	border-color: gray;
}

table.inventory td.nobottom {
	color: lightskyblue;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: none;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: solid 2px;
  border-color: gray;
}

table.inventory td.notop {
	color: lightskyblue;
  text-align: center;
  border-top: none;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: solid 2px;
  border-color: gray;
}

table.inventory td.top {
	color: lightskyblue;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: none;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: none;
 	border-right: none;
  border-color: gray;
}

table.inventory td.compendium {
	color: white;
  text-align: left;
  border-top: none;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: solid 2px;
  border-color: gray;
}

table.inventory td.summary {
	color: white;
  text-align: center;
  border-top: none;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
	padding-left: 0.5em;
  border-left: none;
 	border-right: none;
  border-color: gray;
}

table.inventory td.nbleft {
	color: white;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: none;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: none;
 	border-color: gray;
}

table.inventory td.nbright {
	color: white;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: none;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: solid 2px;
 	border-color: gray;
}

table.inventory td.rb {
	color: white;
  text-align: center;
  border-top: none;
 	border-bottom: none;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: solid 2px;
 	border-color: gray;
}

table.inventory td.left {
	color: white;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: solid 2px;
 	border-right: none;
 	border-color: gray;
}

table.inventory td.middle {
	color: white;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: none;
 	border-color: gray;
}

table.inventory td.right {
	color: white;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: solid 2px;
 	border-color: gray;
}

table.inventory td.listing {
	color: white;
  text-align: center;
  border-top: 2px solid;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: none;
 	border-color: gray;
}

table.inventory td.noborder {
	color: white;
  text-align: center;
  border-top: none;
 	border-bottom: none;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: none;
 	border-color: gray;
}

table.inventory td.lnb {
	color: white;
  text-align: left;
  border-top: none;
 	border-bottom: none;
	padding-right: 0.5em;
  padding-left: 0.5em;
  border-left: none;
 	border-right: none;
 	border-color: gray;
}

table.inventory td.contract {
	color: white;
  text-align: left;
	padding-right: 0.5em;
  padding-left: 0.5em;
 	border-color: gray;
}

table.chart {
	border-collapse: collapse;
    border-style: solid;
}

table.chart th {
	color: lightskyblue;
  	border-top: 2px solid;
 	border-bottom: 2px solid;
	padding-right: 0.5em;
	padding-left: 0.5em;
  	border-left: solid 2px;
 	border-right: solid 2px;
  	border-color: gray;
}

table.chart td {
	color: white;
  	text-align: center;
	padding-right: 0.5em;
  	padding-left: 0.5em;
  	border-left: solid 2px;
 	border-right: solid 2px;
 	border-color: gray;
}

tr.bottom td {
  border-bottom:2pt solid;
  border-color: gray;
}

tr.list td {
  border-left: none;
  border-right: none;
}

th.listing {
  border-left: none;
  border-right: none;
}

td.listing {
  border-left: none;
  border-right: none;
}

.stattable th {
	color: lightskyblue;
	padding-right: 0.5em;
}

.stats th {
	color: lightskyblue;
 	border-bottom: 2px solid #ddd;
	padding-right: 0.5em;
	padding-left: 0.5em;
  	border-left: solid 2px #ddd;
 	border-right: solid 2px #ddd;
}

.stats td {
	color: lightskyblue;
  	font-weight: bold;
	padding-right: 0.5em;
  	padding-left: 0.5em;
  	border-left: solid 2px #ddd;
 	border-right: solid 2px #ddd;
}

.fade {
-webkit-animation: fadeOut 5s 1 forwards;
animation: fadeOut 5s 1 forwards;
}

@-webkit-keyframes fadeOut {

  0% {

	opacity: 1;

  }
  100% {

	opacity: 0;

	visibility: hidden;

  }
}

@keyframes fadeOut {

  0% {

	opacity: 1;

  }
  100% {

	opacity: 0;

	visibility: hidden;

  }
}










</style><script role="script" id="twine-user-script" type="text/twine-javascript">Setting.addHeader("Game Settings", "Settings controlling mobile optimizations and player characterizations.")
Setting.addToggle("autosave", {
    label : "Use autosave (Causes Lag at Endweek)",
		default : true
});
Setting.addToggle("mobile", {
    label : "Mobile Optimization",
    default : false
});
Setting.addToggle("cheats", {
  label : "Enable Cheats",
  default : false
});
config.saves.autosave = "autosave";
config.passages.descriptions = function () { 
	if(!variables().saveStart || !variables().saveEnd) {
		variables().saveStart = variables().PC.name + " | "
		variables().saveEnd = " | Week " + variables().weekcount
	} 
	
	return variables().saveStart + passage() + variables().saveEnd
};
config.history.controls = false;
config.history.maxStates = 1;

window.pronouns = function(pronoun, character) {
  var gender
  if(character.ID == "PLAYER") {
    gender = "player"
  } else {
    gender = character.gender
  }
  
  if(pronoun == "heshe") {
    if(gender == "male") {
      return "he"
    } else if(gender == "female") {
      return "she"
    } else if(gender == "player") {
      return "you"
    }
    
  } else if(pronoun == "HeShe") {
    if(gender == "male") {
      return "He"
    } else if(gender == "female") {
      return "She"
    } else if(gender == "player") {
      return "You"
    }
    
  } else if(pronoun == "hisher") {
    if(gender == "male") {
      return "his"
    } else if(gender == "female") {
      return "her"
    } else if(gender == "player") {
      return "your"
    }
    
  } else if(pronoun == "HisHer") {
    if(gender == "male") {
      return "His"
    } else if(gender == "female") {
      return "Her"
    } else if(gender == "player") {
      return "Your"
    }
    
  } else if(pronoun == "hishers") {
    if(gender == "male") {
      return "his"
    } else if(gender == "female") {
      return "hers"
    } else if(gender == "player") {
      return "yours"
    }
    
  } else if(pronoun == "HisHers") {
    if(gender == "male") {
      return "His"
    } else if(gender == "female") {
      return "Hers"
    } else if(gender == "player") {
      return "Yours"
    }
    
  } else if(pronoun == "himher") {
    if(gender == "male") {
      return "him"
    } else if(gender == "female") {
      return "her"
    } else if(gender == "player") {
      return "you"
    }
    
  } else if(pronoun == "HimHer") {
    if(gender == "male") {
      return "Him"
    } else if(gender == "female") {
      return "Her"
    } else if(gender == "player") {
      return "You"
    }
    
  } else if(pronoun == "himselfherself") {
    if(gender == "male") {
      return "himself"
    } else if(gender == "female") {
      return "herself"
    } else if(gender == "player") {
      return "yourself"
    }
    
  } else if(pronoun == "HimselfHerself") {
    if(gender == "male") {
      return "Himself"
    } else if(gender == "female") {
      return "Herself"
    } else if(gender == "player") {
      return "Yourself"
    }
    
  } else if(pronoun == "name") {
    if(gender == "male") {
      return character.name
    } else if(gender == "female") {
      return character.name
    } else if(gender == "player") {
      return "you"
    }
    
  } else if(pronoun == "Name") {
    if(gender == "male") {
      return character.name
    } else if(gender == "female") {
      return character.name
    } else if(gender == "player") {
      return "You"
    }
    
  } else if(pronoun == "names") {
    if(gender == "male") {
      return character.name + "'s"
    } else if(gender == "female") {
      return character.name + "'s"
    } else if(gender == "player") {
      return "your"
    }
    
  } else if(pronoun == "Names") {
    if(gender == "male") {
      return character.name + "'s"
    } else if(gender == "female") {
      return character.name + "'s"
    } else if(gender == "player") {
      return "Your"
    }
    
  } else if(pronoun == "is") {
    if(gender == "player") {
      return "are"
    } else {
      return "is"
    }
    
  } else if(pronoun == "has") {
    if(gender == "player") {
      return "have"
    } else {
      return "has"
    }
    
  } else if(pronoun == "doesnt") {
    if(gender == "player") {
      return "don't"
    } else {
      return "doesn't"
    }
    
  } else if(pronoun == "arent") {
    if(gender == "player") {
      return "aren't"
    } else {
      return "isn't"
    }
    
  }
}

window.descriptor = function(subject, character, combat=0, capital=0) {
  var noun = []
  var adjective = []
  var descriptor = []
  var amount = []
  var description = ""
  
  if(subject == "cock" && character.cock.current && character.girth.current) {
    noun = ["cock", "dick", "prick", "package", "shaft"]
    
    if(combat && character.combat.arousal.current >= 15) {
      descriptor.push("hard", "rigid", "swollen", "stiff", "turgid")
      descriptor.push(extractDescriptor(variables().cock[character.cock.current]))
      
    } else if(combat) {
      descriptor.push("soft", "limp", "flaccid")
      
    } else {
      descriptor.push(extractDescriptor(variables().cock[character.cock.current]))
      
    }
    
    if(character.virgin) {
      adjective.push("virgin")
    }
    
    if(character.skintone) {
      adjective.push(character.skintone)
    } else if(character.fur) {
      adjective.push(character.fur)
    }
    
    if(["mongrel", "canus"].contains(character.tribe)) {
      adjective.push("knotted", "canine")
      
    } else if(["pantheran", "neko"].contains(character.tribe)) {
      adjective.push("barbed", "feline")
      
    } else if(["minotaur", "holstaur"].contains(character.tribe)) {
      adjective.push("bullish")
      
    } else if(["orc"].contains(character.tribe)) {
      adjective.push("orcish")
      
    }
    
    noun = noun.random()
    adjective = adjective.random()
    descriptor = descriptor.random()
    description = [descriptor + " " + noun, descriptor + " " + adjective + " " + noun, adjective + " " + noun, noun].random()
    
  } else if(subject == "balls" && character.balls.current) {
    noun = ["balls", "testicles", "nuts", "testes"]
    
    if(character.balls.current >= 9) {
      descriptor.push("colossal", "elephantine", "behemothic")
      
    } else if(character.balls.current >= 7) {
      descriptor.push("monsterous", "freakishly big", "humongous")
      
    } else if(character.balls.current >= 5) {
      descriptor.push("giant", "massive", "hefty")
      
    } else if(character.balls.current >= 4) {
      descriptor.push("large", "full", "sizeable")
      
    } else if(character.balls.current >= 3) {
      descriptor.push("modest", "average", "normal")
      
    } else if(character.balls.current >= 2) {
      descriptor.push("undersized", "little", "petite")
      
    } else if(character.balls.current >= 1) {
      descriptor.push("miniature", "puny", "pint-sized")
      
    }
    
    adjective.push("warm", "round", "fleshy")
    
    if(character.race == "beastman") {
        adjective.push("furry", "animalesque", "beastlike")
      
    } else if(character.race == "elf") {
        adjective.push("elfin", "delicate", "dainty")
      
    } else if(character.race == "monster") {
        adjective.push("obscene", "inhuman", "grotesque")
      
    }
    
    if(character.skintone) {
      adjective.push(character.skintone)
    } else if(character.fur) {
      adjective.push(character.fur + " furred")
    }
    
    noun = noun.random()
    adjective = adjective.random()
    descriptor = descriptor.random()
    description = [descriptor + " " + noun, descriptor + " " + adjective + " " + noun, adjective + " " + noun, noun].random()
    
  } else if(subject == "bust" && character.bust.current) {
    noun = ["breasts", "tits", "teats", "boobs"]
    
    descriptor.push(extractDescriptor(variables().bust[character.bust.current]) + " sized", extractDescriptor(variables().bust[character.bust.current]) + " cup")
    
    if(character.bust.current >= 16) {
      descriptor.push("gigantic", "gargantuan", "behemothic")
      
    } else if(character.bust.current >= 11) {
      descriptor.push("massive", "enormous", "humongous")
      
    } else if(character.bust.current >= 9) {
      descriptor.push("giant", "huge", "hefty")
      
    } else if(character.bust.current >= 7) {
      descriptor.push("big", "full", "large")
      
    } else if(character.bust.current >= 5) {
      descriptor.push("healthy", "normal", "average-sized")
      
    } else if(character.bust.current >= 3) {
      descriptor.push("small", "little", "petite")
      
    } else if(character.bust.current >= 1) {
      descriptor.push("tiny", "flat", "under-developed")
      
    }
    
    adjective.push("pert", "perky", "soft")
    
    if(character.race == "beastman") {
        adjective.push("furred", "animalesque", "bestial")
      
    } else if(character.race == "elf") {
        adjective.push("symmetrical", "modelesque", "complete")
      
    } else if(character.race == "monster") {
        adjective.push("lewd", "indecent", "impure")
      
    }
    
    if(character.skintone) {
      adjective.push(character.skintone)
    } else if(character.fur) {
      adjective.push(character.fur)
    }
    
    noun = noun.random()
    adjective = adjective.random()
    descriptor = descriptor.random()
    description = [descriptor + " " + noun, descriptor + " " + adjective + " " + noun, adjective + " " + noun, noun].random()
    
  } else if(subject == "pussy" && character.pussy.current) {
    noun = ["pussy", "cunt", "muff", "quim", "slit", "twat", "vulva", "hole", "depths"]
    
    if(combat && character.combat.arousal.current >= 15) {
      descriptor.push("swollen", "puffy", "moist", "inflamed")
      descriptor.push(extractDescriptor(variables().pussy[character.pussy.current]))
      
    } else if(combat) {
      descriptor.push("dry", "arid", "torid")
      
    } else {
      descriptor.push(extractDescriptor(variables().pussy[character.pussy.current]))
      
    }
    
    if(character.skintone) {
      adjective.push(character.skintone)
    } else if(character.fur) {
      adjective.push(character.fur)
    }
    
    if(character.virgin) {
      adjective.push("virgin")
    }
    
    if(["mongrel", "canus"].contains(character.tribe)) {
      adjective.push("canine")
      
    } else if(["pantheran", "neko"].contains(character.tribe)) {
      adjective.push("feline")
      
    } 
    
    noun = noun.random()
    adjective = adjective.random()
    descriptor = descriptor.random()
    description = [descriptor + " " + noun, descriptor + " " + adjective + " " + noun, adjective + " " + noun, noun].random()
    
  } else if(subject == "clit" && character.clit.current) {
    noun = ["clit", "button", "nub"]
    
    descriptor.push(extractDescriptor(variables().clitoris[character.clit.current]))
    
    if(combat && character.combat.arousal.current >= 15) {
      descriptor.push("wet", "swollen", "puffy", "inflamed")
      
    } else if(combat) {
      descriptor.push("dry", "arid", "torid", "sheathed")
      
    }
    
    adjective.push("pulpous", "fleshy")
    
    if(character.race == "elf") {
        adjective.push("delicate", "fragile", "tender")
      
    } else if(character.race == "monster") {
        adjective.push("coarse", "firm", "rough")
      
    }
    
    if(character.skintone) {
      adjective.push(character.skintone)
    } else if(character.fur) {
      adjective.push(character.fur)
    }
    
    noun = noun.random()
    adjective = adjective.random()
    descriptor = descriptor.random()
    description = [descriptor + " " + noun, descriptor + " " + adjective + " " + noun, adjective + " " + noun, noun].random()
    
  } else if(subject == "anus") {
    noun = ["asshole", "rectum", "anus", "rosebud", "sphincter"]
    
    descriptor.push(extractWord(getGape(character.gape)))
    
    if(character.analvirgin) {
      adjective.push("virgin")
    }
    
    noun = noun.random()
    adjective = adjective.random()
    descriptor = descriptor.random()
    description = [descriptor + " " + noun, descriptor + " " + adjective + " " + noun, adjective + " " + noun, noun].random()
    
  } else if(subject == "ass" && character.butt.current) {
    noun = ["ass", "arse", "butt", "cheeks", "rump"]
    
    descriptor.push(extractDescriptor(variables().butt[character.gender][character.butt.current]))
    
    if(character.skintone) {
      adjective.push(character.skintone)
    } else if(character.fur) {
      adjective.push(character.fur + " furred")
    }
    
    noun = noun.random()
    adjective = adjective.random()
    descriptor = descriptor.random()
    description = [descriptor + " " + noun, descriptor + " " + adjective + " " + noun, adjective + " " + noun, noun].random()
    
  } else if(subject == "body") {
    noun = []
    
  } else if(subject == "lips") {
    noun = ["lips"]
    adjective.push("pillowy", "plump", "doughy", "soft", "thick", "fat")
    
  } else if(subject == "cum" && character.cum.quality.current && character.cum.quantity.current && character.cum.taste.current) {
    noun = ["cum", "jizz", "seed", "ejaculate", "spunk", "load", "jism"]
    
    descriptor.push(extractDescriptor(variables().quality[character.cum.quality.current]))
    amount.push(extractDescriptor(variables().quantity[character.cum.quantity.current]))
    adjective.push(extractDescriptor(variables().taste.cum[character.cum.taste.current]))
    
    noun = noun.random()
    adjective = adjective.random()
    amount = amount.random()
    descriptor = descriptor.random()
    
    if(rand(1,3) == 3) {
      description += amount + " amounts of "
    }
    
    description += [adjective + " " + noun, descriptor + " " + noun, descriptor + ", " + adjective + " " + noun, noun].random()
    
  } else if(subject == "milk" && character.milk.quality.current && character.milk.quantity.current && character.milk.taste.current) {
    noun = ["ambrosia", "cream", "milk"]
    
    descriptor.push(extractDescriptor(variables().quality[character.milk.quality.current]))
    amount.push(extractDescriptor(variables().quantity[character.milk.quantity.current]))
    adjective.push(extractDescriptor(variables().taste.milk[character.milk.taste.current]))
    
    noun = noun.random()
    adjective = adjective.random()
    amount = amount.random()
    descriptor = descriptor.random()
    
    if(rand(1,3) == 3) {
      description += amount + " amounts of "
    }
    
    description += [adjective + " " + noun, descriptor + " " + noun, descriptor + ", " + adjective + " " + noun, noun].random()
    
  } else if(subject == "nectar") {
    if(character.nectar.quality.current && character.nectar.quantity.current && character.nectar.taste.current && character.combat.arousal.current == character.combat.arousal.max) {
      noun = ["nectar", "honey", "sap", "syrup"]
      
      descriptor.push(extractDescriptor(variables().quality[character.nectar.quality.current]))
      amount.push(extractDescriptor(variables().quantity[character.nectar.quantity.current]))
      adjective.push(extractDescriptor(variables().taste.nectar[character.nectar.taste.current]))
      
      noun = noun.random()
      adjective = adjective.random()
      amount = amount.random()
      descriptor = descriptor.random()
      
      if(rand(1,3) == 3) {
        description += amount + " amounts of "
      }
      
      description += [adjective + " " + noun, descriptor + " " + noun, descriptor + ", " + adjective + " " + noun, noun].random()
      
    } else {
      noun = ["cream", "essence", "juices", "froth"]
      descriptor = ["thick", "viscous", "syrupy"]
      
      noun = noun.random()
      descriptor = descriptor.random()
      
      description += [descriptor + " " + noun, noun].random()
    }
    
  } else if(subject == "hair") {
    if(character.hairstyle != "completely bald") {
      noun = ["hair", "locks", "tresses", "mane"]
      adjective.push(character.hairstyle)
      descriptor.push(character.haircolor)
      
      noun = noun.random()
      adjective = adjective.random()
      descriptor = descriptor.random()
      description = [descriptor + " " + noun, descriptor + " " + adjective + " " + noun, adjective + " " + noun, noun].random()
      
    } else {
      noun = ["head", "scalp", "dome"]
      adjective.push("bald", "hairless", "barren", "completely shaven", "naked")
      
      noun = noun.random()
      adjective = adjective.random()
      description = [adjective + " " + noun, noun].random()
      
    }  
  }
  
  if(capital && description) {
    description = capitalize(description)
  }
  
  return description
  
}

window.positionCheck = function(action, actor, position) {
  switch(action) {
    case "tribbing":
      if(position.actor == actor && ["Laying Down", "Riding", "Standing", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "pussysex":
      if(position.actor == actor && ["Laying Down", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "Standing", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "cocksex":
      if(position.actor == actor && ["Laying Down", "Standing"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "handjob":
      if(position.actor == actor && ["Laying Down", "Standing", "Riding", "Kneeling", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "breastplay":
      if(position.actor == actor && ["Laying Down", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "nippleplay":
      if(position.actor == actor && ["Laying Down", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "paizuri":
      if(position.actor == actor && ["Kneeling"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "Standing"].includes(position.current)) {
        return 2
      }
      break
      
    case "ballplay":
      if(position.actor == actor && ["Laying Down", "Standing", "Riding", "Kneeling", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Riding", "Kneeling", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "handriding":
      if(position.actor == actor && ["All Fours", "Standing", "Riding", "Kneeling", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "Standing", "Kneeling", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "pussyteasing":
      if(position.actor == actor && ["Laying Down", "Standing", "Riding", "Kneeling", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "fingering":
      if(position.actor == actor && ["Laying Down", "Standing", "Riding", "Kneeling", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "kiss":
      if(position.actor == actor && ["Laying Down", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "breastsucking":
      if(position.actor == actor && ["Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "Standing", "Riding", "Faceoff"].includes(position.current)) {
        return 2
      }
      break
      
    case "blowjob":
      if(position.actor == actor && ["All Fours", "Kneeling"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "Standing"].includes(position.current)) {
        return 2
      }
      break
      
    case "deepthroat":
      if(position.actor == actor && ["All Fours", "Kneeling"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "Standing"].includes(position.current)) {
        return 2
      }
      break
      
    case "irrumatio":
      if(position.actor == actor) {
        if(["Standing"].includes(position.current)) {
          return 1
        }
      } else if(["Laying Down", "All Fours", "Kneeling"].includes(position.current)) {
        return 2
      }
      break
      
    case "ballsucking":
      if(position.actor == actor && ["All Fours", "Kneeling"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing"].includes(position.current)) {
        return 2
      }
      break
      
    case "teabagging":
      if(position.actor == actor && ["Standing"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Kneeling"].includes(position.current)) {
        return 2
      }
      break
      
    case "rimjob":
      if(position.actor == actor && ["All Fours", "Kneeling"].includes(position.current)) {
        return 1
      } else if(["All Fours", "Standing"].includes(position.current)) {
        return 2
      }
      break
      
    case "facesitting":
      if(position.actor == actor && ["Standing"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Kneeling"].includes(position.current)) {
        return 2
      }
      break
      
    case "clitsucking":
      if(position.actor == actor && ["All Fours", "Kneeling"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing"].includes(position.current)) {
        return 2
      }
      break
      
    case "cunnilingus":
      if(position.actor == actor && ["All Fours", "Kneeling"].includes(position.current)) {
        return 1
      } else if(["Laying Down", "All Fours", "Standing"].includes(position.current)) {
        return 2
      }
      break
  }
}

window.getStamina = function(action, actor, patient) {
  var stamina = {actor:0, patient:0}
  
  if(!action || !actor || !patient) {
    return
  }
  
  if(["tribbing", "pussysex", "cocksex"].contains(action)) {
    if(["tribbing", "pussysex", "cocksex"].contains(action)) {
      stamina.actor += 12
    }
    
    if(["tribbing", "pussysex", "cocksex"].contains(action)) {
      stamina.patient += 6
    }
  } else if(["blowjob", "deepthroat", "irrumatio", "facesitting", "clitsucking", "cunnilingus"].contains(action)) {
    if(["blowjob", "deepthroat", "irrumatio", "facesitting", "clitsucking", "cunnilingus"].contains(action)) {
      stamina.actor += 9
    }
    
    if(["irrumatio", "facesitting"].contains(action)) {
      stamina.patient += 4.5
    }
    
  } else if(["handjob", "handriding", "fingering", "paizuri", "breastsucking", "ballsucking", "teabagging", "rimjob"].contains(action)) {
    if(["handjob", "handriding", "fingering", "paizuri", "breastsucking", "ballsucking", "teabagging", "rimjob"].contains(action)) {
      stamina.actor += 6
    }
    
    if([].contains(action)) {
      stamina.patient += 6
    }
    
  } else if(["breastplay", "nippleplay", "ballplay", "pussyteasing", "kiss"].contains(action)) {
    if(["breastplay", "nippleplay", "ballplay", "pussyteasing", "kiss"].contains(action)) {
      stamina.actor += 3
    }
    
    if(["kiss"].contains(action)) {
      stamina.patient += 3
    }
  }
  
  if(actor.combat.stamina.current >= stamina.actor && patient.combat.stamina.current >= stamina.patient) {
    return 1
  } else {
    return 0
  }
}

window.simulateStimulation = function(actor, patient, action) {
  var leader = {stamina:0, arousal:0, stimulation:0}
  var follower = {stamina:0, arousal:0, stimulation:0}
  var stimulation = {old:null, new:null}
  var sex = variables().sex
  
  if(["tribbing", "pussysex", "cocksex"].contains(action.current)) {
    if(["tribbing", "pussysex", "cocksex"].contains(action.current)) {
      leader.stamina += 12
    }
    
    if(["tribbing", "pussysex", "cocksex"].contains(action.current)) {
      follower.stamina += 6
    }
    
    if(["tribbing", "pussysex", "cocksex"].contains(action.current)) {
      leader.arousal += 8
      leader.stimulation += 2
    }
    
    if(["tribbing", "pussysex", "cocksex"].contains(action.current)) {
      follower.arousal += 8
      follower.stimulation += 2
    }
    
  } else if(["blowjob", "deepthroat", "irrumatio", "facesitting", "clitsucking", "cunnilingus"].contains(action.current)) {
    if(["blowjob", "deepthroat", "irrumatio", "facesitting", "clitsucking", "cunnilingus"].contains(action.current)) {
      leader.stamina += 9
    }
    
    if(["irrumatio", "facesitting"].contains(action.current)) {
      follower.stamina += 4.5
    }
    
    if(["irrumatio", "facesitting"].contains(action.current)) {
      leader.arousal += 6
      leader.stimulation += 2
    }
    
    if(["blowjob", "deepthroat", "clitsucking", "cunnilingus"].contains(action.current)) {
      follower.arousal += 6
      follower.stimulation += 2
    }
    
  } else if(["handjob", "handriding", "fingering", "paizuri", "breastsucking", "ballsucking", "teabagging", "rimjob"].contains(action.current)) {
    if(["handjob", "handriding", "fingering", "paizuri", "breastsucking", "ballsucking", "teabagging", "rimjob"].contains(action.current)) {
      leader.stamina += 6
    }
    
    if([].contains(action.current)) {
      follower.stamina += 6
    }
    
    if(["handriding", "teabagging"].contains(action.current)) {
      leader.arousal += 4
      leader.stimulation += 1
    }
    
    if(["handjob", "fingering", "paizuri", "breastsucking", "ballsucking", "rimjob"].contains(action.current)) {
      follower.arousal += 4
      follower.stimulation += 1
    }
    
  } else if(["breastplay", "nippleplay", "ballplay", "pussyteasing", "kiss"].contains(action.current)) {
    if(["breastplay", "nippleplay", "ballplay", "pussyteasing", "kiss"].contains(action.current)) {
      leader.stamina += 3
    }
    
    if(["kiss"].contains(action.current)) {
      follower.stamina += 3
    }
    
    if(["kiss"].contains(action.current)) {
      leader.arousal += 2
      leader.stimulation += 1
    }
    
    if(["breastplay", "nippleplay", "ballplay", "pussyteasing", "kiss"].contains(action.current)) {
      follower.arousal += 2
      follower.stimulation += 1
    }
    
  }
  
  var participant, data, cap
  
  for(var p=0;p < variables().sex.partners.length;p++) {
    participant = getSlave(variables().sex.partners[p])
    
    if(participant == actor) {
      data = leader
    } else if(participant == patient) {
      data = follower
    }
    
    if(data) {
      if(participant.combat.stimulation >= 100) {
        data.arousal *= 2.5
      } else if(participant.combat.stimulation >= 50) {
        data.arousal *= 2
      } else if(participant.combat.stimulation >= 15) {
        data.arousal *= 1.5
      } else if(participant.combat.stimulation >= 0) {
        data.arousal *= 1
      }
      
      if(participant.combat.stimulation < 50) {
        cap = 49
      } else if(participant.combat.stimulation < 100) {
        cap = 99
      } else {
        cap = 100
      }
      
      stimulation.old = getStat("Stimulation", participant.combat.stimulation, "raw")
      participant.combat.stamina.current = Math.clamp(participant.combat.stamina.current-data.stamina, 0, participant.combat.stamina.max)
      
      if(participant.combat.arousal.current == participant.combat.arousal.max-1) {
        participant.combat.arousal.current = Math.clamp(participant.combat.arousal.current+data.arousal, 0, participant.combat.arousal.max)
      } else {
        participant.combat.arousal.current = Math.clamp(participant.combat.arousal.current+data.arousal, 0, participant.combat.arousal.max-1)
      }
      
      participant.combat.stimulation = Math.clamp(participant.combat.stimulation+data.stimulation, 0, cap)
      stimulation.new = getStat("Stimulation", participant.combat.stimulation, "raw")
      
      if(stimulation.new != stimulation.old) {
        if(!sex.text[participant.ID]) {
          sex.text[participant.ID] = ""
        }
        
        if(stimulation.new == "Listless") {
          sex.text[participant.ID] += "<b>@@color:darkturquoise;" + pronouns("Name", participant) + " " + pronouns("is", participant) + " " + stimulation.new + ". " + pronouns("HisHer", participant) + " arousal will raise 2.5x faster."
          
          if(participant.pussy.current) {
            sex.text[participant.ID] += " " + pronouns("HisHer", participant) + " womb has relaxed from the pleasure, allowing instant impregnation."
          }
          
          sex.text[participant.ID] += "@@<br></b>"
          
        } else if(stimulation.new == "Euphoric") {
          sex.text[participant.ID] += "<b>@@color:forestgreen;" + pronouns("Name", participant) + " " + pronouns("is", participant) + " " + stimulation.new + ". " + pronouns("HisHer", participant) + " arousal will raise 2x faster.@@<br></b>"
          
        } else if(stimulation.new == "Excited") {
          sex.text[participant.ID] += "<b>@@color:greenyellow;" + pronouns("Name", participant) + " " + pronouns("is", participant) + " " + stimulation.new + ". " + pronouns("HisHer", participant) + " arousal will raise 1.5x faster.@@<br></b>"
          
        }
      }
    }
  }
}

window.sexBreak = function() {
  var sex = variables().sex
  var participant
  
  sex.position = {current:"Laying Down", actor:variables().PC.ID, patient:sex.partners[1]}
  sex.action = {primary:{}, secondary:{}, tertiary:{}}
  sex.prior = {position:{}, action:null, actor:null, patient:null}
  sex.prior.position = {current:null, actor:null, patient:null}
  
  for(var p=0;p < sex.partners.length;p++) {
    participant = getSlave(sex.partners[p])
    
    if(participant.combat.libido.current > 0) {
      participant.combat.stamina.current = Math.clamp(participant.combat.stamina.current+(participant.combat.stamina.max/2), 0, participant.combat.stamina.max)
    }
    
    participant.combat.arousal.current = Math.clamp(participant.combat.arousal.current-50, 0, participant.combat.arousal.max)
    
  }
}

window.sexAction = function(sex, actor, patient) {
  sex.prior.position.current = sex.position.current
  sex.prior.position.actor = sex.position.actor
  sex.prior.position.patient = sex.position.patient
  sex.prior.action = sex.action.primary.current
  sex.prior.actor = sex.action.primary.actor
  sex.prior.patient = sex.action.primary.patient
}

window.generateSexText = function(actor, patient, action, position, prior) {
  var pos
  var participant, partner
  var openingA, openingB, fillerA, reactionA, actionA, fillerB, reactionB, extra, other
  var text = ""
  var stimulation = {new:null, old:null}
  
  if(["break", "base"].contains(action)) {
    var line = []
    var phases = ["bust", "cock", "pussy", "clit", "stamina", "stimulation"]
    var phase
    
    for(var p=0;p < variables().sex.partners.length;p++) {
      participant = getSlave(variables().sex.partners[p])
      
      if(participant.ID == variables().PC.ID) {
        partner = getSlave(variables().sex.partners[1])
      } else {
        partner = getSlave(variables().sex.partners[0])
      }
      
      if(variables().sex.text[participant.ID]) {
        text += variables().sex.text[participant.ID]
        variables().sex.text[participant.ID] = ""
      }
      
      if(["break"].contains(action)) {
        if(participant.combat.libido.current >= 1) {
          text += "<b>@@color:forestgreen;" + pronouns("Name", participant) + " took a break, restoring some stamina and losing some arousal.@@</b><br>"
        } else {
          text += "<b>@@color:red;" + pronouns("Name", participant) + " took a break but with no libido " + pronouns("heshe", participant) + " couldn't restore any stamina.@@</b><br>"
        }
      }
      
      text += "<b>@@color:gray;[" + pronouns("Names", participant) + " Status]@@</b> "
      
      for(var i=0;i < phases.length;i++) {
        phase = phases[i]
        
        if(["bust", "cock", "pussy", "clit"].contains(phase)) {
          if(participant[phase]["current"]) {
            line = script("active", "arousal", phase, participant, partner)
            if(line) {
              text += line.random()
            }
          }
          
        } else if(["stamina", "stimulation"].contains(phase)) {
          line = script("active", phase, null, participant, partner)
          if(line) {
            text += line.random()
          }
          
        }
      }
      
      if(p != variables().sex.partners.length-1) {
        text += "<br><br>"
      }
    }
    
    return text
  }
  
  for(var p=0;p < variables().sex.partners.length;p++) {
    participant = variables().sex.partners[p]
    if(variables().sex.text[participant]) {
      text += variables().sex.text[participant]
      variables().sex.text[participant] = ""
    }
  }
  
  if(position.current != prior.position.current) {
    if(position.current == "Laying Down") {
      pos = "layingdown"
    } else if(position.current == "All Fours") {
      pos = "allfours"
    } else {
      pos = lowercase(position.current)
    }
    
    openingA = script("active", pos, "general", getSlave(position.actor), getSlave(position.patient))
    } else {
    openingA = null
    
  }
  
  if(action.current != prior.action) {
    openingB = script("active", action.current, "opening", actor, patient)
    
  } else {
    openingB = null
    
  }
  
  if(openingB) {
    fillerA = script("passive", "pleasure", "filler", actor, patient)
    
    if(["cocksex", "sex"].contains(action.current) && patient.virgin) {
      fillerA = fillerA.concat(script("active", "hymen", "opening", actor, patient))
    } else if(["pussysex"].contains(action.current) && actor.virgin) {
      fillerA = fillerA.concat(script("active", "hymen", "opening", patient, actor))
    }
    
    if(["cocksex", "sex"].contains(action.current) && patient.virgin) {
      reactionA = script("active", "hymen", "general", actor, patient)
    } else if(["pussysex"].contains(action.current) && actor.virgin) {
      reactionA = script("active", "hymen", "general", patient, actor)
    } else {
      reactionA = script("passive", action.current, "opening", actor, patient)
      reactionA = reactionA.concat(script("passive", "pleasure", "general", actor, patient))
    }
    
  } else {
    fillerA = null
    reactionA = null
    
  }
  
  actionA = script("active", action.current, "general", actor, patient)
  fillerB = script("passive", "pleasure", "general", actor, patient)
  reactionB = script("passive", action.current, "general", actor, patient)
  
  if(["pussysex", "handjob", "paizuri", "blowjob", "deepthroat", "ballsucking"].contains(action.current)) {
    reactionB = reactionB.concat(script("passive", "pleasure", "cock", actor, patient))
  }
  
  if(["cocksex", "sex", "irrumatio"].contains(action.current)) {
    reactionB = reactionB.concat(script("passive", "pleasure", "cock", patient, actor))
  }
  
  if(["ballplay"].contains(action.current)) {
    reactionB = reactionB.concat(script("passive", "pleasure", "balls", actor, patient))
  }
  
  if(["teabagging"].contains(action.current)) {
    reactionB = reactionB.concat(script("passive", "pleasure", "balls", patient, actor))  
  }
  
  if(["tribbing", "cocksex", "sex", "pussyteasing", "fingering", "clitsucking", "cunnilingus"].contains(action.current)) {
    reactionB = reactionB.concat(script("passive", "pleasure", "pussy", actor, patient))
  }
  
  if(["tribbing", "pussysex", "handriding", "facesitting"].contains(action.current)) {
    reactionB = reactionB.concat(script("passive", "pleasure", "pussy", patient, actor))
  } 
  
  extra = null
  
  if(action.current != prior.action && prior.action) {
    other = script("active", prior.action, "transition", getSlave(prior.actor), getSlave(prior.patient))

    text += other.random()
  }
  
  text += formSentence(openingA, openingB, fillerA, reactionA, actionA, fillerB, reactionB, extra)
  
  if(["cocksex", "sex", "pussysex"].contains(action.current)) {
    if(actor.virgin) {
      actor.virgin = 0
      text += "<br><b>@@color:forestgreen;" + pronouns("Name", actor) + " " + pronouns("has", actor) + " lost " + pronouns("hisher", actor) + " virginity.@@</b>"
    }
    
    if(patient.virgin) {
      patient.virgin = 0
      text += "<br><b>@@color:forestgreen;" + pronouns("Name", patient) + " " + pronouns("has", patient) + " lost " + pronouns("hisher", patient) + " virginity.@@</b>"
    }
  }
  
  for(var i=0;i < variables().sex.partners.length;i++) {
    participant = getSlave(variables().sex.partners[i])
    
    if(participant.ID == variables().PC.ID) {
      partner = getSlave(variables().sex.partners[1])
    } else {
      partner = getSlave(variables().sex.partners[0])
    }
    
    stimulation.old = getStat("Stimulation", participant.combat.stimulation, "raw")
    
    if(participant.combat.arousal.current == participant.combat.arousal.max) {
      openingA = null
      openingB = null
      fillerA = null
      reactionA = null
      
      if(["pussysex", "handjob", "paizuri", "blowjob", "deepthroat", "ballsucking", "ballplay"].contains(action.current)) {
        fillerA = script("passive", "orgasm", "cock", actor, patient)
      }
      
      if(["cocksex", "sex", "irrumatio", "teabagging"].contains(action.current)) {
        fillerA = script("passive", "orgasm", "cock", patient, actor)
      }
      
      if(["tribbing", "cocksex", "sex", "pussyteasing", "fingering", "clitsucking", "cunnilingus"].contains(action.current)) {
        fillerA = script("passive", "orgasm", "pussy", actor, patient)
      }
      
      if(["tribbing", "pussysex", "handriding", "facesitting"].contains(action.current)) {
        fillerA = script("passive", "orgasm", "pussy", patient, actor)
      } 
      
      fillerB = script("active", "orgasm", "general", participant, partner)
      
      if((["fingering", "pussyteasing", "handriding"].contains(action.current) && participant.ID == action.patient) || (["handriding"].contains(action.current) && participant.ID == action.actor)){
        actionA = script("active", "orgasm", "fingering", participant, partner)
        reactionB = null
        
      } else if((["ballsucking", "paizuri"].contains(action.current) && participant.ID == action.patient) || (["teabagging"].contains(action.current) && participant.ID == action.actor)){
        actionA = script("active", "orgasm", "facial", participant, partner)
        reactionB = script("passive", "orgasm", "facial", participant, partner)
        
      } else if((["blowjob", "deepthroat"].contains(action.current) && participant.ID == action.patient) || (["irrumatio"].contains(action.current) && participant.ID == action.actor)){
        actionA = script("active", "orgasm", "blowjob", participant, partner)
        reactionB = script("active", "orgasm", "cumswallow", participant, partner)
        
      } else if((["cunnilingus", "clitsucking"].contains(action.current) && participant.ID == action.patient) || (["facesitting"].contains(action.current) && participant.ID == action.actor)){
        actionA = script("active", "orgasm", "cunnilingus", participant, partner)
        reactionB = script("active", "orgasm", "creamswallow", participant, partner)
        
      } else if(["cocksex"].contains(action.current)){
        if(participant.ID == action.actor) {
          actionA = script("active", "orgasm", "creampie", participant, partner)
          reactionB = script("passive", "orgasm", "creampie", participant, partner)
        }
        
      } else if(["pussysex"].contains(action.current)){
        if(participant.ID == action.actor) {
          fillerB = script("active", "orgasm", "creamed", participant, partner)
          reactionB = null
        }
      }
      
      participant.combat.libido.current = Math.clamp(participant.combat.libido.current-1, 0, participant.combat.libido.max)
      participant.combat.arousal.current = 0
      
      if(participant.combat.stamina.current > 0) {
        participant.combat.stimulation = Math.clamp(participant.combat.stimulation+10, 0, 100)
      } else {
        participant.combat.stimulation = Math.clamp(participant.combat.stimulation+20, 0, 100)
      }
      
      extra = script("active", "stimulation", null, participant, partner)
      stimulation.new = getStat("Stimulation", participant.combat.stimulation, "raw")
      text += "<br><br>"
      
      if(stimulation.new != stimulation.old) {
        if(stimulation.new == "Listless") {
          text += "<b>@@color:darkturquoise;" + pronouns("Name", participant) + " " + pronouns("is", participant) + " " + stimulation.new + ". " + pronouns("HisHer", participant) + " arousal will raise 2.5x faster."
          
          if(participant.pussy.current) {
            text += " " + pronouns("HisHer", participant) + " womb has relaxed from the pleasure, allowing instant impregnation."
          }
          
          text += "@@<br></b>"
          
        } else if(stimulation.new == "Euphoric") {
          text += "<b>@@color:forestgreen;" + pronouns("Name", participant) + " " + pronouns("is", participant) + " " + stimulation.new + ". " + pronouns("HisHer", participant) + " arousal will raise 2x faster.@@<br></b>"
          
        } else if(stimulation.new == "Excited") {
          text += "<b>@@color:greenyellow;" + pronouns("Name", participant) + " " + pronouns("is", participant) + " " + stimulation.new + ". " + pronouns("HisHer", participant) + " arousal will raise 1.5x faster.@@<br></b>"
          
        }
      }
      
      text += "<b>@@color:forestgreen;[Orgasm: " + pronouns("Name", participant) + "]@@</b> "
      text += formSentence(openingA, openingB, fillerA, reactionA, actionA, fillerB, reactionB, extra)
    }
  }
  
  return text
}

window.formSentence = function(openingA, openingB, fillerA, reactionA, actionA, fillerB, reactionB, extra) {
  var paragraph = ""
  var phases = []
  var roll = rand(1,4)
  var phase
  var text
  var textecho
  
  if(roll == 1) {
    phases = [openingA, openingB, fillerA, reactionA, actionA, fillerB, reactionB, extra]
  } else if(roll == 2) {
    phases = [openingA, openingB, reactionA, fillerA, actionA, reactionB, fillerB, extra]
  } else if(roll == 3) {
    phases = [openingA, openingB, fillerA, reactionA, fillerB, actionA, reactionB, extra]
  } else if(roll == 4) {
    phases = [openingA, openingB, reactionA, actionA, fillerA, reactionB, fillerB, extra]
  }
  
  for(var i=0;i < phases.length;i++) {
    phase = phases[i]
    if(phase) {
      text = arrayRandom(phase)
      textecho = arrayRandom(phase)
      paragraph += text
      
      while(!text.includes(textecho) && rand(1,2) > 1 && phase != openingA && phase != openingB) { 
        paragraph += textecho
        text += arrayRandom(phase)
        textecho = arrayRandom(phase)
      }
    }
  }
  
  if(paragraph) {
    return paragraph
  }
  
}

window.script = function(type, act, form, actor, patient) {
  var text
  var stamina = actor.combat.stamina.current / actor.combat.stamina.max
  var arousal = actor.combat.arousal.current / actor.combat.arousal.max
  
  var genitals = {actor:{primary:[], secondary:[]}, patient:{primary:[], secondary:[]}}
  var partners = ["actor", "patient"]
  var partner
  var tuts
  
  for(var i=0;i < partners.length;i++) {
    tuts = partners[i]
    partner = eval(tuts)
  
    if(partner.cock.current && partner.balls.current) {
      genitals[tuts]["primary"].push(descriptor("cock", partner, 1))
    }
    
    if(partner.balls.current) {
      genitals[tuts]["secondary"].push(descriptor("balls", partner, 1))
    }
    
    if(partner.pussy.current) {
      genitals[tuts]["primary"].push(descriptor("pussy", partner, 1))
    }
    
    if(partner.clit.current) {
      genitals[tuts]["secondary"].push(descriptor("clit", partner, 1))
    }
  }
  
  var script = {active:{}, passive:{}}
  script.active = {layingdown:{}, allfours:{}, standing:{}, riding:{}, kneeling:{}, faceoff:{}, tribbing:{}, pussysex:{}, cocksex:{}, sex:{}, hymen:{}, handjob:{}, breastplay:{}, nippleplay:{}, paizuri:{}, ballplay:{}, handriding:{}, pussyteasing:{}, fingering:{}, kiss:{}, breastsucking:{}, blowjob:{}, deepthroat:{}, irrumatio:{}, ballsucking:{}, teabagging:{}, rimjob:{}, facesitting:{}, clitsucking:{}, cunnilingus:{}, pleasure:{}, orgasm:{}, stimulation:{}, stamina:{}, arousal:{}, smell:{}, sight:{}}
  
  script.passive = {layingdown:{}, allfours:{}, standing:{}, riding:{}, kneeling:{}, faceoff:{}, tribbing:{}, pussysex:{}, cocksex:{}, sex:{}, hymen:{}, handjob:{}, breastplay:{}, nippleplay:{}, paizuri:{}, ballplay:{}, handriding:{}, pussyteasing:{}, fingering:{}, kiss:{}, breastsucking:{}, blowjob:{}, deepthroat:{}, irrumatio:{}, ballsucking:{}, teabagging:{}, rimjob:{}, facesitting:{}, clitsucking:{}, cunnilingus:{}, pleasure:{}, orgasm:{}, stimulation:{}, stamina:{}, arousal:{}, smell:{}, sight:{}}
  
  script.passive.general = ["A " + thesaurus("feeling") + " of " + thesaurus("delight") + " " + thesaurus("overwhelmed") + " " + pronouns("himher", actor) + ". ", pronouns("HisHer", patient) + " reaction " + thesaurus("aroused") + " " + pronouns("himher", actor) + ". ", pronouns("HisHer", patient) + " " + thesaurus("pleasure") + " left " + pronouns("himher", actor) + " " + thesaurus("begging") + " for more. ", pronouns("HisHer", patient) + " " + thesaurus("pleasure") + " from " + pronouns("hisher", actor) + " " + thesaurus("touch") + " " + thesaurus("roused") + " " + pronouns("hisher", actor) + " " + thesaurus("pleasure") + ". ", pronouns("HisHer", patient) + " voice " + thesaurus("goaded") + " " + pronouns("hisher", actor) + " own " + thesaurus("pleasure") + ". "]
  
  script.passive.general = [pronouns("HisHer", patient) + " " + thesaurus("moans") + " sounded " + thesaurus("sweet") + ". ", "The " + thesaurus("sound") + " of " + pronouns("hisher", patient) + " " + thesaurus("moans") + " were " + thesaurus("erotic") + ". ", pronouns("HisHer", patient) + " movement " + thesaurus("looked") + " " + thesaurus("erotic") + " and " + thesaurus("lustful") + ". ", "The " + thesaurus("sight") + " of " + pronouns("hisher", patient) + " " + thesaurus("writhing") + " left " + pronouns("himher", actor) + " " + thesaurus("breathless") + ". ", "The " + thesaurus("spicy") + " " + thesaurus("smell") + " of " + pronouns("hisher", patient) + " " + genitals.patient.primary.random() + " " + thesaurus("filled") + " " + pronouns("hisher", actor) + " nose. "]
  
  script.active.pull = [pronouns("HeShe", actor) + " " + thesaurus("dragged") + " " + pronouns("hisher", patient) + " " + thesaurus("face") + " " + thesaurus("closer") + " to " + pronouns("hisher", actor) + " " + genitals.actor.primary.random() + ". ", pronouns("HeShe", actor) + " " + thesaurus("reached") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " head and " + thesaurus("dragged") + " " + pronouns("himher", patient) + " into " + pronouns("hisher", actor) + " " + thesaurus("pubic area") + ". ", pronouns("HeShe", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + thesaurus("pubic area") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", pronouns("HisHer", actor) + " " + genitals.actor.primary.random() + " " + thesaurus("flexed") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", pronouns("HeShe", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + thesaurus("pubic area") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("face") + ". "]
  script.passive.pull = [pronouns("HisHer", actor) + " " + thesaurus("face") + " was " + thesaurus("smothered") + " by " + pronouns("hisher", patient) + " " + genitals.patient.primary.random() + ". ", pronouns("HeShe", actor) + " " + thesaurus("inhaled") + " the " + thesaurus("smell") + " of " + pronouns("hisher", patient) + " " + genitals.patient.primary.random() + ". ", pronouns("HisHer", patient) + " " + genitals.patient.primary.random() + " " + thesaurus("pressed") + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("face") + ". "]
      
  script.active.grip = [pronouns("HeShe", actor) + " " + thesaurus("forcefully") + " " + thesaurus("gripped") + " " + pronouns("hisher", patient) + " " + descriptor("hair", patient, 1) + ". ", pronouns("HeShe", actor) + " " + thesaurus("encouragingly") + " " + thesaurus("petted") + " " + pronouns("hisher", patient) + " " + descriptor("hair", patient, 1) + ". ", pronouns("HeShe", actor) + " " + thesaurus("played with") + " " + pronouns("hisher", patient) + " " + descriptor("hair", patient, 1) + ". ", pronouns("HeShe", actor) + " " + thesaurus("impatiently") + " " + thesaurus("gripped") + " " + pronouns("hisher", patient) + " " + descriptor("hair", patient, 1) + ". "]
  if(patient.hairstyle != "completely bald") {
    script.active.grip.push(pronouns("HeShe", actor) + " " + thesaurus("ran") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " " + descriptor("hair", patient, 1) + ". ")
  }
  script.passive.grip = [pronouns("HisHer", patient) + " " + thesaurus("aggressiveness") + " was " + thesaurus("erotic") + ". ", pronouns("HeShe", actor) + " " + thesaurus("weakly") + " " + thesaurus("gripped") + " " + pronouns("hisher", patient) + " " + thesaurus("arm") + ". ", pronouns("HeShe", actor) + " " + thesaurus("moaned") + " with " + thesaurus("pleasure") + " from " + pronouns("hisher", patient) + " " + thesaurus("aggressiveness") + ". "]
  
  script.active.caress = [pronouns("HeShe", actor) + " " + thesaurus("petted") + " " + pronouns("hisher", patient) + " " + thesaurus("parts of face") + ". ", pronouns("HeShe", actor) + " " + thesaurus("goaded") + " " + pronouns("hisher", patient) + " " + thesaurus("further") + " with a " + thesaurus("gentle") + " " + thesaurus("touch") + ". "]
  script.passive.caress = [pronouns("HisHer", patient) + " " + thesaurus("touch") + " " + thesaurus("burned") + " " + pronouns("hisher", actor) + " " + thesaurus("skin") + " with " + thesaurus("pleasure") + ". ", pronouns("HeShe", actor) + " " + thesaurus("swooned") + " into " + pronouns("hisher", patient) + " " + thesaurus("touch") + ". ", pronouns("HeShe", actor) + " " + thesaurus("placed") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + " " + thesaurus("slowly") + " " + thesaurus("across") + " " + pronouns("hishers", patient) + ". "]
  
  script.active.layingdown.general = [pronouns("Name", actor) + " " + thesaurus(["spread", "rolled", "laid", "moved", "shifted", "slid"]) + " " + thesaurus(["out on", "onto"]) + " " + pronouns("hisher", actor) + " back. ", pronouns("Name", actor) + " " + thesaurus(["laid down", "spread out", "laid out", "moved down"]) + " " + thesaurus(["onto", "on"]) + " " + pronouns("hisher", actor) + " back. ", pronouns("Name", actor) + " took " + thesaurus(["position", "place"]) + " on " + pronouns("hisher", actor) + " back. "]
  script.passive.layingdown.general = ["He spread her out on her back while he hovered over her. ", "He laid her down on her back and positioned himself on top of her. ", "He climbed over her and moved his lower body between her thighs. ", "They both got into the missionary position. ", "He moved her into the missionary position. "]
  
  script.active.allfours.general = [pronouns("Name", actor) + " got " + thesaurus(["down on all fours", "on " + pronouns("hisher", actor) + " hands and knees"]) + ". ", pronouns("Name", actor) + " got on " + thesaurus(["all fours", pronouns("hisher", actor) + " hands and knees"]) + ". ", pronouns("Name", actor) + " " + thesaurus(["moved", "shifted", "got", "slid"]) + " into the doggystyle position. ", pronouns("Name", actor) + " " + thesaurus(["positioned", "got", "moved", "shifted"]) + " " + pronouns("himselfherself", actor) + " on " + thesaurus(["all fours", pronouns("hisher", actor) + " hands and knees"]) + ". "]
  script.passive.allfours.general = ["He pushed her down to all fours and lined up behind her. ", "He moved her into the doggystyle position. ", "He got her down to her hands and knees and moved behind her. ", "", ""]
  
  script.active.standing.general = [pronouns("Name", actor) + " stood up. ", pronouns("Name", actor) + " " + thesaurus(["rose", "elevated", "lifted", "got up"]) + " to " + pronouns("hisher", actor) + " feet. ", pronouns("Name", actor) + " " + thesaurus(["lifted", "raised", "picked"]) + " " + pronouns("himselfherself", actor) + " " + thesaurus(["up to", "onto", "on to"]) + " " + pronouns("hisher", actor) + " feet. ", pronouns("Name", actor) + " " + thesaurus(["pulled", "lifted", "raised"]) + " " + pronouns("himselfherself", actor) + " to " + pronouns("hisher", actor) + " feet. "]
  script.passive.standing.general = ["Both him and her stood facing one another. ", "", "", "", ""]
  
  script.active.riding.general = [pronouns("Name", actor) + " " + thesaurus("straddled") + " " + pronouns("hisher", patient) + " " + thesaurus("hips") + ". ", pronouns("Name", actor) + " got ontop of him and " + thesaurus("rode") + " " + pronouns("hisher", patient) + " " + thesaurus("hips") + ".", pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("himselfherself", actor) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("hips") + " and " + thesaurus("straddled") + " " + pronouns("himher", patient) + ". "]
  script.passive.riding.general = ["She laid him on his back and straddled his hips. ", "She pressed him down onto his back and got on top. ", "", "", ""]
  
  script.active.kneeling.general = [pronouns("Name", actor) + " " + thesaurus("dropped") + " to " + pronouns("hisher", actor) + " knees " + thesaurus("before") + " " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus(["went", "got", "moved", "laid"]) + " down on " + pronouns("hisher", actor) + " knees. ", pronouns("Name", actor) + " knelt down in front of " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " took " + pronouns("hisher", actor) + " " + thesaurus(["place", "position", "spot"]) + " on " + pronouns("hisher", actor) + " knees. ", pronouns("Name", actor) + " " + thesaurus(["got", "fell", "dropped", "sunk"]) + " down on " + pronouns("hisher", actor) + " knees " + thesaurus("before") + " " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus(["prostrated", "presented", "positioned"]) + " " + pronouns("himselfherself", actor) + " on " + pronouns("hisher", actor) + " knees " + thesaurus("before") + " " + pronouns("himher", patient) + ". "]
  script.passive.kneeling.general = ["He pushed her down to her knees. ", "He had her go down on her knees. ", "He made her kneel down in front of him. ", "He guided her to take her place on her knees. ", "He pushed her to her knees before him. "]
  
  script.active.faceoff.general = [pronouns("Name", actor) + " " + thesaurus(["slipped into", "fell onto", "straddled", "mounted", "sat on"]) + " " + pronouns("hisher", patient) + " lap. ", pronouns("Name", actor) + " " + thesaurus(["slipped into", "fell onto", "straddled", "mounted", "sat on"]) + " " + pronouns("hisher", patient) + " lap " + thesaurus("before") + " " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " body " + thesaurus("across") + " " + pronouns("hisher", patient) + " while sitting on " + pronouns("hisher", patient) + " lap. ", pronouns("Name", actor) + " " + thesaurus(["slipped into", "fell onto", "straddled", "mounted", "sat on"]) + " " + pronouns("hisher", patient) + " lap. ", pronouns("Name", actor) + " planted " + pronouns("hisher", actor) + " " + descriptor("ass", actor, 1) + " on " + pronouns("hisher", patient) + " lap with each of " + pronouns("hisher", actor) + " legs on one side of " + pronouns("himher", patient) + ". "]
  script.passive.faceoff.general = ["He pulled her into his lap. ", "He had her sit in his lap facing him. ", "He pressed his body " + thesaurus("across") + " her while she sat on his lap. ", "He made her straddle his lap. ", "He grabbed and planted her ass on his lap with each of her legs on one side of him. "]
  
  script.active.tribbing.opening = [pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["lined", "align"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " up " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("pressed") + " down " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.active.tribbing.general = [pronouns("Name", actor) + " " + thesaurus("rubbed") + " " + pronouns("hisher", actor) + " " + descriptor("clit", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " tribbed " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("rubbed") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("hard") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["sparked", "ignited", "flared", "burned"]) + " as " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("rubbed") + " " + thesaurus("across") + " it. ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("hishers", patient) + ". "]
  script.active.tribbing.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " off " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " of " + pronouns("hishers", actor) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hishers", actor) + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " off " + pronouns("hishers", patient) + ". "]
  script.passive.tribbing.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("touched") + " " + pronouns("hishers", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " to the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("hishers", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " at the " + thesaurus("feeling") + " of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " touching " + pronouns("hishers", actor) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hishers", actor) + " " + thesaurus("touched") + " " + pronouns("hishers", patient) + ". "]
  script.passive.tribbing.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("rubbed") + " " + pronouns("hisher", actor) + " " + descriptor("clit", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("clenching") + " as " + pronouns("heshe", patient) + " " + thesaurus("touched") + " " + pronouns("hishers", actor) + ". ", pronouns("Name", patient) + " " + thesaurus("humped") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " back " + thesaurus("across") + " " + pronouns("himher", actor) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " and " + thesaurus("humped") + " " + pronouns("hisher", patient) + " " + thesaurus("hips") + " back " + thesaurus("across") + " " + pronouns("himher", actor) + ". "]
  
  script.active.pussysex.positioning = [pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("ass", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " genitals. ", pronouns("Name", actor) + " " + thesaurus(["positioned", "planted", "moved", "shifted", "wiggled", "laid"]) + " " + pronouns("himselfherself", actor) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " genitals. ", pronouns("Names", actor) + " weight " + thesaurus("dropped") + " gently upon " + pronouns("hisher", patient) + " genitals. "]
  script.active.pussysex.opening = [pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("engulfed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["spread", "opened", "widened", "gaped"]) + " as " + pronouns("heshe", actor) + " " + thesaurus(["lowered", "dropped", "plunged", "sunk"]) + " " + pronouns("himselfherself", actor) + " on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["guided", "led", "directed"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["impaled", "slammed"]) + " " + pronouns("himselfherself", actor) + " on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("shifted") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " down " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("pressed") + " down on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["squeezed", "tightened", "writhed", "convulsed", "contracted"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " as " + pronouns("heshe", actor) + " " + thesaurus("engulfed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.pussysex.slow = [pronouns("Name", actor) + " " + thesaurus("wiggled") + " " + pronouns("hisher", actor) + " hips, " + thesaurus("writhing") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " hips " + thesaurus("churned") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " hips " + thesaurus("wiggled") + " " + thesaurus("up and down") + " on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("wiggled") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", ""]
  script.active.pussysex.general = [pronouns("Name", actor) + " " + thesaurus("worked") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["clenched", "slammed"]) + " down on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["massaged", "rubbed against", "stroked"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["slammed", "rammed", "shoved", "thrust"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " down on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("over and over") + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + ", " + thesaurus(["slamming", "ramming", "thrusting"]) + " down on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + " and " + thesaurus("worked") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["slammed", "rammed", "shoved", "thrust"]) + " down on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " and " + thesaurus("threw") + " " + pronouns("hisher", actor) + " head back in " + thesaurus("delight") + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + ", " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("clenching") + " " + thesaurus("around") + " " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + " as " + pronouns("heshe", actor) + " bottomed out on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " took " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " to the " + thesaurus(["bottom", "hilt", "base", "root"]) + ". ", pronouns("Name", actor) + " " + thesaurus(["slammed", "rammed", "shoved", "thrust"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " down on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ", " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " squeezing " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.pussysex.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " off " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " off " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.passive.pussysex.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("wrapped") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " at the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("engulfing") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " sent " + thesaurus("tingles") + " " + thesaurus("pulsing") + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " body. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". "]
  script.passive.pussysex.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " squeezing " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", patient) + " " + thesaurus("humped") + " " + pronouns("himselfherself", patient) + " upward into " + pronouns("himher", actor) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " at the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["slamming", "sliding", "thrusting"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " as " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("rubbed") + " " + thesaurus("across") + " " + pronouns("himher", patient) + ". "]
  
  script.active.cocksex.positioning = []
  script.active.cocksex.opening = [pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["spread", "opened", "widened", "gaped"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " with " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " as " + pronouns("heshe", actor) + " " + thesaurus(["slammed", "sunk", "slid", "thrust"]) + " into " + pronouns("himher", patient) + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["slammed", "sunk", "slid", "thrust"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("humped") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("buried") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " to the " + thesaurus(["bottom", "hilt", "base", "root"]) + " of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("buried") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("himher", patient) + ", feeling " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["clench", "clamp"]) + " down on " + pronouns("himher", actor) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus(["folds", "pussy lips", "lower lips"]) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " parting. "]
  script.active.cocksex.slow = [pronouns("Name", actor) + " " + thesaurus("slowly") + " " + thesaurus("churned") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " with " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("slowly") + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("buried") + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("shifted") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " and " + thesaurus("reacted", 0, actor) + " with " + thesaurus("delight") + ". "]
  script.active.cocksex.general = [pronouns("Name", actor) + " " + thesaurus("humped") + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " into " + pronouns("hisher", patient) + " " + thesaurus("hard") + " and " + thesaurus(["deep", "further", "fast"]) + ". ", pronouns("Name", actor) + " " + thesaurus("churned") + " " + pronouns("himher", patient) + " up, " + thesaurus(["burying", "plunging", "thrusting", "pumping", "plowing"]) + " into " + pronouns("himher", patient) + " " + thesaurus("over and over") + ". ", pronouns("Name", actor) + " " + thesaurus(["slammed", "drilled", "pumped", "thrust"]) + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + thesaurus("writhing") + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " forward " + thesaurus("hard") + " and " + thesaurus(["deep", "further", "fast"]) + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("over and over") + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("hard") + " and " + thesaurus(["deep", "further", "fast"]) + " into " + pronouns("himher", patient) + ". ", thesaurus(["thrills", "chills"], 1) + " ran down " + pronouns("hisher", actor) + " body to " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["throbbing", "pulsing", "twitching", "quivering"]) + " in " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + ", " + thesaurus("delight") + " " + thesaurus("building") + " at the " + thesaurus(["tip", "top", "head", "crown"]) + " of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + ", " + thesaurus(["plunging", "thrusting", "pumping", "plowing", "drilling"]) + " " + thesaurus(["harder", "deeper", "faster", "stronger"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + " as " + pronouns("heshe", actor) + " " + thesaurus(["savored", "enjoyed", "relished", "delighted in"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " squeezing " + thesaurus("around") + " " + pronouns("himher", actor) + ". ", pronouns("Name", actor) + " gripped " + thesaurus(["harder", "tighter", "stronger"]) + " as " + pronouns("heshe", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["harder", "deeper", "faster", "stronger"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["squeezed", "tightened", "writhed", "convulsed", "contracted"]) + " " + thesaurus("around") + " " + pronouns("himher", actor) + ", " + thesaurus(["sending", "pushing", "driving"]) + " " + thesaurus("wicked") + " " + thesaurus("pleasure") + " " + thesaurus("pulsing") + " down " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["savored", "enjoyed", "relished", "delighted in"]) + " the " + thesaurus("feeling") + " of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " squeezing " + thesaurus("around") + " " + pronouns("himher", actor) + ". ", pronouns("Name", actor) + " " + thesaurus(["thrust", "pumped", "rammed", "plunged"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ", " + thesaurus(["slamming", "drilling", "pumping", "thrusting"]) + " " + thesaurus("across") + " " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus(["slammed", "drilled", "pumped", "thrust"]) + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + ", " + thesaurus(["plunging", "thrusting", "pumping", "plowing", "drilling"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("buried") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("himher", patient) + " and " + thesaurus("reacted", 0, actor) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " squeezing down on " + pronouns("himher", actor) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " and " + thesaurus(["slammed", "drilled", "pumped", "thrust"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("over and over") + ". "]
  script.active.cocksex.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " out of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " out " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.passive.cocksex.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("filled") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["entered", "penetrated", "pierced", "drilled"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus(["impaled", "slammed"]) + " on " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("buried") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " back " + thesaurus(["arching", "curving", "bowed", "bent"]) + " as " + pronouns("heshe", actor) + " " + thesaurus("buried") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["spread", "opened", "widened", "gaped"]) + " " + pronouns("himher", patient) + " open. "]
  script.passive.cocksex.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("humped") + " into " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " squeezing down on " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " and " + thesaurus(["bucked", "jerked", "twitched"]) + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus(["plundering", "ravaging", "invading"]) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("clenching") + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " and " + thesaurus("reacted", 0, patient) + " " + thesaurus(["each", "every"]) + " time " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("humped") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " rocked " + pronouns("himher", patient) + " hips back into " + pronouns("hisher", actor) + " thrusts, " + thesaurus("reacting", 0, patient) + " from the " + thesaurus("delight") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " at the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["plundering", "ravaging", "invading"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  
  script.active.sex.teasing = [pronouns("Names", actor) + " genitals " + thesaurus("pressed") + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " genitals. ", pronouns("Name", actor) + " " + thesaurus("rubbed") + " " + pronouns("himher", patient) + " genitals " + thesaurus("across") + " " + pronouns("hisher", actor) + " genitals. ", pronouns("Name", actor) + " " + thesaurus(["teased", "played with", "stimulated", "pleasured"]) + " " + pronouns("hisher", actor) + " genitals with " + pronouns("hisher", patient) + " genitals. ", pronouns("Name", actor) + " " + thesaurus("rubbed") + " " + pronouns("himher", patient) + " genitals " + thesaurus("up and down") + " " + pronouns("hisher", actor) + " genitals. "]
  script.active.sex.general = [pronouns("Names", actor) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["squeezed", "tightened", "writhed", "convulsed", "contracted"]) + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("throbbed") + " in " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["massaged", "rubbed against", "stroked"]) + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", "The sound of their flesh/bodies/genitals smacking together echoed " + thesaurus("through") + " the room. ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " reached to the " + thesaurus(["bottom", "hilt", "base", "root"]) + " of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", patient, 1) + " spasmed " + thesaurus("hard") + ", " + thesaurus("writhing") + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["massaged", "rubbed against", "stroked"]) + " " + pronouns("himher", actor) + ", " + thesaurus("building") + " pleasure in " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". "]
  script.passive.sex.teasing = ["", "", "", "", ""]
  script.passive.sex.general = ["", "", "", "", ""]
  
  script.active.hymen.opening = [pronouns("Names", patient) + " " + thesaurus("hymen") + " " + thesaurus(["stretched", "extended", "expanded"]) + " and " + thesaurus(["stretched", "extended", "expanded"]) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("hymen") + ". ", pronouns("Name", actor) + " " + thesaurus(["felt", "nudged", "touched"]) + " " + pronouns("hisher", patient) + " " + thesaurus("hymen") + ". "]
  script.active.hymen.general = [pronouns("Names", patient) + " " + thesaurus("hymen") + " " + thesaurus(["popped", "ripped", "broke", "tore"]) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["popped", "ripped", "broke", "tore"]) + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " " + thesaurus("hymen") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " to the pain of " + pronouns("hisher", patient) + " " + thesaurus("hymen") + " being " + thesaurus(["pierced", "torn", "ripped", "broken", "torn"]) + ". "]
  
  script.active.handjob.opening = [pronouns("Names", actor) + " " + thesaurus("hand") + " " + thesaurus("reached") + " for " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " and " + thesaurus("squeezed") + ". ", pronouns("Name", actor) + " " + thesaurus("gripped") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("wrapped") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.handjob.general = [pronouns("Names", actor) + " " + thesaurus("hand") + " " + thesaurus(["massaged", "rubbed against", "stroked"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["pumped", "worked", "stroked", "rubbed"]) + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["stroked", "jerked", "fisted", "rubbed"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("fondled") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " as " + pronouns("heshe", actor) + " " + thesaurus(["stroked", "jerked", "fisted", "rubbed"]) + " it. "]
  script.active.handjob.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " off " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " of " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " off " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.passive.handjob.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " to " + pronouns("himher", actor) + " " + thesaurus(["touching", "feeling up", "handling"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("enjoying") + " the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + thesaurus("hands") + " on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " as soon as " + pronouns("heshe", actor) + " " + thesaurus("touched") + " it. "]
  script.passive.handjob.general = [pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " in " + pronouns("hisher", actor) + " " + thesaurus("hand") + " as " + pronouns("heshe", actor) + " " + thesaurus("worked") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " " + thesaurus("up and down") + " it. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["stroked", "jerked", "fisted", "rubbed"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus(["throbbing", "pulsing", "twitching", "quivering"]) + " from " + pronouns("hisher", actor) + " " + thesaurus("stimulation") + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " felt " + thesaurus("warm") + " in " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". "]
  
  script.active.nippleplay.opening = [pronouns("Name", actor) + " " + thesaurus("greedily") + " tweaked " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus("found") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("gripped") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + " with a firm squeeze. ", pronouns("Names", actor) + " " + thesaurus("hands") + " " + thesaurus("found") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". "]
  script.active.nippleplay.general = [pronouns("Names", actor) + " " + thesaurus("hands") + " " + thesaurus("fondled") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("squeezed") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("ran") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("twisted") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("squeezed") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ", " + thesaurus(["pinching", "twisting", "squeezing"]) + " them " + thesaurus("hard") + ". ", pronouns("Name", actor) + " " + thesaurus(["dug", "jabbed", "drove", "pushed"]) + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " into " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("twisted") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Names", actor) + " " + thesaurus("hands") + " " + thesaurus(["cupped", "groped", "fondled", "felt up", "touched"]) + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("fondled") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". "]
  script.active.nippleplay.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " off " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + thesaurus("nipples") + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " off " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". "]
  script.passive.nippleplay.opening = [pronouns("Names", actor) + " " + thesaurus("fingers") + " felt cool on " + pronouns("hisher", patient) + " " + thesaurus("skin") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("hands") + " " + thesaurus("touched") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " to the novel feel of " + pronouns("hisher", actor) + " " + thesaurus("hands") + " on " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Names", patient) + " " + thesaurus("nipples") + " " + thesaurus(["molded", "sagged", "shaped"]) + " into " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Names", patient) + " " + thesaurus("nipples") + " "]
  script.passive.nippleplay.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + thesaurus("nipples") + " " + thesaurus(["sensitive", "tender", "aching"]) + " from the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Names", actor) + " " + thesaurus(["massaging", "kneading", "caressing"]) + " " + thesaurus("touch") + " sent delight " + thesaurus("pulsing") + " " + thesaurus("through") + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("played with") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("fondled") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". "]
  
  script.active.breastplay.opening = [pronouns("Name", actor) + " " + thesaurus("greedily") + " " + thesaurus(["cupped", "groped", "fondled", "felt up", "touched"]) + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus("found") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("gripped") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " with a firm squeeze. ", pronouns("Names", actor) + " " + thesaurus("hands") + " " + thesaurus("found") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", ""]
  script.active.breastplay.general = [pronouns("Names", actor) + " " + thesaurus("hands") + " " + thesaurus("fondled") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("squeezed") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("ran") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("twisted") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", actor) + " " + thesaurus("squeezed") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ", " + thesaurus(["pinching", "twisting", "squeezing"]) + " them " + thesaurus("hard") + ". ", pronouns("Name", actor) + " " + thesaurus(["dug", "jabbed", "drove", "pushed"]) + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " into " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("twisted") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Names", actor) + " " + thesaurus("hands") + " " + thesaurus(["cupped", "groped", "fondled", "felt up", "touched"]) + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("fondled") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". "]
  script.active.breastplay.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " off " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " off " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". "]
  script.passive.breastplay.opening = [pronouns("Names", actor) + " " + thesaurus("fingers") + " felt " + thesaurus("warm") + " on " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("hands") + " " + thesaurus("touched") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " to the " + thesaurus(["novel", "new", "fresh", "unqiue"]) + " feel of " + pronouns("hisher", actor) + " " + thesaurus("hands") + " on " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("bust", patient, 1) + " " + thesaurus(["molded", "sagged", "shaped"]) + " into " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Names", patient) + " " + descriptor("bust", patient, 1) + " " + thesaurus(["perked", "inflamed", "roused"]) + " at " + pronouns("hisher", actor) + " " + thesaurus("touch") + ". "]
  script.passive.breastplay.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " " + thesaurus(["sensitive", "tender", "aching"]) + " from the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Names", actor) + " " + thesaurus(["massaging", "kneading", "caressing"]) + " " + thesaurus("touch") + " sent " + thesaurus("delight") + " " + thesaurus("pulsing") + " " + thesaurus("through") + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("played with") + " " + pronouns("hisher", patient) + " " + thesaurus("nipples") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("fondled") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". "]
  
  script.active.paizuri.opening = [pronouns("Name", actor) + " " + thesaurus(["cupped", "groped", "fondled", "felt up", "touched"]) + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " and " + thesaurus(["piled", "heaped", "bunched", "crushed"]) + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("shifted") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". ", pronouns("Name", actor) + " had " + pronouns("himher", patient) + " " + thesaurus(["press", "rub", "squeeze", "crush"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["piled", "heaped", "bunched", "crushed"]) + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.paizuri.general = [pronouns("Name", actor) + " " + thesaurus(["squeezed", "tightened", "squished"]) + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["slid", "worked", "pumped", "rubbed"]) + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("worked") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("squeezed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " as " + pronouns("heshe", actor) + " " + thesaurus(["pumped", "worked", "slid", "rubbed"]) + " them " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("worked") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.paizuri.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("from") + " " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("from") + " " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". "]
  script.passive.paizuri.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " at the " + thesaurus("feeling") + " of " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("between") + " them. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", feeling the " + thesaurus(["pressure", "force", "tension", "strain"]) + " of " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " as " + pronouns("heshe", actor) + " " + thesaurus("placed") + " it " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " felt " + thesaurus("warm") + " " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". "]
  script.passive.paizuri.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("worked") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus(["throbbing", "pulsing", "twitching", "quivering"]) + " in the " + thesaurus(["valley", "curve", "crook"]) + " of " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " as " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " " + thesaurus(["massaged", "rubbed against", "stroked"]) + " " + pronouns("himher", patient) + ". "]
  
  script.active.ballplay.opening = [pronouns("Name", actor) + " " + thesaurus(["cupped", "groped", "fondled", "felt up", "touched"]) + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("placed") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("hands") + " " + thesaurus("wrapped") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("wrapped") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". "]
  script.active.ballplay.general = [pronouns("Names", actor) + " " + thesaurus("hand") + " " + thesaurus(["massaged", "rubbed against", "stroked", "kneaded"]) + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["massaged", "rubbed against", "stroked", "kneaded"]) + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("worked") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus(["teased", "played with", "stimulated", "pleasured"]) + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". "]
  script.active.ballplay.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " released " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". "]
  script.passive.ballplay.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["cupped", "groped", "fondled", "felt up", "touched"]) + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", actor) + " " + thesaurus("touch") + " " + thesaurus(["stimulating", "pleasuring"]) + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus(["molded", "sagged", "shaped"]) + " into " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". ", pronouns("Names", patient) + " " + descriptor("balls", patient, 1) + " were " + thesaurus("warm") + " in " + pronouns("hisher", actor) + " " + thesaurus("hands") + ". "]
  script.passive.ballplay.general = [pronouns("Names", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus("throbbed") + " in " + pronouns("hisher", actor) + " " + thesaurus("hand") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " aching in " + pronouns("hisher", actor) + " " + thesaurus("hand") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("fondled") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". "]
  
  script.active.handriding.opening = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + " down to " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + " into " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("straddled") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("shifted") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + ". "]
  script.active.handriding.general = [pronouns("Name", actor) + " " + thesaurus("rubbed") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("rode") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + " " + thesaurus("impatiently") + ". ", pronouns("Name", actor) + " " + thesaurus(["pumped", "worked", "stroked", "rubbed"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("rubbed") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + ". "]
  script.active.handriding.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("hands") + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("hand") + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + thesaurus("hand") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + thesaurus("hand") + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", patient) + " " + thesaurus("hand") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". "]
  script.passive.handriding.opening = [pronouns("Name", patient) + " felt the " + thesaurus(["warmth", "heat", "pressure"]) + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", feeling " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + ". ", pronouns("Names", patient) + " " + thesaurus("fingers") + " " + thesaurus("buried") + " into " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". "]
  script.passive.handriding.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("rode") + " " + pronouns("hisher", patient) + " " + thesaurus("hands") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + thesaurus("hands") + " pumping " + thesaurus("in and out of") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Names", patient) + " " + thesaurus("hand") + " " + thesaurus(["grew", "turned", "became", "got"]) + " " + thesaurus(["hot", "warm"]) + " as " + pronouns("heshe", actor) + " " + thesaurus("rubbed") + " " + pronouns("himselfherself", actor) + " " + thesaurus("across") + " " + pronouns("himher", patient) + ". ", pronouns("Names", patient) + " " + thesaurus("fingers") + " " + thesaurus(["dug", "jabbed", "drove", "pushed"]) + " into " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". "]
  
  script.active.pussyteasing.opening = [pronouns("Names", actor) + " " + thesaurus("hand") + " " + thesaurus("shifted") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("shifted") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["cupped", "groped", "fondled", "felt up", "touched"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " with " + pronouns("hisher", actor) + " " + thesaurus("hand") + ". "]
  script.active.pussyteasing.general = [pronouns("Name", actor) + " " + thesaurus("rubbed") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " stroked the " + thesaurus(["folds", "pussy lips", "lower lips"]) + " of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus("slowly") + " " + thesaurus("ran") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("hand") + " " + thesaurus(["teased", "played with", "stimulated", "pleasured"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.active.pussyteasing.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " out of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.passive.pussyteasing.opening = [pronouns("Names", patient) + " " + thesaurus(["thighs", "legs", "groin", "lower body"]) + " " + thesaurus(["squeezed", "tightened", "squished"]) + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("touched") + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", the " + thesaurus("light") + " " + thesaurus("stimulation") + " " + thesaurus(["goading", "teasing", "provoking", "stimulating", "spurring"]) + " " + pronouns("himher", patient) + " on. ", pronouns("Name", patient) + " " + thesaurus(["bucked", "jerked", "twitched"]) + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("touch") + ". "]
  script.passive.pussyteasing.general = [pronouns("Name", patient) + " " + thesaurus("rubbed") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("hand") + " " + thesaurus("rubbed") + " " + thesaurus("across") + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("clenching") + " from the " + thesaurus("stimulation") + ". ", pronouns("Name", patient) + " " + thesaurus("pressed") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["harder", "stronger"]) + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + ". "]
  
  script.active.fingering.opening = [pronouns("Name", actor) + " " + thesaurus(["rammed", "buried", "thrust", "jammed"]) + " a couple of " + thesaurus("fingers") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["rammed", "buried", "thrust", "jammed"]) + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus(["rammed", "buried", "thrust", "jammed"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus("shifted") + " down into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus(["rammed", "buried", "thrust", "jammed"]) + " " + thesaurus(["deep", "further"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("buried") + " " + pronouns("hisher", actor) + " " + thesaurus("finger") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.active.fingering.general = [pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["squeezed", "tightened", "squished"]) + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " as they " + thesaurus(["pumped", "worked", "" + thesaurus(["dug", "jabbed", "drove", "pushed"]) + "", "thrust"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus(["plundered", "ravaged", "invaded", "reamed"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("fingers") + " " + thesaurus("churned") + " up " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["rammed", "buried", "thrust", "jammed"]) + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus(["harder", "deeper", "faster", "stronger"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " teasing " + thesaurus("fingers") + " " + thesaurus("played with") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.active.fingering.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("hand") + " off " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.passive.fingering.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("clenching") + " down on " + pronouns("hisher", actor) + " " + thesaurus("finger") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus(["dug", "jabbed", "drove", "pushed"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("tensed") + " as " + pronouns("heshe", actor) + " " + thesaurus(["probed", "penetrated", "dug into", "reamed"]) + " " + pronouns("himher", patient) + " with " + pronouns("hisher", actor) + " " + thesaurus("fingers") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " to the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus(["entering", "penetrating", "piercing", "drilling"]) + " " + pronouns("himher", patient) + ". "]
  script.passive.fingering.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("clenching") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("tensed") + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["convulsing", "writhed", "clenched", "tightened"]) + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("fingers") + " " + thesaurus(["pumped", "worked", "thrust", "rammed"]) + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  
  script.active.kiss.opening = [pronouns("Name", actor) + " kissed " + pronouns("himher", patient) + " " + thesaurus("hard") + ". ", pronouns("Name", actor) + " " + thesaurus(["darted", "pushed", "rushed", "jabbed"]) + " " + pronouns("hisher", actor) + " head " + thesaurus(["forward", "in"]) + " and kissed " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus(["planted", "placed", "laid", "moved"]) + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("across") + " " + pronouns("hishers", patient) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus(["claimed", "took", "found", "captured"]) + " " + pronouns("hishers", patient) + ". ", pronouns("Name", actor) + " kissed " + pronouns("himher", patient) + " with hunger. "]
  script.active.kiss.general = [pronouns("Name", actor) + " " + thesaurus(["rammed", "buried", "thrust", "jammed"]) + " " + pronouns("hisher", actor) + " tongue into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " tongue " + thesaurus("wiggled") + " past " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " with " + pronouns("hishers", patient) + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". "]
  script.active.kiss.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("hishers", patient) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("hishers", actor) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hishers", actor) + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " off " + pronouns("hishers", patient) + ". "]
  script.passive.kiss.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " tongue " + thesaurus(["massaging", "kneading", "caressing"]) + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Names", patient) + " " + thesaurus("mouth") + " surrendered to " + pronouns("hisher", actor) + " " + thesaurus(["pressing", "pushing", "pressuring", "bumping", "nudging", "squishing"]) + " tongue. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("pressed") + " " + thesaurus("across") + " " + pronouns("hishers", patient) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " felt " + thesaurus("gentle") + " " + thesaurus("across") + " " + pronouns("hishers", patient) + ". "]
  script.passive.kiss.general = [pronouns("Name", patient) + " " + thesaurus("shuddered") + ", " + pronouns("hisher", patient) + " " + thesaurus("moans") + " " + thesaurus(["whimpering", "whining", "mewling"]) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("moaned") + " " + pronouns("hisher", patient) + " " + thesaurus("pleasure") + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " kissed " + pronouns("himher", patient) + " with " + thesaurus("greed") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("pressed") + " " + thesaurus("across") + " " + pronouns("hishers", actor) + ". "]
  
  script.active.breastsucking.opening = [pronouns("Name", actor) + " " + thesaurus(["gripped", "grabbed", "clasped", "latched"]) + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " onto " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " one of " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("engulfed") + " " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", actor) + " " + thesaurus(["darted", "ducked", "shifted", "moved"]) + " " + pronouns("hisher", actor) + " head down and " + thesaurus("engulfed") + " " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " as much of " + pronouns("hisher", patient) + " " + thesaurus("nipples") + " as " + pronouns("heshe", actor) + " could into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("pressed") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " areola. ", pronouns("Name", actor) + " " + thesaurus("wrapped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus(["nuzzled", "burrowed", "nestled", "snuggled"]) + " into " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". "]
  script.active.breastsucking.general = [pronouns("Name", actor) + " " + thesaurus("sucked") + " on " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " from " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", actor) + " " + thesaurus(["kissed", "licked", "sucked", "lapped"]) + " at the " + thesaurus("gentle") + " " + thesaurus(["surface", "face", "skin", "flesh"]) + " of " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["nibbled", "nipped", "pecked", "picked at"]) + " and " + thesaurus("sucked") + " " + thesaurus("across") + " the " + thesaurus(["surface", "face", "skin", "flesh"]) + " of " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " with great " + thesaurus("greed") + ". ", pronouns("Name", actor) + " " + thesaurus(["fluttered", "flicked"]) + " " + pronouns("hisher", actor) + " tongue " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " with " + thesaurus("greed") + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("sucked") + " at " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " " + thesaurus(["harder", "deeper", "faster", "stronger"]) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("swallowed") + " more and more of " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " lightly " + thesaurus(["nibbled", "nipped", "pecked", "picked at"]) + " at " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", actor) + " " + thesaurus(["nibbled on", "nipped at", "pecked at", "picked at"]) + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " with " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". "]
  script.active.breastsucking.transition = [pronouns("Name", actor) + " gave a final " + thesaurus(["final", "last"]) + " and " + thesaurus(["rose", "elevated", "lifted"]) + " " + pronouns("hisher", actor) + " head " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["popped", "ripped", "pulled"]) + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". "]
  script.passive.breastsucking.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["devoured", "sucked on", "nursed at", "tongued at"]) + " as much of " + pronouns("hisher", patient) + " " + thesaurus("nipple") + " as " + pronouns("heshe", actor) + " could. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("enjoying") + " in the " + thesaurus("feeling") + " of " + pronouns("himher", actor) + " " + thesaurus(["sucking", "suckling", "tonguing", "nursing"]) + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", thesaurus("pleasure", 1) + " " + thesaurus("throbbed") + " " + thesaurus("through") + " " + pronouns("himher", patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("gripped") + " " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". ", pronouns("Names", patient) + " " + thesaurus("nipple") + " " + thesaurus(["perked", "inflamed", "roused"]) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " it into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". "]
  script.passive.breastsucking.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["fluttered", "flicked"]) + " " + pronouns("hisher", actor) + " tongue " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("nipple") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", actor) + " ", thesaurus(["warmth", "heat", "pressure"], 1) + " " + thesaurus(["began", "started"]) + " to " + thesaurus("build") + " in " + pronouns("hisher", patient) + " chest. ", pronouns("Name", actor) + " " + thesaurus(["savored", "enjoyed", "relished", "delighted in"]) + " the way " + pronouns("hisher", actor) + " tongue felt on " + pronouns("hisher", patient) + " " + descriptor("bust", patient, 1) + ". "]
  
  script.active.blowjob.opening = [pronouns("Name", actor) + " " + thesaurus(["leaned", "tilted", "swayed", "moved"]) + " " + thesaurus(["forward", "in"]) + " and took " + pronouns("himher", patient) + " " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("swallowed") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("greedy") + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + " with " + thesaurus("greed") + ". ", pronouns("Name", actor) + " " + thesaurus("wrapped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("shifted") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.blowjob.general = [pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("impatiently") + ". ", pronouns("Name", actor) + " " + thesaurus("sucked on") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ", " + pronouns("hisher", actor) + " cheeks " + thesaurus(["hollowing", "furrowing", "caving"]) + ". ", pronouns("HisHer", actor) + " head " + thesaurus("bobbed") + " " + thesaurus("up and down") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("HisHer", actor) + " " + thesaurus("mouth") + " " + thesaurus("petted") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("HeShe", actor) + " " + thesaurus("slobbered") + " " + thesaurus("all over") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("HeShe", actor) + " " + thesaurus("worked") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("up and down") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("HisHer", actor) + " " + thesaurus("mouth") + " " + thesaurus("shifted") + " " + thesaurus("up and down") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("HeShe", actor) + " " + thesaurus("worked") + " " + pronouns("hisher", actor) + " " + thesaurus("greedy") + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("HisHer", actor) + " cheeks " + thesaurus(["hollowed", "furrowed", "caved"]) + " " + thesaurus(["prettily", "beautifully", "attractively"]) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.blowjob.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("himselfherself", actor) + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " off " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.passive.blowjob.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("tingles") + " " + thesaurus("pulsing") + " " + thesaurus("through") + " " + pronouns("himher", patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("engulfed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", thesaurus("pleasure", 1) + " " + thesaurus("overwhelmed") + " " + pronouns("himher", patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("between") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("engulfed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.passive.blowjob.general = [pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " in " + pronouns("hisher", actor) + " " + thesaurus("greedy") + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus(["throbbing", "pulsing", "twitching", "quivering"]) + " in " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " from " + pronouns("hisher", actor) + " " + thesaurus(["constant", "continuous", "steady", "consistent"]) + " " + thesaurus(["sucking", "suckling", "tonguing", "nursing"]) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("sucked") + " " + thesaurus("hard") + " on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus(["savored", "enjoyed", "relished", "delighted in"]) + " the way " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("sucked") + " at " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  
  script.active.deepthroat.opening = [pronouns("Name", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus(["harder", "deeper", "faster", "stronger"]) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + thesaurus("greedy") + " " + thesaurus("throat") + " " + thesaurus("swallowed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["forced", "pushed", "drove", "shoved"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " " + thesaurus("slowly") + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("warm") + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " relaxed " + pronouns("hisher", actor) + " " + thesaurus("throat") + ", " + thesaurus(["swallowing", "engulfing", "gobbling"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.deepthroat.general = [pronouns("Names", actor) + " " + thesaurus("throat") + " " + thesaurus("squeezed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("moaned") + " with " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " in " + pronouns("hisher", actor) + " " + thesaurus("throat") + ". ", pronouns("Names", actor) + " nose " + thesaurus("pressed") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " pelvis as " + pronouns("heshe", actor) + " deepthroated " + pronouns("himher", patient) + ". ", thesaurus("drool", 1) + " " + thesaurus(["pooled", "clumped", "merged", "grouped"]) + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " as " + pronouns("heshe", actor) + " " + thesaurus("choked") + " on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("choked") + " on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.active.deepthroat.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("throat") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("himselfherself", actor) + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " gave " + pronouns("names", patient) + " " + thesaurus("throat") + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " off " + pronouns("names", patient) + " " + thesaurus("throat") + ". "]
  script.passive.deepthroat.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("throat") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("tingles") + " " + thesaurus("pulsing") + " " + thesaurus("through") + " " + pronouns("himher", patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("throat") + ". ", thesaurus("pleasure", 1) + " " + thesaurus("overwhelmed") + " " + pronouns("himher", patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("throat") + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus(["harder", "deeper", "faster", "stronger"]) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("throat") + " " + thesaurus("engulfed") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.passive.deepthroat.opening = [pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " in " + pronouns("hisher", actor) + " " + thesaurus("greedy") + " " + thesaurus("throat") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus(["throbbing", "pulsing", "twitching", "quivering"]) + " in " + pronouns("hisher", actor) + " " + thesaurus("throat") + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " from the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + thesaurus("throat") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " throated " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("throat") + " " + thesaurus("squeezed") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus(["savored", "enjoyed", "relished", "delighted in"]) + " the way " + pronouns("hisher", actor) + " " + thesaurus("throat") + " " + thesaurus("dragged") + " at " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  
  script.active.irrumatio.opening = [pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("greedy") + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("buried") + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("shifted") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("up and down") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " made " + pronouns("himher", patient) + " " + thesaurus(["wrap", "envelop", "swathe", "envelop"]) + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["plundered", "ravaged", "invaded", "reamed"]) + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " with " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["harder", "deeper", "faster", "stronger"]) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("slowly") + " fed " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("warm") + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " held " + pronouns("himher", patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " " + thesaurus("filled") + " " + pronouns("hisher", patient) + " " + thesaurus("throat") + " with " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". "]
  script.active.irrumatio.general = [pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " hips forward, " + thesaurus(["slamming", "ramming", "thrusting"]) + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus(["slammed", "drilled", "pumped", "thrust"]) + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("over and over") + ". ", pronouns("Name", actor) + " " + thesaurus(["strongly", "vigorously", "firmly", "roughly"]) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + thesaurus(["deep", "further"]) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus(["plundered", "ravaged", "invaded", "reamed"]) + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " with " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("buried") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("hard") + " and " + thesaurus(["deep", "further", "fast"]) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " " + thesaurus("choked") + " " + pronouns("himher", patient) + " with " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + thesaurus(["harder", "deeper", "faster", "stronger"]) + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", thesaurus("wet", 1) + " sounds " + thesaurus("oozed out") + " of " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " as " + pronouns("heshe", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", patient) + " " + thesaurus("throat") + ". "]
  script.active.irrumatio.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("throat") + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + thesaurus("throat") + " of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + thesaurus("throat") + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", patient) + " " + thesaurus("throat") + " off " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". "]
  script.passive.irrumatio.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", patient) + " felt " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["slamming", "sliding", "thrusting"]) + " down into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("choked") + " on " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " as " + pronouns("heshe", actor) + " " + thesaurus(["forced", "pushed", "drove", "shoved"]) + " " + pronouns("himselfherself", actor) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus(["endured", "bore", "sustained", "braved"]) + " " + pronouns("himher", actor) + " " + thesaurus(["plunging", "thrusting", "pumping", "plowing", "drilling"]) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". "]
  script.passive.irrumatio.opening = [pronouns("Name", patient) + " took more and more of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("buried") + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["plundered", "ravaged", "invaded", "reamed"]) + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("choked") + " on " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " as " + pronouns("heshe", actor) + " " + thesaurus(["plundered", "ravaged", "invaded", "reamed"]) + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". "]
  
  script.active.ballsucking.opening = [pronouns("Name", actor) + " " + thesaurus("greedily") + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("greedy") + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("placed") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("wrapped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". "]
  script.active.ballsucking.general = [pronouns("Name", actor) + " gently " + thesaurus("sucked on") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("played with") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " used " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " to " + thesaurus("fondle") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["alternated", "rotated", "switched"]) + " " + thesaurus("between") + " " + thesaurus(["sucking", "suckling", "tonguing", "nursing"]) + " each of " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["lavished", "tendered", "showered"]) + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " with " + pronouns("hisher", actor) + " tongue. "]
  script.active.ballsucking.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("himselfherself", actor) + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("names", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " off " + pronouns("names", patient) + " " + descriptor("balls", patient, 1) + ". "]
  script.passive.ballsucking.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("enjoying") + " the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " on " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus(["molded", "sagged", "shaped"]) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " felt good as " + pronouns("hisher", actor) + " tongue " + thesaurus("touched") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". "]
  script.passive.ballsucking.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("enjoying") + " the " + thesaurus(["pressure", "force", "tension", "strain"]) + " from " + pronouns("hisher", actor) + " " + thesaurus(["sucking", "suckling", "tonguing", "nursing"]) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked on") + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("worked") + " on " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus("throbbed") + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked") + " on them. "]
  
  script.active.teabagging.opening = [pronouns("Name", actor) + " " + thesaurus("dangled") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("smothered") + " " + pronouns("hisher", patient) + " face " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + ". ", pronouns("Name", actor) + " let " + pronouns("himher", patient) + " " + thesaurus(["pleasure", "stimulate", "arouse"]) + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " with " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + descriptor("balls", actor, 1) + " " + thesaurus("dropped") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " face. "]
  script.active.teabagging.general = [pronouns("Name", actor) + " " + thesaurus(["dipped", "moved", "pumped", "thrust", "plunged"]) + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + descriptor("balls", actor, 1) + " " + thesaurus(["dipped", "moved", "pumped", "thrust", "plunged"]) + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("humped") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " " + thesaurus("in and out of") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " out of " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " and " + thesaurus(["slammed", "rammed", "shoved", "thrust"]) + " them back in. "]
  script.active.teabagging.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("himher", patient) + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " off " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + ". "]
  script.passive.teabagging.opening = [pronouns("Name", patient) + " " + thesaurus("choked") + " as " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " " + thesaurus(["dipped", "moved", "pumped", "thrust", "plunged"]) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["forced", "pushed", "drove", "shoved"]) + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus(["molding", "sagging", "shaping"]) + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + ". ", pronouns("Names", actor) + " " + descriptor("balls", actor, 1) + " felt full in " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". "]
  script.passive.teabagging.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("choked") + " " + pronouns("himher", patient) + " with " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus(["sucking", "suckling", "tonguing", "nursing"]) + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("choked") + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " in " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", patient) + " " + thesaurus("mouth") + " " + thesaurus("worked") + " on " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + ". "]
  
  script.active.rimjob.opening = [pronouns("Name", actor) + " " + thesaurus("buried") + " " + pronouns("hisher", actor) + " face " + thesaurus("between") + " " + pronouns("hisher", patient) + " " + descriptor("ass", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("wrapped") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("smothered") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + " with " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " tongue into " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". "]
  script.active.rimjob.general = [pronouns("Names", actor) + " tongue " + thesaurus(["probed", "penetrated", "dug into", "reamed"]) + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("pressed") + " " + thesaurus(["harder", "deeper", "faster", "stronger"]) + " " + thesaurus("between") + " " + pronouns("hisher", patient) + " " + descriptor("ass", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["fluttered", "flicked", "lashed"]) + " " + pronouns("hisher", actor) + " tongue " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("wiggled") + " " + pronouns("hisher", actor) + " tongue into " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["darted", "pushed", "rushed", "jabbed"]) + " " + pronouns("hisher", actor) + " tongue " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " tongue into " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + " and " + thesaurus(["darted", "pushed", "rushed", "jabbed"]) + " inside of " + pronouns("himher", patient) + ". ", pronouns("Names", actor) + " tongue " + thesaurus("wiggled") + " " + thesaurus("around") + " in " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". "]
  script.active.rimjob.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + " of " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " off " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". "]
  script.passive.rimjob.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("found") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + " with " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", feeling " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("touch") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("anus", patient, 1) + " " + thesaurus("tensed") + " as " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("found") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + ". "]
  script.passive.rimjob.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + "/backdoor. ", pronouns("Names", patient) + " " + descriptor("anus", patient, 1) + " " + thesaurus("tensed") + " as " + pronouns("hisher", actor) + " tongue " + thesaurus(["probed", "penetrated", "dug into", "reamed"]) + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("anus", patient, 1) + " " + thesaurus("clenching") + " from " + pronouns("hisher", actor) + " " + thesaurus(["constant", "continuous", "steady", "consistent"]) + " " + thesaurus(["probing", "digging", "roaming", "penetrating"]) + ". ", pronouns("Names", patient) + " " + descriptor("anus", patient, 1) + " " + thesaurus(["spread", "opened", "widened", "gaped"]) + ", " + thesaurus("begging") + " for more " + thesaurus("attention") + ". "]
  
  script.active.facesitting.opening = [pronouns("Name", actor) + " " + thesaurus("placed") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " on " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", patient) + " face into " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("slowly") + " " + thesaurus(["planted", "placed", "laid", "moved"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus(["allowed", "let"]) + " " + pronouns("himher", patient) + " to " + thesaurus(["kiss", "lick", "eat"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["planted", "placed", "laid", "moved"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("hard") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus(["lowered", "dropped", "moved"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " onto " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". "]
  script.active.facesitting.general = [pronouns("Name", actor) + " " + thesaurus("rubbed") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " on " + pronouns("hisher", patient) + " face. ", pronouns("Name", actor) + " " + thesaurus("brushed") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("up and down") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " used " + pronouns("hisher", patient) + " tongue to " + thesaurus(["lavish", "tender", "shower"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("rode") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus(["aggressively", "passionately", "vigourously", "energetically"]) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("rubbed") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". "]
  script.active.facesitting.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " off " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". "]
  script.passive.facesitting.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("enjoying") + " the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " on " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("placed") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " was " + thesaurus("warm") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", patient) + " " + thesaurus("mouth") + " " + thesaurus(["piled", "heaped", "bunched", "crushed"]) + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". "]
  script.passive.facesitting.general = [pronouns("Name", patient) + " " + thesaurus("moaned") + " into " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " " + thesaurus("pressed") + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("rubbed") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " face. ", pronouns("Names", patient) + " " + thesaurus("mouth") + " " + thesaurus("touched") + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ". "]
  
  script.active.clitsucking.opening = [pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("gripped") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("wrapped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("greedy") + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " with " + thesaurus("greed") + ". ", pronouns("Name", actor) + " " + thesaurus("shifted") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". "]
  script.active.clitsucking.general = [pronouns("Name", actor) + " " + thesaurus("sucked") + " " + thesaurus("hard") + " on " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked on") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked") + " and " + thesaurus(["nibbled on", "nipped at", "pecked at", "picked at"]) + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Names", actor) + " tongue " + thesaurus("greedily") + " " + thesaurus(["massaged", "rubbed against", "stroked"]) + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("sucked on") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " with " + thesaurus(["pressure", "force", "power"]) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus(["aggressively", "passionately", "vigourously", "energetically"]) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("played with") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " using " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus(["made out", "kissed"]) + " with " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". "]
  script.active.clitsucking.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("himselfherself", actor) + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("names", patient) + " " + descriptor("clit", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " off " + pronouns("names", patient) + " " + descriptor("clit", patient, 1) + ". "]
  script.passive.clitsucking.opening = ["The " + thesaurus(["feeling", "sensation"]) + " of " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " on " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " sent " + thesaurus(["thrills", "chills"]) + " down " + pronouns("hisher", patient) + " " + thesaurus(["body", "back", "spine"]) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("swallowed") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("pleasure") + " " + thesaurus("pulsing") + " " + thesaurus("through") + " " + pronouns("heshe", actor) + " " + thesaurus(["began", "started"]) + " to tongue " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", thesaurus(["new", "novel"], 1) + " " + thesaurus(["sensations", "feelings"]) + " attacking " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " " + thesaurus(["caused", "forced"]) + " " + pronouns("himher", patient) + " to " + thesaurus("react", 0, patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + thesaurus("enjoying") + " the " + thesaurus("feeling") + " of " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " on " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". "]
  
  script.passive.clitsucking.general = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " and " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " tongue " + thesaurus("touched") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("sucked on") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", thesaurus("pleasure", 1) + " " + thesaurus(["assualted", "attacked", "struck"]) + " " + pronouns("hisher", patient) + " body as " + pronouns("heshe", actor) + " " + thesaurus(["fluttered", "flicked", "lashed"]) + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " with " + pronouns("hisher", actor) + " tongue. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", actor) + " tongue working " + thesaurus("hard") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", "The " + thesaurus(["feeling", "sensation"]) + " of " + pronouns("hisher", actor) + " tongue " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " " + thesaurus(["caused", "forced"]) + " " + thesaurus("pleasure") + " to " + thesaurus(["twitch", "pulse", "quiver", "throb", "twinge"]) + " " + thesaurus("through") + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("greedily") + " " + thesaurus("rubbed") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("rubbed") + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " on " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " with " + thesaurus(["pressure", "force", "power"]) + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus(["aggressively", "passionately", "vigourously", "energetically"]) + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus(["teased", "played with", "stimulated", "pleasured"]) + " " + pronouns("himselfherself", patient) + " by using " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " on " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("slowly") + " " + thesaurus(["dug", "jabbed", "drove", "pushed"]) + " " + pronouns("hisher", patient) + " " + descriptor("clit", patient, 1) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". "]
  
  script.active.cunnilingus.opening = [pronouns("Name", actor) + " " + thesaurus(["leaned", "tilted", "swayed", "moved"]) + " in and " + thesaurus("buried") + " " + pronouns("hisher", actor) + " face into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("wiggled") + " " + pronouns("hisher", actor) + " tongue inside of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["lowered", "dropped", "moved"]) + " " + pronouns("hisher", actor) + " face " + thesaurus("about") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("shifted") + " " + pronouns("hisher", actor) + " face " + thesaurus("between") + " " + pronouns("hisher", patient) + " " + thesaurus(["thighs", "legs", "groin", "lower body"]) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " onto " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["rammed", "buried", "thrust", "jammed"]) + " " + pronouns("hisher", actor) + " tongue into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " face into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " and " + thesaurus("licked") + ". ", pronouns("Name", actor) + " " + thesaurus("shifted") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("slowly") + " to " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pressed") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("across") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["planted", "placed", "laid", "moved"]) + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("hard") + " onto " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.active.cunnilingus.general = [pronouns("Names", actor) + " tongue " + thesaurus(["darted", "danced", "swirled", "moved"]) + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("licked") + " and " + thesaurus("licked") + " at " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " tongue " + thesaurus(["licked", "lapped", "rolled", "tongued"]) + " " + thesaurus("pleasure") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["darted", "pushed", "rushed", "jabbed"]) + " " + pronouns("hisher", actor) + " tongue " + thesaurus("up and down") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("brushed") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + " with " + pronouns("hisher", actor) + " tongue. ", pronouns("Names", actor) + " tongue " + thesaurus("petted") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("licked") + " " + thesaurus("up and down") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " feasted on " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("licked") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + " with " + thesaurus(["fervor", "enthusiasm", "ardor", "intensity"]) + ". "]
  script.active.cunnilingus.transition = [pronouns("Name", actor) + " " + thesaurus("pulled") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("pulled back") + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("relieved") + " " + pronouns("himselfherself", actor) + " " + thesaurus("from") + " " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " gave " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("a rest") + " " + thesaurus("from") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus("popped") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " off " + pronouns("names", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.passive.cunnilingus.opening = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " tongue " + thesaurus("ran") + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus("placed") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " on " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["grew", "turned", "became", "got"]) + " " + thesaurus(["hot", "warm"]) + " as " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus(["entered", "penetrated", "pierced", "drilled"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " and " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " tongue " + thesaurus(["entered", "penetrated", "pierced", "drilled"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " at " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " " + thesaurus(["massaging", "kneading", "caressing"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["nuzzled", "burrowed", "nestled", "snuggled"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " at the " + thesaurus("pleasure") + " of " + pronouns("hisher", actor) + " tongue darting " + thesaurus("through") + " " + pronouns("hisher", patient) + " " + thesaurus(["folds", "pussy lips", "lower lips"]) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", patient) + " felt " + pronouns("hisher", actor) + " tongue on " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.passive.cunnilingus.general = [pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("tensed") + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + thesaurus(["probing", "digging", "roaming", "penetrating"]) + " tongue. ", pronouns("Names", patient) + " " + descriptor("nectar", patient, 1) + " soaked " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Name", patient) + " " + thesaurus("shuddered") + " " + thesaurus("across") + " " + pronouns("himher", actor) + " as " + pronouns("heshe", actor) + " " + thesaurus("licked") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " tongue sent " + thesaurus(["ripples", "surges", "pulses"]) + " of bliss " + thesaurus("through") + " " + pronouns("hisher", patient) + " body. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " squeezing " + thesaurus("around") + " " + pronouns("hisher", actor) + " tongue. ", pronouns("Name", actor) + " " + thesaurus("licked") + " and " + thesaurus("licked") + ", " + thesaurus(["burying", "plunging", "thrusting", "pumping", "plowing"]) + " " + pronouns("hisher", actor) + " tongue " + thesaurus(["deep", "further"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " tongue " + thesaurus(["fluttered", "flicked", "lashed"]) + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("shuddered") + " as " + pronouns("hisher", actor) + " tongue " + thesaurus("licked") + " " + pronouns("himher", patient) + ". "]
  
  script.active.pleasure.filler = [pronouns("Name", actor) + " " + thesaurus(["smiled", "smirked", "beamed"]) + " at " + pronouns("himher", patient) + ". ", "A " + thesaurus("wicked") + " " + thesaurus(["smile", "smirk", "grin", "look"]) + " " + thesaurus("flexed") + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " eyes " + thesaurus(["shone", "beamed", "flashed"]) + " with " + thesaurus("pleasure") + ". ", pronouns("Name", actor) + " gave " + pronouns("himher", patient) + " a " + thesaurus("wicked") + " " + thesaurus(["smile", "smirk", "grin", "look"]) + ". "]
  script.passive.pleasure.filler = [thesaurus("delight", 1) + " " + thesaurus(["shone", "beamed", "flashed"]) + " in " + pronouns("hisher", patient) + " eyes. ", pronouns("Names", patient) + " chest " + thesaurus(["pounded", "hammered"]) + " as " + thesaurus("anticipation") + " " + thesaurus(["beat", "pumped", "thumped"]) + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " heart. ", pronouns("Names", patient) + " eyes " + thesaurus(["squeezed", "tightened", "squished"]) + " shut. ", pronouns("Names", patient) + " cheeks " + thesaurus(["flamed", "ignited", "burned"]) + " " + thesaurus(["bright", "strongly", "powerfully"]) + ". ", pronouns("HisHer", actor) + " " + thesaurus("upper body") + " " + thesaurus("rose") + " and " + thesaurus("fell") + " as " + pronouns("heshe", actor) + " " + thesaurus("moaned") + ". ", pronouns("HisHer", actor) + " " + thesaurus("body") + " " + thesaurus("tensed") + " with " + thesaurus("pleasure") + ". ", thesaurus("sweat", 1) + " " + thesaurus("dripped") + " down " + pronouns("hisher", actor) + " " + thesaurus("face") + ". ", pronouns("HisHer", actor) + " " + thesaurus("body") + " " + thesaurus("writhed") + " with " + thesaurus("delight") + ". "]
  
  script.passive.pleasure.general = [pronouns("Name", patient) + " " + thesaurus(["purred", "hummed", "warbled"]) + " in " + thesaurus("delight") + ". ", thesaurus("pleasure", 1) + " crossed " + pronouns("hisher", patient) + " face. ", pronouns("Name", patient) + " toes " + thesaurus("twisted") + " as " + thesaurus("pleasure") + " " + thesaurus("surged") + " " + thesaurus("through") + " " + pronouns("himher", patient) + ". ", thesaurus("pleasure", 1) + " " + thesaurus("rippled") + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " body. ", pronouns("Name", patient) + " " + thesaurus("shuddered") + ", the " + thesaurus("delight") + " " + thesaurus("building") + " and " + thesaurus("building") + " " + thesaurus(["faster and faster", "more speedily", "quickly"]) + ". ", pronouns("Name", patient) + " " + thesaurus("threw") + " " + pronouns("hisher", patient) + " head " + thesaurus("up and down") + ", " + thesaurus(["fighting", "battling", "resisting", "withstanding", "enduring"]) + " the " + thesaurus("pleasure") + ". ", pronouns("Names", patient) + " head " + thesaurus("threw") + " from side to side. ", pronouns("Names", patient) + " back " + thesaurus("flexed") + " as " + pronouns("heshe", patient) + " " + thesaurus("reacted", 0, patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + thesaurus("pleasure") + " " + thesaurus("rippled") + " " + thesaurus("through") + " " + pronouns("himher", patient) + ". ", "The " + thesaurus("building") + " " + thesaurus("pleasure") + " " + thesaurus(["caused", "forced"]) + " " + pronouns("himher", patient) + " to " + thesaurus("react", 0, patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["teased", "played with", "stimulated", "pleasured"]) + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " heart " + thesaurus(["pounding", "beating", "thumping", "pumping"]) + " in " + pronouns("hisher", patient) + " chest. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " and " + thesaurus("reacted", 0, patient) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " and " + thesaurus("reacted", 0, patient) + ", " + pronouns("hisher", patient) + " body " + thesaurus("writhing") + " with " + thesaurus("pleasure") + ".", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", the " + thesaurus("pleasure") + " growing and growing. ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + ", feeling " + thesaurus(["dizzy", "sick", "light-headed", "giddy", "woozy"]) + " from the " + thesaurus("pleasure") + ". ", pronouns("HeShe", actor) + " " + thesaurus("shuddered") + ", " + thesaurus("pleasure") + " " + thesaurus("burning") + " " + thesaurus("through") + " " + pronouns("hisher", actor) + " " + thesaurus("body") + ". ", pronouns("HeShe", actor) + " " + thesaurus("writhed") + " with " + thesaurus("pleasure") + ". ", pronouns("HeShe", actor) + " " + thesaurus("moaned") + ", " + thesaurus("drool") + " " + thesaurus("streaming") + " down " + pronouns("hisher", actor) + " " + thesaurus("face") + ". ", pronouns("HisHer", actor) + " " + thesaurus("face") + " " + thesaurus("twisted") + " with " + thesaurus("delight") + ". ", "A " + thesaurus("pang") + " of " + thesaurus("pleasure") + " " + thesaurus("rushed") + " " + thesaurus("through") + " " + pronouns("hisher", actor) + ". ", pronouns("HisHer", actor) + " eyes " + thesaurus(["closed", "sealed", "shut"]) + " as " + thesaurus("pleasure") + " " + thesaurus("overwhelmed") + " " + pronouns("himher", actor) + ". ", thesaurus("pleasure", 1) + " " + thesaurus("raced") + " " + thesaurus("through") + " " + pronouns("hisher", actor) + " " + thesaurus("body") + ". ", "A " + thesaurus("wicked") + " " + thesaurus("shudder") + " " + thesaurus("ran") + " " + thesaurus("through") + " " + pronouns("himher", actor) + ". ", "", pronouns("HeShe", actor) + " " + thesaurus("shuddered") + " as " + thesaurus("pleasure") + " " + thesaurus("rippled") + " " + thesaurus("through") + " " + pronouns("himher", actor) + ". ", pronouns("HeShe", actor) + " " + thesaurus("moaned") + " with " + thesaurus("delight") + ". ", thesaurus("pleasure", 1) + " " + thesaurus("writhed") + " " + thesaurus("through") + " " + pronouns("himher", actor) + ". ", pronouns("HeShe", actor) + " " + thesaurus("shuddered") + " in " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + thesaurus("body") + " " + thesaurus("shuddered") + " with " + thesaurus("pleasure") + ". ", "A " + thesaurus("wave") + " of " + thesaurus("pleasure") + " " + thesaurus("roused") + " " + pronouns("himher", actor) + ". ", pronouns("HeShe", actor) + " " + thesaurus("moaned") + " with " + thesaurus("anticipation") + ". ", pronouns("HeShe", actor) + " released " + thesaurus("moans") + " " + thesaurus("thick") + " with " + thesaurus("pleasure") + ". "]
  
  script.passive.pleasure.pussy = ["A " + thesaurus("wave") + " of " + descriptor("nectar", patient, 1) + " " + thesaurus(["spilling", "running", "streaming", "pouring", "dripping"]) + " down " + pronouns("hisher", patient) + " " + thesaurus(["thighs", "legs", "groin", "lower body"]) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("dripped") + " with " + descriptor("nectar", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("tensed") + " with " + thesaurus("pleasure") + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " melted, " + thesaurus("wet") + " with " + pronouns("hisher", patient) + " " + descriptor("nectar", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("tensed") + ", " + thesaurus(["warmth", "heat"]) + " " + thesaurus("pulsing") + " " + thesaurus("through") + " " + pronouns("himher", patient) + ". ", pronouns("Name", patient) + " gasped, the " + thesaurus("pleasure") + " " + thesaurus(["jolting", "bolting", "running", "buzzing"]) + " down to " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", thesaurus(["warmth", "heat"], 1) + " " + thesaurus("shuddered") + " " + thesaurus("through") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", patient) + " " + thesaurus(["bucked", "jerked", "twitched"]) + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("enjoying") + " the " + thesaurus("feeling") + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " burned and " + thesaurus("throbbed") + ". ", pronouns("Name", patient) + " " + thesaurus("moaned") + ", " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["growing", "getting"]) + " " + thesaurus(["wetter and wetter", "more and more wet"]) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["grew", "turned", "became", "got"]) + " " + thesaurus(["hotter", "warmer"]) + ". ", pronouns("Name", patient) + " " + thesaurus("shuddered") + " as " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("tensed") + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " was on fire. "]
  script.passive.pleasure.cock = [thesaurus("pleasure", 1) + " " + thesaurus("rippled") + " down " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " and " + thesaurus("throbbed") + ". ", "Precum " + thesaurus("dripped") + " out of " + pronouns("himher", patient) + ". ", pronouns("Names", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus("throbbed") + " from " + thesaurus("pleasure") + ". ", thesaurus("pleasure", 1) + " " + thesaurus(["began", "started"]) + " to " + thesaurus("build") + " at the " + thesaurus(["tip", "top", "head", "crown"]) + " of " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  script.passive.pleasure.balls = [pronouns("Names", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus(["grew", "turned", "became", "got"]) + " tighter and tighter. ", pronouns("Names", patient) + " " + descriptor("balls", patient, 1) + " " + thesaurus(["squeezed", "tightened", "squished"]) + ". ", thesaurus("pleasure", 1) + " " + thesaurus(["built", "gathered", "amassed"]) + " in " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". "]
  
  script.passive.pleasure.cocksex = ["Precum " + thesaurus("spurted") + " from " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ", " + thesaurus(["coating", "covering", "lining", "painting"]) + " " + pronouns("hisher", patient) + " walls. ", "Precum " + thesaurus("dripped") + " out of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " and into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("throbbed") + ", precum " + thesaurus("streaming") + " out of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " and into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", "The " + thesaurus(["feeling", "sensation"]) + " of " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["caused", "forced"]) + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " to " + thesaurus(["leak", "dribble", "trickle", "drip", "pour"]) + " precum. ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("squeezed") + " the precum out of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". "]
  script.passive.pleasure.pussysex = [descriptor("nectar", actor, 1, 1) + " " + thesaurus(["ran", "dripped", "trickled", "streamed"]) + " down " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ", " + thesaurus(["soaking", "wetting", "drenching", "moistening", "dampening"]) + " " + pronouns("hisher", patient) + " " + descriptor("balls", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("spurted") + " " + descriptor("nectar", actor, 1) + " all " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["convulsing", "writhed", "clenched", "tightened"]) + ", " + descriptor("nectar", actor, 1) + " " + thesaurus(["leaking", "dribbling", "trickling", "dripping", "pouring", "seeping"]) + " out of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " and onto " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", "The " + thesaurus(["feeling", "sensation"]) + " of " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " " + thesaurus(["caused", "forced"]) + " " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " to " + thesaurus(["leak", "dribble", "trickle", "drip", "pour"]) + " " + descriptor("nectar", actor, 1) + ". ", descriptor("nectar", actor, 1, 1) + " " + thesaurus("dripped") + " out of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " and onto " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  
  script.active.orgasm.general = [pronouns("Names", actor) + " face " + thesaurus(["burst", "exploded", "erupted"]) + " with " + thesaurus("pleasure") + ". ", thesaurus("pleasure", 1) + " " + thesaurus(["buzzed", "jolted", "bolted", "ran"]) + " " + thesaurus("through") + " " + pronouns("hisher", actor) + " " + thesaurus("skin") + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, patient) + " as " + thesaurus("pleasure") + " " + thesaurus("burned") + " " + thesaurus("through") + " " + pronouns("himher", actor) + ". ", thesaurus(["ripples", "waves", "surges", "pulses"], 1) + " of " + thesaurus("pleasure") + " " + thesaurus("surged") + " " + thesaurus("through") + " " + pronouns("hisher", actor) + " " + thesaurus("body") + ". ", thesaurus(["ripples", "waves", "surges", "pulses"], 1) + " of " + thesaurus("erotic") + " " + thesaurus("pleasure") + " " + thesaurus(["flooded", "captured", "drowned", "engulfed", "swamped"]) + " " + pronouns("hisher", actor) + " " + thesaurus("body") + ". ", "Stars " + thesaurus(["burst", "exploded", "erupted"]) + " " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("sight") + ". ", thesaurus("pleasure", 1) + " " + thesaurus(["hammered", "battered", "attacked", "assaulted"]) + " " + pronouns("hisher", actor) + " " + thesaurus(["mind", "head"]) + ". ", thesaurus("wonderful", 1) + " " + thesaurus("delight") + " " + thesaurus("rippled") + " " + thesaurus("through") + " " + pronouns("himher", actor) + ". ", pronouns("Names", actor) + " nerves " + thesaurus("burned") + " with " + thesaurus("pleasure") + ". ", pronouns("HeShe", actor) + " " + thesaurus("threw") + " " + pronouns("hisher", actor) + " head back in the throes of " + thesaurus("pleasure") + ". "]
  
  script.active.orgasm.pussy = [thesaurus("pleasure", 1) + " " + thesaurus("spurted") + " out of " + pronouns("himher", actor) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["convulsed", "spasmed", "writhed", "quivered", "contracted"]) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("tensed") + ", " + thesaurus("pleasure") + " " + thesaurus(["flooding", "consuming", "drowning", "engulfing", "swamping"]) + " " + pronouns("hisher", actor) + " body. ", pronouns("Names", actor) + " body " + thesaurus(["bucked", "jerked", "twitched"]) + " as " + pronouns("heshe", actor) + " " + thesaurus(["orgasmed", "climaxed", "peaked"]) + ". ", pronouns("Names", actor) + " " + descriptor("nectar", actor, 1) + " " + thesaurus("spurted") + " with " + thesaurus(["pressure", "force", "power"]) + ". "]
  script.active.orgasm.cock = [pronouns("Names", actor) + " " + thesaurus("upper body") + " " + thesaurus(["bucked", "jerked", "twitched"]) + " as " + pronouns("heshe", actor) + " " + thesaurus(["burst", "exploded", "erupted"]) + ". ", thesaurus(["orgasmed", "climaxed", "peaked"]) + " " + thesaurus("spurted") + " out of " + pronouns("himher", actor) + ". ", thesaurus(["each", "every"], 1) + " " + thesaurus(["spurt", "line", "jet", "blast"]) + " of " + descriptor("cum", actor, 1) + " sent " + thesaurus("pleasure") + " " + thesaurus("through") + " " + pronouns("himher", actor) + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["burst", "exploded", "erupted"]) + ". ", pronouns("Names", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus("spurted") + " with " + thesaurus("pleasure") + ". "]
  
  script.active.orgasm.fingering = [pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["convulsed", "spasmed", "writhed", "quivered", "contracted"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["squeezed", "tightened", "squished"]) + " " + pronouns("hisher", patient) + " " + thesaurus("fingers") + " " + thesaurus("hard") + " as " + thesaurus("pleasure") + " rippled " + thesaurus("through") + " " + pronouns("himher", actor) + ". ", descriptor("nectar", actor, 1, 1) + " " + thesaurus("spurted") + " out of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + ", " + thesaurus(["soaking", "wetting", "drenching", "moistening", "dampening"]) + " " + pronouns("hisher", patient) + " " + thesaurus("hand") + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + ", " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["convulsing", "writhed", "clenched", "tightened"]) + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + thesaurus("fingers") + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + " as " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + descriptor("nectar", actor, 1) + " all " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("hands") + ". "]
  
  script.active.orgasm.blowjob = [pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("spurted") + " " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("greedy") + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("spurted") + " " + thesaurus("over and over") + ", " + thesaurus(["filling", "flooding", "stuffing"]) + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " with " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + ". ", pronouns("Names", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus("spurted") + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Name", actor) + " " + thesaurus(["coated", "covered", "lined", "painted"]) + " " + pronouns("hisher", patient) + " " + thesaurus("mouth") + " with " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + ". ", thesaurus("pleasure", 1) + " " + thesaurus(["slammed", "rammed", "pulsed"]) + " " + thesaurus("through") + " " + pronouns("himher", actor) + " as " + pronouns("heshe", actor) + " pumped " + descriptor("cum", actor, 1) + " " + thesaurus(["straight", "directly", "right"]) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". "]
  
  script.active.orgasm.cunnilingus = [pronouns("Names", actor) + " " + descriptor("nectar", actor, 1) + " " + thesaurus(["flodded", "bathed", "covered", "coated"]) + " " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", pronouns("Names", actor) + " " + descriptor("nectar", actor, 1) + " " + thesaurus("spurted") + " out onto " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus("spurted") + " " + pronouns("hisher", actor) + " " + descriptor("nectar", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", descriptor("nectar", actor, 1, 1) + " " + thesaurus("dripped") + " " + thesaurus(["straight", "directly", "right"]) + " from " + pronouns("himher", actor) + " " + descriptor("pussy", actor, 1) + " and into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("spurted") + " " + pronouns("hisher", actor) + " " + descriptor("nectar", actor, 1) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " face. "]
  
  script.active.orgasm.rimjob = [pronouns("Names", actor) + " " + descriptor("anus", actor, 1) + " " + thesaurus("writhed") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus(["probing", "digging", "roaming", "penetrating"]) + " tongue. ", pronouns("Names", actor) + " " + descriptor("anus", actor, 1) + " " + thesaurus("squeezed") + " down on " + pronouns("hisher", patient) + " tongue as " + thesaurus(["an orgasm", "a climax"]) + " " + thesaurus("rippled") + " " + thesaurus("through") + " " + pronouns("himher", actor) + ". ", pronouns("Name", actor) + " " + thesaurus("tensed") + " " + pronouns("hisher", actor) + " " + descriptor("anus", actor, 1) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " tongue as " + thesaurus("pleasure") + " " + thesaurus(["plundered", "ravaged", "invaded", "assaulted"]) + " " + pronouns("hisher", actor) + " body. "]
  
  script.active.orgasm.creampie = [pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["burst", "exploded", "erupted"]) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("filled") + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " with some " + descriptor("cum", actor, 1) + ". ", pronouns("Name", actor) + " pumped " + descriptor("cum", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus("spurted") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("spurted") + " " + thesaurus("over and over") + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["emptied", "drained", "unloaded"]) + " " + pronouns("hisher", actor) + " " + descriptor("balls", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". ", thesaurus(["blast after blast", "line after line", "jet after jet", "blast after blast"], 1) + " of " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus("spurted") + " into " + pronouns("hisher", patient) + " " + thesaurus("greedy") + " " + descriptor("pussy", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("reacted", 0, actor) + ", " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["convulsing", "spasming", "writhing", "quivering", "contracting"]) + " as " + pronouns("heshe", actor) + " " + thesaurus(["emptied", "drained", "unloaded"]) + " " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + " into " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  script.passive.orgasm.creampie = [pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("worked") + " out " + thesaurus(["every", "each"]) + " " + thesaurus(["drop", "bit"]) + " of " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["milked", "drained", "extracted", "wrung"]) + " out " + thesaurus(["the last", "every bit", "every drop"]) + " of " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus("spurted") + " into " + pronouns("himher", patient) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus("worked") + " to " + thesaurus(["milk", "drain", "extract", "wring"]) + " " + thesaurus(["the last", "every bit", "every drop"]) + " of " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + " from " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("Names", patient) + " " + descriptor("pussy", patient, 1) + " " + thesaurus(["convulsed", "spasmed", "writhed", "quivered", "contracted"]) + " " + thesaurus("around") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " as " + pronouns("heshe", actor) + " " + thesaurus(["filled", "flooded", "stuffed"]) + " " + pronouns("hisher", patient) + " " + descriptor("pussy", patient, 1) + ". "]
  
  script.active.orgasm.creamed = [pronouns("Names", actor) + " " + descriptor("nectar", actor, 1) + " " + thesaurus("spurted") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["convulsed", "spasmed", "writhed", "quivered", "contracted"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["squeezed", "tightened", "squished"]) + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ", " + pronouns("hisher", actor) + " " + descriptor("nectar", actor, 1) + " " + thesaurus(["soaking", "wetting", "drenching", "moistening", "dampening"]) + " it " + thesaurus(["entirely", "completely", "fully"]) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["convulsed", "spasmed", "writhed", "quivered", "contracted"]) + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ", " + thesaurus(["trying", "attempting", "aiming"]) + " to " + thesaurus(["milk", "drain", "extract", "wring"]) + " " + pronouns("himher", patient) + ". ", pronouns("Names", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus(["squeezed", "tightened", "squished"]) + " down on " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + descriptor("nectar", actor, 1) + " " + thesaurus("spurted") + " " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". "]
  
  script.active.orgasm.facial = [pronouns("Name", actor) + " " + thesaurus("spurted") + " " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", descriptor("cum", actor, 1, 1) + " " + thesaurus("spurted") + " from " + pronouns("himher", actor) + " and " + thesaurus(["splattered", "splashed", "sprayed", "spurted"]) + " " + thesaurus("across") + " " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", pronouns("Names", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus("spurted") + " onto " + pronouns("hisher", patient) + " " + thesaurus("face") + " " + thesaurus("over and over") + ". ", pronouns("Name", actor) + " lurched forward, " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus(["splattering", "splashing", "spraying", "spurting"]) + " " + descriptor("cum", actor, 1) + " all " + thesaurus("around") + " " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", pronouns("Names", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("throbbed") + ", " + thesaurus(["shooting", "jetting", "spraying", "spurting", "firing"]) + " " + thesaurus(["blast after blast", "line after line", "jet after jet", "blast after blast"]) + " of " + descriptor("cum", actor, 1) + " on " + pronouns("hisher", patient) + " " + thesaurus("face") + ". "]
  script.passive.orgasm.facial = [pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus(["splattered", "splashed", "sprayed", "spurted"]) + " onto " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", pronouns("Names", patient) + " " + thesaurus("face") + " was " + thesaurus(["coated", "covered", "lined", "painted"]) + " with " + pronouns("hisher", actor) + " " + descriptor("cum", actor, 1) + ". ", pronouns("Names", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus(["ran", "dripped", "trickled", "streamed"]) + " in " + thesaurus(["rivulets", "droplets", "globules"]) + " down " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", pronouns("Names", actor) + " " + descriptor("cum", actor, 1) + " " + thesaurus(["ran", "dripped", "trickled", "streamed"]) + " down " + pronouns("hisher", patient) + " " + thesaurus("face") + ". ", pronouns("Name", patient) + " " + thesaurus("reacted", 0, patient) + " as " + pronouns("heshe", actor) + " " + thesaurus(["coated", "covered", "lined", "painted", "marked"]) + " " + pronouns("himher", patient) + ". "]
  
  script.active.orgasm.openfacial = ["", "", "", "", ""]
  script.passive.orgasm.openfacial = [pronouns("Name", patient) + " opened " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ", letting " + pronouns("himher", actor) + " " + descriptor("cum", actor, 1) + " into " + pronouns("hisher", patient) + " " + thesaurus("mouth") + ". ", "", "", "", ""]
  
  script.active.orgasm.cumswallow = [pronouns("Name", actor) + " " + thesaurus("swallowed") + " " + pronouns("hisher", patient) + " " + descriptor("cum", patient, 1) + ". ", pronouns("Name", actor) + " gulped down " + pronouns("hisher", patient) + " " + descriptor("cum", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("throat") + " " + thesaurus("worked") + " as " + pronouns("heshe", actor) + " drank down " + pronouns("hisher", patient) + " " + descriptor("cum", patient, 1) + ". ", pronouns("Name", actor) + " " + thesaurus("licked") + " " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ", gathering " + pronouns("hisher", patient) + " " + descriptor("cum", patient, 1) + " from " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("worked") + " out " + pronouns("hisher", patient) + " " + descriptor("cum", patient, 1) + ". ", pronouns("Name", actor) + " suckled " + pronouns("hisher", patient) + " " + descriptor("cum", patient, 1) + " out of " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + ". ", pronouns("Names", actor) + " " + thesaurus("mouth") + " " + thesaurus("worked") + " " + thesaurus("up and down") + " " + pronouns("hisher", patient) + " " + descriptor("cock", patient, 1) + " as " + pronouns("hisher", patient) + " " + descriptor("cum", patient, 1) + " " + thesaurus("spurted") + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". "]
  script.active.orgasm.creamswallow = [pronouns("Name", actor) + " " + thesaurus("licked") + " the " + descriptor("nectar", actor, 1) + " " + thesaurus(["flooding", "rushing", "pouring", "streaming", "gushing"]) + " out of " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus(["savored", "enjoyed", "relished", "delighted in"]) + " " + pronouns("hisher", patient) + " " + descriptor("nectar", actor, 1) + ", " + thesaurus(["drinking", "swallowing", "gulped down"]) + " it with " + thesaurus("pleasure") + ". ", pronouns("Name", actor) + " opened " + pronouns("hisher", actor) + " " + thesaurus("mouth") + " and wide and " + thesaurus(["gulped down", "drank", "swallowed"]) + " " + pronouns("hisher", patient) + " " + descriptor("nectar", actor, 1) + ". ", pronouns("Name", actor) + " " + thesaurus(["gulped down", "drank", "swallowed"]) + " the " + descriptor("nectar", actor, 1) + " " + thesaurus(["flooding", "rushing", "pouring", "streaming", "gushing"]) + " out of " + pronouns("himher", patient) + ". ", pronouns("Name", actor) + " " + thesaurus("greedily") + " " + thesaurus(["allowed", "let"]) + " " + pronouns("hisher", patient) + " " + descriptor("nectar", actor, 1) + " " + thesaurus(["flow", "gush", "stream", "pour"]) + " into " + pronouns("hisher", actor) + " " + thesaurus("mouth") + ". "]
  
  if(actor.combat.stimulation >= 100) {
    script.active.stimulation = [pronouns("HisHer", actor) + " tongue is " + thesaurus(["lolling", "drooping", "dangling", "hanging"]) + " out of " + pronouns("hisher", actor) + " " + thesaurus("face") + ". ", pronouns("HisHer", actor) + " eyes are " + thesaurus(["rolled", "whirled", "spun", "circled"]) + " with " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " cheeks have an intense blush to them. ", "Snot and tears " + thesaurus("streaming") + " down " + pronouns("hisher", actor) + " " + thesaurus("face") + ". ", pronouns("HisHer", actor) + " " + pronouns("has", actor) + " lost motor function from the intense " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + thesaurus("face") + " shows " + pronouns("heshe", actor) + " is melting from " + thesaurus("pleasure") + ". ", thesaurus("pleasure", 1) + " has hampered " + pronouns("hisher", actor) + " ability to think " + thesaurus(["straight", "right", "correctly", "properly"]) + ". ", pronouns("HisHer", actor) + " eyes are afire with " + thesaurus("pleasure") + ". ", pronouns("HeShe", actor) + " " + pronouns("has", actor) + " a dark blush spread " + thesaurus("across") + " " + pronouns("hisher", actor) + " " + thesaurus("face") + ". "]
    
  } else if(actor.combat.stimulation >= 50) {
    script.active.stimulation = [pronouns("HisHer", actor) + " body is on fire. ", thesaurus("pleasure", 1) + " is " + thesaurus("streaming") + " " + thesaurus("through") + " " + pronouns("hisher", actor) + " " + thesaurus("body") + ". ", pronouns("HeShe", actor) + " " + thesaurus("moaned") + " with " + thesaurus("pleasure") + ". ", thesaurus("pleasure", 1) + " " + thesaurus("surged") + " " + thesaurus("through") + " " + pronouns("hisher", actor) + " " + thesaurus("body") + ". ", pronouns("HeShe", actor) + " " + thesaurus("shuddered") + " as " + thesaurus("pleasure") + " attacked " + pronouns("himher", actor) + ". ", pronouns("HisHer", actor) + " " + thesaurus("face") + " is " + thesaurus("twisted") + " with " + thesaurus("pleasure") + ". "]
    
  } else if(actor.combat.stimulation >= 15) {
    script.active.stimulation = [pronouns("HisHer", actor) + " " + thesaurus("face") + " is tinged with a " + thesaurus("light") + " blush. ", "Pure " + thesaurus("pleasure") + " has turned " + pronouns("hisher", actor) + " " + thesaurus("breathing") + " " + thesaurus("ragged") + ". ", pronouns("HisHer", actor) + " eyes are " + thesaurus("beginning") + " to glaze " + thesaurus("around") + " with " + thesaurus("pleasure") + ". ", pronouns("HeShe", actor) + " " + pronouns("is", actor) + " " + thesaurus("beginning") + " to show " + thesaurus("signs") + " of " + thesaurus("pleasure") + ". ", "Visible " + thesaurus("pleasure") + " is clearly shown on " + pronouns("hisher", actor) + " " + thesaurus("face") + ". "]
    
  } else if(actor.combat.stimulation >= 0) {
    script.active.stimulation = [pronouns("HisHer", actor) + " " + thesaurus("face") + " is relatively normal. ", pronouns("HisHer", actor) + " " + thesaurus("breathing") + " is at a normal rate. ", pronouns("HeShe", actor) + " " + pronouns("arent", actor) + " displaying any " + thesaurus("signs") + " of " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " eyes are clear of any " + thesaurus("lustful") + " influence. ", pronouns("HeShe", actor) + " " + pronouns("arent", actor) + " " + thesaurus("aroused") + ". "]
    
  }
  
  if(stamina >= 1) {
    script.active.stamina = [pronouns("Name", actor) + " " + pronouns("is", actor) + " full of energy. ", pronouns("Names", actor) + " stamina is full. ", pronouns("Name", actor) + " " + pronouns("has", actor) + " as much stamina as " + pronouns("hisher", actor) + " " + thesaurus("body") + " can hold. ", pronouns("Names", actor) + " body is teeming with energy. ", pronouns("Name", actor) + " seems to be brimming with vigor. "]
    
  } else if(stamina >= 0.75) {
    script.active.stamina = [pronouns("Name", actor) + " " + pronouns("has", actor) + " a lot of energy to spare. ", pronouns("Names", actor) + " stamina is almost full. ", pronouns("Name", actor) + " " + pronouns("has", actor) + " more than enough stamina to keep going. ", pronouns("Name", actor) + " " + pronouns("is", actor) + " practically bursting with energy still. ", pronouns("Name", actor) + " " + pronouns("is", actor) + " near full on stamina. "]
    
  } else if(stamina >= 0.50) {
    script.active.stamina = [pronouns("Name", actor) + " " + pronouns("has", actor) + " a workable amount of energy. ", pronouns("Name", actor) + " shows some " + thesaurus("signs") + " of exhaustion. ", pronouns("Name", actor) + " " + pronouns("is", actor) + " sweating. ", pronouns("Name", actor) + " barely " + pronouns("has", actor) + " half is stamina. ", pronouns("Name", actor) + " " + pronouns("is", actor) + " panting slightly. "]
    
  } else if(stamina >= 0.25) {
    script.active.stamina = [pronouns("Name", actor) + " " + pronouns("has", actor) + " some energy left. ", pronouns("Name", actor) + " " + pronouns("has", actor) + " " + thesaurus("sweat") + " " + thesaurus("all over") + " " + pronouns("hisher", actor) + " " + thesaurus("body") + ". ", pronouns("Name", actor) + " " + pronouns("is", actor) + " starting to run out of gas. ", pronouns("Name", actor) + " " + pronouns("doesnt", actor) + " seem like " + pronouns("heshe", actor) + " can go on for much longer. ", pronouns("Names", actor) + " breathing is laboured. "]
    
  } else if(stamina > 0) {
    script.active.stamina = [pronouns("Name", actor) + " " + pronouns("has", actor) + " almost no energy. ", pronouns("Name", actor) + " " + pronouns("is", actor) + " " + thesaurus("wet") + ". ", pronouns("Name", actor) + " " + pronouns("is", actor) + " almost in a state of extreme exhaustion. ", pronouns("Name", actor) + " only " + pronouns("has", actor) + " a few more actions left in " + pronouns("himher", actor) + " before " + pronouns("heshe", actor) + " " + pronouns("is", actor) + " " + thesaurus(["totally", "completely", "utterly"]) + " exhausted. ", pronouns("Name", actor) + " can barely keep up with " + pronouns("hisher", actor) + " low energy. "]
    
  } else {
    script.active.stamina = [pronouns("Name", actor) + " " + pronouns("has", actor) + " been " + thesaurus(["totally", "completely", "utterly"]) + " drained of " + pronouns("hisher", actor) + " energy. ", pronouns("Name", actor) + " " + pronouns("is", actor) + " exhausted. ", pronouns("Name", actor) + " can't aggress any longer due to " + pronouns("hisher", actor) + " depleted stamina. ", pronouns("Name", actor) + " needs some rest before " + pronouns("heshe", actor) + " can actively participate. ", pronouns("Name", actor) + " " + pronouns("doesnt", actor) + " have the stamina to continue. "]
    
  }
  
  if(arousal >= 0.75) {
    script.active.arousal.bust = [pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " are dripping " + thesaurus("sweat") + ". ", pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " are radiating " + pronouns("hisher", actor) + " " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + thesaurus("pleasure") + " has expanded " + pronouns("hisher", actor) + " " + descriptor("bust", actor, 1) + " to its limit. "]
    script.active.arousal.cock = [pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is " + thesaurus("wet") + " with " + pronouns("hisher", actor) + " precum. ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is strained to its limit with " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " polluting the air with a " + thesaurus("thick") + " musk. "]
    script.active.arousal.pussy = [pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is puffed to its limit due to " + pronouns("hisher", actor) + " " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is " + thesaurus("wet") + " with " + pronouns("hisher", actor) + " " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is a boiling soup of " + thesaurus("pleasure") + " and bodily fluids. ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is in an unmistakable state of " + thesaurus("pleasure") + ". "]
    script.active.arousal.clit = [pronouns("HisHer", actor) + " " + descriptor("clit", actor, 1) + " is wholly " + thesaurus("visible") + ". ", pronouns("HisHer", actor) + " " + thesaurus("pleasure") + " has " + pronouns("hisher", actor) + " " + descriptor("clit", actor, 1) + " erect to its limit. ", pronouns("HisHer", actor) + " " + descriptor("clit", actor, 1) + " is " + thesaurus("wet") + " with " + pronouns("hisher", actor) + " " + thesaurus("sweat") + " and " + thesaurus("erotic") + " liquids. "]
    
  } else if(arousal >= 0.50) {
    script.active.arousal.bust = [pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " are ripe with " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " seems to be brimming with need. ", pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " are engorged. "]
    script.active.arousal.cock = [pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is " + thesaurus(["leaking", "dribbling", "trickling", "dripping", "pouring", "seeping"]) + " precum. ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is engorged. ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is giving off a " + thesaurus("lustful") + " musk. "]
    script.active.arousal.pussy = [pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is enlarged by " + pronouns("hisher", actor) + " " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is " + thesaurus("wet") + " with " + pronouns("hisher", actor) + " " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is " + thesaurus("burning") + " with " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is in a definite state of " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is turning red with " + thesaurus("pleasure") + ". "]
    script.active.arousal.clit = [pronouns("HisHer", actor) + " " + descriptor("clit", actor, 1) + " is poking out. ", pronouns("HisHer", actor) + " " + thesaurus("pleasure") + " has coaxed " + pronouns("hisher", actor) + " " + descriptor("clit", actor, 1) + " to full " + thesaurus("attention") + ". ", pronouns("HisHer", actor) + " " + descriptor("clit", actor, 1) + " is " + thesaurus("wet") + " with " + pronouns("hisher", actor) + " fluids. "]
    
  } else if(arousal >= 0.15) {
    script.active.arousal.bust = [pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " show some " + thesaurus("signs") + " of " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " are " + thesaurus("begging") + " for " + thesaurus("attention") + ". ", pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " are starting to perk up. "]
    script.active.arousal.cock = [pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is " + thesaurus("aroused") + ". ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is " + thesaurus("aroused") + ". ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is pulsing. "]
    script.active.arousal.pussy = [pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is " + thesaurus("aroused") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is " + thesaurus(["leaking", "dribbling", "trickling", "dripping", "pouring"]) + " some fluids. ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is in a state of " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " shows some indication " + pronouns("heshe", actor) + " is " + thesaurus("aroused") + ". "]
    script.active.arousal.clit = [pronouns("HisHer", actor) + " unstimulated " + descriptor("clit", actor, 1) + " can barely be seen. ", pronouns("HisHer", actor) + " " + thesaurus("pleasure") + " has coaxed " + pronouns("hisher", actor) + " " + descriptor("clit", actor, 1) + " out. ", pronouns("HisHer", actor) + " " + descriptor("clit", actor, 1) + " is " + thesaurus("wet") + " with vaginal fluids. "]
    
  } else {
    script.active.arousal.bust = [pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " show no " + thesaurus("signs") + " of " + thesaurus("pleasure") + ". ", pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " look neglected from " + thesaurus("attention") + ". ", pronouns("HisHer", actor) + " " + descriptor("bust", actor, 1) + " are ripe. "]
    script.active.arousal.cock = [pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is not " + thesaurus("aroused") + ". ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " needs some " + thesaurus("stimulation") + ". ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is understimulated. "]
    script.active.arousal.pussy = [pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " needs some " + thesaurus("stimulation") + ". ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is " + thesaurus(["leaking", "dribbling", "trickling", "dripping", "pouring"]) + " little to no fluids. ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " is in a state of unarousal. ", pronouns("HisHer", actor) + " " + descriptor("pussy", actor, 1) + " doesn't show any indication " + pronouns("heshe", actor) + " is " + thesaurus("aroused") + ". "]
    script.active.arousal.clit = [pronouns("HisHer", actor) + " " + descriptor("clit", actor, 1) + " is contracted. ", pronouns("HisHer", actor) + " unstimulated " + descriptor("clit", actor, 1) + " can barely be seen. ", pronouns("HisHer", actor) + " " + descriptor("clit", actor, 1) + " is barely spotable due to " + pronouns("hisher", actor) + " lack of " + thesaurus("pleasure") + ". ", pronouns("HeShe", actor) + " has a " + thesaurus(["totally", "completely", "utterly"]) + " dried " + descriptor("clit", actor, 1) + ". ", pronouns("HisHer", actor) + " needs more " + thesaurus("stimulation") + " before " + pronouns("hisher", actor) + " " + descriptor("clit", actor, 1) + " shows any " + thesaurus("signs") + " of " + thesaurus("pleasure") + ". "]
    
  } 
  
  
  script.active.smell.cock = ["The " + thesaurus("musky") + " " + thesaurus("smell") + " of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("filled") + " " + pronouns("hisher", patient) + " nose. ", "A " + thesaurus("whiff") + " of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("assaulted") + " " + pronouns("hisher", patient) + " nose. ", "There is the " + thesaurus("smell") + " of " + pronouns("hisher", partner) + " " + thesaurus("musky") + " " + descriptor("cock", actor, 1) + " in the air. "]
  script.passive.smell.cock = [pronouns("HeShe", actor) + " " + thesaurus("breathed it in") + ", " + thesaurus("enjoying") + " the " + thesaurus("delicious") + " " + thesaurus("smell") + ". ", pronouns("HisHer", actor) + " " + thesaurus("mouth") + " watered at the " + thesaurus("wonderful") + " " + thesaurus("smell") + ". ", "The " + thesaurus("smell") + " " + thesaurus("delighted") + " " + pronouns("hisher", actor) + " senses. ", pronouns("HeShe", actor) + " " + thesaurus("shuddered") + " from the " + thesaurus("musky") + " " + thesaurus("smell") + ". "]
  
  script.active.smell.pussy = ["The " + thesaurus("spicy") + " " + thesaurus("smell") + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("filled") + " " + pronouns("hisher", patient) + " nose. ", "A " + thesaurus("whiff") + " of " + pronouns("hisher", actor) + " " + descriptor("pussy", actor, 1) + " " + thesaurus("assaulted") + " " + pronouns("hisher", patient) + " nose. ", "There is the " + thesaurus("smell") + " of " + pronouns("hisher", actor) + " " + thesaurus("spicy") + " " + descriptor("pussy", actor, 1) + " in the air. "]
  script.passive.smell.pussy = [pronouns("HeShe", actor) + " " + thesaurus("breathed it in") + ", " + thesaurus("enjoying") + " the " + thesaurus("delicious") + " " + thesaurus("smell") + ". ", pronouns("HisHer", actor) + " " + thesaurus("mouth") + " watered at the " + thesaurus("wonderful") + " " + thesaurus("smell") + ". ", "The " + thesaurus("smell") + " " + thesaurus("delighted") + " " + pronouns("hisher", actor) + " senses. ", pronouns("HeShe", actor) + " " + thesaurus("shuddered") + " from the " + thesaurus("spicy") + " " + thesaurus("smell") + ". "]
  
  script.active.sight.cock = [pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("dangled") + " " + thesaurus("before") + " " + pronouns("himher", patient) + ". ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is " + thesaurus("visible") + ". ", pronouns("HeShe", actor) + " " + thesaurus("flexed") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("HisHer", actor) + " " + descriptor("cock", actor, 1) + " is " + thesaurus("visible") + " for " + pronouns("himher", patient) + " to " + thesaurus("see") + ". "]
  script.passive.sight.cock = ["The " + thesaurus("erotic") + " " + thesaurus("sight") + " of " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + " " + thesaurus("aroused") + " " + pronouns("himher", patient) + ". ", pronouns("HisHer", patient) + " " + thesaurus("pleasure") + " was " + thesaurus("deepened") + " by " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("HisHer", patient) + " eyes are " + thesaurus("glued") + " to " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". ", pronouns("HeShe", patient) + " " + pronouns("is", patient) + " " + thesaurus("watching") + " " + pronouns("hisher", actor) + " " + descriptor("cock", actor, 1) + ". "]
  
  if(!form) {
    text = script[type][act]
  } else if(type && act && form) {
    text = script[type][act][form]
  } else {
    text = null
  }
  
  return text
  
}

window.thesaurus = function(word, capital=0, user) {
  var synonyms = []
  
  if(Array.isArray(word)) {
    synonyms = word
    
  } else if(word == "reacted") {
    if(user.gender == "female") {
      synonyms = ["moaned", "groaned", "gasped", "shuddered", "whimpered", "trembled", "mewled", "quivered"]
      
    } else if(user.gender == "male") {
      synonyms = ["grunted", "groaned", "gasped", "shuddered", "trembled", "quivered"]
      
    }
    
  } else if(word == "reacting") {
    if(user.gender == "female") {
      synonyms = ["moaning", "groaning", "gasping", "shuddering", "whimpering", "trembling", "mewling", "quivering"]
      
    } else if(user.gender == "male") {
      synonyms = ["grunting", "groaning", "gasping", "shuddering", "trembling", "quivering"]
      
    }
    
  } else if(word == "react") {
    if(user.gender == "female") {
      synonyms = ["moan", "groan", "gasp", "shudder", "whimper", "tremble", "mewl", "quiver"]
      
    } else if(user.gender == "male") {
      synonyms = ["grunt", "groan", "gasp", "shudder", "tremble", "quiver"]
      
    }
    
  } else if(word == "spurted") {
    synonyms = ["spurted", "fired", "surged", "gushed", "jetted", "sprayed", "spilled"]
    
  } else if(word == "licked") {
    synonyms = ["licked", "lapped", "tongued"]
    
  } else if(word == "attention") {
    synonyms = ["attention", "care", "focus", "notice"]
    
  } else if(word == "choked") {
    synonyms = ["choked", "gagged", "clogged", "gurgled"]
    
  } else if(word == "from") {
    synonyms = ["from", "out of", "away from"]
    
  } else if(word == "rode") {
    synonyms = ["rode", "humped", "fucked", "screwed"]
    
  } else if(word == "straddled") {
    synonyms = ["straddled", "mounted", "sprawled over", "sat on"]
    
  } else if(word == "squeezed") {
    synonyms = ["squeezed", "pressed", "pushed", "squished"]
    
  } else if(word == "between") {
    synonyms = ["between", "in-between", "betwixt"]
    
  } else if(word == "fondled") {
    synonyms = ["fondled", "caressed", "touched", "massaged", "kneaded"]
    
  } else if(word == "fondle") {
    synonyms = ["fondle", "caress", "touch", "massage", "knead"]
    
  } else if(word == "nipple") {
    synonyms = ["nipple", "nub", "nubbin", "teat"]
    
  } else if(word == "nipples") {
    synonyms = ["nipples", "nubs", "nubbins", "teats"]
    
  } else if(word == "found") {
    synonyms = ["found", "met", "touched", "homed in on"]
    
  } else if(word == "stimulation") {
    synonyms = ["stimulation", "pleasure", "friction"]
    
  } else if(word == "warm") {
    synonyms = ["warm", "hot"]
    
  } else if(word == "filled") {
    synonyms = ["filled", "stuffed", "crammed", "packed"]
    
  } else if(word == "building") {
    synonyms = ["building", "raising", "increasing", "intensifying"]
    
  } else if(word == "build") {
    synonyms = ["build", "raise", "increase", "intensify"]
    
  } else if(word == "in and out of") {
    synonyms = ["in and out of", "deeper and deeper into", "back and forth into", "faster and faster into", "further and further into"]
    
  } else if(word == "buried") {
    synonyms = ["buried", "sunk", "plunged", "rammed"]
    
  } else if(word == "pulsing") {
    synonyms = ["pulsing", "surging", "flowing", "streaming", "rippling"]
    
  } else if(word == "threw") {
    synonyms = ["threw", "tossed", "kicked", "flung", "hurled"]
    
  } else if(word == "over and over") {
    synonyms = ["over and over", "again and again", "over and over again", "repeatedly"]
    
  } else if(word == "churned") {
    synonyms = ["churned", "stirred", "twisted", "jiggled"]
    
  } else if(word == "wiggled") {
    synonyms = ["wiggled", "jerked", "twisted", "jiggled"]
    
  } else if(word == "engulfed") {
    synonyms = ["engulfed", "enveloped", "swallowed"]
    
  } else if(word == "engulfing") {
    synonyms = ["engulfing", "enveloping", "swallowing"]
    
  } else if(word == "clenching") {
    synonyms = ["clenching", "clamping", "contracting", "tightening"]
    
  } else if(word == "brushed") {
    synonyms = ["brushed", "dragged", "flicked", "swept"]
    
  } else if(word == "touched") {
    synonyms = ["touched", "brushed against", "rubbed against", "pressed against"]
    
  } else if(word == "rubbed") {
    synonyms = ["rubbed", "ground", "crushed", "pressed"]
    
  } else if(word == "hard") {
    synonyms = ["hard", "strongly", "vigorously", "firmly", "roughly"]
    
  } else if(word == "dropped") {
    synonyms = ["fell", "sank", "dropped"]
    
  } else if(word == "hips") {
    synonyms = ["hips", "haunches", "loins"]
    
  } else if(word == "hymen") {
    synonyms = ["hymen", "cherry", "maidenhead", "maidenhood"]
    
  } else if(word == "wet") {
    synonyms = ["wet", "sodden", "drenched", "soaked", "dripping", "damp"]
    
  } else if(word == "oozed out") {
    synonyms = ["oozed out", "eked out", "came out"]
    
  } else if(word == "popped") {
    synonyms = ["popped", "removed", "extracted", "wrenched"]
    
  } else if(word == "a rest") {
    synonyms = ["a rest", "a break", "relief", "respite"]
    
  } else if(word == "relieved") {
    synonyms = ["relieved", "eased", "released", "freed"]
    
  } else if(word == "pulled") {
    synonyms = ["pulled", "extracted", "removed", "detached", "wrested"]
    
  } else if(word == "pulled back") {
    synonyms = ["pulled back", "drew back", "withdrew", "retired", "pulled away"]
    
  } else if(word == "throat") {
    synonyms = ["throat", "windpipe", "gullet"]
    
  } else if(word == "throbbed") {
    synonyms = ["twitched", "pulsed", "quivered", "throbbed", "ached", "twinged", "panged"]
    
  } else if(word == "worked") {
    synonyms = ["worked", "ran", "moved"]
    
  } else if(word == "all over") {
    synonyms = ["all over", "about", "over"]
    
  } else if(word == "slobbered") {
    synonyms = ["slobbered", "drooled", "salivated"]
    
  } else if(word == "up and down") {
    synonyms = ["up and down", "about", "around", "over", "back and forth"]
    
  } else if(word == "bobbed") {
    synonyms = ["bobbed", "swayed", "rolled", "swung", "jerked"]
    
  } else if(word == "shifted") {
    synonyms = ["shifted", "slipped", "moved", "slid"]
    
  } else if(word == "wrapped") {
    synonyms = ["wrapped", "enveloped", "enwrapped", "swathed", "sheathed", "sealed", "engulfed"]
    
  } else if(word == "greed") {
    synonyms = ["greed", "hunger", "desire", "passion", "fervor"]
    
  } else if(word == "greedy") {
    synonyms = ["greedy", "hungry", "eager", "wanting", "needy"]
    
  } else if(word == "greedily") {
    synonyms = ["greedily", "hungrily", "eagerly"]
    
  } else if(word == "sweet") {
    synonyms = ["sweet", "cute", "lovely", "erotic"]
    
  } else if(word == "sound") {
    synonyms = ["sound", "tone", "softness", "melody"]
    
  } else if(word == "breathless") {
    synonyms = ["breathless", "enchanted", "bewitched", "entranced", "mesmerized"]
    
  } else if(word == "writhing") {
    synonyms = ["writhing", "squirming", "quivering", "trembling", "stirring"]
    
  } else if(word == "looked") {
    synonyms = ["looked", "seemed", "appeared"]
    
  } else if(word == "placed") {
    synonyms = ["placed", "put", "set", "laid", "settled"]
    
  } else if(word == "swooned") {
    synonyms = ["swooned", "fell", "eased"]
    
  } else if(word == "skin") {
    synonyms = ["skin", "flesh"]
    
  } else if(word == "burned") {
    synonyms = ["burned", "seared", "burnt"]
    
  } else if(word == "arm") {
    synonyms = ["arm", "forearm", "hand"]
    
  } else if(word == "light") {
    synonyms = ["light", "weak", "slight", "minor"]
    
  } else if(word == "weakly") {
    synonyms = ["weakly", "feebly", "faintly", "delicately", "lightly"]
    
  } else if(word == "aggressiveness") {
    synonyms = ["aggressiveness", "aggression", "passion"]
    
  } else if(word == "inhaled") {
    synonyms = ["inhaled", "breathed in", "smelt", "sucked in"]
    
  } else if(word == "smothered") {
    synonyms = ["smothered", "muffled", "covered"]
    
  } else if(word == "begging") {
    synonyms = ["begging", "craving", "yearning", "lusting", "longing"]
    
  } else if(word == "feeling") {
    synonyms = ["feeling", "sensation"]
    
  } else if(word == "tensed") {
    synonyms = ["tensed", "stiffened", "constricted", "clenched"]
    
  } else if(word == "orgasm") {
    synonyms = ["orgasm", "climax", "peak"]
    
  } else if(word == "sweat") {
    synonyms = ["sweat", "perspiration", "sudor"]
    
  } else if(word == "dripped") {
    synonyms = ["dripped", "poured", "streamed", "trickled", "leaked", "dribbled"]
    
  } else if(word == "body") {
    synonyms = ["body", "muscles", "limbs"]
    
  } else if(word == "rose") {
    synonyms = ["rose", "inflated", "swelled", "expanded"]
    
  } else if(word == "fell") {
    synonyms = ["fell", "deflated", "contracted", "swelled"]
    
  } else if(word == "upper body") {
    synonyms = ["upper body", "body", "chest"]
    
  } else if(word == "rippled") {
    synonyms = ["rippled", "surged", "flooded", "flowed", "flowered"]
    
  } else if(word == "shudder") {
    synonyms = ["shudder", "shiver", "tremor", "ripple"]
    
  } else if(word == "wicked") {
    synonyms = ["wicked", "naughty", "depraved", "sinful", "lewd"]
    
  } else if(word == "raced") {
    synonyms = ["raced", "rushed", "shot", "tore"]
    
  } else if(word == "tingles") {
    synonyms = ["tingles", "spasms", "pleasure"]
    
  } else if(word == "overwhelmed") {
    synonyms = ["overwhelmed", "overpowered", "overran", "engulfed", "swallowed", "rolled over", "drowned"]
    
  } else if(word == "swallowed") {
    synonyms = ["swallowed", "engulfed", "gobbled"]
    
  } else if(word == "delight") {
    synonyms = ["delight", "bliss", "glee", "contentment", "pleasure", "satisfaction", "ecstasy"]
    
  } else if(word == "twisted") {
    synonyms = ["twisted", "contorted", "curled", "warped"]
    
  } else if(word == "drool") {
    synonyms = ["drool", "spit", "saliva", "drivel", "spittle"]
    
  } else if(word == "faster") {
    synonyms = ["faster", "more quickly", "quickly", "speedily"]
    
  } else if(word == "welled") {
    synonyms = ["welled", "surged", "swelled", "ballooned"]
    
  } else if(word == "writhed") {
    synonyms = ["writhed", "squirmed", "quivered", "trembled", "stirred"]
    
  } else if(word == "burning") {
    synonyms = ["burning", "searing", "broiling", "flaring", "blazing"]
    
  } else if(word == "rushed") {
    synonyms = ["rushed", "ran", "flashed", "charged", "sped"]
    
  } else if(word == "pang") {
    synonyms = ["pang", "twinge", "hint", "tinge", "smattering"]
    
  } else if(word == "thick") {
    synonyms = ["thick", "heavy", "deep", "caked", "curdled"]
    
  } else if(word == "anticipation") {
    synonyms = ["anticipation", "impatience", "excitement", "expectancy", "restlessness"]
    
  } else if(word == "roused") {
    synonyms = ["roused", "shook", "stirred", "inflamed", "aroused", "sparked"]
    
  } else if(word == "wave") {
    synonyms = ["wave", "flood", "rush", "surge", "stream"]
    
  } else if(word == "touch") {
    synonyms = ["touch", "caress", "nudge", "stroke", "brush"]
    
  } else if(word == "gentle") {
    synonyms = ["gentle", "soft", "pleasant", "delicate", "smooth", "pillowy"]
    
  } else if(word == "further") {
    synonyms = ["further", "farther", "more"]
    
  } else if(word == "goaded") {
    synonyms = ["goaded", "teased", "provoked", "stimulated", "spurred"]
    
  } else if(word == "parts of face") {
    synonyms = ["cheek", "face", "chin", "lip", "mouth"]
    
  } else if(word == "through") {
    synonyms = ["through", "about"]
    
  } else if(word == "hands") {
    synonyms = ["hands", "palms"]
    
  }  else if(word == "hand") {
    synonyms = ["hand", "palm"]
    
  } else if(word == "fingers") {
    synonyms = ["fingers", "digits"]
    
  } else if(word == "finger") {
    synonyms = ["finger", "digit"]
    
  } else if(word == "ran") {
    synonyms = ["ran", "pushed", "moved", "nudged", "shoved"]
    
  } else if(word == "played with") {
    synonyms = ["played with", "felt up", "brushed over", "messed with"]
    
  } else if(word == "petted") {
    synonyms = ["petted", "caressed", "grazed", "stroked", "felt"]
    
  } else if(word == "encouragingly") {
    synonyms = ["encouragingly", "approvingly", "amiably", "heartily", "receptively"]
    
  } else if(word == "gripped") {
    synonyms = ["gripped", "grabbed", "clasped", "latched on to", "took hold of"]
    
  } else if(word == "forcefully") {
    synonyms = ["forcefully", "energetically", "vigorously", "needily", "spiritedly"]
    
  } else if(word == "impatiently") {
    synonyms = ["impatiently", "fervently", "longingly", "ardently", "cravingly", "passionately"]
    
  } else if(word == "pleasure") {
    synonyms = ["pleasure", "lust", "desire", "need", "passion", "arousal", "rapture", "ecstasy"]
    
  } else if(word == "lustful") {
    synonyms = ["wanton", "lustful", "lewd", "carnal", "desirous"]
    
  } else if(word == "moaned") {
    synonyms = ["moaned", "groaned", "whimpered", "mewled", "cried", "gasped"]
    
  } else if(word == "moans") {
    synonyms = ["moans", "groans", "whimpers", "mewls", "cries", "gasps"]
    
  } else if(word == "surged") {
    synonyms = ["surged", "poured", "flooded", "gushed", "flowed"]
    
  } else if(word == "streaming") {
    synonyms = ["streaming", "pouring", "running", "flowing", "gushing"]
    
  } else if(word == "ragged") {
    synonyms = ["ragged", "rough", "erratic", "hurried"]
    
  } else if(word == "breathing") {
    synonyms = ["breathing", "panting", "wheezing", "gasping"]
    
  } else if(word == "beginning") {
    synonyms = ["beginning", "starting"]
    
  } else if(word == "face") {
    synonyms = ["lips", "face", "mouth", "features"]
    
  } else if(word == "signs") {
    synonyms = ["signs", "traces", "hints"]
    
  } else if(word == "before") {
    synonyms = ["before", "in front of", "facing", "opposite of"]
    
  } else if(word == "front") {
    synonyms = ["front", "fore", "anterior"]
    
  } else if(word == "behind") {
    synonyms = ["behind", "the back", "the rear"]
    
  } else if(word == "stared") {
    synonyms = ["stared", "gazed", "looked", "peered", "glanced"]
    
  } else if(word == "captured") {
    synonyms = ["captured", "seized", "caught", "grabbed", "snatched"]
    
  } else if(word == "spicy") {
    synonyms = ["spicy", "tangy", "pungent", "strong", "sharp"]
    
  } else if(word == "smell") {
    synonyms = ["smell", "aroma", "scent", "odor", "incense"]
    
  } else if(word == "breathed it in") {
    synonyms = ["breathed", "sniffed it", "inhaled it", "smelt it"]
    
  } else if(word == "enjoying") {
    synonyms = ["enjoying", "basking in", "reveling in", "relishing in", "savoring"]
    
  } else if(word == "delicious") {
    synonyms = ["delicious", "delightful", "enticing", "heavenly", "pleasant"]
    
  } else if(word == "delighted") {
    synonyms = ["delighted", "charmed", "excited", "enchanted", "pleased", "tickled"]
    
  } else if(word == "wonderful") {
    synonyms = ["wonderful", "divine", "fine", "heavenly", "pleasant"]
    
  } else if(word == "shuddered") {
    synonyms = ["shuddered", "shivered", "trembled", "quivered", "stirred"]
    
  } else if(word == "whiff") {
    synonyms = ["whiff", "hint", "trace", "breath"]
    
  } else if(word == "assaulted") {
    synonyms = ["assaulted", "attacked", "assailed", "struck"]
    
  } else if(word == "musky") {
    synonyms = ["musky", "pungent", "strong", "sharp"]
    
  } else if(word == "beside") {
    synonyms = ["beside", "next to", "close to", "abreast of", "by"]
    
  } else if(word == "huddled up") {
    synonyms = ["huddled up", "nestled up", "cozied up", "settled", "snuggled up"]
    
  } else if(word == "dangled") {
    synonyms = ["dangled", "hung", "lolled", "flopped", "draped"]
    
  } else if(word == "visible") {
    synonyms = ["visible", "exposed", "out in the open", "in full view", "viewable"]
    
  } else if(word == "embraced") {
    synonyms = ["embraced", "held", "hugged", "cuddled", "clasped"]
    
  } else if(word == "embrace") {
    synonyms = ["embrace", "grasp", "hold", "hug", "grip"]
    
  } else if(word == "faced") {
    synonyms = ["faced", "turned towards", "turned to"]
    
  } else if(word == "moved") {
    synonyms = ["moved", "moved over", "moved around", "motioned", "shifted"]
    
  } else if(word == "flexed") {
    synonyms = ["flexed", "arched", "stretched", "moved"]
    
  } else if(word == "see") {
    synonyms = ["see", "examine", "notice", "view", "witness"]
    
  } else if(word == "sight") {
    synonyms = ["sight", "vision", "view"]
    
  } else if(word == "aroused") {
    synonyms = ["aroused", "excited", "enticed", "inflamed", "stimulated", "pleasured"]
    
  } else if(word == "deepened") {
    synonyms = ["deepened", "enhanced", "heightened", "intensified", "strengthened"]
    
  } else if(word == "glued") {
    synonyms = ["glued", "fixed", "enrapt", "anchored", "hitched"]
    
  } else if(word == "watching") {
    synonyms = ["watching", "following", "looking at", "staring at", "checking out"]
    
  } else if(word == "erotic") {
    synonyms = ["erotic", "lewd", "carnal", "sensual", "steamy"]
    
  } else if(word == "lower body") {
    synonyms = ["toes", "thighs", "feet", "legs"]
    
  } else if(word == "dragged") {
    synonyms = ["dragged", "drew", "jerked", "pulled", "tugged"]
    
  } else if(word == "across") {
    synonyms = ["across", "along", "over", "on", "against"]
    
  } else if(word == "slowly") {
    synonyms = ["slowly", "gently", "leisurely", "languidly", "unhurriedly"]
    
  } else if(word == "kissed") {
    synonyms = ["kissed", "pecked", "lipped", "smooched"]
    
  } else if(word == "sucked") {
    synonyms = ["sucked", "suckled", "tongued", "nursed"]
    
  } else if(word == "sucked on") {
    synonyms = ["sucked on", "suckled on", "tongued", "nursed on"]
    
  } else if(word == "mouth") {
    synonyms = ["mouth", "lips"]
    
  } else if(word == "massage") {
    synonyms = ["massage", "knead", "rub", "caress"]
    
  } else if(word == "played") {
    synonyms = ["played", "brushed", "teased", "grazed"]
    
  } else if(word == "closer") {
    synonyms = ["closer", "nearer"]
    
  } else if(word == "reached") {
    synonyms = ["reached", "stretched", "grasped", "extended"]
    
  } else if(word == "around") {
    synonyms = ["around", "about", "round", "over"]
    
  } else if(word == "pubic area") {
    synonyms = ["crotch", "groin", "lap", "loins", "pubic area"]
    
  } else if(word == "pressed") {
    synonyms = ["pressed", "pushed", "pressured", "bumped", "nudged", "squished", "mashed"]
    
  } else if(word == "humped") {
    synonyms = ["thrust", "shoved", "rammed", "plowed", "pumped", "pounded"]
    
  }
  
  word = synonyms.random()
  
  if(capital) {
    word = capitalize(word)
  }
  
  return word
}

window.increaseStage = function(type="stage") {
  if(type == "round") {
    variables().sex.round++
    variables().sex.stage = 1
  } else if(type == "stage") {
    variables().sex.stage++
  }
}

window.getStat = function(type, stat, format="normal") {
  var text
  
  switch(type) {
    case "Stimulation":
      if(stat >= 100) {
        text = "@@color:darkturquoise;Listless@@"
      } else if(stat >= 50) {
        text = "@@color:forestgreen;Euphoric@@"
      } else if(stat >= 15) {
        text = "@@color:greenyellow;Excited@@"
      } else {
        text = "@@color:gray;Calm@@"
      }
      
      break
  }
  
  if(format == "normal") {
    return text
  } else if(format == "bold") {
    return "<b>" + text + "</b>"
  } else if(format == "raw") {
    return extractWord(text)
  }
}

window.modernizeSexSkills = function(character) {
  var oralskill = Math.round((character.sexualskill.oral.kissing + character.sexualskill.oral.fellatio + character.sexualskill.oral.cunnilingus + character.sexualskill.oral.analingus) / 4)
  var manualskill = Math.round((character.sexualskill.manual.masturbation + character.sexualskill.manual.fingering + character.sexualskill.manual.handjob + character.sexualskill.manual.fisting) / 4)
  var mammaryskill = Math.round((character.sexualskill.mammary.breastplay + character.sexualskill.mammary.breastfeeding + character.sexualskill.mammary.intercourse) / 3)
  var vanillaskill = character.sexualskill.intercourse.vaginal
  var analskill = character.sexualskill.intercourse.anal

  if(oralskill > character.stats.oral) {
  	character.stats.oral = oralskill
  }

  if(manualskill > character.stats.manual) {
  	character.stats.manual = manualskill
  }

  if(mammaryskill > character.stats.mammary) {
  	character.stats.mammary = mammaryskill
  }

  if(vanillaskill > character.stats.vanilla) {
  	character.stats.vanilla = vanillaskill
  }

  if(analskill > character.stats.anal) {
  	character.stats.anal = analskill
  }
}

window.increaseDominant = function(slave, num, roll) {
	var multi, dominant, base

	if(roll == 5) {
		multi = 2
	} else if(roll == 4) {
		multi = 1.5
	} else if(roll == 3) {
		multi = 1;
	} else {
		multi = 0
	};

	base = num * (1.1 - (slave.stats.dominant / 100));
	dominant = multi * base;
	slave.stats.dominant = Math.clamp(slave.stats.dominant+dominant, 0, 100);

	updateTitles(slave);
};

window.increaseSubmissive = function(slave, num, roll) {
	var multi, submissive, base

	if(roll == 5) {
		multi = 2
	} else if(roll == 4) {
		multi = 1.5
	} else if(roll == 3) {
		multi = 1;
	} else {
		multi = 0
	};

	base = num * (1.1 - (slave.stats.submissive / 100));
	submissive = multi * base;
	slave.stats.submissive = Math.clamp(slave.stats.submissive+submissive, 0, 100);

	updateTitles(slave);
};

window.increaseStrumpetry = function(slave, num, roll) {
	var multi, strumpetry, base

	if(roll == 5) {
		multi = 2
	} else if(roll == 4) {
		multi = 1.5
	} else if(roll == 3) {
		multi = 1;
	} else {
		multi = 0
	};

	base = num * (1.1 - (slave.stats.strumpetry / 100));
	strumpetry = multi * base;
	slave.stats.strumpetry = Math.clamp(slave.stats.strumpetry+strumpetry, 0, 100);
	slave.stats.femininity = Math.clamp(slave.stats.femininity-1, 0, 100);

	updateTitles(slave);
};

window.increaseMasculinity = function(slave, num, roll) {
	var multi, masculinity, base

	if(roll == 5) {
		multi = 2
	} else if(roll == 4) {
		multi = 1.5
	} else if(roll == 3) {
		multi = 1;
	} else {
		multi = 0
	};

	base = num * (1.1 - (slave.stats.masculinity / 100));
	masculinity = multi * base;
	slave.stats.masculinity = Math.clamp(slave.stats.masculinity+masculinity, 0, 100);
	slave.stats.sissification = Math.clamp(slave.stats.sissification-1, 0, 100);

	updateTitles(slave);
};

window.increaseFemininity = function(slave, num, roll) {
	var multi, femininity, base

	if(roll == 5) {
		multi = 2
	} else if(roll == 4) {
		multi = 1.5
	} else if(roll == 3) {
		multi = 1;
	} else {
		multi = 0
	};

	base = num * (1.1 - (slave.stats.femininity / 100));
	femininity = multi * base;
	slave.stats.femininity = Math.clamp(slave.stats.femininity+femininity, 0, 100);
	slave.stats.strumpetry = Math.clamp(slave.stats.strumpetry-1, 0, 100);

	updateTitles(slave);
};

window.increaseSissification = function(slave, num, roll) {
	var multi, sissification, base

	if(roll == 5) {
		multi = 2
	} else if(roll == 4) {
		multi = 1.5
	} else if(roll == 3) {
		multi = 1;
	} else {
		multi = 0
	};

	base = num * (1.1 - (slave.stats.sissification / 100));
	sissification = multi * base;
	slave.stats.sissification = Math.clamp(slave.stats.sissification+sissification, 0, 100);
	slave.stats.masculinity = Math.clamp(slave.stats.masculinity-1, 0, 100);

	updateTitles(slave);
};

window.increaseDiscipline = function(discipline, character, amount=10, max=100) {
  if(amount > 0) {
    
    if(character.intelligence == 1) {
      amount = amount * 0.5
    } else if(character.intelligence == 2) {
      amount = amount * 0.75
    } else if(character.intelligence == 4) {
      amount = amount * 1.5
    } else if(character.intelligence == 5) {
      amount = amount * 2
    } 
    
    character.stats[discipline] = Math.clamp(character.stats[discipline]+amount, 0, max)
    
    if(discipline == "sissification") {
      character.stats.masculinity = Math.clamp(character.stats.masculinity, 0, 100-character.stats.sissification);
      character.stats.masculinization = Math.clamp(character.stats.masculinization, 0, 100-character.stats.sissification);
    } else if(discipline == "masculinization") {
      character.stats.femininity = Math.clamp(character.stats.femininity, 0, 100-character.stats.masculinization);
      character.stats.sissification = Math.clamp(character.stats.sissification, 0, 100-character.stats.masculinization);
    } else if(discipline == "masculinity") {
      character.stats.masculinity = Math.clamp(character.stats.masculinity, 0, 100-character.stats.sissification);
    } else if(discipline == "femininity") {
      character.stats.femininity = Math.clamp(character.stats.femininity, 0, 100-character.stats.masculinization);
    }
    
    updateTitles(character)
  }
}

window.createSummary = function(character, type) {
  var summary = ""
  
  if(type == "Training" && character.training.trainer) {
    var trainer = getSlave(character.training.trainer)
    
    if(character.training.trainer == "PLAYER") {
      trainer = variables().PC
    }
    
    if(!trainer) {
      character.training = {trainer:null, discipline:null, reward:{}, punishment:{}}
      character.training.reward = {small:null, normal:null, large:null}
      character.training.punishment = {small:null, normal:null, large:null}
      return
      
    }
    
    if(trainer.ID == "PLAYER") {
      summary += "<br><br><b>You trained " + character.name + " this week.</b><br>"
    } else {
      summary += "<br><br><b>" + trainer.name + " trained " + character.name + " this week.</b><br>"
    }
    
    var obedienceRoll = rand(character.obedience.current,100)
    var fearRoll = rand(100 - character.fear.current,50)
    var roll = 0
    var growth = 0
    var development = 0
    var method
    
    if(obedienceRoll >= fearRoll) {
      roll = obedienceRoll
    } else {
      roll = fearRoll
    }
    
    if(roll >= 90) {
      growth = 10
      development = 5
      method = character.training.reward.large
      summary += ["@@color:darkturquoise;" + character.name + " obediently listened to <<print $hisher['" + character.gender + "']>> trainer.@@", "@@color:darkturquoise;" + character.name + " displayed exemplary behaviour while being trained.@@", "@@color:darkturquoise;" + character.name + " made sure to listen and follow all of <<print $hisher['" + character.gender + "']>> trainer's orders.@@", "@@color:darkturquoise;" + character.name + " didn't allow any distractions to prevent <<print $himher['" + character.gender + "']>> from being trained by <<print $hisher['" + character.gender + "']>> trainer.@@", "@@color:darkturquoise;" + character.name + " gave <<print $hisher['" + character.gender + "']>> trainer absolutely no trouble during <<print $hisher['" + character.gender + "']>> training.@@"].random()
      
    } else if(roll >= 70) {
      growth = 7.5
      development = 2.5
      method = character.training.reward.normal
      summary += ["@@color:forestgreen;" + character.name + " was alert for most of <<print $hisher['" + character.gender + "']>> trainer's lessons.@@", "@@color:forestgreen;" + character.name + " was able to absorb most of the information <<print $hisher['" + character.gender + "']>> trainer taught <<print $himher['" + character.gender + "']>>.@@", "@@color:forestgreen;" + character.name + " tried <<print $hisher['" + character.gender + "']>> best to pay attention to <<print $hisher['" + character.gender + "']>> trainer's lessons.@@", "@@color:forestgreen;" + character.name + " was well behaved during <<print $hisher['" + character.gender + "']>> trainer's lessons apart from a few minor incidents.@@", "@@color:forestgreen;" + character.name + " had an easy time following most of <<print $hisher['" + character.gender + "']>> trainer's orders.@@"].random()
      
    } else if(roll >= 50) {
      growth = 5
      development = 1
      method = character.training.reward.small
      summary += ["@@color:greenyellow;" + character.name + " payed some attention to <<print $hisher['" + character.gender + "']>> trainer's lessons.@@", "@@color:greenyellow;" + character.name + " was decently behaved for many of <<print $hisher['" + character.gender + "']>> trainer's lessons.@@", "@@color:greenyellow;" + character.name + " tried to follow all of the orders <<print $hisher['" + character.gender + "']>> trainer gave <<print $himher['" + character.gender + "']>>.@@", "@@color:greenyellow;" + character.name + " continuously attempt to improve <<print $hisher['" + character.gender + "']>> attitude towards <<print $hisher['" + character.gender + "']>> trainer.@@", "@@color:greenyellow;" + character.name + " struggled with <<print $hisher['" + character.gender + "']>> trainer's <<print $hisher['" + character.gender + "']>> orders but <<print $heshe['" + character.gender + "']>> never stopped trying.@@"].random()
      
    } else if(roll >= 30) {
      growth = 2.5
      development = 1
      method = character.training.punishment.small
      summary += ["@@color:yellow;" + character.name + " fell asleep during some of <<print $hisher['" + character.gender + "']>> trainer's lessons.@@", "@@color:yellow;" + character.name + " barely followed along with <<print $hisher['" + character.gender + "']>> trainer's orders.@@", "@@color:yellow;" + character.name + " didn't care for most of <<print $hisher['" + character.gender + "']>> trainer's lessons.@@", "@@color:yellow;" + character.name + " seldom followed any orders <<print $hisher['" + character.gender + "']>> trainer issued.@@", "@@color:yellow;" + character.name + " sometimes completely ignored whatever <<print $hisher['" + character.gender + "']>> trainer was telling <<print $himher['" + character.gender + "']>>.@@"].random()
      
    } else if(roll >= 10) {
      growth = 1
      development = 2.5
      method = character.training.punishment.normal
      summary += ["@@color:orange;" + character.name + " had to be restrained for <<print $himher['" + character.gender + "']>> to listen to <<print $hisher['" + character.gender + "']>> trainer's lessons.@@", "@@color:orange;" + character.name + " tried multiple times to run away from <<print $hisher['" + character.gender + "']>> trainer.@@", "@@color:orange;The words of " + character.name + "'s trainer went through one ear and out the other.@@", "@@color:orange;" + character.name + " showed no interest in any of <<print $hisher['" + character.gender + "']>> trainer's lessons.@@", "@@color:orange;" + character.name + " made a show of completely ignoring <<print $hisher['" + character.gender + "']>> trainer.@@"].random()
      
    } else {
      growth = 0
      development = 5
      method = character.training.punishment.large
      summary += ["@@color:red;" + character.name + " was argumentative with <<print $hisher['" + character.gender + "']>> trainer.@@", "@@color:red;" + character.name + " tried <<print $hisher['" + character.gender + "']>> best to actively ignore <<print $hisher['" + character.gender + "']>> trainer.@@", "@@color:red;" + character.name + " openly defied every order <<print $hisher['" + character.gender + "']>> trainer gave <<print $himher['" + character.gender + "']>>.@@", "@@color:red;" + character.name + " made it no secret <<print $heshe['" + character.gender + "']>> holds strong animosity towards <<print $hisher['" + character.gender + "']>> trainer.@@", "@@color:red;" + character.name + " attempted to attack <<print $hisher['" + character.gender + "']>> trainer multiple times.@@"].random()
      
    }
    
    summary += " "
    
    var studentStat = 0
    var trainerStat = 0
    var training
    var trainingSummary
    var intelligenceSummary
    var trainingProficiency
    var discipline = character.training.discipline.toLowerCase()
    var type
    
    if(character.training.discipline == "Sex Education") {
      if(trainer.stats.manual > character.stats.manual) {
        type = "Manual Sex"
        
      } else if(trainer.stats.oral > character.stats.oral) {
        type = "Oral Sex"
        
      } else if(trainer.stats.mammary > character.stats.mammary) {
        type = "Mammary Sex"
        
      } else if(trainer.stats.vanilla > character.stats.vanilla) {
        type = "Vanilla Sex"
        
      } else if(trainer.stats.anal > character.stats.anal) {
        type = "Anal Sex"
        
      } else {
        type = ["Manual Sex", "Oral Sex", "Mammary Sex", "Vanilla Sex", "Anal Sex"].random()
      }
    } else {
      type = character.training.discipline
    }
    
    switch(type) {
      case "Manual Sex":
        studentStat = character.stats.manual
        trainerStat = trainer.stats.manual
        training = "manual"
        trainingSummary = [character.name + " was lectured on the appropriate amount of pressure and lubrication needed for a manual sex, whether it be handjobs, fingering cunts or fingering assholes.", character.name + " had it explained to <<print $himher['" + character.gender + "']>> how important the stimulating the head of a cock is during a handjob.", character.name + " was made to practice stroking a model cock while making sure not to neglet it's balls in the process.", character.name + "'s trainer spent time instructing <<print $himher['" + character.gender + "']>> how to properly edge someone with a handjob; how to detect when someone is about to cum and how to slow down so its delayed as long as possible.", character.name + " was shown how to prepare <<print $hisher['" + character.gender + "']>> hands for fingering pussy and ass, including things like keeping <<print $hisher['" + character.gender + "']>> nails trimmed and files as well as proper hygiene.", character.name + "'s trainer described how to pleasure a cunt using both a subject's clitoris and labia.", character.name + "'s trainer hammered the importance of safety and cleanliness with the act of fisting during the lesson.", character.name + " had it explained to <<print $himher['" + character.gender + "']>> fisting isn't for everyone, usually requires a lot of lubrication and even then its something worked up to during sexual intercourse.", character.name + " was educated on the more finer details of fisting, how to do it as roughly as possible while remaining safe and how to cater towards more masochistic partners.", character.name + " practiced pleasuring <<print $himselfherself['" + character.gender + "']>> for the visual excitement of <<print $hisher['" + character.gender + "']>> partner and not <<print $hisher['" + character.gender + "']>> own pleasure.", character.name + " had <<print $hisher['" + character.gender + "']>> trainer practice moaning and erotic movement to help <<print $himher['" + character.gender + "']>> enhance <<print $hisher['" + character.gender + "']>> sexual performance while masturbating."].random()
        break
      
      case "Oral Sex":
        studentStat = character.stats.oral
        trainerStat = trainer.stats.oral
        training = "oral"
        trainingSummary = [character.name + " was instructed to lick, suckle and gag on various model genitalia for practice.", character.name + " had to hold <<print $hisher['" + character.gender + "']>> mouth around and to model genitalia for prolonged periods of time to get <<print $himher['" + character.gender + "']>> used to giving oral.", character.name + " was shown the importance of giving proper attention to the whole genital area and not just the genitals themselves.", character.name + "'s trainer stressed the fact good oral isn't finished with an orgasm until <<print $heshe['" + character.gender + "']>> properly cleans the genital area and <<print $himselfherself['" + character.gender + "']>> with <<print $hisher['" + character.gender + "']>> hands, fingers and tongue in an arousing manner.", character.name + "'s lesson had <<print $himher['" + character.gender + "']>> alternating between practicing taking a cock deep in <<print $hisher['" + character.gender + "']>> throat and <<print $hisher['" + character.gender + "']>> trainer thrusting a model cock in and out of <<print $hisher['" + character.gender + "']>> mouth roughly.", character.name + " sensuality while giving oral, particularly cunnilingus, was focused on by having <<print $himher['" + character.gender + "']>> pleasure model genitalia with as little movement as possible.", character.name + "'s endurance was put to the test as <<print $hisher['" + character.gender + "']>> trainer encouraged <<print $himher['" + character.gender + "']>> to pace <<print $himselfherself['" + character.gender + "']>> while <<print $heshe['" + character.gender + "']>> pleasured model genitalia.", character.name + "'s tolerance was thoroughly trained, as <<print $heshe['" + character.gender + "']>> requires a great deal of it to be able to give oral pleasure without gagging on various bodily fluids and smells, especially when it comes to analingus."].random()
        break
      
      case "Mammary Sex":
        studentStat = character.stats.mammary
        trainerStat = trainer.stats.mammary
        training = "mammary"
        trainingSummary = [character.name + "'s teacher harped on the importance of lubrication during any type of mammary sex, as dry skin rubbing against dry skin causes chaffing rather than pleasure.", character.name + " practiced the motions of moving <<print $hisher['" + character.gender + "']>> breasts in a sensual rhythm long enough to bring a partner to orgasm.", character.name + " was shown the various erogenous zones for breasts and how to pleasure them.", character.name + "'s endurance was trained so <<print $heshe['" + character.gender + "']>> would be able to pleasure or give pleasure with breasts long enough to induce an orgasm.", "While oral isn't usually covered while teaching mammary sex " + character.name + "'s believed it important enough to teach <<print $himher['" + character.gender + "']>> how to use <<print $hisher['" + character.gender + "']>> mouth and tongue to pleasure to breasts and how to give pleasure in tandem with them.", "There's more to mammary sex than erogenous zones and pleasure so " + character.name + " was shown how to set a proper mood and mentally excite partners with erotic movement and clothing."].random()
        break
      
      case "Vanilla Sex":
        studentStat = character.stats.vanilla
        trainerStat = trainer.stats.vanilla
        training = "vanilla"
        trainingSummary = [character.name + " practiced being more vocal during sex, creating feedback for partners, adding to the auditory stimulus and making sex a more pleasure experience in general.", character.name + "'s trainer brought <<print $himher['" + character.gender + "']>> to the precipice of climax before letting <<print $himher['" + character.gender + "']>> cool down in an attempt to train <<print $hisher['" + character.gender + "']>> endurance during sex.", character.name + " was shown a variety of different sexual positions, what erogenous zones are pleasured while in them and how to alternate between them in the most easy and sensual manner for <<print $hisher['" + character.gender + "']>> potential partners.", "Sexual intercourse isn't limited genital to genital contact. " + character.name + " practiced sensually touching, kissing and whispering to <<print $hisher['" + character.gender + "']>> trainer.", character.name + " was shown how to sell sex as a complete sexual experience by having <<print $himher['" + character.gender + "']>> practice <<print $hisher['" + character.gender + "']>> vocal performance, including things like how to talk dirty.", character.name + " practiced general sex motions out in the open in order to get used to the idea of having sex anytime and anywhere.", character.name + " took control during sex for <<print $hisher['" + character.gender + "']>> lessons, forcing <<print $himher['" + character.gender + "']>> to be more of an active participant during <<print $hisher['" + character.gender + "']>> intercourse.", character.name + " trained <<print $hisher['" + character.gender + "']>> sexual muscles to help keep <<print $himselfherself['" + character.gender + "']>> firm and to give <<print $himher['" + character.gender + "']>> more control over <<print $hisher['" + character.gender + "']>> genitals.", character.name + " practiced faking <<print $hisher['" + character.gender + "']>> orgasms for <<print $hisher['" + character.gender + "']>> partner's pleasure, even if it means forgoing the chance to reach a genuine orgasm."].random()
        break
      
      case "Anal Sex":
        studentStat = character.stats.anal
        trainerStat = trainer.stats.anal
        training = "anal"
        trainingSummary = [character.name + " was shown how to keep <<print $hisher['" + character.gender + "']>> ass clean enough for anal with the use of enemas.", character.name + "'s trainer explained the importance of lubrication when it comes to anal sex so it can be pleasurable for both parties.", character.name + " practiced using a dildo on <<print $himselfherself['" + character.gender + "']>> to get accustomed to the act.", character.name + " was taught how to tense <<print $hisher['" + character.gender + "']>> ass muscles as to give <<print $hisher['" + character.gender + "']>> partner a more pleasurable experience.", character.name + "'s trainer harped on the importance of anal aftercare and making sure everything is clean after everything is done."].random()
        break
      
      case "Dominance":
        studentStat = character.stats.dominant
        trainerStat = trainer.stats.dominant
        training = "dominant"
        trainingSummary = [character.name + " practiced keeping <<print $hisher['" + character.gender + "']>> voice commanding, confident and controlling at all times.", character.name + "'s trainer corrected any confusion, uncertainty or insecurity from <<print $hisher['" + character.gender + "']>> voice regardless of how <<print $heshe['" + character.gender + "']>> felt at the time.", character.name + " was taught about many different kinds of implements, in what situations they were to be used and how often to use them.", character.name + " was shown how to use various implements and how much strength to put into <<print $hisher['" + character.gender + "']>> strikes with and without the intention of causing scars.", character.name + " built <<print $hisher['" + character.gender + "']>> confidence through practice exercises so <<print $heshe['" + character.gender + "']>> would be in control of sexual situations with a submissive at all times.", character.name + " practiced enforcing <<print $hisher['" + character.gender + "']>> dominance over a subject, leaving them no room to doubt who has control over the situation.", character.name + " trained to be in control of <<print $hisher['" + character.gender + "']>> anger in order to be an effective dominant."].random()
        break
      
      case "Submission":
        studentStat = character.stats.submissive
        trainerStat = trainer.stats.submissive
        training = "submissive"
        trainingSummary = [character.name + " was taught multiple different submissive positions and poses most used by dominant partners.", character.name + " practiced using an array of different positions and poses that display <<print $hisher['" + character.gender + "']>> submission to <<print $hisher['" + character.gender + "']>> more dominant partners.", character.name + " learned how to properly denote <<print $himselfherself['" + character.gender + "']>> and <<print $hisher['" + character.gender + "']>> dominant partners from the submissive roll.", character.name + "'s trainer corrected <<print $hisher['" + character.gender + "']>> speech whenever <<print $heshe['" + character.gender + "']>> wasn't being respectful or when <<print $heshe['" + character.gender + "']>> spoke out of turn as a submissive.", character.name + "  was exposed to the idea of not having any autonomy of <<print $hisher['" + character.gender + "']>> body while in the submissive roll by having <<print $hisher['" + character.gender + "']>> trainer touch <<print $himher['" + character.gender + "']>> without <<print $hisher['" + character.gender + "']>> permission.", character.name + " was lectured on <<print $hisher['" + character.gender + "']>> roll as a submissive when a dominant is around, and the fact <<print $heshe['" + character.gender + "']>> only has as much control as <<print $heshe['" + character.gender + "']>> is given.", character.name + "'s tolerance to pain was was developed by <<print $hisher['" + character.gender + "']>> trainer with the use of various implements.", character.name + "'s mental strength was built upon with several techniques such as meditation and yoga, training <<print $himher['" + character.gender + "']>> to take abuse from others without breaking down."].random()
        break
      
      case "Feminization":
        studentStat = character.stats.sissification
        trainerStat = trainer.stats.sissification
        training = "sissification"
        trainingSummary = [character.name + " was made to repeatedly repeat <<print $hisher['" + character.gender + "']>> ass and mouth are orifices to be used for the pleasure of <<print $hisher['" + character.gender + "']>> partners.", character.name + " played with <<print $hisher['" + character.gender + "']>> ass to get <<print $himher['" + character.gender + "']>> accustomed to playing with and thinking of <<print $hisher['" + character.gender + "']>> ass as an erogenous zone.", character.name + " had to wear a collection of different women's clothing and undergarments to get <<print $himher['" + character.gender + "']>> accustomed to wearing clothes of the opposite sex.", character.name + " was taught how to wear and put on even the most difficult women's clothing and undergarments such as high-heels and corsets.", character.name + " repeated simple statements referring to <<print $himselfherself['" + character.gender + "']>> as a woman in third person. (e.g. " + character.name + " is a pretty girl. She makes sure to be well shaven for <<print $hisher['" + character.gender + "']>> master.)", character.name + " was shown how to keep <<print $hisher['" + character.gender + "']>> body properly shaved like a good sissy slave should.", character.name + "'s posture was on so <<print $heshe['" + character.gender + "']>> would sit, stand and lay down like a proper woman would be expected to.", character.name + " was trained to behave like a proper woman around public company, including removing any vulgar wording from <<print $hisher['" + character.gender + "']>> vocabulary and how to be polite at all times."].random()
        break
      
      case "Masculinity":
        studentStat = character.stats.masculinity
        trainerStat = trainer.stats.masculinity
        training = "masculinity"
        trainingSummary = [character.name + " was taught posture that <<print $himher['" + character.gender + "']>> exude an aura that feels hostile yet calm, confident and powerful.", character.name + " practiced <<print $hisher['" + character.gender + "']>> body language enough to exude an aura of confidence and fearlessness while also appearing natural instead of robotic.", character.name + " was shown how to keep <<print $himselfherself['" + character.gender + "']>> appearance neat and tidy as even masculine must look presentable enough to be a high-class accessory for <<print $hisher['" + character.gender + "']>> partners.", character.name + " practiced exercising efficiently enough to be effective but flashy enough for others to enjoy the show.", character.name + " trained <<print $hisher['" + character.gender + "']>> fighting skills. Masculines are mainly used as sex-toys but are often double as bodyguards.", character.name + "'s sense of mental balance was thoroughly worked out by <<print $hisher['" + character.gender + "']>> trainer putting <<print $himher['" + character.gender + "']>> through strenuous pain.", character.name + " was lectured on the importance of being both mentally physically strong, as a scrawny masculine or a masculine who mentally breaks after only a few weeks of hardened play are undesirable.", character.name + " was made to understand the true meaning of being a masculine. At the core, <<print $heshe['" + character.gender + "']>> needs to be aggressive and dominant but must reign <<print $hisher['" + character.gender + "']>> primal emotions in and temper them for <<print $hisher['" + character.gender + "']>> potential partners.", character.name + "'s trainer corrected <<print $hisher['" + character.gender + "']>> behaviour whenever <<print $heshe['" + character.gender + "']>> wasn't stoic, silent and patient.", character.name + " meditation to bring <<print $hisher['" + character.gender + "']>> mental process and physical body under firmer control."].random()
        break
      
      case "Femininity":
        studentStat = character.stats.femininity
        trainerStat = trainer.stats.femininity
        training = "femininity"
        trainingSummary = [character.name + " was taught proper posture to accentuate <<print $hisher['" + character.gender + "']>> beauty and confidence without exuding an air of aggressiveness or easy availability.", character.name + " practiced feminine mannerisms, enough so to present <<print $himselfherself['" + character.gender + "']>> as a woman with maturity and class.", character.name + " relentlessly practiced <<print $hisher['" + character.gender + "']>> hand movements, tone of voice and gestures to be undoubtedly feminine.", character.name + " practiced <<print $hisher['" + character.gender + "']>> hygiene in a way that makes <<print $himher['" + character.gender + "']>> appear clean, well shaven, smell attractive and overall carry an air of femininity.", character.name + "'s trainer used dance to help <<print $himher['" + character.gender + "']>> learn how to be graceful while also teaching <<print $himher['" + character.gender + "']>> a skill expected of high-class feminines.", character.name + " used <<print $hisher['" + character.gender + "']>> creativity to express <<print $hisher['" + character.gender + "']>> femininity artistically, teaching <<print $himher['" + character.gender + "']>> how to interpret the art of others in a way that relates to <<print $hisher['" + character.gender + "']>> own femininity.", character.name + " used yoga to achieve the inner peace, discipline and control of <<print $hisher['" + character.gender + "']>> mind and body required of a true feminine.", character.name + " was lectured on the importance of empathy and how a true feminine must always be thinking of others, especially <<print $hisher['" + character.gender + "']>> keeper.", character.name + " was made to understand being anything other than the virtue of patience is the antithesis to the idea of being a feminine.", character.name + " was taught <<print $heshe['" + character.gender + "']>> must be confident in <<print $hisher['" + character.gender + "']>> identity as a feminine at all times but must ultimately remember <<print $heshe['" + character.gender + "']>> is nothing but a high-class accessory for <<print $hisher['" + character.gender + "']>> potential partners."].random()
        break
      
      case "Strumpetry":
        studentStat = character.stats.strumpetry
        trainerStat = trainer.stats.strumpetry
        training = "strumpetry"
        trainingSummary = [character.name + " was taught how to display <<print $hisher['" + character.gender + "']>> body in a sexual manner in both public and private to gather as much attention as possible.", character.name + " practiced being nude out in public while openly display <<print $hisher['" + character.gender + "']>> body for the pleasure of others.", character.name + " modeled and wore slutty attire as looking the the part of a whore is an important part of being one.", character.name + " trained <<print $hisher['" + character.gender + "']>> physical stamina. Having a high sexual stamina is one of the few physical requirements for being a well-used slut as <<print $heshe['" + character.gender + "']>> shouldn't get tired or raw after only a few sexual encounters.", character.name + "'s trainer edged <<print $himher['" + character.gender + "']>> multiple times to help <<print $hisher['" + character.gender + "']>> practice having greater control over <<print $hisher['" + character.gender + "']>> orgasms.", character.name + " had to come to terms with the fact that not only is <<print $heshe['" + character.gender + "']>> is being trained to become a slut who enjoys sex no matter the circumstance but <<print $heshe['" + character.gender + "']>> must feel no shame for it either.", character.name + " had multiple sex toys used on <<print $himher['" + character.gender + "']>> over and over to get <<print $himher['" + character.gender + "']>> accustomed to the idea of being a free use slut.", character.name + " was lectured on how to become the aggressor in most, if not all sexual encounters. <<print $HeShe['" + character.gender + "']>> must be confident in <<print $hisher['" + character.gender + "']>> ability to charm people with <<print $hisher['" + character.gender + "']>> sexual wiles."].random()
        break
        
      case "Masculinization":
        studentStat = character.stats.masculinization
        trainerStat = trainer.stats.masculinization
        training = "masculinization"
        trainingSummary = [character.name + " was lectured on how men rank themselves in a hierarchy based on their physical ability, wealth and status.", character.name + " was pushed to try and dominate <<print $hisher['" + character.gender + "']>> trainer, as <<print $heshe['" + character.gender + "']>> will have to do among other men.", character.name + " practiced more masculine vocals by deepening <<print $hisher['" + character.gender + "']>> voice and raising <<print $hisher['" + character.gender + "']>> tone.", character.name + " was made to refer to <<print $himselfherself['" + character.gender + "']>> in third person as a man repeating multiple different phrases.", "In a weird turn of events " + character.name + " practiced arguing with <<print $hisher['" + character.gender + "']>> trainer, emphasizing <<print $hisher['" + character.gender + "']>> ability to be disagreeable.", character.name + " was given numerous physical tasks impossible for <<print $himher['" + character.gender + "']>> to complete but was forced to tackle them with the same amount of confidence <<print $heshe['" + character.gender + "']>> would have if it was an easy task.", character.name + "'s trainer stoked <<print $hisher['" + character.gender + "']>> competitive spirit by promising to grant <<print $himher['" + character.gender + "']>> extra free time if <<print $heshe['" + character.gender + "']>> could beat <<print $hisher['" + character.gender + "']>> own physical records."].random()
        break
        
      case "Chivalry":
        studentStat = character.stats.chivalry
        trainerStat = trainer.stats.chivalry
        training = "chivalry"
        trainingSummary = [character.name + " was trained to show courteous and thoughtful behavior at all times, even during bouts of anger.", character.name + "'s trainer instilled a code of integrity into <<print $himher['" + character.gender + "']>> by forcing <<print $himher['" + character.gender + "']>> to repeat the city's knight code of honor over and over whenever <<print $heshe['" + character.gender + "']>> acted without principle.", character.name + "'s trainer placed <<print $himher['" + character.gender + "']>> in multiple controlled situations which seemed much more dangerous than they were, like getting into a fighting pit with an 'enraged' orc, in order to get <<print $himher['" + character.gender + "']>> to act bravely in the face of danger.", character.name + "'s trainer fostered a readiness to help weak in <<print $himher['" + character.gender + "']>> by having <<print $himher['" + character.gender + "']>> care for the flowers and small animals living around your estate.", character.name + " spent time meditating through sexually stimulating situations while <<print $hisher['" + character.gender + "']>> trainer punished <<print $himher['" + character.gender + "']>> for showing any signs of arousal.", character.name + " was taught to have a strong sense of justice."].random()
        break
        
      case "Cattling":
        studentStat = character.stats.breeding
        trainerStat = trainer.stats.breeding
        training = "breeding"
        trainingSummary = [character.name + " was edged for prolonged periods of time while being shown models of genetalia, training <<print $himher['" + character.gender + "']>> to get aroused upon seeing any genitalia.", character.name + " studied how chattel dynamics play out with various different races to help <<print $himher['" + character.gender + "']>> understand <<print $hisher['" + character.gender + "']>> place in a breeding chattel and how to go through the impregnation process as effectively as possible.", character.name + " practiced various positions and techniques enabling <<print $hisher['" + character.gender + "']>> breeding ability to be used to its fullest.", character.name + " trained <<print $himher['" + character.gender + "']>> sexual stamina by having as many orgasms in timed sex sessions with <<print $hisher['" + character.gender + "']>> trainer.", character.name + "'s trainer lectured <<print $himher['" + character.gender + "']>> on the various different racial breeding pairings, the likelihood of getting pregnant and the possible offspring outcomes.", character.name + "'s trainer helped <<print $himher['" + character.gender + "']>> come to acceptance with <<print $hisher['" + character.gender + "']>> possible role as breeding cattle by explaining all the much worse situations <<print $heshe['" + character.gender + "']>> could be in as a slave.", character.name + " was shown how to properly care for <<print $hisher['" + character.gender + "']>> genitals to ensure <<print $hisher['" + character.gender + "']>> breeding capabilities remain strong."].random()
        break
        
      case "Obedience Training":
        trainingSummary = [character.name + " was made to complete multiple tedious, unimportant tasks over and over again to help build <<print $hisher['" + character.gender + "']>> obedience.", character.name + "'s reminded <<print $hisher['" + character.gender + "']>> position as a slave in your stable, helping to bolster <<print $hisher['" + character.gender + "']>> obedience.", character.name + "practiced meditating for prolonged periods of time, as if <<print $heshe['" + character.gender + "']>> can do nothing for hours on end on your orders, <<print $heshe['" + character.gender + "']>> can follow actual orders without any issue.", character.name + " was physically punished for no reason other than to remind <<print $himher['" + character.gender + "']>> of <<print $hisher['" + character.gender + "']>> position as a slave and the looming threat of punishment if <<print $heshe['" + character.gender + "']>> disobeys.", character.name + " was given a large amount of small tasks and was rewarded whenever <<print $heshe['" + character.gender + "']>> went above and beyond while completing them."].random()
        break
    }
    
    if(character.intelligence == 1) {
      intelligenceSummary = ["@@color:red;<<print $HeShe['" + character.gender + "']>> was too stupid to understand most of the lesson.@@", "@@color:red;<<print $HeShe['" + character.gender + "']>> had an extremely hard time following <<print $hisher['" + character.gender + "']>> trainer.@@", "@@color:red;Barely anything <<print $hisher['" + character.gender + "']>> trainer taught <<print $himher['" + character.gender + "']>> got absorbed by <<print $hisher['" + character.gender + "']>> small brain.@@", "@@color:red;Almost everything taught to <<print $himher['" + character.gender + "']>> left <<print $hisher['" + character.gender + "']>> pea-sized brain the moment the lesson was over.@@", "@@color:red;The information <<print $heshe['" + character.gender + "']>> retained after the lesson was negatively affected by <<print $hisher['" + character.gender + "']>> almost non-existent intelligence.@@"].random()
    } else if(character.intelligence == 2) {
      intelligenceSummary = ["@@color:orange;<<print $HeShe['" + character.gender + "']>> was barely understood some of the lesson.@@", "@@color:orange;<<print $HeShe['" + character.gender + "']>> had trouble following <<print $hisher['" + character.gender + "']>> trainer during the lesson.@@", "@@color:orange;Only some of the information <<print $hisher['" + character.gender + "']>> trainer taught <<print $himher['" + character.gender + "']>> was retained from the lesson.@@", "@@color:orange;<<print $HeShe['" + character.gender + "']>> barely had enough intelligence to understand <<print $hisher['" + character.gender + "']>> trainer's lesson, but not enough to compartmentalize it.", "@@color:orange;<<print $HisHer['" + character.gender + "']>> intelligence hampered <<print $hisher['" + character.gender + "']>> ability to understand <<print $hisher['" + character.gender + "']>> trainer's lesson.@@"].random()
    } else if(character.intelligence == 3) {
      intelligenceSummary = ["@@color:yellow;<<print $HeShe['" + character.gender + "']>> was able to understand <<print $hisher['" + character.gender + "']>> trainer's lesson without issue.@@", "@@color:yellow;Nothing was too complex for <<print $himher['" + character.gender + "']>> to understand.@@", "@@color:yellow;<<print $HeShe['" + character.gender + "']>> was able to retain most of the information taught to <<print $himher['" + character.gender + "']>> during the lesson.@@", "@@color:yellow;<<print $HisHer['" + character.gender + "']>> intelligence made it natural for <<print $himher['" + character.gender + "']>> to understand the lesson.@@", "@@color:yellow;Most of the information <<print $hisher['" + character.gender + "']>> trainer taught <<print $himher['" + character.gender + "']>> was retained from the lesson.@@"].random()
    } else if(character.intelligence == 4) {
      intelligenceSummary = ["@@color:greenyellow;<<print $HeShe['" + character.gender + "']>> was able to understand and extrapolate <<print $hisher['" + character.gender + "']>> trainer's lesson to learn more than <<print $heshe['" + character.gender + "']>> was taught.@@", "@@color:greenyellow;All of the information <<print $hisher['" + character.gender + "']>> trainer taught <<print $himher['" + character.gender + "']>> was retained from the lesson.@@", "@@color:greenyellow;During the lesson <<print $heshe['" + character.gender + "']>> quickly learned and absorbed any information or technique given to <<print $himher['" + character.gender + "']>>.@@", "@@color:greenyellow;There was nothing to complex or complicated in <<print $hisher['" + character.gender + "']>> trainer's lesson for <<print $himher['" + character.gender + "']>> to understand.@@", "@@color:greenyellow;<<print $HeShe['" + character.gender + "']>> had more than enough intelligence to understand and properly compartmentalize <<print $hisher['" + character.gender + "']>> trainer's lesson.@@"].random()
    } else if(character.intelligence == 5) {
      intelligenceSummary = ["@@color:forestgreen;<<print $HeShe['" + character.gender + "']>> was not only able to understand and extrapolate <<print $hisher['" + character.gender + "']>> trainer's lesson to learn more, <<print $heshe['" + character.gender + "']>> gained a strong grasp on the whole discipline.@@", "@@color:forestgreen;<<print $HeShe['" + character.gender + "']>> was able to retain every word, motion and gesture taught to <<print $himher['" + character.gender + "']>> during the lesson.@@", "@@color:forestgreen;<<print $HeShe['" + character.gender + "']>> found the lesson much too easy for <<print $himher['" + character.gender + "']>> to understand as <<print $hisher['" + character.gender + "']>> intelligence is too high for training meant to teach even the most stupid of slaves.@@", "@@color:forestgreen;Any information given or technique taught to <<print $himher['" + character.gender + "']>> during the lesson was immediately learned, sparing the trainer from repeating themself.@@", "@@color:forestgreen;<<print $HisHer['" + character.gender + "']>> intelligence made it abnormally easy for <<print $hisher['" + character.gender + "']>> trainer to teach <<print $himher['" + character.gender + "']>>.@@"].random()
    }
    
    if(trainer.ID == "PLAYER") {
      trainerStat = 100
    }
    
    if (type == "Obedience Training") {
      if(trainer.ID == "PLAYER") {
        summary += character.name + " is being obedience trained. You focused on molding <<print $himher['" + character.gender + "']>> into an obedient slave." 
      } else {
        summary += character.name + " is being obedience trained. " + trainer.name + " focused on molding <<print $himher['" + character.gender + "']>> into an obedient slave." 
      }
      
    } else if(studentStat == 100) {
      summary += character.name + " already knows everything there is to know about " + discipline + ". <<print $HeShe['" + character.gender + "']>> has defaulted to obedience training."
      
      character.training.discipline = "Obedience Training"
      
      if(trainer.ID == "PLAYER") {
        summary += "<<print $HeShe['" + character.gender + "']>> can't learn anything more from you."
      } else {
        summary += "<<print $HeShe['" + character.gender + "']>> can't learn anything more from " + trainer.name + "."
      }
      
    } else if(studentStat < trainerStat) {
      if(trainer.ID == "PLAYER") {
        summary += character.name + " isn't as knowledgeable in " + discipline + " as you are. You focused on teaching <<print $himher['" + character.gender + "']>> new information." 
      } else {
        summary += character.name + " isn't as knowledgeable in " + discipline + " as <<print $hisher['" + character.gender + "']>> trainer. " + trainer.name + " focused on teaching <<print $himher['" + character.gender + "']>> new information." 
      }
      
    } else if(studentStat == trainerStat) {
      if(trainer.ID == "PLAYER") {
        summary += character.name + " has as much knowledge in " + discipline + " as you do. You focused on teaching <<print $himher['" + character.gender + "']>> but <<print $heshe['" + character.gender + "']>> didn't learn anything <<print $heshe['" + character.gender + "']>> didn't already know." 
      } else {
        summary += character.name + " has as much knowledge in " + discipline + " as <<print $hisher['" + character.gender + "']>> trainer. " + trainer.name + " focused on teaching <<print $himher['" + character.gender + "']>> but <<print $heshe['" + character.gender + "']>> didn't learn anything <<print $heshe['" + character.gender + "']>> didn't already know."
      }
      
    } else if(studentStat > trainerStat) {
      if(trainer.ID == "PLAYER") {
        summary += character.name + " has more knowledge in " + discipline + " than you do. You focused on teaching <<print $himher['" + character.gender + "']>> but were woefully unqualified to teach <<print $himher['" + character.gender + "']>> anything <<print $heshe['" + character.gender + "']>> didn't already know."
      } else {
        summary += character.name + " has more knowledge in " + discipline + " than <<print $hisher['" + character.gender + "']>> trainer. " + trainer.name + " focused on teaching <<print $himher['" + character.gender + "']>> but was woefully unqualified to teach <<print $himher['" + character.gender + "']>> anything <<print $heshe['" + character.gender + "']>> didn't already know."
      }
      
    }
    
    if (type == "Obedience Training") {
      summary += " " + trainingSummary
      
    } else if(trainerStat > studentStat && roll >= 10) {
      summary += " " + trainingSummary + " " + intelligenceSummary
      increaseDiscipline(training, character, growth, trainerStat)
    } 
    
    if(roll == obedienceRoll) {
      if(roll >= 50) {
        increaseObedience(character, development)
        increaseTrust(character, development)
        decreaseFear(character, development)
        
      } else {
        character.obedience.base -= development
        character.trust.base -= development
        character.fear.base -= development
        
      }
          
    } else {
      if(roll >= 50) {
        increaseObedience(character, development)
        decreaseTrust(character, development)
        increaseFear(character, development)
        
      } else {
        character.obedience.base -= development
        character.trust.base -= development
        character.fear.base += development
          
      }    
    }
    
    var method
    
    if(roll <= 10) {
      
    }
    
    return summary
  }
}

window.getSlave = function(id, type="character") {
  if(type == "character" && id == "PLAYER") {
    return variables().PC
  } 
  
  for(var p = 1; p <= variables().slaves.amount; p++) {
    var slave = variables().slaves[p]
    
    if(type == "character") {
      if(slave.ID == id) {
        return slave
      }
      
    } else if(type == "number") {
        if(slave.ID == id) {
          return p
        }
    }
    
  }
}

String.prototype.replaceAll = function(search, replacement) {
    var target = this;
    return target.replace(new RegExp(search, 'g'), replacement);
};

window.stringToList = function(string, type) {
  if(type == 1) {
    var list = "[\""
    string = String(string)
    string = string.replaceAll(",", "\", \"")
    list += string
    list += "\"]"
    
  } else if (type == 2) {
    var list = "\""
    string = String(string)
    string = string.replaceAll(",", "\" \"")
    list += string
    list += "\""
    
  }
  return list
}

window.toggleCheat = function(code) {
  var index
  
  if(variables().cheats.includes(code)) {
    index = variables().cheats.indexOf(code);
		variables().cheats.splice(index, 1);
    
  } else {
    variables().cheats.push(code);
      
  }
}

window.updateBrothelPopularity = function(amount) {
  if(variables().estate.brothel.takedowns.local == 0) {
    variables().estate.brothel.popularity.total = Math.clamp(variables().estate.brothel.popularity.total+amount, 0, 25);
  } else if(variables().estate.brothel.takedowns.local == 1) {
    variables().estate.brothel.popularity.total = Math.clamp(variables().estate.brothel.popularity.total+amount, 0, 50);
  } else if(variables().estate.brothel.takedowns.local == 2) {
    variables().estate.brothel.popularity.total = Math.clamp(variables().estate.brothel.popularity.total+amount, 0, 75);
  } else if(variables().estate.brothel.takedowns.local == 3) {
    variables().estate.brothel.popularity.total = Math.clamp(variables().estate.brothel.popularity.total+amount, 0, 100);
  }
}

window.getBrothelScore = function(character) {
  var score = 0
  var workers = 0
  var skill = 0
  var level = 0
  var duty
  
  for(var p = 1; p <= variables().slaves.amount; p++) {
    var slave = variables().slaves[p]
    
    if(slave.location == "brothel" && slave.assignment != "rest" && !(variables().estate.brothel.exceptions.pSoliciting == "Yes" && slave.position == "Procurer") && !(variables().estate.brothel.exceptions.gSoliciting == "Yes" && slave.position == "Guard")) {
      workers++
    }
  }
  
  if(["Closed"].contains(variables().estate.brothel.style)) {
    skill = "attendant"
  } else if(["Theater"].contains(variables().estate.brothel.style)) {
    skill = "host"
  } else {
    skill = "solicitor"
  }
  
  duty = variables().skills.duty[skill]
  
  if(character.skills[skill]) {
    level = character.skills[skill].level
  } else {
    level = 1
  }
  
  if(variables().estate.brothel.levels[duty] == "Min") {
    score = Math.clamp(level, 0, 2)
  } else if(variables().estate.brothel.levels[duty] == "Low") {
    score = Math.clamp(level, 0, 4)
  } else if(variables().estate.brothel.levels[duty] == "Normal") {
    score = Math.clamp(level, 0, 6)
  } else if(variables().estate.brothel.levels[duty] == "High") {
    score = Math.clamp(level, 0, 8)
  } else if(variables().estate.brothel.levels[duty] == "Max") {
    score = Math.clamp(level, 0, 10)
  }
  
  score = (score * 6) / workers
  return score
}

window.getGuardScore = function(character) {
  var score = 0
  var protectees = 0
  var level = character.skills['guard'].level
  var capacity = variables().estate.brothel.levels.guarding
  var num = 0
  
  for(var p = 1; p <= variables().slaves.amount; p++) {
    var slave =  variables().slaves[p]
    if(slave.location == "brothel" && slave.assignment != "rest" && !(variables().estate.brothel.exceptions.pSoliciting == "Yes" && slave.position == "Procurer") && !(variables().estate.brothel.exceptions.gSoliciting == "Yes" && slave.position == "Guard")) {
      protectees++
    }
  }
  
  if(capacity == "Min") {
    num = Math.clamp(level, 0, 2)
  } else if(capacity == "Low") {
    num = Math.clamp(level, 0, 4)
  } else if(capacity == "Normal" || !capacity) {
    num = Math.clamp(level, 0, 6)
  } else if(capacity == "High") {
    num = Math.clamp(level, 0, 8)
  } else if(capacity == "Max") {
    num = Math.clamp(level, 0, 10)
  } 
  
  score = (num * 10) / (protectees / 4)
  score = Math.clamp(score, 0, 100)
  
  return Math.round(score)
}

window.getProcurerScore = function(character) {
  var score = 0
  var protectees = 0
  var level = character.skills['manager'].level
  
  score = Math.clamp(level * 10, 0, 100)
  
  return Math.round(score)
}

window.summarySwitch = function(input) {
  if(input == 0) {
    return 1
  } else {
    return 0
  }
}

window.createReport = function(residence, scoreA, scoreB) {
  if(residence == "Brothel") {
    var brothelscore = scoreA
    var guardscore = scoreB
    
    variables().estate.brothel.report.text = "This week $estate.brothel.name served <b>$totalcustomers</b> customers, earning you a total of @@color:lightgreen;¤<<print commify($brothelearnings)>>@@.<br><br>"
    
    if(brothelscore < 25) {
      variables().estate.brothel.report.text += "<b>@@color:red;Business was terrible for $estate.brothel.name this week! Your brothel's popularity has dropped greatly.@@</b><br> The brothel had barely any business and the customers you did have didn't seem too happy about the service they received. You'll have to do a lot to do if you want to make this brothel even remotely popular, or else it will be doomed to remain in its current state. Try increasing catering to your brothel's style and training up your brothel slaves so you can stop bleeding customers due to running a poor business."
      
    } else if(brothelscore < 50) {
      variables().estate.brothel.report.text += "<b>@@color:orange;Business was bad for $estate.brothel.name this week! Your brothel's popularity has dropped.@@</b><br> The brothel had a little bit of business, but no where near enough to be profitably and popular. Most of the customers that visited during the week probably won't come back and the ones that do are unsavory types that may cause your 'merchandise' more harm than they can reasonably pay for. Try increasing catering to your brothel's style and training up your brothel slaves so you can keep a stable amount of customers instead of losing some."
      
    } else if(brothelscore < 75) {
      variables().estate.brothel.report.text += "<b>@@color:yellow;Business was decent for $estate.brothel.name this week! Your brothel's popularity has remained stable.@@</b><br> The brothel had some business and the customers seemed content with the service provided. It was nothing to write home about for most, but good enough to turn some of them into repeat customers. Your brothel can't be considered 'bad', but its still a ways away from being considered 'good'. Try increasing catering to your brothel's style and training up your brothel slaves so you can increase business for your brothel."
      
    } else if(brothelscore < 100) {
      variables().estate.brothel.report.text += "<b>@@color:greenyellow;Business was good for $estate.brothel.name this week! Your brothel's popularity has increased.@@</b><br> Customers are happy with the service they receive and sometimes recommend the brothel or one of its slaves to their friends. If you keep this up it will only be a matter of time before your brothel reaches its maximum popularity, allowing you to maximize the amount of profit you can get from running this business. Making sure all of your brothel slaves cater to the brothel's style and using only well trained whores will help you push your brothel to its maximum potential."
      
    } else if(brothelscore == 100) {
      variables().estate.brothel.report.text += "<b>@@color:forestgreen;Business was booming for $estate.brothel.name this week! Your brothel's popularity has increased greatly.@@</b><br> The customers are extremely happy with service, business is frequent from the time the brothel opens until it closes and there are no shortage of people telling you they have been recommended to your business by someone they know. There isn't much you can do to improve business but if you can keep up your current management of the brothel, it will never fail to garner a large number of customers."
      
    }
    
    variables().estate.brothel.report.text += "<br><br>"
    
    if(guardscore < 25) {
      variables().estate.brothel.report.text += "<b>@@color:red;$estate.brothel.name was engulfed in pure chaos during the week! Your brothel's expenses were increased greatly.@@</b><br> Whether the guards were incompetent or completely understaffed, there was no authority from them at all. Customers did as they pleased, trashing the brothel and mistreating your prostitutes. If things aren't fixed quickly, your brothel expenses could get out of hand if they already aren't. You need to make sure you have at least one guard for every four slaves you have actively working."
      
    } else if(guardscore < 50) {
      variables().estate.brothel.report.text += "<b>@@color:orange;There was barely any order in $estate.brothel.name during the week! Your brothel's expenses were increased.@@</b><br> The guards currently assigned to the brothel were no where near talented enough to keep control of the customers frequenting your brothel. The brothel's expenses were increased due to the large amount of incidents. You will have to add more guards, lower the amount of slaves working in the brothel or train your guards up more if you want to minimize the amount of expenses you pay. Make sure your guards a competent at their job, as it greatly affects how well they can prevent extra brothel expenses."
      
    } else if(guardscore < 75) {
      variables().estate.brothel.report.text += "<b>@@color:yellow;$estate.brothel.name was orderly but there was still incidents during the week! Your brothel's expenses were normal for a brothel of its size.@@</b><br> Your guards were able to get a decent enough grasp on keeping the brothel businesslike, preventing the expenses from raising anymore than they need to be. Although there were still quite a few incidents, those were accounted for in the usual budget. Maximize the amount of guards you have working (at least one for every four whores) and make sure they are experienced."
      
    } else if(guardscore < 100) {
      variables().estate.brothel.report.text += "<b>@@color:greenyellow;$estate.brothel.name was mostly calm during the week aside from a few issues! Your brothel's expenses were cut in half.@@</b><br> The brothel's slaves were able to work without getting accosted and customers were able to get service without worrying about any issues from other customers due to the guards great work. There were barely any brothel expenses other than what was absolutely required to run a brothel, increasing the net profit you made this week. Using the most skilled guards will ensure you won't have to pay any brothel expenses in the future."
      
    } else if(guardscore == 100) {
      variables().estate.brothel.report.text += "<b>@@color:forestgreen;$estate.brothel.name had absolutely no incidents this week! Your brothel's expenses were completely eliminated.@@</b><br> The guards did an immaculate job of keeping the brothel orderly and well-maintained. Disruptions means losing out on service time for customers and possibly being physically abused more than required for brothel slaves. All extra brothel expenses other than operating costs were completely eliminated."
      
    }
    
  } else if(residence == "Ranch") {
    variables().estate.ranch.report.text = "This week $estate.ranch.name produced <b>$totallitres</b> litres of slave produce, earning you a total of @@color:lightgreen;¤<<print commify($ranchearnings)>>.@@"
    
  }
}

window.addSlave = function(slave, price) {
  if(price) {
    variables().PC.money -= Math.round10(price)
  }
  
  addRacePage(slave)
  addNaturePage(slave)
  addTitle(slave, "Slave")
  variables().slaves.amount++
  variables().estate.pop++
  variables().slaves[variables().slaves.amount] = slave
  
}

window.getSuccessRate = function(event, a, b) {
  var sr = 0
  var multi = 0
  if(event == "Preparation") {
    var brothel = a
    sr = b
    multi = 2.5 * (brothel.research.total / 6)
    
    if(brothel.preparation.scope == "Moderate") {
      multi *= 1.5
    } else if(brothel.preparation.scope == "Expensive") {
      multi *= 2
    }
    
    return Math.round(sr * multi)
  }
}

window.amendString = function(string) {
  return string.replace(/['".*+?^${}()|[\]\\]/g, '\\$&')
}

window.nameGenerator = function(type) {
  var name
  var part1
  var part2
  
  if(type == "Brothel") {
    part1 = ["Rusty", "Golden", "Deep", "Lusty", "Rose", "Dark", "Massive", "Hidden", "Steamy", "Sultry", "Wild", "Sleazy", "Crowing", "Open", "Velvet", "Courtesan's", "Voluptuous", "Nasty", "Naughty", "Honey", "Forbidden", "Blushing", "Scarlet", "Pining", "Innocent", "Elegant", "Loving"].random()
    part2 = ["Knob", "Hole", "Palace", "Lantern", "House", "Pearl", "Post", "Bordello", "Whorehouse", "Brothel", "Maiden", "Inn", "Purse", "Cutlass", "Gazelle"].random()
    name = "The " + part1 + " " + part2
  }
  
  return name
}

window.haveCock = function(slave) {
  if(slave.cock.current >= 1 && slave.girth.current >= 1) {
    return 1
  } else {
    return 0
  }
}

window.havePussy = function(slave) {
  if(slave.pussy.current >= 1) {
    return 1
  } else {
    return 0
  }
}

window.increaseSkillLvl = function(skill, slave, exp, capacity=null) {
  if(slave.mood.scale == "Sanity" && slave.mood.current < 25) {
    slave.summary += "@@color:red;" + slave.name + " is mindbroken and cannot learn or level up the <b><<print capitalize('" + skill + "')>></b> skill!@@"
		return
  }
    
  if(!slave.skills[skill]) {
    slave.skills[skill] = {level:0, exp:0}
    slave.skills.length++
  } else if(slave.skills[skill].level == 10) {
    return
  }
  
  var multi = 0
  if(capacity == "Min") {
    multi = 1/3
  } else if(capacity == "Low") {
    multi = 2/3
  } else if(capacity == "Normal" || !capacity) {
    multi = 3/3
  } else if(capacity == "High") {
    multi = 4/3
  } else if(capacity == "Max") {
    multi = 5/3
  } 
  
  slave.skills[skill].exp += exp * multi
  var oldlevel = slave.skills[skill].level
  var tnl = variables().skills.exp[slave.skills[skill].level]
  while(slave.skills[skill].exp >= tnl) {
    slave.skills[skill].exp = slave.skills[skill].exp - tnl
    slave.skills[skill].level++
    tnl = variables().skills.exp[slave.skills[skill].level]
  }
  
  if(slave.skills[skill].level != oldlevel) {
    if(oldlevel == 0) {
      if(slave.ID != "PLAYER") {
        slave.summary += "@@color:forestgreen;" + slave.name + " learned the <b><<print capitalize('" + skill + "')>> <<print romanize(" + slave.skills[skill].level + ")>></b> skill!@@"
      } else {
        slave.summary += "@@color:forestgreen;You learned the <b><<print capitalize('" + skill + "')>> <<print romanize(" + slave.skills[skill].level + ")>></b> skill!@@"
      }
    } else {
      if(slave.ID != "PLAYER") {
        slave.summary += "@@color:forestgreen;<b><<print capitalize('" + skill + "')>> <<print romanize(" + oldlevel + ")>></b> has leveled up to <b><<print capitalize('" + skill + "')>> <<print romanize(" + slave.skills[skill].level + ")>></b>!@@"
      } else {
        slave.summary += "@@color:forestgreen;<b><<print capitalize('" + skill + "')>> <<print romanize(" + oldlevel + ")>></b> has leveled up to <b><<print capitalize('" + skill + "')>> <<print romanize(" + slave.skills[skill].level + ")>></b>!@@"
      }
    }
  }
}

window.addEvent = function(slave, log) {
  slave.eventlog.push(log)
}

window.romanize = function(num) {
    if (isNaN(num))
        return NaN;
    var digits = String(+num).split(""),
        key = ["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM",
               "","X","XX","XXX","XL","L","LX","LXX","LXXX","XC",
               "","I","II","III","IV","V","VI","VII","VIII","IX"],
        roman = "",
        i = 3;
    while (i--)
        roman = (key[+digits.pop() + (i * 10)] || "") + roman;
    return Array(+digits.join("") + 1).join("M") + roman;
}

window.addHistory = function(slave, title, history) {
  if(!slave.history.length) {
    slave.history.push("<b>" + title + "</b><br> " + history)
  } else {
    slave.history.push("<br><b>" + title + "</b><br> " + history)
  }
  
}

window.addRacePage = function(slave) {
  if(!variables().compendium.races.contains(slave.tribe)) {
    variables().compendium.races.push(slave.tribe)
    variables().compendium.races.sort()
    
    variables().updates.compendium += "<b>@@color:forestgreen;[Race]@@</b> The <<race '" + slave.tribe + "'>> race page has been added to the compendium. <br>"
  }
}

window.addNaturePage = function(character) {
  if(!variables().compendium.natures.contains(character.nature)) {
    variables().compendium.natures.push(character.nature)
    variables().compendium.natures.sort()
    
    variables().updates.compendium += "<b>@@color:forestgreen;[Nature]@@</b> The <b>@@color:gray;" + capitalize(character.nature) + "@@</b> nature page has been added to the compendium. <br>"
  }
}

window.addCheatPage = function(code) {
  if(!variables().compendium.codes.contains(code)) {
    variables().compendium.codes.push(code)
    variables().compendium.codes.sort()
    
    variables().updates.compendium += "<b>@@color:forestgreen;[Code]@@</b> The <b>@@color:mediumslateblue;" + code + "@@</b> code page has been added to the compendium. <br>"
  }
}

window.purchaseRunes = function(ragdoll, slave, cost) {
  slave.bust.supplement = ragdoll.bust - slave.bust.base
  slave.lips.supplement = ragdoll.lips - slave.lips.base
  slave.shoulders.supplement = ragdoll.shoulders - slave.shoulders.base
  slave.hips.supplement = ragdoll.hips - slave.hips.base
  slave.torso.supplement = ragdoll.torso - slave.torso.base
  slave.legs.supplement = ragdoll.legs - slave.legs.base
  slave.butt.supplement = ragdoll.butt - slave.butt.base
  slave.cock.supplement = ragdoll.cock - slave.cock.base
  slave.girth.supplement = ragdoll.girth - slave.girth.base
  slave.balls.supplement = ragdoll.balls - slave.balls.base
  slave.pussy.supplement = ragdoll.pussy - slave.pussy.base
  slave.clit.supplement = ragdoll.clit - slave.clit.base
  slave.sex = ragdoll.sex
  
  if(slave.tribe == "minotaur" && ["female", "futanari"].contains(slave.sex)) {
    slave.tribe = "holstaur"
    
  } else if(slave.tribe == "holstaur" && ["male", "shemale"].contains(slave.sex)) {
    slave.tribe = "minotaur"
  }
  
  variables().PC.money -= cost.total
}

window.setRagdoll = function(ragdoll, slave) {
  ragdoll.beauty = slave.beauty
  ragdoll.bust = slave.bust.base + slave.bust.supplement
  ragdoll.lips = slave.lips.base + slave.lips.supplement
  ragdoll.shoulders = slave.shoulders.base + slave.shoulders.supplement
  ragdoll.hips = slave.hips.base + slave.hips.supplement
  ragdoll.torso = slave.torso.base + slave.torso.supplement
  ragdoll.legs = slave.legs.base + slave.legs.supplement
  ragdoll.butt = slave.butt.base + slave.butt.supplement
  ragdoll.cock = slave.cock.base + slave.cock.supplement
  ragdoll.girth = slave.girth.base + slave.girth.supplement
  ragdoll.balls = slave.balls.base + slave.balls.supplement
  ragdoll.pussy = slave.pussy.base + slave.pussy.supplement
  ragdoll.clit = slave.clit.base + slave.clit.supplement
  ragdoll.sex = slave.sex
  ragdoll.oldsex = slave.sex
  ragdoll.ID = slave.ID
  ragdoll.tribe = slave.tribe
}

window.getCost = function(type, ragdoll, slave, change) {
  var supplement = 0
  var base = 0
  var cost = 0
  
  if(type == "cock") {
    supplement = ragdoll.cock - slave.cock.base
    base = slave.cock.supplement
  } else if(type == "girth") {
    supplement = ragdoll.girth - slave.girth.base
    base = slave.girth.supplement
  } else if(type == "balls") {
    supplement = ragdoll.balls - slave.balls.base
    base = slave.balls.supplement
  } else if(type == "bust") {
    supplement = ragdoll.bust - slave.bust.base
    base = slave.bust.supplement
  } else if(type == "lips") {
    supplement = ragdoll.lips - slave.lips.base
    base = slave.lips.supplement
  } else if(type == "shoulders") {
    supplement = ragdoll.shoulders - slave.shoulders.base
    base = slave.shoulders.supplement
  } else if(type == "hips") {
    supplement = ragdoll.hips - slave.hips.base
    base = slave.hips.supplement
  } else if(type == "torso") {
    supplement = ragdoll.torso - slave.torso.base
    base = slave.torso.supplement
  } else if(type == "legs") {
    supplement = ragdoll.legs - slave.legs.base
    base = slave.legs.supplement
  } else if(type == "butt") {
    supplement = ragdoll.butt - slave.butt.base
    base = slave.butt.supplement
  } else if(type == "clit") {
    supplement = ragdoll.clit - slave.clit.base
    base = slave.clit.supplement
  } else if(type == "pussy") {
    supplement = ragdoll.pussy - slave.pussy.base
    base = slave.pussy.supplement
  }
  
  if(change == "add") {
    if(supplement >= 0) {
      supplement++
    } 
  } else if(change == "sub") {
    if(supplement <= 0) {
      supplement--
    }
  }
  
  if(supplement >= 0) {
    cost = (2 ** supplement * 6250) - 6250
  } else {
    cost = 5000
  }
  
  if(base > 0 && base >= supplement) {
    if(change == "add") {
      return cost * -1
    } else if(change == "sub") {
      return cost * -1
    }
  }

  if(supplement >= base) {
    if(change == "add") {
      return cost
    } else if(change == "sub") {
      return cost
    }
    
  } else if(supplement < base) {
    if(change == "add") {
      return cost * -1
    } else if(change == "sub") {
      return cost * -1
    }
  }
  
}

window.runeCost = function(cost, ragdoll, slave) {
  cost.base = cost.sex + cost.cock + cost.girth + cost.balls + cost.bust + cost.pussy + cost.clit + cost.lips + cost.shoulders + cost.hips + cost.torso + cost.legs + cost.butt
  cost.total = cost.base * slave.rarity
}

window.generateSex = function(slave) {
  var roll = rand(1,100)
    
  if(roll > 98) {
    slave.sex = "futanari"
    slave.gender = ["male", "female"].random()
    
  } else if(roll > 94) {
    slave.sex = "shemale"
    slave.gender = ["male", "female"].random()
    
  } else {
    slave.sex = ["male", "female"].random()
    slave.gender = slave.sex
  }
  
  if(["goblin"].contains(slave.tribe) && ["female", "futanari"].contains(slave.sex)) {
    if(slave.sex == "futanari") {
      slave.sex = "shemale"
      slave.gender = "male"
      
    } else {
      slave.sex = "male"
      slave.gender = "male"
      
    }
    
  } else if(["holstaur"].contains(slave.tribe) && ["male", "shemale"].contains(slave.sex)) {
    slave.tribe = "minotaur"
    slave.gender = "male"
    
  } else if(["minotaur"].contains(slave.tribe) && ["female", "futanari"].contains(slave.sex)) {
    slave.tribe = "holstaur"
    slave.gender = "female"
    
  }
    
}

window.generateTraits = function(slave) {
  var traits = rand(3,6)
  var trait
  var roll
  
  for(var i = 0; i < traits; i++) {
    roll = weightedRand({1:0.7, 2:0.21, 3:0.08, 4:0.01})
    
    if(roll == 1) {
      trait = variables().traits.common[Math.floor(Math.random()*variables().traits.common.length)];
      
    } else if(roll == 2) {
      trait = variables().traits.uncommon[Math.floor(Math.random()*variables().traits.uncommon.length)];
      
    } else if(roll == 3) {
      trait = variables().traits.unique[Math.floor(Math.random()*variables().traits.unique.length)];
      
    } else if(roll == 4) {
      trait = variables().traits.rare[Math.floor(Math.random()*variables().traits.rare.length)];
      
    }
    
    if(!slave.traits.list.includes(trait) && trait) {
      slave.traits.list.push(trait)
    }
  }
}

window.checkVirginity = function(slave, type, roll, format="basic") {
	var virgin = ["virginity", "Male Sex", "Female Sex", "Futa Sex"]
	var analvirgin = ["anal virginity", "Anal Sex", "Pegged", "Anal Training"]
	var formatting
  var typetitle
  var text
	
	if(virgin.includes(type)) {
		type = "virginity"
    typetitle = "Virginity"
	} else if(analvirgin.includes(type)) {
		type = "anal virginity"
    typetitle = "Anal Virginity"
	} else {
		return
	}
	
	if(type == "virginity" && !slave.virgin) {
		return
		
	} else if(type == "anal virginity" && !slave.analvirgin) {
		return
		
	} else if(slave.ID == 0 && type == "virginity") {
		slave.virgin = 0
		return "<b><br>@@color:forestgreen;You have lost your " + type + ".@@</b>"
		
	} else if(slave.ID == 0 && type == "anal virginity") {
		slave.analvirgin = 0
		return "<b><br>@@color:forestgreen;You have lost your " + type + ".@@</b>"
		
	} else if(type == "virginity") {
		slave.virgin = 0
		
	} else if(type == "anal virginity") {
		slave.analvirgin = 0
		
	}
	
	if(roll) {
		if(roll == 5) {
			roll = 3
		} else if(roll == 4) {
			roll = 2
		} else if(roll == 3) {
			roll = 1
		} 
		
	} else {
		if(slave.obedience.current >= 60) {
			roll = 3
		} else if(slave.obedience.current < 60) {
			roll = 2
		} else if(slave.obedience.current < 40) {
			roll = 1
		} 
		
	}
	
	if(format == "basic") {
		formatting = "<br>"
		
	} else if(format == "training") {
		formatting = "<br><br>"

	}
	
	if(roll == 1) {
		if(slave.nature == "dandere") {
			decreaseMood(slave, "Anxiety", 20)
		} else if(slave.nature == "kuudere" || slave.nature == "tsundere") {
			decreaseMood(slave, "Serenity", 20)
		} else if(slave.nature == "himedere") {
			decreaseMood(slave, "Happiness", 20)
		}
    
    
    addHistory(slave, "@@color:red;[Week " + variables().weekcount + "] " + typetitle + "@@", slave.name + " had <<print $hisher['" + slave.gender + "']>> " + type + " forcefully stolen from <<print $himher['" + slave.gender + "']>>, causing <<print $himher['" + slave.gender + "']>> a lot of long term trauma.")
		
		text = "<b>" + formatting + "@@color:red;" + slave.name + " has had <<print $hisher['" + slave.gender + "']>> " + type + " forcefully stolen from <<print $himher['" + slave.gender + "']>>, negatively affecting <<print $hisher['" + slave.gender + "']>> mood.@@</b>"
		
	} else if(roll == 2) {
		if(slave.nature == "dandere") {
			decreaseMood(slave, "Anxiety")
		} else if(slave.nature == "kuudere" || slave.nature == "tsundere") {
			decreaseMood(slave, "Serenity")
		} else if(slave.nature == "himedere") {
			decreaseMood(slave, "Happiness")
		}
    
    addHistory(slave, "@@color:orange;[Week " + variables().weekcount + "] " + typetitle + "@@", slave.name + " reluctantly allowed <<print $hisher['" + slave.gender + "']>> " + type + " to be taken without the use of force. While <<print $heshe['" + slave.gender + "']>> was not raped, <<print $hisher['" + slave.gender + "']>> conflicted feelings have impacted <<print $himher['" + slave.gender + "']>> negatively.")
		
		text = "<b>" + formatting + "@@color:orange;" + slave.name + " has reluctantly allowed <<print $hisher['" + slave.gender + "']>> " + type + " to be taken without the use of force. While <<print $heshe['" + slave.gender + "']>> was not raped, <<print $hisher['" + slave.gender + "']>> conflicted feelings have impacted <<print $hisher['" + slave.gender + "']>> mood negatively.@@</b>"
		
	} else if(roll == 3) {
		if(slave.nature == "dandere") {
			increaseMood(slave, "Anxiety", 20)
		} else if(slave.nature == "kuudere" || slave.nature == "tsundere") {
			increaseMood(slave, "Serenity", 20)
		} else if(slave.nature == "himedere") {
			increaseMood(slave, "Happiness", 20)
		}
    
    addHistory(slave, "@@color:forestgreen;[Week " + variables().weekcount + "] " + typetitle + "@@", slave.name + " willingly gave up <<print $hisher['" + slave.gender + "']>> " + type + ". <<print $HeShe['" + slave.gender + "']>> was happy <<print $heshe['" + slave.gender + "']>> was able to have a pleasurable and gentle first experience despite being a slave.")
		
		text = "<b>" + formatting + "@@color:forestgreen;" + slave.name + " has willingly given up <<print $hisher['" + slave.gender + "']>> " + type + ". <<print $HeShe['" + slave.gender + "']>> is happy that <<print $heshe['" + slave.gender + "']>> was able to have a pleasurable and gentle first experience despite being a slave.@@</b>"
	}
  
  if(type == "virginity" && ["holstaur"].contains(slave.tribe) && !slave.lactating.permanent) {
    slave.lactating.permanent = 1
    text += "<br><br><b>@@color:forestgreen;" + slave.name + " has begun lactating due to losing <<print $hisher['" + slave.gender + "']>> virginity!@@</b>"
  }
  
  if(type == "virginity" && ["elf"].contains(slave.race) && !slave.nectaring.permanent) {
    slave.nectaring.permanent = 1
    text += "<br><br><b>@@color:forestgreen;" + slave.name + " has begun nectaring due to losing <<print $hisher['" + slave.gender + "']>> virginity!@@</b>"
  }
	
  return text
	
}

window.decayMood = function(slave) {
	var valueAverage = (slave.obedience.base + slave.trust.base + (100 - slave.fear.base)) / 3
	var week
	var roll = rand(0, 100)
	var mood = {old:null, new:null, week:null, choices:null, result:null}
	
	if(valueAverage < 25) {
		week = weightedRand({1:0.05, 2:0.1, 3:0.35, 4:0.5})
		
	} else if(valueAverage < 50) {
		week = weightedRand({1:0.1, 2:0.2, 3:0.35, 4:0.35})
		
	} else if(valueAverage < 75) {
		week = weightedRand({1:0.35, 2:0.35, 3:0.20, 4:0.1})
		
	} else if(valueAverage < 100) {
		week = weightedRand({1:0.5, 2:0.35, 3:0.1, 4:0.05})
		
	} else if(valueAverage == 100) {
		week = weightedRand({1:0.75, 2:0.2, 3:0.05, 4:0})
		
	}
	
	if(slave.nature == "dandere") {
		mood.choices = ["Happiness", "Anxiety"]
		mood.week = mood.choices[Math.floor(Math.random() * mood.choices.length)]
		
	} else if(slave.nature == "tsundere") {
		mood.choices = ["Happiness", "Serenity"]
		mood.week = mood.choices[Math.floor(Math.random() * mood.choices.length)]
		
	} else if(slave.nature == "kuudere") {
		mood.choices = ["Serenity", "Anxiety"]
		mood.week = mood.choices[Math.floor(Math.random() * mood.choices.length)]
		
	} else if(slave.nature == "himedere") {
		mood.choices = ["Happiness", "Serenity", "Anxiety"]
		mood.week = mood.choices[Math.floor(Math.random() * mood.choices.length)]
		
	}
	
	if(week == 1) {
		mood.old = getMood(slave)
		increaseMood(slave, mood.week, 10)
		mood.new = getMood(slave)
		mood.result = "<br>@@color:forestgreen;" + slave.name + "'s week has gone very well for <<print $himher['" + slave.gender + "']>>, changing <<print $hisher['" + slave.gender + "']>> mood from @@''" + mood.old + "'' @@color:forestgreen;to@@ ''" + mood.new + "''@@color:forestgreen;.@@"
		
	} else if(week == 2) {
		mood.old = getMood(slave)
		increaseMood(slave, mood.week, 5)
		mood.new = getMood(slave)
		mood.result = "<br>@@color:greenyellow;" + slave.name + "'s week has gone well for <<print $himher['" + slave.gender + "']>>, changing <<print $hisher['" + slave.gender + "']>> mood from @@''" + mood.old + "'' @@color:greenyellow;to@@ ''" + mood.new + "''@@color:greenyellow;.@@"
		
	} else if(week == 3) {
		mood.old = getMood(slave)
		decreaseMood(slave, mood.week, 5)
		mood.new = getMood(slave)
		mood.result = "<br>@@color:orange;" + slave.name + "'s week has gone badly for <<print $himher['" + slave.gender + "']>>, changing <<print $hisher['" + slave.gender + "']>> mood from @@''" + mood.old + "'' @@color:orange;to@@ ''" + mood.new + "''@@color:orange;.@@"
		
	} else if(week == 4) {
		mood.old = getMood(slave)
		decreaseMood(slave, mood.week, 10)
		mood.new = getMood(slave)
		mood.result = "<br>@@color:red;" + slave.name + "'s week has gone very badly for <<print $himher['" + slave.gender + "']>>, changing <<print $hisher['" + slave.gender + "']>> mood from @@''" + mood.old + "'' @@color:red;to@@ ''" + mood.new + "''@@color:red;.@@"
		
	}
	
	if(mood.old != mood.new) {
		slave.summary += mood.result
	}
	
}

window.updateMood = function(slave) {
	slave.obedience.mood = 0
	slave.trust.mood = 0
	slave.fear.mood = 0
	
	if(slave.mood.scale == "Happiness") {
		if(slave.mood.current >= 100) {
			slave.obedience.mood = 40
			slave.fear.mood = -20
			
		} else if(slave.mood.current >= 75) {
			slave.obedience.mood = 20
			
		} else if(slave.mood.current < 25) {
			slave.obedience.mood = -40
			slave.fear.mood = 20
			
		} else if(slave.mood.current < 50) {
			slave.obedience.mood = -20
			
		}
		
	} else if(slave.mood.scale == "Serenity") {
		if(slave.mood.current >= 100) {
			slave.trust.mood = 40
			slave.obedience.mood = 20
			
		} else if(slave.mood.current >= 75) {
			slave.trust.mood = 20
			
		} else if(slave.mood.current < 25) {
			slave.trust.mood = -40
			slave.obedience.mood = -20
			
		} else if(slave.mood.current < 50) {
			slave.trust.mood = -20
			
		}
		
	} else if(slave.mood.scale == "Anxiety") {
		if(slave.mood.current >= 100) {
			slave.fear.mood = -40
			slave.trust.mood = 20
			
		} else if(slave.mood.current >= 75) {
			slave.fear.mood = -20
			
		} else if(slave.mood.current < 25) {
			slave.fear.mood = 40
			slave.trust.mood = -20
			
		} else if(slave.mood.current < 50) {
			slave.fear.mood = 20
			
		}
		
	} else if(slave.mood.scale == "Sanity") {
		if(slave.mood.current < 25) {
			slave.obedience.mood = 100 - slave.obedience.base - slave.obedience.bonus
			slave.trust.mood = -1 * (slave.trust.base + slave.trust.bonus)
			slave.fear.mood = 100 + (slave.fear.base - slave.fear.bonus)
			
		} else if(slave.mood.current < 50) {
			slave.obedience.mood = -40
			slave.trust.mood = -40
			slave.fear.mood = 40
			
		} else if(slave.mood.current < 75) {
			slave.obedience.mood = -20
			slave.trust.mood = -20
			slave.fear.mood = 20
			
		}
	}
	
	refreshObedience(slave)
	refreshTrust(slave)
	refreshFear(slave)
	
}

window.changeMood = function(slave, scale) {
	if(scale == "Sanity" && slave.mood.scale != "Sanity") {
		slave.mood.current = 50
	} else if(scale != "Sanity" && slave.mood.scale == "Sanity") {
		slave.mood.current = 50
	}
	
	if(scale == "Happiness") {
		slave.mood.scale = "Happiness"
	} else if(scale == "Serenity") {
		slave.mood.scale = "Serenity"
	} else if(scale == "Anxiety") {
		slave.mood.scale = "Anxiety"
	} else if(scale == "Sanity") {
		slave.mood.scale = "Sanity"
	}
		
	updateMood(slave);
}

window.decreaseMood = function(slave, scale, amount=10) {
  if(slave.mood.scale == "Sanity") {
		if(slave.nature == "tsundere" || slave.nature == "kuudere") {
			amount *= 0.5
		} else if(slave.nature == "himedere" || slave.nature == "dandere") {
			amount *= 2
		}
    
    if(!variables().cheats.includes("moodBlockers")) {
      scale = "Sanity"
    }
		
	} else if(scale == "Happiness") {
		if(slave.nature == "dandere") {
			amount *= 0.5
		} else if(slave.nature == "kuudere" || slave.nature == "tsundere") {
			amount *= 2
		}	
		
	} else if(scale == "Serenity") {
		if(slave.nature == "dandere") {
			amount *= 0.5
		} else if(slave.nature == "tsundere" || slave.nature == "kuudere") {
			amount *= 2
		}
		
	} else if(scale == "Anxiety") {
		if(slave.nature == "himedere") {
			amount *= 0.5
		} else if(slave.nature == "dandere") {
			amount *= 2
		}
		
	} 
  
  if(variables().cheats.includes("moodBlockers")) {
    slave.mood.current = Math.clamp(slave.mood.current-amount, 50, 100);
  } else {
    slave.mood.current = Math.clamp(slave.mood.current-amount, 0, 100);
  }
	
	if(slave.mood.current == 0 && slave.mood.scale != "Sanity") {
		scale = "Sanity"
	} 
	
	changeMood(slave, scale);
}

window.increaseMood = function(slave, scale, amount=10) {
	if(slave.mood.scale == "Sanity" && slave.mood.current < 100) {
		if(slave.nature == "himedere") {
			amount *= 2
		} else if(slave.nature == "dandere") {
			amount *= 0.5
		}	
		
		if(slave.mood.current < 25) {
			amount = 1
		}
    
    if(!variables().cheats.includes("moodBlockers")) {
      scale = "Sanity"
    }
		
	} else if(scale == "Happiness") {
		if(slave.nature == "dandere" || slave.nature == "tsundere") {
			amount *= 2
		} else if(slave.nature == "kuudere") {
			amount *= 0.5
		}	
		
	} else if(scale == "Serenity") {
		if(slave.nature == "tsundere") {
			amount *= 2
		} else if(slave.nature == "himedere") {
			amount *= 0.5
		}
		
	} else if(scale == "Anxiety") {
		if(slave.nature == "dandere") {
			amount *= 2
		} else if(slave.nature == "himedere") {
			amount *= 0.5
		}
		
	}
  
  if(variables().cheats.includes("moodBlockers")) {
    slave.mood.current = Math.clamp(slave.mood.current+amount, 50, 100);
  } else {
    slave.mood.current = Math.clamp(slave.mood.current+amount, 0, 100);
  }
	
	changeMood(slave, scale);
}

window.getMood = function(slave) {
	var scale = slave.mood.scale
	var mood
	
	if(scale == "Happiness") {
		mood = slave.mood.current
		
		if(mood >= 100) {
			return "@@color:forestgreen;Estatic@@";
		} else if(mood >= 75) {
			return "@@color:greenyellow;Happy@@";
		} else if(mood >= 50) {
			return "@@color:yellow;Content@@";
		} else if(mood >= 25) {
			return "@@color:orange;Sad@@";
		} else if(mood >= 0) {
			return "@@color:red;Melancholic@@";
		} 
		
	} else if(scale == "Serenity") {
		mood = slave.mood.current
		
		if(mood >= 100) {
			return "@@color:forestgreen;Serene@@";
		} else if(mood >= 75) {
			return "@@color:greenyellow;Composed@@";
		} else if(mood >= 50) {
			return "@@color:yellow;Calm@@";
		} else if(mood >= 25) {
			return "@@color:orange;Angry@@";
		} else if(mood >= 0) {
			return "@@color:red;Furious@@";
		} 
		
	} else if(scale == "Anxiety") {
		mood = slave.mood.current
		
		if(mood >= 100) {
			return "@@color:forestgreen;Tranquil@@";
		} else if(mood >= 75) {
			return "@@color:greenyellow;Unworried@@";
		} else if(mood >= 50) {
			return "@@color:yellow;Relaxed@@";
		} else if(mood >= 25) {
			return "@@color:orange;Tense@@";
		} else if(mood >= 0) {
			return "@@color:red;Distressed@@";
		} 
		
	} else if(scale == "Sanity") {
		mood = slave.mood.current
		
		if(mood >= 100) {
			return "@@color:forestgreen;Sane@@";
		} else if(mood >= 75) {
			return "@@color:greenyellow;Stable@@";
		} else if(mood >= 50) {
			return "@@color:yellow;Unhinged@@";
		} else if(mood >= 25) {
			return "@@color:orange;Psychotic@@";
		} else if(mood >= 0) {
			return "@@color:red;Mindbroken@@";
		} 
	}
};

window.rollMod = function(mod, power) {
	var number = 1

	if(power == "5") {
		if(mod > 5) {
			number = weightedRand({1:0, 2:0, 3:0.05, 4:0.20, 5:0.75})

		} else if (mod == 5) {
			number = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})

		} else if (mod >= 4) {
			number = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})

		} else if (mod >= 3) {
			number = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})

		} else if (mod >= 2) {
			number = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})

		} else {
			number = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})

		}

	} else if (power == "10") {
		if(mod > 10) {
			number = weightedRand({1:0, 2:0, 3:0, 4:0, 5:0.05, 6:0.05, 7:0.1, 8:0.1, 9:0.20, 10:0.50})

		} else if (mod == 10) {
			number = weightedRand({1:0.025, 2:0.025, 3:0.05, 4:0.05, 5:0.075, 6:0.075, 7:0.1, 8:0.1, 9:0.25, 10:0.25})

		} else if (mod >= 7.5) {
			number = weightedRand({1:0.025, 2:0.025, 3:0.05, 4:0.05, 5:0.1, 6:0.1, 7:0.25, 8:0.25, 9:0.075, 10:0.075})

		} else if (mod >= 5) {
			number = weightedRand({1:0.05, 2:0.05, 3:0.075, 4:0.075, 5:0.25, 6:0.25, 7:0.075, 8:0.075, 9:0.05, 10:0.05})

		} else if (mod >= 2.5) {
			number = weightedRand({1:0.075, 2:0.075, 3:0.25, 4:0.25, 5:0.1, 6:0.1, 7:0.05, 8:0.05, 9:0.025, 10:0.025})

		} else {
			number = weightedRand({1:0.25, 2:0.25, 3:0.1, 4:0.1, 5:0.075, 6:0.075, 7:0.05, 8:0.05, 9:0.025, 10:0.025})

		}
	}

	return Number(number);
}

window.roundDOWN = function(number, multiple) {
	return Math.floor(number/multiple) * multiple;
}

window.roundUP = function(number, multiple) {
	return Math.ceil(number/multiple) * multiple;
}

window.findOne = function (haystack, arr) {
    return arr.some(function (v) {
        return haystack.indexOf(v) >= 0;
    });
};

window.addAction = function(list, action) {
	if(!list.includes(action)) {
		list.push(action);
	}
};

window.removeAction = function(list, action) {
	var index

	if(list.includes(action)) {
		index = list.indexOf(action);
		list.splice(index, 1);
	}
};

window.increaseSkillEXP = function(skill, num) {
	num = Number(num);
	skill = Number(skill);

	num = num * (1.1 - (skill / 100));
	skill = Math.clamp(skill+num, 0, 100);
	return skill
}

window.increaseSensitivity = function(sensitivity, slave, num, place="training") {
	var presensitivity = 0
	var postsensitivity = 0
	var update

	if(sensitivity == "cock") {
		presensitivity = getSensitivity(slave.sensitivity.cock)
		num = num * (1.1 - (slave.sensitivity.cock / 100));
		slave.sensitivity.cock = Math.clamp(slave.sensitivity.cock+num, 0, 100);
		postsensitivity = getSensitivity(slave.sensitivity.cock)

	} else if(sensitivity == "breasts") {
		presensitivity = getSensitivity(slave.sensitivity.breasts)
		num = num * (1.1 - (slave.sensitivity.breasts / 100));
		slave.sensitivity.breasts = Math.clamp(slave.sensitivity.breasts+num, 0, 100);
		postsensitivity = getSensitivity(slave.sensitivity.breasts)

	} else if(sensitivity == "anus") {
		presensitivity = getSensitivity(slave.sensitivity.anus)
		num = num * (1.1 - (slave.sensitivity.anus / 100));
		slave.sensitivity.anus = Math.clamp(slave.sensitivity.anus+num, 0, 100);
		postsensitivity = getSensitivity(slave.sensitivity.anus)

	} else if(sensitivity == "clit") {
		presensitivity = getSensitivity(slave.sensitivity.clit)
		num = num * (1.1 - (slave.sensitivity.clit / 100));
		slave.sensitivity.clit = Math.clamp(slave.sensitivity.clit+num, 0, 100);
		postsensitivity = getSensitivity(slave.sensitivity.clit)

	} else if(sensitivity == "balls") {
		presensitivity = getSensitivity(slave.sensitivity.balls)
		num = num * (1.1 - (slave.sensitivity.balls / 100));
		slave.sensitivity.balls = Math.clamp(slave.sensitivity.balls+num, 0, 100);
		postsensitivity = getSensitivity(slave.sensitivity.balls)

	} else if(sensitivity == "pussy") {
		presensitivity = getSensitivity(slave.sensitivity.pussy)
		num = num * (1.1 - (slave.sensitivity.pussy / 100));
		slave.sensitivity.pussy = Math.clamp(slave.sensitivity.pussy+num, 0, 100);
		postsensitivity = getSensitivity(slave.sensitivity.pussy)

	} else if(sensitivity == "mouth") {
		presensitivity = getSensitivity(slave.sensitivity.mouth)
		num = num * (1.1 - (slave.sensitivity.mouth / 100));
		slave.sensitivity.mouth = Math.clamp(slave.sensitivity.mouth+num, 0, 100);
		postsensitivity = getSensitivity(slave.sensitivity.mouth)
	}

	if(slave.mood.scale == "Sanity" && slave.mood.current < 25) {
		return
		
	} else {
		if(place == "training") {
			if(presensitivity != postsensitivity) {
        if(slave.ID != "PLAYER") {
          update = "<br>@@color:forestgreen;$activeCharacter.name's " + sensitivity + " sensitivity has increased from@@ " + presensitivity + " to " + postsensitivity + "."
        } else {
          update = "<br>@@color:forestgreen;Your " + sensitivity + " sensitivity has increased from@@ " + presensitivity + " to " + postsensitivity + "."
        }
			} else if(postsensitivity != getSensitivity(100)) {
        if(slave.ID != "PLAYER") {
          update = "<br>@@color:forestgreen;$activeCharacter.name's " + sensitivity + " sensitivity has increased.@@"
        } else {
          update = "<br>@@color:forestgreen;Your " + sensitivity + " sensitivity has increased.@@"
        }
			}

			return update
		} else if(place == "summary") {
			if(presensitivity != postsensitivity) {
        if(slave.ID != "PLAYER") {
          update = "<br>@@color:forestgreen;" + slave.name + "'s " + sensitivity + " sensitivity has increased from@@ " + presensitivity + " to " + postsensitivity + "."
        } else {
          update = "<br>@@color:forestgreen;Your " + sensitivity + " sensitivity has increased from@@ " + presensitivity + " to " + postsensitivity + "."
        }
			} else if(postsensitivity != getSensitivity(100)) {
        if(slave.ID != "PLAYER") {
          update = "<br>@@color:forestgreen;" + slave.name + "'s " + sensitivity + " sensitivity has increased.@@"
        } else {
          update = "<br>@@color:forestgreen;Your " + sensitivity + " sensitivity has increased.@@"
        }
			}

			if(update) {
				slave.summary += update
			}
		}
	}	
};

window.getRanchLitres = function(slave, estate) {
	var ratio = 0
	var attributes = 0
	var litres = 0

	if(slave.cum.quality.current >= 1 && slave.cum.quantity.current >= 1 && slave.cum.taste.current >= 1) {
		if(estate.ranch.style == null) {
			ratio += slave.cum.quality.current * 2
			ratio += slave.cum.quantity.current * 2
			ratio += slave.cum.taste.current * 2

		} else if(estate.ranch.style == "Commercial") {
			ratio += slave.cum.taste.current * 3
			ratio += slave.cum.quality.current * 2
			ratio += slave.cum.quantity.current

		} else if(estate.ranch.style == "Open") {
			ratio += slave.cum.quantity.current * 3
			ratio += slave.cum.taste.current * 2
			ratio += slave.cum.quality.current

		} else if(estate.ranch.style == "Industrial") {
			ratio += slave.cum.quality.current * 3
			ratio += slave.cum.quantity.current * 2
			ratio += slave.cum.taste.current

		}

		litres += ((ratio / 30) * 100)
		ratio = 0
	}

	if(slave.milk.quality.current >= 1 && slave.milk.quantity.current >= 1 && slave.milk.taste.current >= 1) {
		if(estate.ranch.style == null) {
			ratio += slave.milk.quality.current * 2
			ratio += slave.milk.quantity.current * 2
			ratio += slave.milk.taste.current * 2

		} else if(estate.ranch.style == "Commercial") {
			ratio += slave.milk.taste.current * 3
			ratio += slave.milk.quality.current * 2
			ratio += slave.milk.quantity.current

		} else if(estate.ranch.style == "Open") {
			ratio += slave.milk.quantity.current * 3
			ratio += slave.milk.taste.current * 2
			ratio += slave.milk.quality.current

		} else if(estate.ranch.style == "Industrial") {
			ratio += slave.milk.quality.current * 3
			ratio += slave.milk.quantity.current * 2
			ratio += slave.milk.taste.current

		}

		litres += ((ratio / 30) * 100)
		ratio = 0
	}

	if(slave.nectar.quality.current >= 1 && slave.nectar.quantity.current >= 1 && slave.nectar.taste.current >= 1) {
		if(estate.ranch.style == null) {
			ratio += slave.nectar.quality.current * 2
			ratio += slave.nectar.quantity.current * 2
			ratio += slave.nectar.taste.current * 2

		} else if(estate.ranch.style == "Commercial") {
			ratio += slave.nectar.taste.current * 3
			ratio += slave.nectar.quality.current * 2
			ratio += slave.nectar.quantity.current

		} else if(estate.ranch.style == "Open") {
			ratio += slave.nectar.quantity.current * 3
			ratio += slave.nectar.taste.current * 2
			ratio += slave.nectar.quality.current

		} else if(estate.ranch.style == "Industrial") {
			ratio += slave.nectar.quality.current * 3
			ratio += slave.nectar.quantity.current * 2
			ratio += slave.nectar.taste.current

		}

		litres += ((ratio / 30) * 100)
		ratio = 0
	}

	if(litres) {
		litres = (litres * 0.625) + rand(0,5)
	}

	return Math.round(litres)
}

window.getRanchRatio = function(slave, estate) {
	var ratio = 0
	var attributes = 0

	if(slave.cum.quality.current >= 1 && slave.cum.quantity.current >= 1 && slave.cum.taste.current >= 1) {
		if(estate.ranch.style == null) {
			ratio += slave.cum.quality.current * 2
			ratio += slave.cum.quantity.current * 2
			ratio += slave.cum.taste.current * 2
			attributes++

		} else if(estate.ranch.style == "Commercial") {
			ratio += slave.cum.taste.current * 3
			ratio += slave.cum.quality.current * 2
			ratio += slave.cum.quantity.current
			attributes++

		} else if(estate.ranch.style == "Open") {
			ratio += slave.cum.quantity.current * 3
			ratio += slave.cum.taste.current * 2
			ratio += slave.cum.quality.current
			attributes++

		} else if(estate.ranch.style == "Industrial") {
			ratio += slave.cum.quality.current * 3
			ratio += slave.cum.quantity.current * 2
			ratio += slave.cum.taste.current
			attributes++

		}
	}

	if(slave.milk.quality.current >= 1 && slave.milk.quantity.current >= 1 && slave.milk.taste.current >= 1) {
		if(estate.ranch.style == null) {
			ratio += slave.milk.quality.current * 2
			ratio += slave.milk.quantity.current * 2
			ratio += slave.milk.taste.current * 2
			attributes++

		} else if(estate.ranch.style == "Commercial") {
			ratio += slave.milk.taste.current * 3
			ratio += slave.milk.quality.current * 2
			ratio += slave.milk.quantity.current
			attributes++

		} else if(estate.ranch.style == "Open") {
			ratio += slave.milk.quantity.current * 3
			ratio += slave.milk.taste.current * 2
			ratio += slave.milk.quality.current
			attributes++

		} else if(estate.ranch.style == "Industrial") {
			ratio += slave.milk.quality.current * 3
			ratio += slave.milk.quantity.current * 2
			ratio += slave.milk.taste.current
			attributes++

		}
	}

	if(slave.nectar.quality.current >= 1 && slave.nectar.quantity.current >= 1 && slave.nectar.taste.current >= 1) {
		if(estate.ranch.style == null) {
			ratio += slave.nectar.quality.current * 2
			ratio += slave.nectar.quantity.current * 2
			ratio += slave.nectar.taste.current * 2
			attributes++

		} else if(estate.ranch.style == "Commercial") {
			ratio += slave.nectar.taste.current * 3
			ratio += slave.nectar.quality.current * 2
			ratio += slave.nectar.quantity.current
			attributes++

		} else if(estate.ranch.style == "Open") {
			ratio += slave.nectar.quantity.current * 3
			ratio += slave.nectar.taste.current * 2
			ratio += slave.nectar.quality.current
			attributes++

		} else if(estate.ranch.style == "Industrial") {
			ratio += slave.nectar.quality.current * 3
			ratio += slave.nectar.quantity.current * 2
			ratio += slave.nectar.taste.current
			attributes++

		}
	}

	if(attributes < 1) {
		attributes = 1
	}

	ratio = ratio / (0.3 * attributes)
	return Math.round(ratio)
}

window.getFocusRatio = function(slave, estate) {
	var ratio = 0
	var score = getScore(slave);
	score = score / 42

	if(estate.brothel.focus == "Variety") {
		ratio +=  50

	} else if(estate.brothel.focus == "Megalophilia") {
		if(slave.sex == "male") {
			ratio += (4 * slave.cock.current)
			ratio += (4 * slave.girth.current)
			ratio += (4 * slave.balls.current)
      ratio += (4 * slave.shoulders.current)
      ratio += (4 * slave.torso.current)
      ratio += (4 * slave.legs.current)
      ratio += (4 * slave.butt.current)

		} else if(slave.sex == "female") {
			ratio += (4 * slave.bust.current)
			ratio += (4 * slave.pussy.current)
			ratio += (4 * slave.clit.current)
			ratio += (4 * slave.lips.current)
      ratio += (4 * slave.hips.current)
      ratio += (4 * slave.legs.current)
      ratio += (4 * slave.butt.current)
      
		} else if(slave.sex == "futanari") {
			ratio += (4 * slave.bust.current)
			ratio += (4 * slave.pussy.current)
			ratio += (4 * slave.cock.current)
      ratio += (4 * slave.girth.current)
			ratio += (4 * slave.balls.current)
			ratio += (4 * slave.lips.current)
      ratio += (4 * slave.hips.current)
      ratio += (4 * slave.legs.current)
      ratio += (4 * slave.butt.current)
      
    } else if(slave.sex == "shemale") {
			ratio += (4 * slave.bust.current)
			ratio += (4 * slave.cock.current)
      ratio += (4 * slave.girth.current)
			ratio += (4 * slave.balls.current)
			ratio += (4 * slave.lips.current)
      ratio += (4 * slave.hips.current)
      ratio += (4 * slave.legs.current)
      ratio += (4 * slave.butt.current)
      
    }

	} else if(estate.brothel.focus == "Caligynephilia") {
		ratio += (10 * slave.beauty)

	} else if(estate.brothel.focus == "Musculophilia") {
		if(slave.weight <= 2) {
			ratio += 0
		} else if(slave.weight <= 4) {
			ratio += 25
		} else if(slave.weight == 5) {
			ratio += 50
		} else if(slave.weight == 6) {
			ratio += 75
		} else if(slave.weight == 7) {
			ratio += 100
		}

	} else if(estate.brothel.focus == "Androphilia") {
		ratio += (0.75 * slave.stats.masculinity)
		if(slave.weight <= 2) {
			ratio += 0
		} else if(slave.weight <= 4) {
			ratio += 5
		} else if(slave.weight == 5) {
			ratio += 5
		} else if(slave.weight == 6) {
			ratio += 15
		} else if(slave.weight == 7) {
			ratio += 25
		}

	} else if(estate.brothel.focus == "Gynephilia") {
		ratio += (0.75 * slave.stats.femininity)
		if(slave.weight <= 2) {
			ratio += 0
		} else if(slave.weight <= 4) {
			ratio += 5
		} else if(slave.weight == 5) {
			ratio += 5
		} else if(slave.weight == 6) {
			ratio += 15
		} else if(slave.weight == 7) {
			ratio += 25
		}

	} else if(estate.brothel.focus == "Dominance") {
		ratio += slave.stats.submissive / 2
    ratio += slave.hypno.masochism / 2

	} else if(estate.brothel.focus == "Submission") {
		ratio += slave.stats.dominant

	} else if(estate.brothel.focus == "Gynemimetophilia") {
		if(slave.ogsex == "male" && slave.sex == "female") {
			ratio += 50
		}
		ratio += (slave.stats.sissification / 50)

	} else if(estate.brothel.focus == "Genophilia") {
		ratio += (25/21 * score)
		ratio += (50 * slave.stats.strumpetry)

	}

	return Math.round(ratio)
}

window.getRanchPopularity = function(estate, slavenum, slavepopularity) {
	var base = 2.5
	var rating = slavepopularity / slavenum

	if(rating < 1) {
		rating = 1
	}

	var multi = (1.1 - (estate.ranch.popularity / rating));

	if(multi < 0) {
		multi = -1
	}

	estate.ranch.popularity = Math.round((base * multi) + estate.ranch.popularity);
	estate.ranch.popularity = Math.clamp(estate.ranch.popularity, 0, 100);
}

window.requiredFatigue = function(slave, assignment) {
  var fatiguetitle = 0
  var fatigue = 0
  var currentAssignment = slave.assignment
  var currentPosition = slave.position
  slave.assignment = assignment
  
  if(assignment == "brothel" && currentAssignment != "brothel") {
    if(["Open", null].contains(variables().estate.brothel.style)) {
      slave.position = "Prostitute"
    } else if(variables().estate.brothel.style == "Closed") {
      slave.position = "Attendant"
    } else if(variables().estate.brothel.style == "Theater") {
      slave.position = "Host"
    }
  }
  
  if(variables().fatiguetitles.includes(slave.title)) {
    fatiguetitle = 1
  }
  
	fatigue = updateFatigue(slave, variables().difficulty, fatiguetitle, variables().estate, 0)
  fatigue = Math.clamp(100 - fatigue, 0, 100)
  slave.assignment = currentAssignment
  slave.position = currentPosition
  
  return fatigue
};

window.requiredHealth = function(assignment, estate) {

	if(assignment == "brothel") {
		if(estate.brothel.style == "Theater") {
			return 5;
		} else if(estate.brothel.style == "Closed" || estate.brothel.style == null) {
			return 10;
		} else if(estate.brothel.style == "Open") {
			return 15;
		}

	} else if(assignment == "husbandry") {
		return 10
	}
};

window.brothelFocus = function(slave, estate) {
	var bonus = 0
	var score = getScore(slave);
	score = score / 42

	if(estate.brothel.focus == "Variety") {
		bonus +=  0

	} else if(estate.brothel.focus == "Megalophilia") {
		if(slave.sex == "male") {
			bonus += (4 * slave.cock.current) - 20
			bonus += (4 * slave.girth.current) - 10
			bonus += (4 * slave.balls.current) - 10
      bonus += (4 * slave.shoulders.current) - 10
      bonus += (4 * slave.torso.current) - 10
      bonus += (4 * slave.legs.current) - 10
      bonus += (4 * slave.butt.current) - 10

		} else if(slave.sex == "female") {
			bonus += (4 * slave.bust.current) - 20
			bonus += (4 * slave.pussy.current) - 10
			bonus += (4 * slave.clit.current) - 10
			bonus += (4 * slave.lips.current) - 10
      bonus += (4 * slave.hips.current) - 10
      bonus += (4 * slave.legs.current) - 10
      bonus += (4 * slave.butt.current) - 10
      
		} else if(slave.sex == "futanari") {
			bonus += (4 * slave.bust.current) - 20
			bonus += (4 * slave.pussy.current) - 10
			bonus += (4 * slave.cock.current) - 20
      bonus += (4 * slave.girth.current) - 10
			bonus += (4 * slave.balls.current) - 10
			bonus += (4 * slave.lips.current) - 10
      bonus += (4 * slave.hips.current) - 10
      bonus += (4 * slave.legs.current) - 10
      bonus += (4 * slave.butt.current) - 10
      
		} else if(slave.sex == "shemale") {
			bonus += (4 * slave.bust.current) - 20
			bonus += (4 * slave.cock.current) - 20
      bonus += (4 * slave.girth.current) - 10
			bonus += (4 * slave.balls.current) - 10
			bonus += (4 * slave.lips.current) - 10
      bonus += (4 * slave.hips.current) - 10
      bonus += (4 * slave.legs.current) - 10
      bonus += (4 * slave.butt.current) - 10
      
		}

	} else if(estate.brothel.focus == "Caligynephilia") {
		bonus += (6 * slave.beauty) - 30

	} else if(estate.brothel.focus == "Musculophilia") {
		bonus += (60/7 * slave.weight) - 30

	} else if(estate.brothel.focus == "Androphilia") {
		bonus += (0.3 * slave.stats.masculinity) - 15
		bonus += ((5 * slave.weight) - 25) / 2

	} else if(estate.brothel.focus == "Gynephilia") {
		bonus += (0.3 * slave.stats.femininity) - 15
		bonus += ((5 * slave.weight) - 25) / 2

	} else if(estate.brothel.focus == "Dominance") {
		bonus += (0.4 * slave.stats.submissive) - 20

	} else if(estate.brothel.focus == "Submission") {
		bonus += (0.4 * slave.stats.dominant) - 20

	} else if(estate.brothel.focus == "Gynemimetophilia") {
		if(slave.ogsex == "male" && slave.sex == "female") {
			bonus += 5
		}
		bonus += (0.1 * slave.stats.sissification) - 5

	} else if(estate.brothel.focus == "Genophilia") {
		bonus += (10/21 * score) - 10
		bonus += (0.1 * slave.stats.strumpetry) - 5

	}
  
  bonus = 1 + (bonus / 30)

	return bonus
}

window.getBrothelCustomers = function(character, estate) {
	var characterPopularity = character.popularity.brothel / 100
	var brothelPopularity = estate.brothel.popularity.total / 100
  var capacity = variables().estate.brothel.levels.soliciting
	var customers = 0

	if(estate.brothel.style == null) {
		customers = Math.round(30 + (30 * characterPopularity) + (30 * brothelPopularity));
	} else if(estate.brothel.style == "Theater") {
		customers = Math.round(20 + (40 * characterPopularity) + (40 * brothelPopularity));
	} else if(estate.brothel.style == "Open") {
		customers = Math.round(20 + (20 * characterPopularity) + (120 * brothelPopularity));
	} else if(estate.brothel.style == "Closed") {
		customers = Math.round(10 + (20 * characterPopularity) + (10 * brothelPopularity));
	}
  
  if(character.location == "brothel" && character.assignment != "rest" && !(variables().estate.brothel.exceptions.pSoliciting == "Yes" && character.position == "Procurer") && !(variables().estate.brothel.exceptions.gSoliciting == "Yes" && character.position == "Guard")) {
    if(capacity == "Min") {
      customers = customers 
    } else if(capacity == "Low") {
      customers = customers * 1.2
    } else if(capacity == "Normal" || !capacity) {
      customers = customers * 1.4
    } else if(capacity == "High") {
      customers = customers * 1.6
    } else if(capacity == "Max") {
      customers = customers * 2
    } 
    
    customers = Math.round(customers + rand(-3,3));
    
  } else {
    customers = 0
  }
  
	return Math.clamp(customers, 0, 1000);
}

window.getBrothelPrice = function(slave, estate) {
	var rating = slave.rating / 120
	var price = 0
  var bonus = 0
  var focusbonus = 0
  var skill
  var duty

	if(estate.brothel.style == null) {
		price = Math.round(10 + (5 * rating));
	} else if(estate.brothel.style == "Theater") {
		price = Math.round(10 + (30 * rating));
	} else if(estate.brothel.style == "Open") {
		price = Math.round(10 + (10 * rating));
	} else if(estate.brothel.style == "Closed") {
		price = Math.round(10 + (110 * rating));
	}
  
  if(["Closed"].contains(estate.brothel.style)) {
    skill = "attendant"
  } else if(["Theater"].contains(estate.brothel.style)) {
    skill = "host"
  } else {
    skill = "solicitor"
  }
  
  duty = variables().skills.duty[skill]
  
  if(!slave.skills[skill]) {
    bonus = 0
  } else {
    bonus = slave.skills[skill].level
    if(estate.brothel.levels[duty] == "Min") {
      bonus = 5 * (bonus / 1)
      bonus = Math.clamp(bonus, 1, 10)
    } else if(estate.brothel.levels[duty] == "Low") {
      bonus = 10 * (bonus / 2)
      bonus = Math.clamp(bonus, 1, 20)
    } else if(estate.brothel.levels[duty] == "Normal") {
      bonus = 15 * (bonus / 3)
      bonus = Math.clamp(bonus, 1, 30)
    } else if(estate.brothel.levels[duty] == "High") {
      bonus = 20 * (bonus / 4)
      bonus = Math.clamp(bonus, 1, 40)
    } else if(estate.brothel.levels[duty] == "Max") {
      bonus = 25 * (bonus / 5)
      bonus = Math.clamp(bonus, 1, 50)
    }
  }
  
  focusbonus = brothelFocus(slave, estate);
  price = (price + bonus) / 2
	price = (price * focusbonus) + rand(-5,5);
  price = Math.clamp(price, 0, 1000)
	return Math.round(price)
}

window.getPopularity = function(slave, estate) {
	var base = 0
	var multi = 0
	var popularity = 0
  var consortorBonus
	var score = getScore(slave);
	score = score / 42

	if(slave.location == "brothel") {
		if(estate.brothel.style == null) {
			base = 4
		} else if(estate.brothel.style == "Theater") {
			base = 6
		} else if(estate.brothel.style == "Open") {
			base = 2
		} else if(estate.brothel.style == "Closed") {
			base = 8
		}

		if(estate.brothel.focus == "Androphilia") {
			base += (0.04 * slave.stats.masculinity) - 2
			base += ((2 * slave.weight) - 10) / 2

		} else if(estate.brothel.focus == "Gynephilia") {
			base += (0.04 * slave.stats.femininity) - 2
			base += ((2 * slave.weight) - 10) / 2

		} else if(estate.brothel.focus == "Dominance") {
			base += (0.3 * slave.stats.submissive) - 20
      base += (0.3 * slave.hypno.masochism) - 20

		} else if(estate.brothel.focus == "Submission") {
			base += (0.4 * slave.stats.dominant) - 20

		} else if(estate.brothel.focus == "Gynemimetophilia") {
			if(slave.ogsex == "male" && slave.sex == "female") {
				base += 4
			}
			base += (0.08 * slave.stats.sissification) - 4

		} else if(estate.brothel.focus == "Genophilia") {
			base += (4/21 * score) - 4
			base += (0.08 * slave.stats.strumpetry) - 4

		}
    
    if(!slave.skills["consortor"] || (variables().estate.brothel.exceptions.pConsorting== "Yes" && slave.position == "Procurer") || (variables().estate.brothel.exceptions.gConsorting == "Yes" && slave.position == "Guard")) {
      consortorBonus = 0
    } else {
      consortorBonus = slave.skills['consorter'].level
      if(estate.brothel.levels.consorting == "Min") {
        consortorBonus = (consortorBonus / 1) * 2
        consortorBonus = Math.clamp(consortorBonus, 1, 4)
      } else if(estate.brothel.levels.consorting == "Low") {
        consortorBonus = (consortorBonus / 2) * 4
        consortorBonus = Math.clamp(consortorBonus, 1, 8)
      } else if(estate.brothel.levels.consorting == "Normal") {
        consortorBonus = (consortorBonus / 3) * 6
        consortorBonus = Math.clamp(consortorBonus, 1, 12)
      } else if(estate.brothel.levels.consorting == "High") {
        consortorBonus = (consortorBonus / 4) * 8
        consortorBonus = Math.clamp(consortorBonus, 1, 16)
      } else if(estate.brothel.levels.consorting == "Max") {
        consortorBonus = (consortorBonus / 5) * 10
        consortorBonus = Math.clamp(consortorBonus, 1, 20)
      }
    }
    
    base = (base + consortorBonus) / 2
    
    var skill
    var duty
    
    if(["Closed"].contains(estate.brothel.style)) {
      skill = "attendant"
    } else if(["Theater"].contains(estate.brothel.style)) {
      skill = "host"
    } else {
      skill = "solicitor"
    }
    
    duty = variables().skills.duty[skill]
    var level
    var min
    
    if(slave.skills[skill]) {
      level = slave.skills[skill].level
    } else {
      level = 1
    }
    
    if(estate.brothel.levels[duty] == "Min") {
      min = 1
    } else if(estate.brothel.levels[duty] == "Low") {
      min = 2
    } else if(estate.brothel.levels[duty] == "Normal") {
      min = 3
    } else if(estate.brothel.levels[duty] == "High") {
      min = 4
    } else if(estate.brothel.levels[duty] == "Max") {
      min = 5
    }

		multi = (1.1 - (slave.popularity.brothel / slave.rating));
    var total = base * multi
    if(min > level) {
      popularity = Math.clamp(slave.popularity.brothel - 2, 0, 100);
      variables().extraSum += "<br>@@color:red;" + slave.name + " has lost popularity due failing at " + duty + " customers!@@"
    } else {
      popularity = Math.clamp(total + slave.popularity.brothel, 0, 100);
      if(total > 0) {
        if(slave.ID != "PLAYER") {
          variables().extraSum += "<br>@@color:forestgreen;" + slave.name + " has gained popularity!@@"
        } else {
          variables().extraSum += "<br>@@color:forestgreen;You have gained popularity!@@"
        }
      } else if(total == 0 && slave.popularity != 100) {
        if(slave.ID != "PLAYER") {
          variables().extraSum += "<br>@@color:gray;" + slave.name + "'s popularity has remained the same.@@"
        } else {
          variables().extraSum += "<br>@@color:gray;Your popularity has remained the same.@@"
        }
      } else if(total < 0) {
        if(slave.ID != "PLAYER") {
          variables().extraSum += "<br>@@color:red;" + slave.name + " has lost popularity!@@"
        } else {
          variables().extraSum += "<br>@@color:red;You have lost popularity!@@"
        }
      }
    }
		
	} else if(slave.location == "ranch") {

		base = getRanchRatio(slave, estate)

		if(base >= 1) {
			base = 6 * (1.1 - (slave.popularity.ranch / base));
		}

		popularity = Math.clamp(slave.popularity.ranch+base, 0, 100);
	}

	return Math.round(popularity)
}

window.getRating = function(slave) {
	var appeal = getAppeal(slave);
	appeal = appeal / 120;

	var score = getScore(slave);
	score = score / 42;

	var rating = 25 + (appeal * 25) + (score * 25);
	rating = Math.round(rating);

	return rating;
}

window.relocateSlave = function(slave, estate, loc) {
	if(loc == "estate") {
		estate.pop++
	} else if(loc == "brothel") {
		estate.brothel.pop++
	} else if(loc == "ranch") {
		estate.ranch.pop++
	} else if(loc == "chattel") {
		estate.chattel.pop++
	}

	if(slave.location == "estate") {
		estate.pop--
	} else if(slave.location == "brothel") {
		estate.brothel.pop--
    
    if(slave.ID == estate.brothel.procurer) {
      estate.brothel.procurer = null
    }
	} else if(slave.location == "ranch") {
		estate.ranch.pop--
	} else if(slave.location == "chattel") {
		estate.chattel.pop--

		if(slave.chattel.pen > 0) {
			estate.chattel.pens[slave.chattel.pen].pop--
			slave.chattel.pen = 0
		}
	}

	if(slave.renew) {
		slave.renew = null
	}
  
  if(slave.training.trainer) {
    slave.training = {trainer:null, discipline:null, reward:{}, punishment:{}}
    slave.training.reward = {small:null, normal:null, large:null}
  	slave.training.punishment = {small:null, normal:null, large:null}
  }

	if(loc != "Removed") {
		slave.location = loc
		slave.assignment = "rest"
    slave.position = null
    
  }
}

window.checkBulk = function(bulk, item) {
	for(var b = 0; b < bulk.length; b++) {
		if(bulk[b].name == item.name) {
			return 1
		}
	}

	return 0
}

window.updateExoticism = function(slave) {
	var exoticism = 0

	if(slave.piercing.ear.jewelry != 0) {
		var ear = 5 * (slave.piercing.ear.type + slave.piercing.ear.jewelry)
		exoticism = calculateExoticism(ear, exoticism);
	}

	if(slave.piercing.eyebrow.jewelry != 0) {
		var eyebrow = 5 * (slave.piercing.eyebrow.type + slave.piercing.eyebrow.jewelry)
		exoticism = calculateExoticism(eyebrow, exoticism);
	}

	if(slave.piercing.nose.jewelry != 0) {
		var nose = 5 * (slave.piercing.nose.type + slave.piercing.nose.jewelry)
		exoticism = calculateExoticism(nose, exoticism);
	}

	if(slave.piercing.tongue.jewelry != 0) {
		var tongue = 5 * (slave.piercing.tongue.type + slave.piercing.tongue.jewelry)
		exoticism = calculateExoticism(tongue, exoticism);
	}

	if(slave.piercing.lip.jewelry != 0) {
		var lip = 5 * (slave.piercing.lip.type + slave.piercing.lip.jewelry)
		exoticism = calculateExoticism(lip, exoticism);
	}

	if(slave.piercing.nipple.jewelry != 0) {
		var nipple = 5 * (slave.piercing.nipple.type + slave.piercing.nipple.jewelry)
		exoticism = calculateExoticism(nipple, exoticism);
	}

	if(slave.piercing.navel.jewelry != 0) {
		var navel = 5 * (slave.piercing.navel.type + slave.piercing.navel.jewelry)
		exoticism = calculateExoticism(navel, exoticism);
	}

	if(slave.piercing.cock.jewelry != 0) {
		var cock = 5 * (slave.piercing.cock.type + slave.piercing.cock.jewelry)
		exoticism = calculateExoticism(cock, exoticism);
	}

	if(slave.piercing.pussy.jewelry != 0) {
		var pussy = 5 * (slave.piercing.pussy.type + slave.piercing.pussy.jewelry)
		exoticism = calculateExoticism(pussy, exoticism);
	}

	slave.exoticism = exoticism
}

window.calculateExoticism = function(stat, exoticism) {
	if(exoticism <= 10) {
		exoticism += stat
	} else if(exoticism <= 20) {
		exoticism += stat * 0.5
	} else if(exoticism <= 30) {
		exoticism += stat * 0.45
	} else if(exoticism <= 40) {
		exoticism += stat * 0.4
	} else if(exoticism <= 50) {
		exoticism += stat * 0.35
	} else if(exoticism <= 60) {
		exoticism += stat * 0.3
	} else if(exoticism <= 70) {
		exoticism += stat * 0.25
	} else if(exoticism <= 80) {
		exoticism += stat * 0.2
	} else if(exoticism <= 90) {
		exoticism += stat * 0.15
	} else if(exoticism <= 100) {
		exoticism += stat * 0.10
	} else if(exoticism > 100) {
		exoticism = 100
	}

	return exoticism
}

window.useItem = function(inventory, item) {
	for(var i=1;i <= inventory.amount;i++) {
		if(inventory[i].name == item) {
			inventory[i].amount -= 1
		}
	}
}

window.addItem = function(inventory, item) {
	var haveitem = 0
	for(var i=1;i <= inventory.amount;i++) {
		if(inventory[i].name == item.name) {
			haveitem = 1;
			inventory[i].amount += item.amount
			break
		}
	}

	if(!haveitem) {
		inventory.amount++
		inventory[inventory.amount] = item
	}
}

window.updateMaxFatigue = function(slave) {
	if(slave.weight == 1 || slave.weight == 2) {
		slave.fatigue.max = 5
	} else if(slave.weight == 3 || slave.weight == 4) {
		slave.fatigue.max = 5
	} else if(slave.weight == 5) {
		slave.fatigue.max = 6
	} else if(slave.weight == 6) {
		slave.fatigue.max = 7
	} else if(slave.weight == 7) {
		slave.fatigue.max = 8
	}

	if(slave.pregnancy.weeks >= 4) {
		slave.fatigue.max -= 1

		if(slave.pregnancy.type == "multipregnancy" && slave.pregnancy.weeks >= 12) {
			slave.fatigue.max -= 1
		}

		if(slave.pregnancy.child.length >= 2) {
			slave.fatigue.max -= 1

		} else if(slave.pregnancy.child.length >= 4) {
			slave.fatigue.max -= 2

		} else if(slave.pregnancy.child.length >= 6) {
			slave.fatigue.max -= 3

		}
	}
}

window.updateTitles = function(slave) {
  //Bimbo//
	if(slave.hypno.bimbo == 100 && !slave.titles.includes("Bimbo")) {
		addTitle(slave, "Bimbo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Bimbo].@@</b><br>" + slave.name + " has been hypnotized into an airhead. Nothing of importance goes on in <<print $hisher['" + slave.gender + "']>> head, <<print $heshe['" + slave.gender + "']>> only thinks of superficial things. Being turned into a bimbo has not affected <<print $hisher['" + slave.gender + "']>> intelligence despite <<print $hisher['" + slave.gender + "']>> change in thinking."

	} else if(slave.hypno.bimbo != 100 && slave.titles.includes("Bimbo")) {
		removeTitle(slave, "Bimbo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Bimbo].@@</b><br>" + slave.name + " has regained some of <<print $hisher['" + slave.gender + "']>> sense and has reverted from being a completely air headed bimbo who has nothing but <<print $hisher['" + slave.gender + "']>> appearance on the brain."
	}
  
  //Bimboy//
	if(slave.hypno.bimbo == 100 && slave.stats.masculinity == 100 && !slave.titles.includes("Bimboy")) {
		addTitle(slave, "Bimboy");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Bimboy].@@</b><br>" + slave.name + " has been hypnotized into an airhead who only thinks of superficial things and has been trained to be like a true masculine. <<print $HeShe['" + slave.gender + "']>> is basically the masculine version of a bimbo."

	} else if((slave.hypno.bimbo != 100 || slave.stats.masculinity != 100) && slave.titles.includes("Bimboy")) {
		removeTitle(slave, "Bimboy");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Bimboy].@@</b><br>" + slave.name + " has reverted from being a masculine trained air headed bimbo who only thinks about <<print $hisher['" + slave.gender + "']>> appearance."
	}

	//Bimbo Slut//
	if(slave.hypno.bimbo == 100 && slave.stats.strumpetry == 100 && !slave.titles.includes("Bimbo Slut")) {
		addTitle(slave, "Bimbo Slut");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Bimbo Slut].@@</b><br>" + slave.name + " has been trained to both love and crave sex as well as hypnotized into an airhead. The only thoughts <<print $heshe['" + slave.gender + "']>> has are either materialistic in nature or something to do with sex."

	} else if((slave.hypno.bimbo != 100 || slave.stats.strumpetry != 100) && slave.titles.includes("Bimbo Slut")) {
		removeTitle(slave, "Bimbo Slut");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Bimbo Slut].@@</b><br>" + slave.name + " has reverted from being an air headed bimbo who only thinks about <<print $hisher['" + slave.gender + "']>> appearance and sex."
	}
  
  //Breeding Slave//
	if(slave.stats.breeding == 100 && !slave.titles.includes("Breeding Slave")) {
		addTitle(slave, "Breeding Slave");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Breeding Slave].@@</b><br>" + slave.name + " has been trained for breeding purposes. <<print $HeShe['" + slave.gender + "']>> understands <<print $hisher['" + slave.gender + "']>> role as a breeding slave and all the dynamics that come with it."

	} else if(slave.stats.breeding != 100 && slave.titles.includes("Breeding Slave")) {
		removeTitle(slave, "Breeding Slave");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Breeding Slave].@@</b><br>" + slave.name + " conditioning to make <<print $himher['" + slave.gender + "']>> think and be a man has begun to fade."
	}
  
  //Brody//
	if(slave.stats.masculinization == 100 && !slave.titles.includes("Brody")) {
		slave.gender = "male"
		addTitle(slave, "Brody");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Brody].@@</b><br>" + slave.name + " has been psychologically trained to think and be a man. <<print $HeShe['" + slave.gender + "']>> hopes to one day be transformed physically into a man. " + slave.name + " uses male pronouns."

	} else if(slave.stats.masculinization != 100 && slave.titles.includes("Brody")) {
		removeTitle(slave, "Brody");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Brody].@@</b><br>" + slave.name + " conditioning to make <<print $himher['" + slave.gender + "']>> think and be a man has begun to fade."
	}
  
  //Bull//
	if(slave.hypno.domesticated == 100 && slave.stats.breeding == 100 && ["male", "shemale", "futanari"].includes(slave.sex) && !slave.titles.includes("Bull")) {
		addTitle(slave, "Bull");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Bull].@@</b><br>" + slave.name + " has been trained to be a domesticated breeding animal. <<print $HeShe['" + slave.gender + "']>> whole purpose is to breed as many sows as possible before getting too old."

	} else if((slave.hypno.domesticated != 100 || slave.stats.breeding != 100 || !["male", "shemale", "futanari"].includes(slave.sex)) && slave.titles.includes("Bull")) {
		removeTitle(slave, "Bull");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Bull].@@</b><br>" + slave.name + " conditioning to make <<print $himher['" + slave.gender + "']>> a domesticated breeding animal has begun to fade."
	}
  
  //Cavalier//
	if(slave.stats.masculinity == 100 && !slave.titles.includes("Cavalier")) {
		addTitle(slave, "Cavalier");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Cavalier].@@</b><br>" + slave.name + " has been trained to be chivalrous. <<print $HeShe['" + slave.gender + "']>> strives to be the gallant, considerate and courteous person <<print $heshe['" + slave.gender + "']>> was trained to be."

	} else if(slave.stats.masculinity != 100 && slave.titles.includes("Cavalier")) {
		removeTitle(slave, "Cavalier");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Cavalier].@@</b><br>" + slave.name + " has lost the ability to be completely chivalrous."
	}
  
  //Cicisbeo//
	if(slave.stats.masculinity == 100 && slave.stats.chivalry == 100 && !slave.titles.includes("Cicisbeo")) {
		addTitle(slave, "Cicisbeo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Cicisbeo].@@</b><br>" + slave.name + " has been trained to be a chivalrous true masculine. <<print $HeShe['" + slave.gender + "']>> will be the paragon of machismo, being able to display a wide array of highly admired traits in men."

	} else if((slave.stats.masculinity != 100 || slave.stats.chivalry != 100) && slave.titles.includes("Cicisbeo")) {
		removeTitle(slave, "Cicisbeo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Cicisbeo].@@</b><br>" + slave.name + " has lost the ability to be a completely chivalrous true masculine."
	}
  
  //Confident Slave//
	if(slave.fear.base == 0 && !slave.titles.includes("Confident Slave")) {
		addTitle(slave, "Confident Slave");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Confident Slave].@@</b><br>" + slave.name + " has no fear for <<print $hisher['" + slave.gender + "']>> future and is completely accepting of <<print $hisher['" + slave.gender + "']>> position as a slave. This doesn’t mean that <<print $heshe['" + slave.gender + "']>> is completely obedient but it display that <<print $heshe['" + slave.gender + "']>> is used to the slave life."

	} else if(slave.fear.base != 0 && slave.titles.includes("Confident Slave")) {
		removeTitle(slave, "Confident Slave");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Confident Slave].@@</b><br>" + slave.name + " is no longer a fearless slave."
	}
  
  //Courtesan//
	if(slave.stats.strumpetry == 100 && slave.stats.femininity == 100 && !slave.titles.includes("Courtesan")) {
		addTitle(slave, "Courtesan");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Courtesan].@@</b><br>" + slave.name + " has been trained to be like a true feminine who loves and craves sex. <<print $HeShe['" + slave.gender + "']>> will be a high-class woman in public but will be a sexual fiend in private."

	} else if((slave.stats.strumpetry != 100 || slave.stats.femininity != 100) && slave.titles.includes("Courtesan")) {
		removeTitle(slave, "Courtesan");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Courtesan].@@</b><br>" + slave.name + " no longer has the ability to accurately be a true feminine who loves and craves sex."
	}
  
  //Cumsar//
	if(slave.hypno.cum == 100 && !slave.titles.includes("Cumsar")) {
		addTitle(slave, "Cumsar");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Cumsar].@@</b><br>" + slave.name + " has been hypnotized to both love and crave cum and any sources of it. <<print $HeShe['" + slave.gender + "']>> can still without any cum but <<print $heshe['" + slave.gender + "']>> need for it will eventually drive <<print $himher['" + slave.gender + "']>> insane."

	} else if(slave.hypno.cum != 100 && slave.titles.includes("Cumsar")) {
		removeTitle(slave, "Cumsar");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Cumsar].@@</b><br>" + slave.name + " no longer craves cum."
	}

  //Cumslut//
	if(slave.stats.strumpetry == 100 && slave.hypno.cum == 100 && !slave.titles.includes("Cumslut")) {
		addTitle(slave, "Cumslut");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Cumslut].@@</b><br>" + slave.name + " has been hypnotized into loving any type of cum, whether it be from a man, woman or monster. <<print $HeShe['" + slave.gender + "']>> has also been trained to love and crave sex, making <<print $himher['" + slave.gender + "']>> very receptive to being used for sex."

	} else if((slave.stats.strumpetry != 100 || slave.hypno.cum != 100) && slave.titles.includes("Cumslut")) {
		removeTitle(slave, "Cumslut");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Cumslut].@@</b><br>" + slave.name + " has reverted from being a slut who both loves and craves sex and cum."
	}
  
  //Domesticated//
	if(slave.hypno.domesticated == 100 && !slave.titles.includes("Domesticated")) {
		addTitle(slave, "Domesticated");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Domesticated].@@</b><br>" + slave.name + " has been hypnotized into loving being treated, and acting like a domesticated animal. While <<print $heshe['" + slave.gender + "']>> is domesticated, it doesn't necessarily mean <<print $heshe['" + slave.gender + "']>> is trained. "

	} else if(slave.hypno.domesticated != 100 && slave.titles.includes("Domesticated")) {
		removeTitle(slave, "Domesticated");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Domesticated].@@</b><br>" + slave.name + " is no longer hypnotized into loving being treated and acting like a domesticated animal."
	}
  
  //Domesticated Bitch//
	if(slave.hypno.domesticated == 100 && slave.stats.strumpetry == 100 && !slave.titles.includes("Domesticated Bitch")) {
		addTitle(slave, "Domesticated Bitch");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Domesticated Bitch].@@</b><br>" + slave.name + " has been hypnotized into loving being treated, acting like a domesticated animal and trained to love sex. While <<print $heshe['" + slave.gender + "']>> is domesticated, it doesn't necessarily mean <<print $heshe['" + slave.gender + "']>> is trained. "

	} else if((slave.hypno.domesticated != 100 || slave.stats.strumpetry != 100) && slave.titles.includes("Domesticated Bitch")) {
		removeTitle(slave, "Domesticated Bitch");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Domesticated Bitch].@@</b><br>" + slave.name + " is no longer hypnotized into loving being treated, acting like a domesticated animal and trained to love sex."
	}
  
  //Dominant//
	if(slave.stats.dominant == 100 && !slave.titles.includes("Dominant")) {
		addTitle(slave, "Dominant");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Dominant].@@</b><br>" + slave.name + " has been trained to play the dominant role during and outside of sexual intercourse. This doesn’t mean that <<print $hisher['" + slave.gender + "']>> personality is dominant, it simply means that <<print $heshe['" + slave.gender + "']>> knows how to play the role properly."

	} else if(slave.stats.dominant != 100 && slave.titles.includes("Dominant")) {
		removeTitle(slave, "Dominant");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Dominant].@@</b><br>" + slave.name + " no longer has the ability to play the dominant role during and outside of sexual intercourse."
	}
  
  //Dominatrix//
	if(slave.stats.femininity == 100 && slave.stats.dominant == 100 && slave.hypno.sadism == 100 && !slave.titles.includes("Dominatrix")) {
		addTitle(slave, "Dominatrix");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Dominatrix].@@</b><br>" + slave.name + " has been trained to be like a dominant feminine who has been hypnotized to feel pleasure giving and seeing others in pain. <<print $HeShe['" + slave.gender + "']>> prefers to sadistically dominate <<print $hisher['" + slave.gender + "']>> sexual partners."

	} else if((slave.stats.femininity != 100 || slave.stats.dominant != 100 || slave.hypno.sadism != 100) && slave.titles.includes("Dominatrix")) {
		removeTitle(slave, "Dominatrix");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Dominatrix].@@</b><br>" + slave.name + " is no longer trained to be like a dominant feminine who has been hypnotized to feel pleasure giving and seeing others in pain"
	}
  
  //Drag King//
	if(slave.stats.masculinity == 100 && slave.stats.masculinization == 100 && !slave.titles.includes("Drag King")) {
		addTitle(slave, "Drag King");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Drag King].@@</b><br>" + slave.name + " has been psychologically trained to think and be a completely masculine man. <<print $HeShe['" + slave.gender + "']>> uses male pronouns."

	} else if((slave.stats.masculinity != 100 || slave.stats.masculinization != 100) && slave.titles.includes("Drag King")) {
		removeTitle(slave, "Drag King");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Drag King].@@</b><br>" + slave.name + " has reverted from being a masculine man."
	}
  
  //Feminine//
	if(slave.stats.femininity == 100 && !slave.titles.includes("Feminine")) {
		addTitle(slave, "Feminine");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Feminine].@@</b><br>" + slave.name + " has been trained to be like a true feminine. This usually pertains to things outside of sex and has little to no bearing on <<print $hisher['" + slave.gender + "']>> actual personality."

	} else if(slave.stats.femininity != 100 && slave.titles.includes("Feminine")) {
		removeTitle(slave, "Feminine");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Feminine].@@</b><br>" + slave.name + " no longer has the ability to accurately be a true feminine."
	}
  
  //Feminine Bimbo//
	if(slave.stats.femininity == 100 && slave.hypno.bimbo == 100 && !slave.titles.includes("Feminine Bimbo")) {
		addTitle(slave, "Feminine Bimbo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Feminine Bimbo].@@</b><br>" + slave.name + " has been hypnotized into an airhead who only thinks of superficial things and has been trained to be like a true feminine. <<print $HeShe['" + slave.gender + "']>> holds bimbonic interests but knows how to carry <<print $himselfherself['" + slave.gender + "']>> with practiced femininity."

	} else if((slave.stats.femininity != 100 || slave.hypno.bimbo != 100) && slave.titles.includes("Feminine Bimbo")) {
		removeTitle(slave, "Feminine Bimbo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Feminine Bimbo].@@</b><br>" + slave.name + " has reverted from being a feminine trained air headed bimbo who only thinks about <<print $hisher['" + slave.gender + "']>> appearance."
	}
  
  //Feminine Sissy//
	if(slave.stats.femininity == 100 && slave.stats.sissification == 100 && !slave.titles.includes("Feminine Sissy")) {
		addTitle(slave, "Feminine Sissy");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Feminine Sissy].@@</b><br>" + slave.name + " has been psychologically trained to think and be a completely feminine woman. <<print $HeShe['" + slave.gender + "']>> uses female pronouns."

	} else if((slave.stats.femininity != 100 || slave.stats.sissification != 100) && slave.titles.includes("Feminine Sissy")) {
		removeTitle(slave, "Feminine Sissy");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Feminine Sissy].@@</b><br>" + slave.name + " has reverted from being a feminine woman."
	}
  
  //Feminine Sissy Bimbo//
	if(slave.stats.femininity == 100 && slave.hypno.bimbo == 100 && slave.stats.sissification == 100 && !slave.titles.includes("Feminine Sissy Bimbo")) {
		addTitle(slave, "Feminine Sissy Bimbo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Feminine Sissy Bimbo].@@</b><br>" + slave.name + " has been hypnotized into an airhead who only thinks of superficial things and has been trained to think and be a completely feminine woman. <<print $HeShe[$activeCharacter.gender]>> holds bimbonic interests, knows how to carry <<print $himselfherself[$activeCharacter.gender]>> with practiced femininity and uses female pronouns."

	} else if((slave.stats.femininity != 100 || slave.hypno.bimbo != 100 || slave.stats.sissification != 100) && slave.titles.includes("Feminine Sissy Bimbo")) {
		removeTitle(slave, "Feminine Sissy Bimbo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Feminine Sissy Bimbo].@@</b><br>" + slave.name + " is no longer a hypnotized airhead who only thinks of superficial things that has been trained to think and be a completely feminine woman."
	}
  
  //Femme Sub//
	if(slave.stats.femininity == 100 && slave.stats.submissive == 100 && !slave.titles.includes("Femme Sub")) {
		addTitle(slave, "Femme Sub");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Femme Sub].@@</b><br>" + slave.name + " has been trained to be like a true feminine as well as trained on how to be a proper submissive. <<print $HeShe['" + slave.gender + "']>> acts completely feminine throughout most of the day and becomes servile during any bedroom play."

	} else if((slave.stats.femininity != 100 || slave.stats.submissive != 100) && slave.titles.includes("Femme Sub")) {
		removeTitle(slave, "Femme Sub");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Femme Sub].@@</b><br>" + slave.name + " no longer has the ability to be as a true feminine while being submissive during sexual encounters."
	}
  
  //Gigolo//
	if(slave.stats.strumpetry == 100 && slave.stats.masculinity == 100 && !slave.titles.includes("Gigolo")) {
		addTitle(slave, "Gigolo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Gigolo].@@</b><br>" + slave.name + " has been trained to be a masculine who thoroughly enjoys having sex. <<print $HeShe['" + slave.gender + "']>> acts masculine during nonsexual moments but during sexual play <<print $heshe['" + slave.gender + "']>> conforms to <<print $hisher['" + slave.gender + "']>> partner's preferences."

	} else if((slave.stats.strumpetry != 100 || slave.stats.masculinity != 100) && slave.titles.includes("Gigolo")) {
		removeTitle(slave, "Gigolo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Gigolo].@@</b><br>" + slave.name + " has reverted from being a masculine thoroughly trained to enjoy sex."
	}
  
  //Incubus//
	if(slave.hypno.sadism == 100 && slave.stats.masculinity == 100 && slave.hypno.cum == 100 && !slave.titles.includes("Incubus")) {
		addTitle(slave, "Incubus");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Incubus].@@</b><br>" + slave.name + " has been trained to be a masculine who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. <<print $HeShe['" + slave.gender + "']>> will prey upon both the physically and mentally weak in a sexual manner."

	} else if((slave.hypno.sadism != 100 || slave.stats.masculinity != 100 || slave.hypno.cum != 100) && slave.titles.includes("Incubus")) {
		removeTitle(slave, "Incubus");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Incubus].@@</b><br>" + slave.name + " is no longer a masculine who was hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum."
	}
  
  //Loyal Slave//
	if(slave.obedience.base == 100 && !slave.titles.includes("Loyal Slave")) {
		addTitle(slave, "Loyal Slave");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Loyal Slave].@@</b><br>" + slave.name + " is completely obedient to whomever is <<print $hisher['" + slave.gender + "']>> master. While <<print $heshe['" + slave.gender + "']>> may have some small issues with following orders, <<print $hisher['" + slave.gender + "']>> level of obedience is pretty much the highest you can expect from a slave."

	} else if(slave.obedience.base != 100 && slave.titles.includes("Loyal Slave")) {
		removeTitle(slave, "Loyal Slave");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Loyal Slave].@@</b><br>" + slave.name + " is no longer completely obedient."
	}
  
  //Man Eater//
	if(slave.hypno.sadism == 100 && slave.stats.strumpetry == 100 && !slave.titles.includes("Man Eater")) {
		addTitle(slave, "Man Eater");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Man Eater].@@</b><br>" + slave.name + " has been trained to be a sex loving slut who has been hypnotized to feel pleasure giving and seeing others in pain. <<print $HeShe['" + slave.gender + "']>> enjoys inflicting both psychological and physical pain upon the people <<print $heshe['" + slave.gender + "']>> has sex with."

	} else if((slave.hypno.sadism != 100 || slave.stats.strumpetry != 100) && slave.titles.includes("Man Eater")) {
		removeTitle(slave, "Man Eater");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Man Eater].@@</b><br>" + slave.name + " is no longer a sex loving slut who was hypnotized to feel pleasure giving and seeing others in pain."
	}
  
  //Masculine//
	if(slave.stats.masculinity == 100 && !slave.titles.includes("Masculine")) {
		addTitle(slave, "Masculine");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Masculine].@@</b><br>" + slave.name + " has been trained to be like a true masculine. This usually pertains to things outside of sex and has little to no bearing on <<print $hisher['" + slave.gender + "']>> actual personality."

	} else if(slave.stats.masculinity != 100 && slave.titles.includes("Masculine")) {
		removeTitle(slave, "Masculine");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Masculine].@@</b><br>" + slave.name + " no longer has the ability to be a true masculine."
	}
  
  //Masculine Bottom//
	if(slave.stats.masculinity == 100 && slave.stats.submissive == 100 && !slave.titles.includes("Masculine Bottom")) {
		addTitle(slave, "Masculine Bottom");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Masculine Bottom].@@</b><br>" + slave.name + " has been trained to be like a true masculine as well as trained on how to be a proper submissive. <<print $HeShe['" + slave.gender + "']>> acts masculine during most of the day but during any sexual act <<print $heshe['" + slave.gender + "']>> takes on a much more submissive role."

	} else if((slave.stats.masculinity != 100 || slave.stats.submissive != 100) && slave.titles.includes("Masculine Bottom")) {
		removeTitle(slave, "Masculine Bottom");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Masculine Bottom].@@</b><br>" + slave.name + " no longer has the ability to be as a true masculine while being submissive during sexual encounters."
	}
  
  //Masculine Muscle Bimbo//
	if(slave.hypno.bimbo == 100 && slave.stats.masculinity == 100 && slave.hypno.muscle == 100 && !slave.titles.includes("Masculine Muscle Bimbo")) {
		addTitle(slave, "Masculine Muscle Bimbo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Masculine Muscle Bimbo].@@</b><br>" + slave.name + " has been hypnotized into a bimbo who acts masculine. Nothing goes on in <<print $hisher['" + slave.gender + "']>> head other than <<print $hisher['" + slave.gender + "']>> fitness, sex, clothing and other things of that nature."

	} else if((slave.hypno.bimbo != 100 || slave.hypno.muscle != 100 || slave.stats.masculinity != 100) && slave.titles.includes("Masculine Muscle Bimbo")) {
		removeTitle(slave, "Masculine Muscle Bimbo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Masculine Muscle Bimbo].@@</b><br>" + slave.name + " is no longer conditioned to think like an air headed bimbo obsessed with <<print $hisher['" + slave.gender + "']>> fitness who is trained to be masculine."
	}
  
  //Masculine Top//
	if(slave.stats.masculinity == 100 && slave.stats.dominant == 100 && !slave.titles.includes("Masculine Top")) {
		addTitle(slave, "Masculine Top");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Masculine Top].@@</b><br>" + slave.name + " has been trained to be like a true masculine as well as trained on how to be a proper submissive. <<print $HeShe['" + slave.gender + "']>> acts masculine during most of the day and during any sexual act <<print $heshe['" + slave.gender + "']>> takes on a much dominant role."

	} else if((slave.stats.masculinity != 100 || slave.stats.dominant != 100) && slave.titles.includes("Masculine Top")) {
		removeTitle(slave, "Masculine Top");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Masculine Top].@@</b><br>" + slave.name + " no longer has the ability to be a true masculine while being dominant during sexual encounters."
	}
  
  //Masochist//
	if(slave.hypno.masochism == 100 && !slave.titles.includes("Masochist")) {
		addTitle(slave, "Masochist");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Masochist].@@</b><br>" + slave.name + " has been hypnotized to feel pain as pleasure. Masochists aren’t necessarily submissive but usually find that they can get the most pleasure from people who hold power over them."

	} else if(slave.hypno.masochism != 100 && slave.titles.includes("Masochist")) {
		removeTitle(slave, "Masochist");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Masochist].@@</b><br>" + slave.name + " is no longer completely hypnotized to enjoy pain as pleasure."
	}
  
  //Muscle Bimbo//
	if(slave.hypno.bimbo == 100 && slave.hypno.muscle == 100 && !slave.titles.includes("Muscle Bimbo")) {
		addTitle(slave, "Muscle Bimbo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Muscle Bimbo].@@</b><br>" + slave.name + " has been hypnotized into a bimbo. Nothing goes on in <<print $hisher['" + slave.gender + "']>> head other than <<print $hisher['" + slave.gender + "']>> fitness, sex, clothing and other things of that nature."

	} else if((slave.hypno.bimbo != 100 || slave.hypno.muscle != 100) && slave.titles.includes("Muscle Bimbo")) {
		removeTitle(slave, "Muscle Bimbo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Muscle Bimbo].@@</b><br>" + slave.name + " is no longer conditioned to think like an air headed bimbo obsessed with <<print $hisher['" + slave.gender + "']>> fitness."
	}
  
  //Muscle Bitch//
	if(slave.stats.femininity == 100 && slave.stats.submissive == 100 && slave.hypno.muscle == 100 && !slave.titles.includes("Muscle Bitch")) {
		addTitle(slave, "Muscle Bitch");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Muscle Bitch].@@</b><br>" + slave.name + " has been hypnotized into an airhead who thinks about nothing except <<print $hisher['" + slave.gender + "']>> own fitness and has been trained to be like a true feminine as well as trained on how to be a proper submissive. <<print $HeShe['" + slave.gender + "']>> acts completely feminine throughout most of the day and becomes servile during any bedroom play."

	} else if((slave.stats.femininity != 100 || slave.stats.submissive != 100 || slave.hypno.muscle != 100) && slave.titles.includes("Muscle Bitch")) {
		removeTitle(slave, "Muscle Bitch");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Muscle Bitch].@@</b><br>" + slave.name + " is no longer conditioned to think like an air headed bimbo obsessed with <<print $hisher['" + slave.gender + "']>> fitness who has the ability to be as a true feminine while being submissive during sexual encounters."
	}
  
  //Muscle Slave//
	if(slave.stats.masculinity == 100 && slave.stats.submissive == 100 && slave.hypno.muscle == 100 && !slave.titles.includes("Muscle Slave")) {
		addTitle(slave, "Muscle Slave");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Muscle Slave].@@</b><br>" + slave.name + " has been hypnotized into an airhead who thinks about nothing except <<print $hisher['" + slave.gender + "']>> own fitness and trained to be like a submissive masculine. <<print $HeShe['" + slave.gender + "']>> acts masculine during most of the day but during any sexual act <<print $heshe['" + slave.gender + "']>> takes on a much more submissive role."

	} else if((slave.stats.masculinity != 100 || slave.stats.submissive != 100 || slave.hypno.muscle != 100) && slave.titles.includes("Muscle Slave")) {
		removeTitle(slave, "Muscle Slave");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Muscle Slave].@@</b><br>" + slave.name + " is no longer conditioned to think like an air headed bimbo obsessed with <<print $hisher['" + slave.gender + "']>> fitness who is trained to be like a submissive masculine."
	}
  
  //Painslut//
	if(slave.hypno.masochism == 100 && slave.stats.strumpetry == 100 && !slave.titles.includes("Painslut")) {
		addTitle(slave, "Painslut");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Painslut].@@</b><br>" + slave.name + " has been hypnotized to feel all but the most intense pain as pleasure. Coupled with the fact that <<print $heshe['" + slave.gender + "']>> has been trained to love and crave sex, " + slave.name + " has been trained to love a very rough play during sexual intercourse."

	} else if((slave.hypno.masochism != 100 || slave.stats.strumpetry != 100) && slave.titles.includes("Painslut")) {
		removeTitle(slave, "Painslut");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Painslut].@@</b><br>" + slave.name + " is no longer completely hypnotized to enjoy pain as pleasure while craving sex."
	}
  
  //Perfect Slave//
	if(slave.fear.base == 0 && slave.obedience.base == 100 && slave.trust.base == 100 && !slave.titles.includes("Perfect Slave")) {
		addTitle(slave, "Perfect Slave");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Perfect Slave].@@</b><br>" + slave.name + " not only is as obedient as a slave can be, but <<print $heshe['" + slave.gender + "']>> has no fears about <<print $hisher['" + slave.gender + "']>> future as a slave and is very trustful of you."

	} else if((slave.fear.base != 0 || slave.obedience.base != 100 || slave.trust.base != 100) && slave.titles.includes("Perfect Slave")) {
		removeTitle(slave, "Perfect Slave");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Perfect Slave].@@</b><br>" + slave.name + " is no longer completely obedient, fearless and trustful."
	}
  
  //Sadist//
	if(slave.hypno.sadism == 100 && !slave.titles.includes("Sadist")) {
		addTitle(slave, "Sadist");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Sadist].@@</b><br>" + slave.name + " has been hypnotized to feel pleasure giving and seeing others in pain. Sadists aren’t necessarily submissive but usually find that they can get the most pleasure from people who they hold power over."

	} else if(slave.hypno.sadism != 100 && slave.titles.includes("Sadist")) {
		removeTitle(slave, "Sadist");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Sadist].@@</b><br>" + slave.name + " is no longer completely hypnotized to feel pleasure giving and seeing others in pain."
	}
  
  //Sex Fiend//
	if(slave.stats.manual == 100 && slave.stats.oral == 100 && slave.stats.mammary == 100 && slave.stats.vanilla == 100 && slave.stats.anal == 100 && !slave.titles.includes("Sex Fiend")) {
		addTitle(slave, "Sex Fiend");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Sex Fiend].@@</b><br>" + slave.name + " has been been trained to be an expert on giving sexual pleasure. Sex fiends don't necessarily enjoy sex but they still make for very experienced and talented sexual partners."

	} else if((slave.stats.manual != 100 || slave.stats.oral != 100 || slave.stats.mammary != 100 || slave.stats.vanilla != 100 || slave.stats.anal != 100) && slave.titles.includes("Sex Fiend")) {
		removeTitle(slave, "Sex Fiend");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Sex Fiend].@@</b><br>" + slave.name + " is no longer an expert on giving sexual pleasure."
	}
  
  //Sex Slave//
	if(slave.hypno.masochism == 100 && slave.stats.submissive == 100 && !slave.titles.includes("Sex Slave")) {
		addTitle(slave, "Sex Slave");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Sex Slave].@@</b><br>" + slave.name + " has been hypnotized to feel all but the most intense pain as pleasure. <<print $HeShe['" + slave.gender + "']>> has also been trained to be like a submissive inside and outside of the bedroom, making <<print $himher['" + slave.gender + "']>> perfect as a general use sex slave."

	} else if((slave.hypno.masochism != 100 || slave.stats.submissive != 100) && slave.titles.includes("Sex Slave")) {
		removeTitle(slave, "Sex Slave");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Sex Slave].@@</b><br>" + slave.name + " is no longer completely hypnotized to enjoy pain as pleasure while craving sex while being trained to be like a submissive."
	}
  
  //Sissy//
	if(slave.stats.sissification == 100 && !slave.titles.includes("Sissy")) {
		slave.gender = "female"
		addTitle(slave, "Sissy");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Sissy].@@</b><br>" + slave.name + " has been psychologically trained to think and be a woman. <<print $HeShe['" + slave.gender + "']>> hopes to one day be transformed physically into a woman. " + slave.name + " uses female pronouns."

	} else if(slave.stats.sissification != 100 && slave.titles.includes("Sissy")) {
		removeTitle(slave, "Sissy");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Sissy].@@</b><br>" + slave.name + " conditioning to make <<print $himher['" + slave.gender + "']>> think and be a woman has begun to fade."
	}
  
  //Sissy Bimbo//
	if(slave.hypno.bimbo == 100 && slave.stats.sissification == 100 && !slave.titles.includes("Sissy Bimbo")) {
		addTitle(slave, "Sissy Bimbo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Sissy Bimbo].@@</b><br>" + slave.name + " has been conditioned to think and be a woman. <<print $HeShe['" + slave.gender + "']>> has also been hypnotized into a bimbo. Nothing goes on in <<print $hisher['" + slave.gender + "']>> head other than sex, clothing and other things of that nature."

	} else if((slave.hypno.bimbo != 100 || slave.stats.sissification != 100) && slave.titles.includes("Sissy Bimbo")) {
		removeTitle(slave, "Sissy Bimbo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Sissy Bimbo].@@</b><br>" + slave.name + " is no longer conditioned to think like an air headed bimbo female."
	}
  
  //Sissy Slut//
	if(slave.ogsex != slave.sex && slave.stats.sissification == 100 && slave.stats.strumpetry == 100 && !slave.titles.includes("Sissy Slut")) {
		addTitle(slave, "Sissy Slut");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Sissy Slut].@@</b><br>" + slave.name + " has been thoroughly trained to think and be a woman as well as trained to love and crave any kind of sex. On top of this <<print $heshe['" + slave.gender + "']>> has also been physically transformed into a woman to match <<print $hisher['" + slave.gender + "']>> mentality."

	} else if((slave.ogsex == slave.sex || slave.stats.sissification != 100 || slave.stats.strumpetry != 100) && slave.titles.includes("Sissy Slut")) {
		removeTitle(slave, "Sissy Slut");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Sissy Slut].@@</b><br>" + slave.name + " is no longer a physically transformed sissy that is trained to think and be a woman who loves and craves sex."
	}
  
  //Sissy Slut Bimbo//
	if(slave.ogsex != slave.sex && slave.hypno.bimbo == 100 && slave.stats.sissification == 100 && slave.stats.strumpetry == 100 && !slave.titles.includes("Sissy Slut Bimbo")) {
		addTitle(slave, "Sissy Slut Bimbo");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the rare title [Sissy Slut Bimbo].@@</b><br>Not only is " + slave.name + " a transformed sissy, the only thing <<print $heshe['" + slave.gender + "']>> is concerned with is sex, clothing, <<print $hisher['" + slave.gender + "']>> appearance and more sex. <<print $heshe['" + slave.gender + "']>> has also been trained to crave any type of sex <<print $heshe['" + slave.gender + "']>> can get."

	} else if((slave.ogsex == slave.sex || slave.hypno.bimbo != 100 || slave.stats.sissification != 100 || slave.stats.strumpetry != 100) && slave.titles.includes("Sissy Slut Bimbo")) {
		removeTitle(slave, "Sissy Slut Bimbo");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the rare title [Sissy Slut Bimbo].@@</b><br>" + slave.name + " is no longer a transformed sissy that has been conditioned to think of <<print $himselfherself['" + slave.gender + "']>> as a woman with nothing in mind other than sex and <<print $hisher['" + slave.gender + "']>> appearance."
	}
  
  //Slave//
	if(!slave.titles.includes("Slave")) {
		addTitle(slave, "Slave");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Slave].@@</b><br>" + slave.name + " has lost all right to <<print $hisher['" + slave.gender + "']>> person, and now belongs to someone else. The only way <<print $heshe['" + slave.gender + "']>> will find freedom is if <<print $hisher['" + slave.gender + "']>> owner sets <<print $himher['" + slave.gender + "']>> free."

	} /*else if(slave.titles.includes("Slave")) {
		removeTitle(slave, "Slave");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Slave].@@</b><br>" + slave.name + " is no longer a slave."
	}*/
  
  //Slut//
	if(slave.stats.strumpetry == 100 && !slave.titles.includes("Slut")) {
		addTitle(slave, "Slut");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Slut].@@</b><br>" + slave.name + " has been trained to love and crave sex. This does not necessarily mean that <<print $heshe['" + slave.gender + "']>> is good at sex, but <<print $heshe['" + slave.gender + "']>> brings a level of enthusiasm to <<print $hisher['" + slave.gender + "']>> sexual performance that can't be taught through singular sexual skills."

	} else if(slave.stats.strumpetry != 100 && slave.titles.includes("Slut")) {
		removeTitle(slave, "Slut");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Slut].@@</b><br>" + slave.name + " no longer craves and loves sex."
	}
  
  //Sow//
	if(slave.hypno.domesticated == 100 && slave.stats.breeding == 100 && ["female", "futanari"].includes(slave.sex) && !slave.titles.includes("Sow")) {
		addTitle(slave, "Sow");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Sow].@@</b><br>" + slave.name + " has been trained to be a domesticated breeding animal. <<print $HeShe['" + slave.gender + "']>> whole purpose is to be breed by as many bulls as possible before getting too old."

	} else if((slave.hypno.domesticated != 100 || slave.stats.breeding != 100 || !["female", "futanari"].includes(slave.sex)) && slave.titles.includes("Sow")) {
		removeTitle(slave, "Sow");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Sow].@@</b><br>" + slave.name + " conditioning to make <<print $himher['" + slave.gender + "']>> a domesticated breeding animal has begun to fade."
	}
  
  //Submissive//
	if(slave.stats.submissive == 100 && !slave.titles.includes("Submissive")) {
		addTitle(slave, "Submissive");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Submissive].@@</b><br>" + slave.name + " has been trained to play the submissive role during and outside of sexual intercourse. This doesn’t mean that <<print $hisher['" + slave.gender + "']>> personality is submissive, it simply means that <<print $heshe['" + slave.gender + "']>> knows how to play the role properly."

	} else if(slave.stats.submissive != 100 && slave.titles.includes("Submissive")) {
		removeTitle(slave, "Submissive");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Submissive].@@</b><br>" + slave.name + " no longer as the ability to play the submissive role during and outside of sexual intercourse."
	}
  
  //Succubus//
	if(slave.hypno.sadism == 100 && slave.stats.strumpetry == 100 && slave.hypno.cum == 100 && !slave.titles.includes("Succubus")) {
		addTitle(slave, "Succubus");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the unique title [Succubus].@@</b><br>" + slave.name + " has been trained to be a sex loving slut who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. <<print $HeShe['" + slave.gender + "']>> will often sadistically play with <<print $hisher['" + slave.gender + "']>> partners before draining them of their cum, male or female."

	} else if((slave.hypno.sadism != 100 || slave.stats.strumpetry != 100 || slave.hypno.cum != 100) && slave.titles.includes("Succubus")) {
		removeTitle(slave, "Succubus");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the unique title [Succubus].@@</b><br>" + slave.name + " is no longer a sex loving slut who was hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum."
	}
  
  //Superjock//
	if(slave.hypno.muscle == 100 && !slave.titles.includes("Superjock")) {
		addTitle(slave, "Superjock");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the common title [Superjock].@@</b><br>" + slave.name + " has been hypnotized into an airhead who thinks about nothing but <<print $hisher['" + slave.gender + "']>> own fitness. Nothing of importance goes on in <<print $hisher['" + slave.gender + "']>> head, <<print $heshe['" + slave.gender + "']>> only thinks of fitness related things. Being turned into a superjock has not affected <<print $hisher['" + slave.gender + "']>> intelligence despite <<print $hisher['" + slave.gender + "']>> change in thinking."

	} else if(slave.hypno.muscle != 100 && slave.titles.includes("Superjock")) {
		removeTitle(slave, "Superjock");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the common title [Superjock].@@</b><br>" + slave.name + " no longer is a fitness addict."
	}
  
  //Switch//
	if(slave.stats.dominant == 100 && slave.stats.submissive == 100 && !slave.titles.includes("Switch")) {
		addTitle(slave, "Switch");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Switch].@@</b><br>" + slave.name + " has been trained to play the dominant and submissive role during and outside of sexual intercourse. This doesn’t mean that <<print $hisher['" + slave.gender + "']>> personality is dominant or submissive, it simply means that <<print $heshe['" + slave.gender + "']>> knows how to play the role properly."

	} else if((slave.stats.dominant != 100 || slave.stats.submissive != 100) && slave.titles.includes("Switch")) {
		removeTitle(slave, "Switch");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Switch].@@</b><br>" + slave.name + " no longer has the ability to play both the dominant and submissive roles during and outside of sexual intercourse."
	}
  
  //Transformed Brody//
	if(slave.ogsex != slave.sex && slave.stats.sissification == 100 && !slave.titles.includes("Transformed Brody")) {
		addTitle(slave, "Transformed Brody");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Transformed Brody].@@</b><br>Not only has " + slave.name + " been conditioned to think and behave like a man, <<print $heshe['" + slave.gender + "']>> has been physically transformed to be one as well."

	} else if((slave.ogsex == slave.sex || slave.stats.sissification != 100) && slave.titles.includes("Transformed Brody")) {
		removeTitle(slave, "Transformed Brody");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Transformed Brody].@@</b><br>" + slave.name + " is no longer a physically transformed brody that is trained to be and think like a man."
	}
  
  //Transformed Sissy//
	if(slave.ogsex != slave.sex && slave.stats.sissification == 100 && !slave.titles.includes("Transformed Sissy")) {
		addTitle(slave, "Transformed Sissy");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Transformed Sissy].@@</b><br>Not only has " + slave.name + " been conditioned to think and behave like a woman, <<print $heshe['" + slave.gender + "']>> has been physically transformed to be one as well."

	} else if((slave.ogsex == slave.sex || slave.stats.sissification != 100) && slave.titles.includes("Transformed Sissy")) {
		removeTitle(slave, "Transformed Sissy");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Transformed Sissy].@@</b><br>" + slave.name + " is no longer a physically transformed sissy that is trained to be and think like a woman."
	}
  
  //Trustful Slave//
	if(slave.trust.base == 100 && !slave.titles.includes("Trustful Slave")) {
		addTitle(slave, "Trustful Slave");
		slave.update[slave.update.length] = "<b>@@color:forestgreen;" + slave.name + " has gained the uncommon title [Trustful Slave].@@</b><br>" + slave.name + " has complete trust in you, deferring all <<print $hisher['" + slave.gender + "']>> life decisions to you as <<print $heshe['" + slave.gender + "']>> understands that you, and only you can make the best decisions for <<print $himher['" + slave.gender + "']>>. "

	} else if(slave.trust.base != 100 && slave.titles.includes("Trustful Slave")) {
		removeTitle(slave, "Trustful Slave");
		slave.update[slave.update.length] = "<b>@@color:red;" + slave.name + " has lost the uncommon title [Trustful Slave].@@</b><br>" + slave.name + " has began to rely more on <<print $himselfherself['" + slave.gender + "']>>."
	}
}

window.updateHypnoTrait = function(slave, incense, trait){
	var power = 0

	if(incense.name == "Lesser Slime Incense") {
		power = 6.66667
	} else if(incense.name == "Greater Slime Incense") {
		power = 8.33333
	}

	if(variables().subtitles.includes(slave.title)) {
		power = power*1.2
	}

	trait = Math.clamp(trait+power, 0, 100);

	return Math.round(trait);

}

window.Transformation = function(slave, item, title, player) {
	var gain = 0

	if(player) {
		var himher = "yourself"
	} else {
		var himher = "<<print $himher['" + slave.gender + "']>>"
	}

	if(player) {
		var hisher = "your"
	} else {
		var hisher = "<<print $hisher['" + slave.gender + "']>>"
	}

	if(player) {
		var HisHer = "Your"
	} else {
		var HisHer = "<<print $HisHer['" + slave.gender + "']>>"
	}

	if(player) {
		var heshe = "you"
	} else {
		var heshe = "<<print $heshe['" + slave.gender + "']>>"
	}

	if(item.name == "Cum Enhancement Potion") {
		slave.cum.quality.bonus = 1
		slave.cum.quantity.bonus = 1
		slave.cum.taste.bonus = 1

		if(slave.transformation.duration == item.duration) {
			if(["futanari", "male", "shemale"].contains(slave.sex)) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;cum to increase in quality, quantity and taste.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Milk Enhancement Potion") {
		slave.milk.quality.bonus = 1
		slave.milk.quantity.bonus = 1
		slave.milk.taste.bonus = 1

		if(slave.transformation.duration == item.duration) {
			if(slave.lactating.permanent) {
				if(slave.sex == "male") {
					slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;milk to increase in quality, quantity and taste.@@ Since " + heshe + " is biologically male, " + hisher + " milk might not be affected by this potion."
				} else {
					slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;milk to increase in quality, quantity and taste.@@"
				}

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is not lactating, @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Nectar Enhancement Potion") {
		slave.nectar.quality.bonus = 1
		slave.nectar.quantity.bonus = 1
		slave.nectar.taste.bonus = 1

		if(slave.transformation.duration == item.duration) {
			if(["futanari", "female"].contains(slave.sex) && slave.nectaring.permanent) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;nectar to increase in quality, quantity and taste.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is not producing nectar, @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Cock Hormonal Potion") {
		slave.impermanent.cock = 1

		if(slave.transformation.duration == item.duration) {
			if(slave.sex == "female") {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;to grow a cock.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Bust Hormonal Potion") {
		slave.impermanent.bust = 1

		if(slave.transformation.duration == item.duration) {
			if(slave.sex == "male") {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;to grow breasts.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Nectar Induction Elixir") {
		if(slave.transformation.duration == item.duration) {
			if(slave.nectaring.permanent) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " is already producing nectar.@@"

			} else if(["futanari", "female"].contains(slave.sex)) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;pussy to start producing nectar permanently.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}

		slave.nectaring.permanent = 1
	}

	if(item.name == "Lactation Induction Elixir") {
		if(slave.transformation.duration == item.duration) {
			if(slave.lactating.permanent) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " is permanently lactating.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex)) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;breasts to start lactating permanently.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;to start lactating permanently.@@ Milk from males are only half the quality of milk from females."
			}
		}

		slave.lactating.permanent = 1
	}

	if(item.name == "Lactation Induction Potion") {
		slave.lactating.temporary = 1

		if(slave.transformation.duration == item.duration) {
			if(["futanari", "female", "shemale"].contains(slave.sex)) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;to start lactating.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;to start lactating.@@ Milk from males are only half the quality of milk from females."
			}
		}
	}

	if(item.name == "Nectar Induction Potion") {
		slave.nectaring.temporary = 1

		if(slave.transformation.duration == item.duration) {
			if(["futanari", "female"].contains(slave.sex)) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;pussy to start producing nectar.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Lesser Cock Length Growth Potion") {
		slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but @@color:yellow;nothing happened@@. Transformative potions no longer affect slave stats. To buy more permanent and effective elixirs join the Slaver's Guild."
	}

	if(item.name == "Lesser Cock Girth Growth Potion") {
		slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but @@color:yellow;nothing happened@@. Transformative potions no longer affect slave stats. To buy more permanent and effective elixirs join the Slaver's Guild."
	}

	if(item.name == "Lesser Testicle Growth Potion") {
		slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but @@color:yellow;nothing happened@@. Transformative potions no longer affect slave stats. To buy more permanent and effective elixirs join the Slaver's Guild."
	}

	if(item.name == "Lesser Bust Growth Potion") {
		slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but @@color:yellow;nothing happened@@. Transformative potions no longer affect slave stats. To buy more permanent and effective elixirs join the Slaver's Guild."
	}

	if(item.name == "Lesser Clit Growth Potion") {
		slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but @@color:yellow;nothing happened@@. Transformative potions no longer affect slave stats. To buy more permanent and effective elixirs join the Slaver's Guild."
	}

	if(item.name == "Lesser Pussy Growth Potion") {
		slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but @@color:yellow;nothing happened@@. Transformative potions no longer affect slave stats. To buy more permanent and effective elixirs join the Slaver's Guild."
	}
  
  if(item.name == "Lesser Lip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.lips.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.lips.current >= 1) {
				slave.lips.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;lips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Lesser Shoulder Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.shoulders.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.shoulders.current >= 1) {
				slave.shoulders.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;shoulders to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Lesser Hip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.hips.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.hips.current >= 1) {
				slave.hips.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;hips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Lesser Torso Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.torso.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.torso.current >= 1) {
				slave.torso.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;torso to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Lesser Leg Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.legs.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.legs.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;legs to permanently grow in size.@@"

			}
		}
	}
  
  if(item.name == "Lesser Ass Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.butt.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.butt.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;ass to permanently grow in size.@@"

			}
		}
	}

	if(item.name == "Lesser Cock Length Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.cock.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.cock.current >= 1) {
				slave.cock.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;cock to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Lesser Cock Girth Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.girth.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.girth.current >= 1) {
				slave.girth.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;girth to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Lesser Testicle Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.balls.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.balls.current >= 1) {
				slave.balls.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;balls to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Lesser Bust Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.bust.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.bust.current >= 1) {
				slave.bust.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;bust to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Lesser Clit Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.clit.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(slave.sex == "female" || slave.clit.current >= 1) {
				slave.clit.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;clit to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Lesser Pussy Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.pussy.bonus >= 1) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female"].contains(slave.sex) || slave.pussy.current >= 1) {
				slave.pussy.bonus = 1
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;pussy to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Lip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.lips.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.lips.current >= 1) {
				slave.lips.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;lips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Shoulder Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.shoulders.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.shoulders.current >= 1) {
				slave.shoulders.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;shoulders to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Hip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.hips.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.hips.current >= 1) {
				slave.hips.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;hips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Torso Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.torso.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.torso.current >= 1) {
				slave.torso.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;torso to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Leg Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.legs.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.legs.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;legs to permanently grow in size.@@"

			}
		}
	}
  
  if(item.name == "Ass Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.butt.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.butt.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;ass to permanently grow in size.@@"

			}
		}
	}

	if(item.name == "Cock Length Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.cock.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.cock.current >= 1) {
				slave.cock.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;cock to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Cock Girth Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.girth.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.girth.current >= 1) {
				slave.girth.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;girth to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Testicle Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.balls.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.balls.current >= 1) {
				slave.balls.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;balls to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Bust Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.bust.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.bust.current >= 1) {
				slave.bust.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;bust to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Clit Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.clit.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(slave.sex == "female" || slave.clit.current >= 1) {
				slave.clit.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;clit to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Pussy Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.pussy.bonus >= 2) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female"].contains(slave.sex) || slave.pussy.current >= 1) {
				slave.pussy.bonus = 2
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;pussy to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Greater Lip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.lips.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.lips.current >= 1) {
				slave.lips.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;lips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Greater Shoulder Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.shoulders.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.shoulders.current >= 1) {
				slave.shoulders.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;shoulders to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Greater Hip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.hips.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.hips.current >= 1) {
				slave.hips.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;hips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Greater Torso Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.torso.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.torso.current >= 1) {
				slave.torso.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;torso to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Greater Leg Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.legs.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.legs.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;legs to permanently grow in size.@@"

			}
		}
	}
  
  if(item.name == "Greater Ass Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.butt.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.butt.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;ass to permanently grow in size.@@"

			}
		}
	}

	if(item.name == "Greater Cock Length Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.cock.bonus >= 6) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.cock.current >= 1) {
				slave.cock.bonus = 6
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;cock to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Greater Cock Girth Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.girth.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.girth.current >= 1) {
				slave.girth.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;girth to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Greater Testicle Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.balls.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.balls.current >= 1) {
				slave.balls.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;balls to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Greater Bust Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.bust.bonus >= 6) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.bust.current >= 1) {
				slave.bust.bonus = 6
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;bust to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Greater Clit Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.clit.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(slave.sex == "female" || slave.clit.current >= 1) {
				slave.clit.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;clit to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Greater Pussy Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.pussy.bonus >= 3) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female"].contains(slave.sex) || slave.pussy.current >= 1) {
				slave.pussy.bonus = 3
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;pussy to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Grand Lip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.lips.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.lips.current >= 1) {
				slave.lips.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;lips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Grand Shoulder Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.shoulders.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.shoulders.current >= 1) {
				slave.shoulders.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;shoulders to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Grand Hip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.hips.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.hips.current >= 1) {
				slave.hips.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;hips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Grand Torso Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.torso.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.torso.current >= 1) {
				slave.torso.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;torso to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Grand Leg Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.legs.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.legs.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;legs to permanently grow in size.@@"

			}
		}
	}
  
  if(item.name == "Grand Ass Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.butt.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.butt.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;ass to permanently grow in size.@@"

			}
		}
	}

	if(item.name == "Grand Cock Length Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.cock.bonus >= 8) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.cock.current >= 1) {
				slave.cock.bonus = 8
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;cock to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Grand Cock Girth Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.girth.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.girth.current >= 1) {
				slave.girth.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;girth to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Grand Testicle Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.balls.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.balls.current >= 1) {
				slave.balls.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;balls to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Grand Bust Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.bust.bonus >= 8) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.bust.current >= 1) {
				slave.bust.bonus = 8
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;bust to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Grand Clit Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.clit.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(slave.sex == "female" || slave.clit.current >= 1) {
				slave.clit.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;clit to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Grand Pussy Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.pussy.bonus >= 4) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female"].contains(slave.sex) || slave.pussy.current >= 1) {
				slave.pussy.bonus = 4
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;pussy to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Sovereign Lip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.lips.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.lips.current >= 1) {
				slave.lips.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;lips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Sovereign Shoulder Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.shoulders.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.shoulders.current >= 1) {
				slave.shoulders.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;shoulders to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Sovereign Hip Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.hips.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.hips.current >= 1) {
				slave.hips.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;hips to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Sovereign Torso Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.torso.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["male"].contains(slave.sex) || slave.torso.current >= 1) {
				slave.torso.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;torso to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}
  
  if(item.name == "Sovereign Leg Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.legs.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.legs.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;legs to permanently grow in size.@@"

			}
		}
	}
  
  if(item.name == "Sovereign Ass Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.butt.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else {
				slave.butt.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;ass to permanently grow in size.@@"

			}
		}
	}

	if(item.name == "Sovereign Cock Length Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.cock.bonus >= 10) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.cock.current >= 1) {
				slave.cock.bonus = 10
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;cock to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Sovereign Cock Girth Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.girth.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.girth.current >= 1) {
				slave.girth.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;girth to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Sovereign Testicle Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.balls.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "male", "shemale"].contains(slave.sex) || slave.balls.current >= 1) {
				slave.balls.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;balls to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Sovereign Bust Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.bust.bonus >= 10) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female", "shemale"].contains(slave.sex) || slave.bust.current >= 1) {
				slave.bust.bonus = 10
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;bust to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Sovereign Clit Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.clit.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(slave.sex == "female" || slave.clit.current >= 1) {
				slave.clit.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;clit to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Sovereign Pussy Growth Elixir") {
		slave.transformation.item = "None"

		if(slave.transformation.duration == item.duration) {
			if(slave.pussy.bonus >= 5) {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but it has @@color:yellow;no effect@@ because " + heshe + " has already been given an elixir that is stronger or of equal strength.@@"

			} else if(["futanari", "female"].contains(slave.sex) || slave.pussy.current >= 1) {
				slave.pussy.bonus = 5
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week, causing " + hisher + " @@color:forestgreen;pussy to permanently grow in size.@@"

			} else {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week but since " + heshe + " is biologically " + slave.sex + ", @@color:yellow;nothing happened@@."
			}
		}
	}

	if(item.name == "Lesser Alteration Potion") {
		if(slave.transformation.duration == item.duration) {
			if(slave.sex == "male") {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week. " + HisHer + " @@color:forestgreen;bust, pussy and clit have grown slightly in size@@ while " + hisher + " @@color:red;cock, girth and balls have shrunk slightly in size.@@"

			} else if(slave.sex == "female") {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week. " + HisHer + " @@color:forestgreen;cock, girth and balls have grown slightly in size@@ while " + hisher + " @@color:red;bust, pussy and clit have shrunk slightly in size.@@"
        
			} else if(slave.sex == "futanari") {
        slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the weekbut since " + heshe + " is biologically a " + slave.sex + ", @@color:yellow;nothing happened@@."
        return
        
      }
      
      gain = rand(5, 15)
      
      if(variables().sissytitles.includes(title) && slave.sex == "male") {
        gain = Math.round(gain*1.2)
      } else if(variables().brodytitles.includes(title) && slave.sex == "female") {
        gain = Math.round(gain*1.2)
      }
  
  		slave.transformation.progress = Math.clamp(slave.transformation.progress+gain, 0, 100)
		}
	}

	if(item.name == "Greater Alteration Potion") {
		if(slave.transformation.duration == item.duration) {
			if(slave.sex == "male") {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week. " + HisHer + " @@color:forestgreen;bust, pussy and clit have grown slightly in size@@ while " + hisher + " @@color:red;cock, girth and balls have shrunk slightly in size.@@"

			} else if(slave.sex == "female") {
				slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the week. " + HisHer + " @@color:forestgreen;cock, girth and balls have grown in size@@ while " + hisher + " @@color:red;bust, pussy and clit have shrunk in size.@@"
        
			} else if(slave.sex == "futanari") {
        slave.info.endweek = "You fed " + himher + " a <b>" + item.name + "</b> throughout the weekbut since " + heshe + " is biologically a " + slave.sex + ", @@color:yellow;nothing happened@@."
        return
        
      }
      
      gain = rand(15, 25)
  
      if(variables().sissytitles.includes(title) && slave.sex == "male") {
        gain = Math.round(gain*1.2)
      } else if(variables().brodytitles.includes(title) && slave.sex == "female") {
        gain = Math.round(gain*1.2)
      }
  
  		slave.transformation.progress = Math.clamp(slave.transformation.progress+gain, 0, 100)
		}
	}

	getSexTraits(slave)
}

window.resetBonus = function(slave) {
  slave.impermanent.cock = 0
	slave.impermanent.bust = 0
	slave.impermanent.clit = 0
	slave.impermanent.pussy = 0
	slave.impermanent.balls = 0

	slave.lactating.temporary = 0
	slave.nectaring.temporary = 0

	slave.cum.quality.bonus = 0
	slave.cum.quantity.bonus = 0
	slave.cum.taste.bonus = 0

	slave.milk.quality.bonus = 0
	slave.milk.quantity.bonus = 0
	slave.milk.taste.bonus = 0

	slave.nectar.quality.bonus = 0
	slave.nectar.quantity.bonus = 0
	slave.nectar.taste.bonus = 0

	slave.sexual.fertility.bonus = 0
	slave.sexual.libido.bonus = 0
	slave.sexual.strength.bonus = 0
	slave.sexual.speed.bonus = 0
	slave.sexual.stamina.bonus = 0
	slave.sexual.control.bonus = 0

  /*
	if(slave.pregnancy.weeks >= 12) {
		if(slave.pregnancy.recovery > 0) {
			slave.bust.bonus += 1
		} else {
			slave.bust.bonus += 2
		}

	} else if(slave.pregnancy.weeks >= 4) {
		slave.bust.bonus += 1
	}
  */

	getSexTraits(slave)
}

window.checkItems = function(slave) {
	var newItem
	var currentItem
	var message
  var player = 0
  var inventory = variables().inventory
  var title = slave.title
  
  if(slave.ID == "PLAYER") {
    player = 1
  }

	if(slave.transformation.circulating != "None") {
		for(var i = 1; i <= inventory.amount; i++) {
			if(inventory[i].name == slave.transformation.circulating) {
					currentItem = inventory[i]
					break
			}
		}
	}

	if(slave.transformation.item != "None") {
		for(var n = 1; n <= inventory.amount; n++) {
			if(inventory[n].name == slave.transformation.item) {
					newItem = inventory[n]
					break
			}
		}
	}

	if(!currentItem && !newItem) {
		return
	}

	resetBonus(slave)

	if(slave.transformation.duration > 0) {
		slave.transformation.duration--
		Transformation(slave, currentItem, title, player)

		if(slave.transformation.duration == 0) {
			slave.transformation.circulating = "None"
		}

	} else if(newItem) {
			if(inventory[n].amount >= 1) {
				inventory[n].amount--
				slave.transformation.circulating = newItem.name

				if(variables().sissytitles.includes(title) && slave.sex == "female") {
					slave.transformation.duration = newItem.duration*2
				} else if(variables().brodytitles.includes(title) && slave.sex == "male") {
					slave.transformation.duration = newItem.duration*2
				} else {
					slave.transformation.duration = newItem.duration
				}

				Transformation(slave, newItem, title, player)
			}

			if(inventory[n].amount == 0) {
				slave.transformation.item = "None"
			}
	}
}

window.getSexTraits = function(slave) {
	if(slave.sex == "male") {
		slave.cock.multi = 1 - (slave.transformation.progress*0.01)
		slave.girth.multi = 1 - (slave.transformation.progress*0.01)
		slave.balls.multi = 1 - (slave.transformation.progress*0.01)
    slave.shoulders.multi = 1 - (slave.transformation.progress*0.01)
    slave.torso.multi = 1 - (slave.transformation.progress*0.01)
		slave.bust.multi = slave.transformation.progress*0.01
		slave.pussy.multi = slave.transformation.progress*0.01
		slave.clit.multi = slave.transformation.progress*0.01
    slave.lips.multi = slave.transformation.progress*0.01
    slave.hips.multi = slave.transformation.progress*0.01

	} else if(slave.sex == "female") {
    slave.bust.multi = 1 - (slave.transformation.progress*0.01)
    slave.pussy.multi = 1 - (slave.transformation.progress*0.01)
    slave.clit.multi = 1 - (slave.transformation.progress*0.01)
    slave.lips.multi = 1 - (slave.transformation.progress*0.01)
    slave.hips.multi = 1 - (slave.transformation.progress*0.01)
		slave.cock.multi = slave.transformation.progress*0.01
		slave.girth.multi = slave.transformation.progress*0.01
		slave.balls.multi = slave.transformation.progress*0.01
    slave.shoulders.multi = slave.transformation.progress*0.01
    slave.torso.multi = slave.transformation.progress*0.01
    
	} else if(slave.sex == "futanari") {
		slave.cock.multi = 1
		slave.girth.multi = 1
		slave.balls.multi = 1
		slave.bust.multi = 1
		slave.pussy.multi = 1
    slave.lips.multi = 1
    slave.hips.multi = 1
		slave.clit.multi = 0
    slave.shoulders.multi = 0
    slave.torso.multi = 0
      
  } else if(slave.sex == "shemale") {
		slave.cock.multi = 1
		slave.girth.multi = 1
		slave.balls.multi = 1
		slave.bust.multi = 1
		slave.pussy.multi = 0
    slave.lips.multi = 1
    slave.hips.multi = 1
		slave.clit.multi = 0
    slave.shoulders.multi = 0
    slave.torso.multi = 0
      
  }
  
  if(["futanari", "shemale"].contains(slave.sex)) {
    slave.transformation.progress = 0
    
  } else if(slave.transformation.progress == 100) {
		slave.transformation.progress = 0
		slave.transformation.item = "None"

		if(slave.sex == "male") {
			slave.sex = "female";
      
      if(slave.tribe == "minotaur") {
        slave.tribe = "holstaur"
      }

			slave.piercing.cock.type = 0
			slave.piercing.cock.jewelry = 0

		} else if(slave.sex == "female") {
			slave.sex = "male"
      
      if(slave.tribe == "holstaur") {
        slave.tribe = "minotaur"
      }

			slave.piercing.pussy.type = 0
			slave.piercing.pussy.jewelry = 0
		}

		if(player) {
			slave.info.endweek = "You have @@color:forestgreen;successfully transformed yourself into a 100% biological " + slave.sex + "@@ through the use of transformative tonics."
		} else {
			slave.info.endweek = "You have @@color:forestgreen;successfully transformed " + slave.name + " into a 100% biological " + slave.sex + "@@ through the use of transformative tonics."
		}


		updateTitles(slave);

	}

	if(slave.impermanent.cock && slave.transformation.progress == 0) {
		slave.cock.multi = 1
		slave.girth.multi = 1
	}

	if(slave.impermanent.bust && slave.transformation.progress == 0) {
		slave.bust.multi = 1
	}

	slave.cock.current = Math.round(slave.cock.multi * (slave.cock.base + slave.cock.supplement + slave.cock.bonus));
	slave.girth.current = Math.round(slave.girth.multi * (slave.girth.base + slave.girth.supplement + slave.girth.bonus));
	slave.balls.current = Math.round(slave.balls.multi * (slave.balls.base + slave.balls.supplement + slave.balls.bonus));

	slave.lips.current = Math.round(slave.lips.multi * (slave.lips.base + slave.lips.supplement + slave.lips.bonus));
  slave.shoulders.current = Math.round(slave.shoulders.multi * (slave.shoulders.base + slave.shoulders.supplement + slave.shoulders.bonus));
  slave.hips.current = Math.round(slave.hips.multi * (slave.hips.base + slave.hips.supplement + slave.hips.bonus));
  slave.torso.current = Math.round(slave.torso.multi * (slave.torso.base + slave.torso.supplement + slave.torso.bonus));
  slave.legs.current = Math.round(slave.legs.multi * (slave.legs.base + slave.legs.supplement + slave.legs.bonus));
  slave.butt.current = Math.round(slave.butt.multi * (slave.butt.base + slave.butt.supplement + slave.butt.bonus));

	slave.bust.current = Math.round(slave.bust.multi * (slave.bust.base + slave.bust.supplement + slave.bust.bonus));
	slave.pussy.current = Math.round(slave.pussy.multi * (slave.pussy.base + slave.pussy.supplement + slave.pussy.bonus));
	slave.clit.current = Math.round(slave.clit.multi * (slave.clit.base + slave.clit.supplement + slave.clit.bonus));

	if(slave.cock.current && slave.girth.current) {
		if(["futanari", "male", "shemale"].contains(slave.sex)) {
			slave.cum.quality.multi = 1
			slave.cum.quantity.multi = 1
			slave.cum.taste.multi = 1
		} else {
			slave.cum.quality.multi = 0.5
			slave.cum.quantity.multi = 0.5
			slave.cum.taste.multi = 0.5
		}

	} else {
		slave.cum.quality.multi = 0
		slave.cum.quantity.multi = 0
		slave.cum.taste.multi = 0
	}

	if(slave.pregnancy.lactating) {
		slave.lactating.temporary = 1
	}

	if(slave.lactating.temporary || slave.lactating.permanent) {
		if(["futanari", "female", "shemale"].contains(slave.sex)) {
			slave.milk.quality.multi = 1
			slave.milk.quantity.multi = 1
			slave.milk.taste.multi = 1
		} else {
			slave.milk.quality.multi = 0.5
			slave.milk.quantity.multi = 0.5
			slave.milk.taste.multi = 0.5
		}

	} else {
		slave.milk.quality.multi = 0
		slave.milk.quantity.multi = 0
		slave.milk.taste.multi = 0
	}

	if((slave.nectaring.temporary || slave.nectaring.permanent) && ["futanari", "female"].contains(slave.sex)) {
		slave.nectar.quality.multi = 1
		slave.nectar.quantity.multi = 1
		slave.nectar.taste.multi = 1

	} else {
		slave.nectar.quality.multi = 0
		slave.nectar.quantity.multi = 0
		slave.nectar.taste.multi = 0
	}

	slave.cum.quality.current = Math.round(slave.cum.quality.multi * (slave.cum.quality.base + slave.cum.quality.supplement + slave.cum.quality.bonus));
	slave.cum.quantity.current = Math.round(slave.cum.quantity.multi * (slave.cum.quantity.base + slave.cum.quantity.supplement + slave.cum.quantity.bonus));
	slave.cum.taste.current = Math.round(slave.cum.taste.multi * (slave.cum.taste.base + slave.cum.taste.supplement + slave.cum.taste.bonus));

	slave.milk.quality.current = Math.round(slave.milk.quality.multi * (slave.milk.quality.base + slave.milk.quality.supplement + slave.milk.quality.bonus));
	slave.milk.quantity.current = Math.round(slave.milk.quantity.multi * (slave.milk.quantity.base + slave.milk.quantity.supplement + slave.milk.quantity.bonus));
	slave.milk.taste.current = Math.round(slave.milk.taste.multi * (slave.milk.taste.base + slave.milk.taste.supplement + slave.milk.taste.bonus));

	slave.nectar.quality.current = Math.round(slave.nectar.quality.multi * (slave.nectar.quality.base + slave.nectar.quality.supplement + slave.nectar.quality.bonus));
	slave.nectar.quantity.current = Math.round(slave.nectar.quantity.multi * (slave.nectar.quantity.base + slave.nectar.quantity.supplement + slave.nectar.quantity.bonus));
	slave.nectar.taste.current = Math.round(slave.nectar.taste.multi * (slave.nectar.taste.base + slave.nectar.taste.supplement + slave.nectar.taste.bonus));

	slave.sexual.fertility.base = slave.sexual.fertility.mod
	slave.sexual.libido.base = slave.sexual.libido.mod
	slave.sexual.strength.base = slave.sexual.strength.mod
	slave.sexual.speed.base = slave.sexual.speed.mod
	slave.sexual.stamina.base = slave.sexual.stamina.mod
	slave.sexual.control.base = slave.sexual.control.mod

	if(slave.chattel.pen) {
		if(slave.chattel.style == "exhibit") {
			if(["goblin", "orc", "giant", "minotaur", "holstaur", "pantheran", "mongrel"].contains(slave.tribe)) {
				slave.sexual.libido.bonus++
			} else if(["human", "dwarf", "gnome", "moon rabbit", "high elf", "forest elf"].contains(slave.tribe)) {
				slave.sexual.libido.bonus--
			}

		} else if(slave.chattel.style == "private") {
			if(["human", "dwarf", "gnome", "moon rabbit", "high elf", "forest elf", "dark elf", "neko", "canus"].contains(slave.tribe)) {
				slave.sexual.libido.bonus++
			}
		}
	}
  
  if(variables().chivalrytitles.includes(slave.title)) {
    slave.sexual.stamina.bonus++
  }
  
  if(variables().cattlingtitles.includes(slave.title)) {
    slave.sexual.fertility.bonus++
  }
  
	slave.sexual.fertility.current = Math.round(slave.sexual.fertility.multi * (slave.sexual.fertility.base + slave.sexual.fertility.supplement + slave.sexual.fertility.bonus));
	slave.sexual.libido.current = Math.round(slave.sexual.libido.multi * (slave.sexual.libido.base + slave.sexual.libido.supplement + slave.sexual.libido.bonus));
	slave.sexual.strength.current = Math.round(slave.sexual.strength.multi * (slave.sexual.strength.base + slave.sexual.strength.supplement + slave.sexual.strength.bonus));
	slave.sexual.speed.current = Math.round(slave.sexual.speed.multi * (slave.sexual.speed.base + slave.sexual.speed.supplement + slave.sexual.speed.bonus));
	slave.sexual.stamina.current = Math.round(slave.sexual.stamina.multi * (slave.sexual.stamina.base + slave.sexual.stamina.supplement + slave.sexual.stamina.bonus));
	slave.sexual.control.current = Math.round(slave.sexual.control.multi * (slave.sexual.control.base + slave.sexual.control.supplement + slave.sexual.control.bonus));

	if(slave.sexual.libido.current < 1) {
		slave.sexual.libido = 1
	}
}

window.generateSexTraits = function(slave) {
	slave.cock.mod = Number(slave.cock.mod);
	slave.girth.mod = Number(slave.girth.mod);
	slave.balls.mod = Number(slave.balls.mod);
	slave.lips.mod = Number(slave.lips.mod);
  slave.shoulders.mod = Number(slave.shoulders.mod);
  slave.hips.mod = Number(slave.hips.mod);
  slave.torso.mod = Number(slave.torso.mod);
  slave.legs.mod = Number(slave.legs.mod);
  slave.butt.mod = Number(slave.butt.mod);
	slave.bust.mod = Number(slave.bust.mod);
	slave.pussy.mod = Number(slave.pussy.mod);
	slave.clit.mod = Number(slave.clit.mod);

	slave.cum.quality.mod = Number(slave.cum.quality.mod);
	slave.cum.quantity.mod = Number(slave.cum.quantity.mod);
	slave.cum.taste.mod = Number( slave.cum.taste.mod);
	slave.milk.quality.mod = Number(slave.milk.quality.mod);
	slave.milk.quantity.mod = Number(slave.milk.quantity.mod);
	slave.milk.taste.mod = Number(slave.milk.taste.mod);
	slave.nectar.quality.mod = Number(slave.nectar.quality.mod);
	slave.nectar.quantity.mod = Number(slave.nectar.quantity.mod);
	slave.nectar.taste.mod = Number(slave.nectar.taste.mod);

	slave.cock.base = slave.cock.mod
	slave.girth.base = slave.girth.mod
	slave.balls.base = slave.balls.mod
	slave.bust.base = slave.bust.mod
	slave.pussy.base = slave.pussy.mod
	slave.clit.base = slave.clit.mod
	slave.lips.base = slave.lips.mod
  slave.shoulders.base = slave.shoulders.mod
  slave.hips.base = slave.hips.mod
  slave.torso.base = slave.torso.mod
  slave.legs.base = slave.legs.mod
  slave.butt.base = slave.butt.mod

	slave.cum.quality.base = slave.cum.quality.mod
	slave.cum.quantity.base = slave.cum.quantity.mod
	slave.cum.taste.base = slave.cum.taste.mod
	slave.milk.quality.base = slave.milk.quality.mod
	slave.milk.quantity.base = slave.milk.quantity.mod
	slave.milk.taste.base =slave.milk.taste.mod
	slave.nectar.quality.base = slave.nectar.quality.mod
	slave.nectar.quantity.base = slave.nectar.quantity.mod
	slave.nectar.taste.base = slave.nectar.taste.mod

	if(slave.sex == "male") {
		slave.bust.multi = 0
		slave.clit.multi = 0
		slave.pussy.multi = 0
    slave.lips.multi = 0
    slave.hips.multi = 0

	} else if(slave.sex == "female") {
		slave.cock.multi = 0
		slave.girth.multi = 0
		slave.balls.multi = 0
    slave.shoulders.multi = 0
    slave.torso.multi = 0

	} else if(slave.sex == "futanari") {
    slave.clit.multi = 0
    slave.shoulders.multi = 0
    slave.torso.multi = 0
    
  } else if(slave.sex == "shemale") {
    slave.clit.multi = 0
    slave.shoulders.multi = 0
    slave.torso.multi = 0
    slave.pussy.multi = 0
    
  }

	getSexTraits(slave);

}

window.removeTitle = function(slave, title) {
	var index

	if(slave.titles.includes(title)) {
		index = slave.titles.indexOf(title);
		slave.titles.splice(index, 1);

		if(slave.title == title) {
			slave.title = slave.titles[0];
		}
	}
}

window.addTitle = function(slave, title) {
	if(!slave.titles.includes(title)) {
		slave.titles.push(title);
	}

	if(!slave.title) {
		slave.title = slave.titles[0];
	}
}

window.generateAbout = function(slave, ogpool, type) {
	var pool = ogpool.slice();
	var i, item, index;
	var amount = 2;

	for (i=0; i<= amount; i++) {
		item = pool[Math.floor(Math.random()*pool.length)];
		index = pool.indexOf(item);
		pool.splice(index, 1);

		if(type == "likes") {
			slave.likes.push(item);
		} else if(type == "dislikes") {
			slave.dislikes.push(item);
		} else if(type == "fears") {
			slave.fears.push(item);
		}
	}
}

window.getHeight = function(cm, legsize = 0) {
  cm += legsize * 2.54
	var feet = Math.floor(cm * 0.0328084)

	var	inches = (cm * 0.0328084) - feet
	inches = Math.floor(inches * 12)

	var height = feet + "'" + inches + "\""

	return height

}

window.rand = function(min, max) {
	return Math.floor(Math.random() * (max - min + 1)) + min;
}

window.arrayRandom = function(array) {
  return array[Math.floor(Math.random()*array.length)]
}

window.weightedRoll = function(spec) {
  var i, j, table=[];
  for (i in spec) {
    // The constant 10 below should be computed based on the
    // weights in the spec for a correct and optimal table size.
    // E.g. the spec {0:0.999, 1:0.001} will break this impl.
    for (j=0; j<spec[i]*10; j++) {
      table.push(i);
    }
  }
  return function() {
    return table[Math.floor(Math.random() * table.length)];
  }
}

window.weightedRand = function(spec) {
  var i, sum=0, r=Math.random();
  for (i in spec) {
    sum += spec[i];
    if (r <= sum) return Number(i);
  }
};

window.clone = function(obj) {
    var copy;

    // Handle the 3 simple types, and null or undefined
    if (null == obj || "object" != typeof obj) return obj;

    // Handle Date
    if (obj instanceof Date) {
        copy = new Date();
        copy.setTime(obj.getTime());
        return copy;
    }

    // Handle Array
    if (obj instanceof Array) {
        copy = [];
        for (var i = 0, len = obj.length; i < len; i++) {
            copy[i] = clone(obj[i]);
        }
        return copy;
    }

    // Handle Object
    if (obj instanceof Object) {
        copy = {};
        for (var attr in obj) {
            if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);
        }
        return copy;
    }

    throw new Error("Unable to copy obj! Its type isn't supported.");
}

window.AvsAn = (function (root) {
	var dict = "2h.#2.a;i;&1.N;*4.a;e;i;o;/9.a;e;h1.o.i;l1./;n1.o.o;r1.e.s1./;01.8;12.1a;01.0;12.8;9;2.31.7;4.5.6.7.8.9.8a;0a.0;1;2;3;4;5;6;7;8;9;11; .22; .–.31; .42; .–.55; .,.h.k.m.62; .k.72; .–.82; .,.92; .–.8;<2.m1.d;o;=1.=1.E;@;A6;A1;A1.S;i1;r1;o.m1;a1;r1; .n1;d1;a1;l1;u1;c1.i1.a1.n;s1;t1;u1;r1;i1;a1;s.t1;h1;l1;e1;t1;e1.s;B2.h2.a1.i1;r1;a.á;o1.r1.d1. ;C3.a1.i1.s1.s.h4.a2.i1.s1;e.o1.i;l1.á;r1.o1.í;u2.i;r1.r1.a;o1.n1.g1.j;D7.a1.o1.q;i2.n1.a1.s;o1.t;u1.a1.l1.c;á1. ;ò;ù;ư;E7;U1;R.b1;o1;l1;i.m1;p1;e1;z.n1;a1;m.s1;p5.a1.c;e;h;o;r;u1.l1;o.w1;i.F11. ;,;.;/;0;1;2;3;4;5;6;71.0.8;9;Ae;B.C.D.F.I2.L.R.K.L.M.N.P.Q.R.S.T.B;C1;M.D;E2.C;I;F1;r.H;I3.A1;T.R1. ;U;J;L3.C;N;P;M;O1. ;P1;..R2.A1. ;S;S;T1;S.U2.,;.;X;Y1;V.c;f1.o.h;σ;G7.e1.r1.n1.e;h1.a3.e;i;o;i1.a1.n1.g;o2.f1. ;t1.t1. ;r1.i1.a;w1.a1.r1.r;ú;Hs. ;&;,;.2;A.I.1;2;3;5;7;B1;P.C;D;F;G;H1;I.I6;C.G.N.P.S1.D;T.K1.9;L;M1;..N;O2. ;V;P;R1;T.S1.F.T;V;e2.i1.r;r1.r1.n;o2.n6;d.e1.s;g.k.o2;l.r1;i1.f;v.u1.r;I3;I2;*.I.n1;d1;e1;p1;e1;n1;d2;e1;n1;c1;i.ê.s1;l1;a1;n1;d1;s.J1.i1.a1.o;Ly. ;,;.;1;2;3;4;8;A3. ;P;X;B;C;D;E2. ;D;F1;T.G;H1.D.I1.R;L;M;N;P;R;S1;m.T;U1. ;V1;C.W1.T;Z;^;a1.o1.i1.g;o1.c1.h1.a1;b.p;u1.s1.h1;o.ộ;M15. ;&;,;.1;A1;.1;S./;1;2;3;4;5;6;7;8;Ai;B.C.D.F.G.J.L.M.N.P.R.S.T.V.W.X.Y.Z.B1;S1;T.C;D;E3.P1;S.W;n;F;G;H;I4. ;5;6;T1;M.K;L;M;N;O1.U;P;Q;R;S;T1;R.U2. ;V;V;X;b1.u1.m;f;h;o2.D1.e.U1;..p1.3;s1.c;Ny. ;+;.1.E.4;7;8;:;A3.A1;F.I;S1.L;B;C;D;E3.A;H;S1. ;F1;U.G;H;I7.C.D1. ;K.L.N.O.S.K;L;M1;M.N2.R;T;P1.O1.V1./1.B;R2;J.T.S1;W.T1;L1.D.U1.S;V;W2.A;O1.H;X;Y3.C1.L;P;U;a1.s1.a1.n;t1.h;v;²;×;O5;N1;E.l1;v.n2;c1.e.e1.i;o1;p.u1;i.P1.h2.i1.a;o2.b2;i.o.i;Q1.i1.n1.g1.x;Rz. ;&;,;.1;J./;1;4;6;A3. ;.;F1;T.B1;R.C;D;E3. ;S1.P;U;F;G;H1.S;I2.A;C1. ;J;K;L1;P.M5;1.2.3.5.6.N;O2.H;T2;A.O.P;Q;R1;F.S4;,...?.T.T;U4;B.M.N.S.V;X;c;f1;M1...h2.A;B;ò;S11. ;&;,;.4.E;M;O;T1..3.B;D;M;1;3;4;5;6;8;9;A3. ;8;S2;E.I.B;C3.A1. ;R2.A.U.T;D;E6. ;5;C3;A.O.R.I1.F.O;U;F3;&.H.O1.S.G1;D.H3.2;3;L;I2. ;S1.O.K2.I.Y.L3;A2. ;.;I1. ;O.M3;A1. ;I.U1.R.N5.A.C3.A.B.C.E.F.O.O5. ;A1.I;E;S1;U.V;P7;A7;A.C.D.M.N.R.S.E1. ;I4;C.D.N.R.L1;O.O.U.Y.Q1. ;R;S1;W.T9.A1. ;C;D;F;I;L;M;S;V;U7.B.L.M.N.P.R.S.V;W1.R;X1.M;h1.i1.g1.a1.o;p1.i1.o1;n.t2.B;i1.c1.i;T4.a2.i2.g1.a.s1.c;v1.e1.s;e1.a1.m1.p;u1.i2.l;r;à;Um..1.N1..1.C;/1.1;11. .21.1;L1.T;M1.N;N4.C1.L;D2. .P.K;R1. .a;b2;a.i.d;g1.l;i1.g.l2;i.y.m;no. ;a1.n.b;c;d;e1;s.f;g;h;i2.d;n;j;k;l;m;n;o;p;q;r;s;t;u;v;w;p;r3;a.e.u1.k;s3. ;h;t1;r.t4.h;n;r;t;x;z;í;W2.P1.:4.A1.F;I2.B;N1.H.O1.V;R1.F1.C2.N.U.i1.k1.i1.E1.l1.i;X7;a.e.h.i.o.u.y.Y3.e1.t1.h;p;s;[5.A;E;I;a;e;_2._1.i;e;`3.a;e;i;a7; .m1;a1;r1. .n1;d2; .ě.p1;r1;t.r1;t1;í.u1;s1;s1;i1. .v1;u1;t.d3.a1.s1. ;e2.m1. ;r1. ;i2.c1.h1. ;e1.s1.e2.m;r;e8;c1;o1;n1;o1;m1;i1;a.e1;w.l1;i1;t1;e1;i.m1;p1;e1;z.n1;t1;e1;n1;d.s2;a1. .t4;a1; .e1; .i1;m1;a1;r.r1;u1.t.u1.p1. ;w.f3. ;M;y1.i;h9. ;,;.;C;a1.u1.t1;b.e2.i1.r1;a.r1.m1.a1.n;o4.m2.a1; .m;n8; .b.d.e3; .d.y.g.i.k.v.r1.s1. ;u1.r;r1. ;t1;t1;p1;:.i6;b1;n.e1;r.n2;f2;l1;u1;ê.o1;a.s1;t1;a1;l1;a.r1; .s1; .u.k1.u1. ;l3.c1.d;s1. ;v1.a;ma. ;,;R;b1.a.e1.i1.n;f;p;t1.a.u1.l1.t1.i1.c1.a1.m1.p1.i;×;n6. ;V;W;d1; .t;×;o8;c2;h1;o.u1;p.d1;d1;y.f1; .g1;g1;i.no. ;';,;/;a;b;c1.o;d;e2.i;r;f;g;i;l;m;n;o;r;s;t;u;w;y;z;–;r1;i1;g1;e.t1;r1.s;u1;i.r3. ;&;f;s9.,;?;R;f2.e.o.i1.c1.h;l1. ;p2.3;i1. ;r1.g;v3.a.e.i.t2.A;S;uc; ...b2.e;l;f.k2.a;i;m1;a1. .n3;a3; .n5.a;c;n;s;t;r1;y.e2; .i.i8.c2.o1.r1.p;u1.m;d1;i1.o;g1.n;l1.l;m1;o.n;s1.s;v1.o1;c.r5;a.e.i.l.o.s3. ;h;u1.r2;e.p3;a.e.i.t2.m;t;v.w1.a;xb. ;';,;.;8;b;k;l;m1;a.t;y1. ;y1.l;{1.a;|1.a;£1.8;À;Á;Ä;Å;Æ;É;Ò;Ó;Ö;Ü;à;á;æ;è;é1;t3.a;o;u;í;ö;ü1; .Ā;ā;ī;İ;Ō;ō;œ;Ω;α;ε;ω;ϵ;е;–2.e;i;ℓ;";
	function fill(node) {
		var kidCount = parseInt(dict, 36) || 0,
			offset = kidCount && kidCount.toString(36).length;
		node.article = dict[offset] == "." ? "a" : "an";
		dict = dict.substr(1 + offset);
		for (var i = 0; i < kidCount; i++) {
			var kid = node[dict[0]] = {}
			dict = dict.substr(1);
			fill(kid);
		}
	}
	fill(root);

	return {
		raw: root,
		//Usage example: AvsAnSimple.query("example")
		//example returns: "an"
		query: function (word) {
			word = word.toString();
			var node = root, sI = 0, result, c;
			do {
				c = word[sI++];
			} while ('"‘’“”$\''.indexOf(c) >= 0);//also terminates on end-of-string "undefined".

			while (1) {
				result = node.article || result;
				node = node[c];
				if (!node) return result;
				c = word[sI++] || " ";
			}
		}
	};
})({});

(function() {
  /**
   * Decimal adjustment of a number.
   *
   * @param {String}  type  The type of adjustment.
   * @param {Number}  value The number.
   * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).
   * @returns {Number} The adjusted value.
   */

  function decimalAdjust(type, value, exp) {
    // If the exp is undefined or zero...
    if (typeof exp === 'undefined' || +exp === 0) {
      return Math[type](value);
    }
    value = +value;
    exp = +exp;
    // If the value is not a number or the exp is not an integer...
    if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {
      return NaN;
    }
    // Shift
    value = value.toString().split('e');
    value = Math[type](+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));
    // Shift back
    value = value.toString().split('e');
    return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));
  }

  // Decimal round
  if (!Math.round10) {
    Math.round10 = function(value, exp) {
      return decimalAdjust('round', value, exp);
    };
  }
  // Decimal floor
  if (!Math.floor10) {
    Math.floor10 = function(value, exp) {
      return decimalAdjust('floor', value, exp);
    };
  }
  // Decimal ceil
  if (!Math.ceil10) {
    Math.ceil10 = function(value, exp) {
      return decimalAdjust('ceil', value, exp);
    };
  }
})();

window.commify = function(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
};

window.increase = function(stat, num, min, max) {
	return Math.clamp(stat+num, min, max);
};

window.decrease = function(stat, num, min, max) {
	return Math.clamp(stat-num, min, max);
};

window.decayTrust = function(slave) {
	var decay = 1 + (2 * slave.trust.base / slave.obedience.base);

	if(slave.trust.base > slave.obedience.base) {
		return Math.clamp(slave.trust.base-decay, slave.obedience.base, 100);
	} else {
		return slave.trust.base
	}
};

window.decayFear = function(slave) {
	var fear = 100 - slave.fear.base
	var obedience = 100 - slave.obedience.base
	var decay = 2 + (4 * fear / slave.obedience.base);

	if(slave.fear.base > obedience) {
		return Math.clamp(slave.fear.base-decay, obedience, 100);
	} else {
		return slave.fear.base
	}
};

window.mergeArray = function(array1, array2) {
	var list = array1.concat(array2);
	return list;
};

window.refreshObedience = function(slave) {
	slave.obedience.current = (slave.obedience.base + slave.obedience.mood + slave.obedience.bonus) * slave.obedience.multi
	slave.obedience.current = Math.clamp(slave.obedience.current, 0, 140)
}

window.refreshTrust = function(slave) {
	slave.trust.current = (slave.trust.base + slave.trust.mood + slave.trust.bonus) * slave.trust.multi
	slave.trust.current = Math.clamp(slave.trust.current, 0, 140)
}

window.refreshFear = function(slave) {
	slave.fear.current = (slave.fear.base + slave.fear.mood + slave.fear.bonus) * slave.fear.multi
	slave.fear.current = Math.clamp(slave.fear.current, -40, 100)
}

window.updateObedience = function(slave) {
	var multi
	var base
	var num

	if(slave.will > 0) {
			multi = 2.5
	} else {
			multi = 5
	}

	base = slave.submission * 0.01;
	num = multi * base;
	increaseObedience(slave, num);
};

window.increaseObedience = function(slave, num) {
	var obedience = 1;
	num = num * (1.1 - (slave.obedience.base / 100));
	obedience = obedience * num;
	slave.obedience.base = Math.clamp(slave.obedience.base+obedience, 0, 100);
	refreshObedience(slave);
};

window.decreaseObedience = function(slave, num) {
	slave.obedience.base = Math.clamp(slave.obedience.base-num, 0, 100);
	refreshObedience(slave);
};

window.updateTrust = function(slave) {
	var num

	if(slave.submission > slave.will) {
		num = (100 - slave.will) * 0.05
		increaseTrust(slave, num);
	} else {
		num = (slave.will - slave.submission) * 0.01
		decreaseTrust(slave, num);
	}
};

window.increaseTrust = function(slave, num) {
	var trust = 1;
	num = num * (1.1 - (slave.trust.base / 100));
	trust = trust * num;
	slave.trust.base = Math.clamp(slave.trust.base+trust, 0, 100);
	refreshTrust(slave);
};

window.decreaseTrust = function(slave, num) {
	slave.trust.base = Math.clamp(slave.trust.base-num, 0, 100);
	refreshTrust(slave);
};

window.updateFear = function(slave) {
	var mood
	
	if(slave.mood.scale == "Happiness") {
		mood = 1 + (slave.mood.current / 20)
	} else if(slave.mood.scale == "Serenity") {
		mood = 1 + (slave.mood.current / 20)
	} else if(slave.mood.scale == "Anxiety") {
		mood = 1 + (slave.mood.current / 20)
	} else if(slave.mood.scale == "Sanity") {
		mood = 1 + (slave.mood.current / 20)
	} 
	
	var num = mood * 2

	if(mood >= 0) {
		decreaseFear(slave, num)
	} else {
		num = num * -1
		increaseFear(slave, num)
	}
};

window.increaseFear = function(slave, num) {
	num = num * (1.1 - (slave.fear.base / 100));
	slave.fear.base = Math.clamp(slave.fear.base+num, 0, 100);
	refreshFear(slave);
};

window.decreaseFear = function(slave, num) {
	var fear = 1;
	num = num * (0.1 + (slave.fear.base / 100));
	fear = fear * num
	slave.fear.base = Math.clamp(slave.fear.base-fear, 0, 100);
	refreshFear(slave);
};

window.recordEcho = function(slave, newsubtype) {

	if(slave.echo.subtype == newsubtype) {
		slave.echo.total++;
	} else {
		slave.echo.total = 0;
		slave.echo.subtype = newsubtype;
	}
};

window.getDisciplineEcho = function(slave, newsubtype) {
	var multi = 1

	if(slave.echo.total >= 2) {
		multi = 0.75;
	} else if(slave.echo.total >= 4) {
		multi = 0.5;
	}

	return multi
};

window.getVow = function(weeks, made) {
	var multi = 1

	if(weeks == 0 && made == 1) {
		multi = 2
	} else if(weeks == 1) {
		multi = 1.5
	} else if(weeks == 3) {
		multi = 0.75
	} else if(weeks >= 4) {
		multi = 0.5
	};

	return multi

};

window.getGuilty = function(slave, obedience) {
	if(slave.trust.current < obedience - 20) {
		return Math.clamp(slave.guilt-1, -3, 3);
	} else if (slave.trust.current < obedience) {
		return Math.clamp(slave.guilt-2, -3, 3);
	} else if(slave.trust.current >= obedience) {
		return Math.clamp(slave.guilt-3, -3, 3);
	}
};

window.getEntitled = function(slave, obedience) {
	if(slave.trust.current < obedience - 20) {
		return Math.clamp(slave.guilt+3, -3, 3);
	} else if (slave.trust.current < obedience - 10) {
		return Math.clamp(slave.guilt+2, -3, 3);
	} else if (slave.trust.current < obedience) {
		return Math.clamp(slave.guilt+1, -3, 3);
	} else {
		return Math.clamp(slave.guilt+0, -3, 3);
	}
};

window.LevelGuiltPunishment = function(level, guilt, stat, punish) {

	if(punish) {
		guilt = guilt * -1;
	}

	if(level == 1) {
		if(guilt == 3) {
			return stat*1.5;
		} else if(guilt == 2) {
			return stat*1.3;
		} else if(guilt == 1) {
			return stat*1.2;
		} else if(guilt == 0) {
			return stat*1;
		} else if(guilt == -1) {
			return stat*1;
		} else if(guilt == -2) {
			return stat*0.75;
		} else if(guilt == -3) {
			return stat*0.50;
		}

	} else if(level == 2) {
		if(guilt == 3) {
			return stat*2;
		} else if(guilt == 2) {
			return stat*1.5;
		} else if(guilt == 1) {
			return stat*1;
		} else if(guilt == 0) {
			return stat*0.75;
		} else if(guilt == -1) {
			return stat*0.70;
		} else if(guilt == -2) {
			return stat*1.65;
		} else if(guilt == -3) {
			return stat*0.5;
		}

	} else if(level == 3) {
		if(guilt == 3) {
			return stat*2.5;
		} else if(guilt == 2) {
			return stat*2;
		} else if(guilt == 1) {
			return stat*1.5;
		} else if(guilt == 0) {
			return stat*0.5;
		} else if(guilt == -1) {
			return stat*0.45;
		} else if(guilt == -2) {
			return stat*0.40;
		} else if(guilt == -3) {
			return stat*0.30;
		}
	}
};

window.getTrainingObedience = function(slave, obedience) {
	if(slave.obedience.current >= obedience+20 || slave.fear.current >= obedience+20) {
		return Math.clamp(obedience+20, 0, 100);
	} else if(slave.obedience.current >= obedience+10 || slave.fear.current >= obedience+10) {
		return Math.clamp(obedience+10, 0, 100);
	} else if(slave.obedience.current >= obedience || slave.fear.current >= obedience) {
		return obedience;
	}
};

window.increaseSkill = function(slave, roll, skill) {
	if(slave.mood.scale == "Sanity" && slave.mood.current < 25) {
		return skill
	} else {
		var int = (10 * (roll / 5)) + (10 * (slave.intelligence / 5));
		int = Math.floor(int);
		skill = Number(skill);
		return Math.clamp(int+skill, 0, 100);
	};
}
window.skillIncrease = function(slave, obedience, skill) {
	if(slave.mood.scale == "Sanity" && slave.mood.current < 25) {
		return skill
	} else if(slave.obedience.current >= obedience+20) {
		var int = 5 + (15 * (slave.intelligence / 5))
		return Math.clamp(skill+int, 0, 100);

	} else if(slave.obedience.current >= obedience+10 || slave.fear.current >= obedience+20) {
		var int = 5 + (9 * (slave.intelligence / 5))
		return Math.clamp(skill+int, 0, 100);

	} else if(slave.obedience.current >= obedience || slave.fear.current >= obedience+10) {
		var int = 5 + (3 * (slave.intelligence / 5))
		return Math.clamp(skill+int, 0, 100);
	} else {
		var int = 5
		return Math.clamp(skill+int, 0, 100);
	}
};

window.setConditionProgress = function(slave) {
	if(slave.health == 1) {
		return rand(0,24);
	} else if(slave.health == 2) {
		return rand(25,49);
	} else if(slave.health == 3) {
		return rand(50,74);
	} else if(slave.health == 4) {
		return rand(75,100);
	}
};

window.setFitnessProgress = function(slave) {
	var weight = slave.weight
	var fitness = 0
	if(weight == 7) {
		fitness = rand(90, 100);
	} else if(weight == 6) {
		fitness = rand(50, 89);
	} else {
		fitness = rand(1, 49);
	}

	fitness = Math.round10(fitness, -2);
	return fitness
};

window.setDietProgress = function(slave) {
	var weight = slave.weight
	var diet = 0
	if(weight == 1) {
		diet = rand(81, 100);
	}	else if(weight == 2) {
		diet = rand(1,20);
	} else if(weight == 3) {
		diet = rand(61,80);
	} else if(weight == 4) {
		diet = rand(21,40);
	} else {
		diet = rand(41,60);
	}

	diet = Math.round10(diet, -2);
	return diet
};

window.updateThreaten = function(slave) {

	var weeks = slave.threaten.weeks

	if(slave.threaten.made == 1) {
		weeks++;
	}

	return weeks
};

window.updatePromise = function(slave) {

	var weeks = slave.promise.weeks

	if(slave.promise.made == 1) {
		weeks++;
	}

	return weeks
};

window.updateExpense = function(slave) {
	var expense = 0;
	var condition = slave.condition.status;
	var fatigue = slave.fatigue.status;
	var diet = slave.diet.status;

	if(condition == "Remedy") {
		expense += 100;
	} else if(condition == "Panacea") {
		expense += 500;
	}

	if(fatigue == "Ether") {
		expense += 100;
	} else if(fatigue == "Pasithea") {
		expense += 500;
	}

	if(diet == "Low") {
		expense += 50;
	} else if(diet == "Normal") {
		expense += 100;
	} else if(diet == "High") {
		expense += 200;
	}

	return expense;
};

window.updateHealth = function(slave) {
	var health = slave.condition.progress;

	if(health >= 0 && health <= 24) {
		return 1;
	} else if(health >= 25 && health <= 49) {
		return 2;
	} else if(health >= 50 && health <= 74) {
		return 3;
	} else if(health >= 75 && health <= 100) {
		return 4;
	}

};

window.updateCondition = function(slave, difficulty, healthtitle, estate) {
	var health = 0;
  
  if(variables().cheats.contains("healthSustain")) {
    return 100
  }

	if(slave.assignment == "brothel") {
		if(estate.brothel.style == "Theater") {
			health -= 5;
		} else if(estate.brothel.style == "Closed" || estate.brothel.style == null) {
			health -= 10;
		} else if(estate.brothel.style == "Open") {
			health -= 15;
		}

	} else if(slave.assignment == "husbandry") {
		health -= 5;

	} else if(slave.assignment == "rest") {
			if(difficulty == "hard") {
				health += 25;
			} else {
				health += 50;
			}
	}

	if(slave.condition.status == "Remedy") {
			if(difficulty == "hard") {
				health += 10;
			} else {
				health += 20;
			}
	} else if(slave.condition.status == "Panacea") {
			if(difficulty == "hard") {
				health += 25;
			} else {
				health += 50;
			}
	}

	if(healthtitle == 1 && health >= 0) {
		health = health * 1.2
	} else if(healthtitle == 1 && health < 0) {
		health = health * 0.8
	}

	health = Math.round(health)
	return Math.clamp(slave.condition.progress+health, 0, 100);
};

window.updateFatigue = function(slave, difficulty, fatiguetitle, estate, direct=1) {
	var fatigue = 0;
  var duties = [];
  
  if(variables().cheats.contains("healthSustain")) {
    return 0
  }

	if(slave.assignment == "brothel") {
    if(slave.position == "Procurer") {
      duties = ["manager", "teacher"]
      if(variables().estate.brothel.exceptions.pSoliciting == "No") {
        duties.push("solicitor")
      } 
      if(variables().estate.brothel.exceptions.pConsorting == "No") {
        duties.push("consorter")
      }
    } else if(slave.position == "Prostitute") {
      duties = ["solicitor", "consorter"]
    } else if(slave.position == "Attendant") {
      duties = ["attendant", "solicitor", "consorter"]
    } else if(slave.position == "Host") {
      duties = ["host", "solicitor", "consorter"]
    } else if(slave.position == "Guard") {
      duties = ["guard"]
      if(variables().estate.brothel.exceptions.gSoliciting == "No") {
        duties.push("solicitor")
      } 
      if(variables().estate.brothel.exceptions.gConsorting == "No") {
        duties.push("consorter")
      }
    }
    
    for(var d = 0; d < duties.length; d++) {
      var duty = duties[d]
      var skill = variables().skills.duty[duty]
      
      if(slave.skills[duty]) {
        var level = slave.skills[duty].level
        
        if(estate.brothel.levels[skill] == "Min") {
          fatigue += Math.clamp(5 - (level * 3), 0, 5)
        } else if(estate.brothel.levels[skill] == "Low") {
          fatigue += Math.clamp(7.5 - (level * 3), 0, 7.5)
        } else if(estate.brothel.levels[skill] == "Normal") {
          fatigue += Math.clamp(12.5 - (level * 3), 0, 12.5)
        } else if(estate.brothel.levels[skill] == "High") {
          fatigue += Math.clamp(20 - (level * 3), 0, 20)
        } else if(estate.brothel.levels[skill] == "Max") {
          fatigue += Math.clamp(30 - (level * 3), 0, 30)
        }
      }
    }

		if(variables().cumtitles.includes(slave.title)) {
			fatigue -= 5
		}

	} else if(slave.assignment == "husbandry") {
		fatigue += 10

	} else if(slave.assignment == "odd jobs") {
		fatigue += 15

	} else if(slave.assignment == "rest") {
		if(difficulty == "hard") {
			fatigue -= 50;
		} else {
			fatigue -= 100;
		}
	}

	if(slave.fitness.status == "Heavy") {
		if(difficulty == "hard") {
				fatigue += 10;
			} else {
				fatigue += 5;
			}
	} else if(slave.fitness.status == "Light") {
		if(difficulty == "hard") {
				fatigue += 5;
			} else {
				fatigue += 2.5;
			}
	}
  

	if(slave.fatigue.status == "Ether") {
		if(difficulty == "hard") {
				fatigue -= 10;
			} else {
				fatigue -= 20;
			}
	} else if(slave.fatigue.status == "Pasithea") {
		if(difficulty == "hard") {
				fatigue -= 25;
			} else {
				fatigue -= 50;
			}
	}

	if(fatiguetitle == 1 && fatigue >= 0) {
		fatigue = fatigue * 1.2
	} else if(fatiguetitle == 1 && fatigue < 0) {
		fatigue = fatigue * 0.8
	}

	fatigue = Math.round(fatigue)
  if(direct) {
    fatigue = Math.clamp(slave.fatigue.progress+fatigue, 0, 100);
  }
  
	return fatigue
};

window.updateWeight = function(slave) {
	if(slave.diet.progress >= 1 && slave.diet.progress < 21) {
		return 2;

	} else if(slave.diet.progress >= 21 && slave.diet.progress < 41) {
		return 4;

	} else if(slave.diet.progress >= 41 && slave.diet.progress < 61) {
		if(slave.fitness.progress >= 90) {
			return 7;
		} else if(slave.fitness.progress >= 50) {
			return 6;
		} else {
			return 5;
		}
	} else if(slave.diet.progress >= 61 && slave.diet.progress < 81) {
		return 3;
	} else if(slave.diet.progress >= 81) {
		return 1;
	}
};

window.updateDiet = function(slave) {
	var weight = 0
	if(slave.diet.status == "High") {
		if(slave.diet.progress >= 0 && slave.diet.progress < 41) {
			weight = 1 + (3 - (3 * slave.diet.progress / 41));
		}	else {
			weight = 110 / (slave.diet.progress + 10);
		};

	} else if(slave.diet.status == "Normal") {
		if(slave.diet.progress >= 41 && slave.diet.progress < 61) {
			weight = 1;
	} else {
			weight = 50 / (slave.diet.progress + 10);
		};

	} else if(slave.diet.status == "Low") {
		if(slave.diet.progress >= 61) {
			weight = -4 + (3 * (100 - slave.diet.progress) / 39);
		}	else {
			weight = -1 - (1.5 * (slave.diet.progress / 100));
		};
	}

	if(slave.fitness.status == "Heavy") {
		weight -= 2;
	} else if(slave.fitness.status == "None") {
		weight += 0;
	} else if(slave.fitness.status == "Light") {
		weight -= 1;
	}

	weight = Math.clamp(slave.diet.progress+weight, 1, 100);
	weight = Math.round(weight, -2);
	return weight;
};

window.updateFitness = function(slave) {
	var fitness = 0
	if(slave.fitness.status == "Heavy") {
		fitness = 2 + (2 * slave.diet.progress / 100)
	} else if(slave.fitness.status == "None") {
		fitness = 0
	} else if(slave.fitness.status == "Light") {
		fitness = 1 + (slave.diet.progress / 100)
	}
  
  if(variables().superjocktitles.includes(slave.title)) {
    fitness *= 2
  }

	fitness = Math.clamp(slave.fitness.progress+fitness, 1, 100);
	fitness = Math.round(fitness, -2);
	return fitness;
};

window.getFatigue = function(slave) {
	var fatigue = slave.fatigue.progress;

	if(fatigue >= 0 && fatigue <= 24) {
		return "@@color:forestgreen;Energetic@@"
	} else if(fatigue >= 25 && fatigue <= 49) {
		return "@@color:greenyellow;Refreshed@@"
	} else if(fatigue >= 50 && fatigue <= 74) {
		return "@@color:yellow;Exhausted@@"
	} else if(fatigue >= 75 && fatigue <= 100) {
		return "@@color:red;Dranied@@"
	}
};

window.getRoll = function(slave, roll1, roll2, roll3) {

	if(slave.lust == 1) {
		roll1 = Math.min(roll1, roll2)
		roll1 = Math.min(roll1, roll3)
	} else if(slave.lust == 2) {
		roll1 = Math.min(roll1, roll2)
	} else if(slave.lust == 4) {
		roll1 = Math.max(roll1, roll2)
	} else if(slave.lust == 5) {
		roll1 = Math.max(roll1, roll2)
		roll1 = Math.max(roll1, roll3)
	}

	return Number(roll1)
};

window.updateBodyHair = function(slave) {

	slave.shaved = Math.clamp(slave.shaved-1, 0, 3);

};

window.increaseGape = function(slave, num, place="training") {
	var pregape = getGape(slave.gape)
	num = num * (1.1 - (slave.gape / 100));
	slave.gape = Math.clamp(slave.gape+num, 0, 100);
	var postgape = getGape(slave.gape)
	var update

	if(place == "training") {
		if(pregape != postgape) {
			update = "<br>@@color:forestgreen;$activeCharacter.name's anus has been stretched from@@ " + pregape + " to " + postgape + "."
		} else if(slave.gape < 100) {
			update = "<br>@@color:forestgreen;$activeCharacter.name's anus has been stretched.@@"
		}

		if(update) {
			return update
		} else {
			return
		}

	} else if(place == "summary") {
		if(pregape != postgape) {
			update = "<br>@@color:forestgreen;" + slave.name + "'s anus has been stretched from@@ " + pregape + " to " + postgape + "."
		} else if(slave.gape < 100) {
			update = "<br>@@color:forestgreen;" + slave.name + "'s anus has been stretched.@@"
		}

		if(update) {
			slave.summary += update
		}
	}
}

window.refreshBattleStats = function(slave) {
  if(variables().cheats.contains("energyWell")) {
    slave.fatigue.physical = slave.fatigue.max
  } else {
    slave.fatigue.physical = Math.max(slave.fatigue.physical-1,0)  
  }
};

window.updateBattleStats = function(slave, roll, difficulty, estate) {
	var power = 0
	var mood = 0.5 + (1.5 * slave.mood.current / 100)

	if(roll == 1) {
		power = -10
	} else if(roll == 2) {
		power = -5
	} else if(roll == 3) {
		power = 2
	} else if(roll == 4) {
		power = 4
	} else if(roll == 5) {
		power = 6
	}

	if(power >= 0) {
		updateSubmission(slave, power*mood, difficulty, estate)
	} else {
		updateSubmission(slave, power/mood, difficulty, estate)
	}

	if(slave.lust <= 4 && roll == 1) {
		updateLust(slave,-1)
	}

};

window.updateLust = function(slave, power) {
	if(slave.lust == 5) {
		slave.lust = Math.clamp(slave.lust-power, 1, 5)
	} else {
		slave.lust = Math.clamp(slave.lust+power, 1, 5)
	}
};

window.updateSubmission = function(slave, power, difficulty, estate) {
	var leftover = 0
	var base = 0

	if(difficulty == "hard") {
		base = 5
	} else {
		base = 10
	};

	base += (estate.training.implements * 3)

	if(power >= 0) {
		power += base
	}

	power = Math.round(power)

	if(slave.will > 0 && power >= 0) {
		leftover = Math.clamp(power-slave.will, 0, power)
		slave.will = Math.clamp(slave.will-power, 0, 100)
		power += leftover
	} else if(power >= 0) {
		power = power * 2
	}

	if(power >= 0) {
		slave.submission = Math.clamp(slave.submission+power, 0, 100);
	} else {
		slave.will = Math.clamp(slave.will-power, 0, 100);
	}
};

window.getCock = function(slave) {
	var girth
	var size

	if(slave.girth.current == 1) {
		girth = "tiny"
	} else if(slave.girth.current == 2) {
		girth = "thin"
	} else if(slave.girth.current == 3) {
		girth = "average"
	} else if(slave.girth.current == 4) {
		girth = "thick"
	} else if(slave.girth.current == 5) {
		girth = "huge"
	}

	if(slave.cock == 1) {
		size = "3 inch"
	} else if(slave.cock.current == 2) {
		size = "3.5 inch"
	} else if(slave.cock.current == 3) {
		size = "4 inch"
	} else if(slave.cock.current == 4) {
		size = "4.5 inch"
	} else if(slave.cock.current == 5) {
		size = "5 inch"
	} else if(slave.cock.current == 6) {
		size = "6 inch"
	} else if(slave.cock.current == 7) {
		size = "7 inch"
	} else if(slave.cock.current == 8) {
		size = "8 inch"
	} else if(slave.cock.current == 9) {
		size = "9 inch"
	} else if(slave.cock.current == 10) {
		size = "10 inch"
	}

	return girth + ", " + size;
};

window.getLust = function(lust) {
	if(lust == 1) {
		return "@@color:red;Undersexed@@";
	} else if(lust == 2) {
		return "@@color:orange;Sated@@";
	} else if(lust == 3) {
		return "@@color:yellow;Normal@@";
	} else if(lust == 4) {
		return "@@color:greenyellow;Horny@@";
	} else if(lust == 5) {
		return "@@color:forestgreen;Oversexed@@";
	}
};

window.getExoticism = function(Exoticism) {
	if(Exoticism < 20) {
		return "@@color:red;Ordinary@@";
	} else if(Exoticism < 40) {
		return "@@color:orange;Alternative@@";
	} else if(Exoticism < 60) {
		return "@@color:yellow;Mysterious@@";
	} else if(Exoticism < 80) {
		return "@@color:greenyellow;Eccentric@@";
	} else if(Exoticism < 100) {
		return "@@color:forestgreen;Exotic@@";
	} else if(Exoticism >= 100) {
		return "@@color:darkturquoise;Mystifying@@";
	}
};

window.getPopularityText = function(popularity, residence) {
	if(popularity < 20) {
		return "@@color:red;Unknown@@";
	} else if(popularity < 40) {
		return "@@color:orange;Unpopular@@";
	} else if(popularity < 60) {
		return "@@color:yellow;Known@@";
	} else if(popularity < 80) {
		return "@@color:greenyellow;Popular@@";
	} else if(popularity < 100) {
		return "@@color:forestgreen;Renowned@@";
	} else if(popularity == 100) {
		return "@@color:darkturquoise;Famous@@"
	} 
};

window.getObedience = function(obedience) {
	if(obedience < 20) {
		return "@@color:red;Defiant@@";
	} else if(obedience < 40) {
		return "@@color:orange;Disobedient@@";
	} else if(obedience < 60) {
		return "@@color:yellow;Neutral@@";
	} else if(obedience < 80) {
		return "@@color:greenyellow;Tame@@";
	} else if(obedience < 100) {
		return "@@color:forestgreen;Obedient@@";
	} else if(obedience < 120) {
		return "@@color:darkturquoise;Subservient@@"
	} else if(obedience < 140) {
		return "@@color:mediumslateblue;Acquiescent@@"
	} else if(obedience == 140) {
		return "@@color:mediumvioletred;Reverential@@"
	}
};

window.getFear = function(fear) {
	if(fear > 80) {
		return "@@color:red;Spineless@@";
	} else if(fear > 60) {
		return "@@color:orange;Weak-Willed@@";
	} else if(fear > 40) {
		return "@@color:yellow;Fearful@@";
	} else if(fear > 20) {
		return "@@color:greenyellow;Carefree@@";
	} else if(fear > 0) {
		return "@@color:forestgreen;Dauntless@@";
	} else if(fear > -20 ) {
		return "@@color:darkturquoise;Fearless@@";
	} else if(fear > -40) {
		return "@@color:mediumslateblue;Intrepid@@"
	} else if(fear == -40) {
		return "@@color:mediumvioletred;Lionhearted@@"
	}
};

window.getTrust = function(trust) {
	if(trust < 20) {
		return "@@color:red;Cynical@@";
	} else if(trust < 40) {
		return "@@color:orange;Mistrustful@@";
	} else if(trust < 60) {
		return "@@color:yellow;Skeptical@@";
	} else if(trust < 80) {
		return "@@color:greenyellow;Trustful@@";
	} else if(trust < 100) {
		return "@@color:forestgreen;Credulous@@";
	} else if(trust < 120) {
		return "@@color:darkturquoise;Faithful@@";
	} else if(trust < 140) {
		return "@@color:mediumslateblue;Devout@@"
	} else if(trust == 140) {
		return "@@color:mediumvioletred;Worshipful@@"
	}
};

window.getGape = function(Gape) {
	if(Gape < 20) {
		return "@@color:red;very tight@@";
	} else if(Gape < 40) {
		return "@@color:orange;tight@@";
	} else if(Gape < 60) {
		return "@@color:yellow;moderately stretched@@";
	} else if(Gape < 80) {
		return "@@color:greenyellow;loose@@";
	} else if(Gape < 100) {
		return "@@color:forestgreen;gaping@@";
	} else if(Gape >= 100) {
		return "@@color:darkturquoise;completely stretched@@";
	}
};

window.getSanity = function(Sanity) {
	if(Sanity < 20) {
		return "@@color:red;Broken@@";
	} else if(Sanity < 40) {
		return "@@color:orange;Unhinged@@";
	} else if(Sanity < 60) {
		return "@@color:yellow;Mentally Stable@@";
	} else if(Sanity < 80) {
		return "@@color:greenyellow;Sane@@";
	} else if(Sanity < 100) {
		return "@@color:forestgreen;Collected@@";
	} else if(Sanity >= 100) {
		return "@@color:darkturquoise;Compos Mentis@@";
	}
};

window.getSensitivity = function(Sensitivity) {
	if(Sensitivity < 20) {
		return "@@color:red;very weak@@";
	} else if(Sensitivity >= 20 && Sensitivity < 40) {
		return "@@color:orange;weak@@";
	} else if(Sensitivity >= 40 && Sensitivity < 60) {
		return "@@color:yellow;normal@@";
	} else if(Sensitivity >= 60 && Sensitivity < 80) {
		return "@@color:greenyellow;strong@@";
	} else if(Sensitivity >= 80 && Sensitivity < 100) {
		return "@@color:forestgreen;very strong@@";
	} else if(Sensitivity >= 100) {
		return "@@color:darkturquoise;extremely strong@@";
	}
};

window.getSexSkill = function(slaveskill) {
	if(slaveskill < 20) {
		return "@@color:red;very poor@@";
	} else if(slaveskill >= 20 && slaveskill < 40) {
		return "@@color:orange;substandard@@";
	} else if(slaveskill >= 40 && slaveskill < 60) {
		return "@@color:yellow;satisfactory@@";
	} else if(slaveskill >= 60 && slaveskill < 80) {
		return "@@color:greenyellow;very good@@";
	} else if(slaveskill >= 80 && slaveskill < 100) {
		return "@@color:forestgreen;first rate@@";
	} else if(slaveskill >= 100) {
		return "@@color:darkturquoise;perfect@@";
	}
};

window.getSexualStat = function(stat) {
	if(stat == 1) {
		return "@@color:red;very low@@";
	} else if(stat == 2) {
		return "@@color:orange;low@@";
	} else if(stat == 3) {
		return "@@color:yellow;average@@";
	} else if(stat == 4) {
		return "@@color:greenyellow;high@@";
	} else if(stat == 5) {
		return "@@color:forestgreen;very high@@";
	}
};

window.getSkillLevel = function(slaveskill) {
	if(slaveskill < 20) {
		return 1;
	} else if(slaveskill >= 20 && slaveskill < 40) {
		return 2;
	} else if(slaveskill >= 40 && slaveskill < 60) {
		return 3;
	} else if(slaveskill >= 60 && slaveskill < 80) {
		return 4;
	} else if(slaveskill >= 80 && slaveskill < 100) {
		return 5;
	} else if(slaveskill >= 100) {
		return 6;
	}
};

window.getPopularityColor = function(slavePopularity, brothelPopularity) {
	var x = (slavePopularity / ((brothelPopularity + 1) * 20)) * 100;

	if(x < 20) {
		return "red";
	} else if(x >= 20 && x < 40) {
		return "orange";
	} else if(x >= 40 && x < 60) {
		return "yellow";
	} else if(x >= 60 && x < 80) {
		return "greenyellow";
	} else if(x >= 80 && x <= 100) {
		return "forestgreen";
	} else if(x > 100)
		return "darkturquoise";
};

window.getPrice = function(slave) {
	var base = 0;
	var price = 0;
	var multi = 0;
	var sum = 0;

	if(slave.rarity == 1) {
		base = 5000

	} else if(slave.rarity == 2) {
		base = 10000

	} else if(slave.rarity == 3) {
		base = 20000

	} else if(slave.rarity == 4) {
		base = 40000

	}
  
  if(slave.sex == "futanari") {
    base += 50000 * slave.rarity
  }
  
  if(slave.sex == "shemale") {
    base += 25000 * slave.rarity
  }

	price += 500 * (slave.health / 3)

	if(["dark elf", "orc", "holstaur"].contains(slave.tribe)) {
		price +=  1500 * (slave.lips.current / 5)

	} else if(["canus", "mongrel", "giant"].contains(slave.tribe)) {
		price +=  1500 * (slave.lips.current / 4)

	} else if(["dwarf", "gnome", "moon rabbit", "neko"].contains(slave.tribe)) {
		price +=  1500 * (slave.lips.current / 2)

	} else if(["pantheran", "goblin"].contains(slave.tribe)) {
		price +=  1500 * (slave.lips.current / 1)

	} else	{
		price +=  1500 * (slave.lips.current / 3)
	}
  
  if(["giant", "orc", "dwarf", "minotaur"].contains(slave.tribe)) {
		price +=  1500 * (slave.shoulders.current / 5)

	} else if(["mongrel", "goblin", "canus"].contains(slave.tribe)) {
		price +=  1500 * (slave.shoulders.current / 4)

	} else if(["forest elf", "dark elf", "high elf", "neko"].contains(slave.tribe)) {
		price +=  1500 * (slave.shoulders.current / 2)

	} else if(["pantheran", "gnome", "moon rabbit"].contains(slave.tribe)) {
		price +=  1500 * (slave.shoulders.current / 1)

	} else	{
		price +=  1500 * (slave.shoulders.current / 3)
	}
  
  if(["holstaur", "dark elf", "pantheran"].contains(slave.tribe)) {
		price +=  1500 * (slave.hips.current / 5)

	} else if(["moon rabbit", "orc", "neko", "gnome"].contains(slave.tribe)) {
		price +=  1500 * (slave.hips.current / 4)

	} else if(["canus", "forest elf", "dwarf"].contains(slave.tribe)) {
		price +=  1500 * (slave.hips.current / 2)

	} else if(["high elf", "mongrel"].contains(slave.tribe)) {
		price +=  1500 * (slave.hips.current / 1)

	} else	{
		price +=  1500 * (slave.hips.current / 3)
	}
  
  if(["dwarf", "mongrel", "minotaur", "orc"].contains(slave.tribe)) {
		price +=  1500 * (slave.torso.current / 5)

	} else if(["canus", "dark elf", "giant"].contains(slave.tribe)) {
		price +=  1500 * (slave.torso.current / 4)

	} else if(["neko", "forest elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.torso.current / 2)

	} else if(["pantheran", "gnome", "high elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.torso.current / 1)

	} else	{
		price +=  1500 * (slave.torso.current / 3)
	}
  
  if(["moon rabbit", "high elf", "dark elf", "pantheran"].contains(slave.tribe)) {
		price +=  1500 * (slave.legs.current / 5)

	} else if(["forest elf", "neko"].contains(slave.tribe)) {
		price +=  1500 * (slave.legs.current / 4)

	} else if(["goblin", "dwarf"].contains(slave.tribe)) {
		price +=  1500 * (slave.legs.current / 2)

	} else if(["gnome"].contains(slave.tribe)) {
		price +=  1500 * (slave.legs.current / 1)

	} else	{
		price +=  1500 * (slave.legs.current / 3)
	}
  
  if(["holstaur"].contains(slave.tribe)) {
		price +=  1500 * (slave.butt.current / 5)

	} else if(["dark elf", "moon rabbit"].contains(slave.tribe)) {
		price +=  1500 * (slave.butt.current / 4)

	} else if(["high elf", "forest elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.butt.current / 2)

	} else if(["gnome", "dwarf", "goblin"].contains(slave.tribe)) {
		price +=  1500 * (slave.butt.current / 1)

	} else	{
		price +=  1500 * (slave.butt.current / 3)
	}

	if(["orc", "minotaur"].contains(slave.tribe)) {
		price +=  1500 * (slave.balls.current / 5)

	} else if(["giant", "mongrel"].contains(slave.tribe)) {
		price +=  1500 * (slave.balls.current / 4)

	} else if(["dark elf", "dwarf", "goblin"].contains(slave.tribe)) {
		price +=  1500 * (slave.balls.current / 2)

	} else if(["gnome"].contains(slave.tribe)) {
		price +=  1500 * (slave.balls.current / 1)

	} else	{
		price +=  1500 * (slave.balls.current / 3)
	}

	if(["giant"].contains(slave.tribe)) {
		price +=  1500 * (slave.clit.current / 5)

	} else if(["pantheran", "moon rabbit"].contains(slave.tribe)) {
		price +=  1500 * (slave.clit.current / 4)

	} else if(["orc", "high elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.clit.current / 2)

	} else if(["mongrel", "holstaur"].contains(slave.tribe)) {
		price +=  1500 * (slave.clit.current / 1)

	} else	{
		price +=  1500 * (slave.clit.current / 3)
	}

	if(["giant"].contains(slave.tribe)) {
		price +=  1500 * (slave.pussy.current / 5)

	} else if(["orc", "gnome", "high elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.pussy.current / 4)

	} else if(["forest elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.pussy.current / 2)

	} else if(["dwarf"].contains(slave.tribe)) {
		price +=  1500 * (slave.pussy.current / 1)

	} else	{
		price +=  1500 * (slave.pussy.current / 3)
	}

	if(["gnome"].contains(slave.tribe)) {
		price +=  500 * (slave.intelligence / 5)

	} else if(["moon rabbit", "dark elf", "forest elf", "high elf"].contains(slave.tribe)) {
		price +=  500 * (slave.intelligence / 4)

	} else if(["orc"].contains(slave.tribe)) {
		price +=  500 * (slave.intelligence / 2)

	} else if(["goblin"].contains(slave.tribe)) {
		price +=  500 * (slave.intelligence / 1)

	} else {
		price +=  500 * (slave.intelligence / 3)
	}

	if(["holstaur"].contains(slave.tribe)) {
		price +=  1500 * (slave.bust.current / 10)

	} else if(["orc", "dark elf", "giant"].contains(slave.tribe)) {
		price +=  1500 * (slave.bust.current / 8)

	} else if(["dwarf", "high elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.bust.current / 4)

	} else if(["gnome"].contains(slave.tribe)) {
		price +=  1500 * (slave.bust.current / 2)

	} else {
		price +=  1500 * (slave.bust.current / 6)
	}

	if(["orc"].contains(slave.tribe)) {
		price +=  1500 * (slave.cock.current / 10)

	} else if(["giant", "goblin", "minotaur", "high elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.cock.current / 8)

	} else if(["dwarf", "dark elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.cock.current / 4)

	} else if(["gnome"].contains(slave.tribe)) {
		price +=  1500 * (slave.cock.current / 2)

	} else {
		price +=  1500 * (slave.cock.current / 6)
	}

	if(["orc"].contains(slave.tribe)) {
		price +=  1500 * (slave.girth.current / 5)

	} else if(["giant", "goblin", "minotaur", "high elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.girth.current / 4)

	} else if(["dwarf", "dark elf"].contains(slave.tribe)) {
		price +=  1500 * (slave.girth.current / 2)

	} else if(["gnome"].contains(slave.tribe)) {
		price +=  1500 * (slave.girth.current / 1)

	} else	{
		price +=  1500 * (slave.girth.current / 3)
	}

	if(["elf"].contains(slave.race)) {
		price +=  1500 * (slave.beauty / 10)

	} else if(["moon rabbit"].contains(slave.tribe)) {
		price +=  1500 * (slave.beauty / 8)

	} else if(["goblin"].contains(slave.tribe)) {
		price +=  1500 * (slave.beauty / 4)

	} else if(["orc"].contains(slave.tribe)) {
		price +=  1500 * (slave.beauty / 2)

	} else {
		price +=  1500 * (slave.beauty / 6)
	}

	multi = ((slave.weight / 5) * (2 / slave.maturity))

	sum = base + (price * multi * slave.rarity);
	return Math.round10(sum,1)
};

window.getScore = function(slave) {
	var score = 0

	score += getSkillLevel(slave.sexualskill.oral.kissing);
	score += getSkillLevel(slave.sexualskill.oral.fellatio);
	score += getSkillLevel(slave.sexualskill.oral.cunnilingus);
	score += getSkillLevel(slave.sexualskill.oral.analingus);

	score += getSkillLevel(slave.sexualskill.mammary.breastplay);
	score += getSkillLevel(slave.sexualskill.mammary.breastfeeding);
	score += getSkillLevel(slave.sexualskill.mammary.intercourse);

	score += getSkillLevel(slave.sexualskill.manual.fingering);
	score += getSkillLevel(slave.sexualskill.manual.handjob);
	score += getSkillLevel(slave.sexualskill.manual.fisting);

	score += getSkillLevel(slave.sexualskill.intercourse.vaginal);
	score += getSkillLevel(slave.sexualskill.intercourse.anal);
	score += getSkillLevel(slave.sexualskill.intercourse.pitching);
	score += getSkillLevel(slave.sexualskill.intercourse.pegging);

	return score;
};

window.getReputation = function(slave, brothel) {
	var repcap = 600 - (brothel.stats.customertolerance * 100);
	var score = getScore(slave);
	var rep = 4 * (score / 60);
	rep = rep * (1.5 - (slave.reputation / repcap))
	return Math.clamp(slave.reputation+rep, 0, repcap);
};

window.getSlavePrice = function(slave, brothel) {
	var price = 0;
	price = 5 + (slave.rarity * brothel.stats.level * (9*(slave.beauty / 10) + 9*(slave.exoticism / 100) + 9*(slave.bust.current / 10) + 3*(slave.lips.current / 5) + 3*(slave.shoulders.current / 5) + 3*(slave.hips.current / 5) + 3*(slave.torso.current / 5) + 3*(slave.legs.current / 5) + 3*(slave.butt.current / 5) + 9*(slave.cock.current / 10) + 6*(slave.girth.current / 5) + 3*(slave.balls.current / 5) + 3*(slave.clit.current / 5) + 3*(slave.pussy.current / 5)) * ((1 / slave.maturity) * (brothel.stats.customerdemand / 2.5) * (slave.weight / 5)));

	price = price + rand(0,3);

	return Math.round(price);
};

window.getAppeal = function(slave) {
	var appeal = 0;
	appeal = (10*(slave.rarity - 1) + 30*(slave.beauty / 5) + 30*(slave.bust.current / 5) + 10*(slave.lips.current / 3) + 10*(slave.shoulders.current / 3) + 10*(slave.hips.current / 3) + 10*(slave.torso.current / 3) + 10*(slave.legs.current / 3) + 10*(slave.butt.current / 3) + 30*(slave.cock.current / 5) + 20*(slave.girth.current / 3) + 20*(slave.balls.current / 3) + 20*(slave.clit.current / 3) + 20*(slave.pussy.current / 3)) * ((1 / slave.maturity) * (slave.weight / 5));

	appeal = Math.round(appeal);
	return appeal;
};

window.extractWord = function(string) {
	var int = string.indexOf(";");
	var end = string.indexOf("@@\"")

	return string.slice(int+1, end-1);
};
window.extractDescriptor = function(string) {
	var int = string.indexOf(";");
	var end = string.indexOf("[")

	return string.slice(int+1, end-1);
};

window.capitalizeSentence = function(str) {
  return str.replace(/\w\S*/g, function(txt){
    return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
  });
}

window.capitalize = function(string) {
	return string.charAt(0).toUpperCase() + string.slice(1);
};

window.lowercase = function(string) {
	return string.charAt(0).toLowerCase() + string.slice(1);
};

window.lowercasecolor = function(string) {
	var int = string.indexOf(";");

	return string.slice(0, int+1) + string.charAt(int+1).toLowerCase() + string.slice(int+2);
};

window.capitalizecolor = function(string) {
	var int = string.indexOf(";");

	return string.slice(0, int+1) + string.charAt(int+1).toUpperCase() + string.slice(int+2);
};

predisplay["Menu Return"] = function (taskName) {
	if (! tags().contains("noreturn")) {
		State.variables.return = passage();
	}
	if (! tags().contains("notruereturn")) {
		State.variables.truereturn = passage();
	}
};

Macro.add('dropdown', {
    handler : function() {
        if (this.args.length < 2) {
            var errors = [];
            if (this.args.length < 1) { errors.push('variable name'); }
            if (this.args.length < 2) { errors.push('list values'); }
            return this.error('no ' + errors.join(' or ') + ' specified');
        }

        // Ensure that the variable name argument is a string.
        if (typeof this.args[0] !== 'string') {
            return this.error('variable name argument is not a string');
        }

        var varName = this.args[0].trim();

        // Try to ensure that we receive the variable's name (incl. sigil), not its value.
        if (varName[0] !== '$' && varName[0] !== '_') {
            return this.error('variable name "' + this.args[0] + '" is missing its sigil ($ or _)');
        }

        // Custom debug view setup.
        if (Config.debug) {
            this.debugView.modes({ block : true });
        }

        var varId      = Util.slugify(varName);
        var listValues = this.args.slice(1).flatten();
        var curValue   = Wikifier.getValue(varName);
        var defaultIdx = 0;
        var el         = document.createElement('select');

        // Set up the option list.
        for (var i = 0; i < listValues.length; ++i) {
            var value = listValues[i];

            if (String(value) === curValue) {
                defaultIdx = i;
            }

            jQuery(document.createElement('option'))
                .text(value)
                .appendTo(el);
        }

        // Set up and append the select element to the output buffer.
        jQuery(el)
            .val(listValues[defaultIdx])
            .attr({
                id       : this.name + '-' + varId,
                name     : this.name + '-' + varId,
                tabindex : 0 // for accessiblity
            })
            .addClass('macro-' + this.name)
            .on('change', function () {
                Wikifier.setValue(varName, this.value);
                Engine.show();
            })
            .appendTo(this.output);

        // Set the variable to the default value.
        Wikifier.setValue(varName, listValues[defaultIdx]);
    }
});

!function(){$(document).keyup(function(t){49==t.keyCode&&($("#oneAct a").trigger("click"),$("#oneAct button").trigger("click")),50==t.keyCode&&($("#twoAct a").trigger("click"),$("#threeAct button").trigger("click")),51==t.keyCode&&($("#threeAct a").trigger("click"),$("#threeAct button").trigger("click")),52==t.keyCode&&($("#fourAct a").trigger("click"),$("#fourAct button").trigger("click")),52==t.keyCode&&($("#fourAct a").trigger("click"),$("#fourAct button").trigger("click")),53==t.keyCode&&($("#fiveAct a").trigger("click"),$("#fiveAct button").trigger("click")),54==t.keyCode&&($("#sixAct a").trigger("click"),$("#sixAct button").trigger("click")),55==t.keyCode&&($("#sevenAct a").trigger("click"),$("#sevenAct button").trigger("click")),56==t.keyCode&&($("#eightAct a").trigger("click"),$("#eightAct button").trigger("click")),57==t.keyCode&&($("#nineAct a").trigger("click"),$("#nineAct button").trigger("click")),48==t.keyCode&&($("#zeroAct a").trigger("click"),$("#zeroAct button").trigger("click")),9==t.keyCode&&($("#tabAct a").trigger("click"),$("#tabAct button").trigger("click")),32==t.keyCode&&($("#spaceAct a").trigger("click"),$("#spaceAct button").trigger("click")),17==t.keyCode&&($("#ctrlAct a").trigger("click"),$("#ctrlAct button").trigger("click")),8==t.keyCode&&($("#bkspAct a").trigger("click"),$("#bkspAct button").trigger("click")),27==t.keyCode&&($("#escAct a").trigger("click"),$("#escAct button").trigger("click")),46==t.keyCode&&($("#delAct a").trigger("click"),$("#delAct button").trigger("click")),13==t.keyCode&&($("#enterAct a").trigger("click"),$("#enterAct button").trigger("click")),18==t.keyCode&&($("#altAct a").trigger("click"),$("#altAct button").trigger("click")),81==t.keyCode&&($("#qKeyAct a").trigger("click"),$("#qKeyAct button").trigger("click")),87==t.keyCode&&($("#wKeyAct a").trigger("click"),$("#wKeyAct button").trigger("click")),69==t.keyCode&&($("#eKeyAct a").trigger("click"),$("#eKeyAct button").trigger("click")),82==t.keyCode&&($("#rKeyAct a").trigger("click"),$("#rKeyAct button").trigger("click")),84==t.keyCode&&($("#tKeyAct a").trigger("click"),$("#tKeyAct button").trigger("click")),89==t.keyCode&&($("#yKeyAct a").trigger("click"),$("#yKeyAct button").trigger("click")),85==t.keyCode&&($("#uKeyAct a").trigger("click"),$("#uKeyAct button").trigger("click")),73==t.keyCode&&($("#iKeyAct a").trigger("click"),$("#iKeyAct button").trigger("click")),79==t.keyCode&&($("#oKeyAct a").trigger("click"),$("#oKeyAct button").trigger("click")),80==t.keyCode&&($("#pKeyAct a").trigger("click"),$("#pKeyAct button").trigger("click")),65==t.keyCode&&($("#aKeyAct a").trigger("click"),$("#aKeyAct button").trigger("click")),83==t.keyCode&&($("#sKeyAct a").trigger("click"),$("#sKeyAct button").trigger("click")),68==t.keyCode&&($("#dKeyAct a").trigger("click"),$("#dKeyAct button").trigger("click")),70==t.keyCode&&($("#fKeyAct a").trigger("click"),$("#fKeyAct button").trigger("click")),71==t.keyCode&&($("#gKeyAct a").trigger("click"),$("#gKeyAct button").trigger("click")),72==t.keyCode&&($("#hKeyAct a").trigger("click"),$("#hKeyAct button").trigger("click")),74==t.keyCode&&($("#jKeyAct a").trigger("click"),$("#jKeyAct button").trigger("click")),75==t.keyCode&&($("#kKeyAct a").trigger("click"),$("#kKeyAct button").trigger("click")),76==t.keyCode&&($("#lKeyAct a").trigger("click"),$("#lKeyAct button").trigger("click")),90==t.keyCode&&($("#zKeyAct a").trigger("click"),$("#zKeyAct button").trigger("click")),88==t.keyCode&&($("#xKeyAct a").trigger("click"),$("#xKeyAct button").trigger("click")),67==t.keyCode&&($("#cKeyAct a").trigger("click"),$("#cKeyAct button").trigger("click")),86==t.keyCode&&($("#vKeyAct a").trigger("click"),$("#vKeyAct button").trigger("click")),66==t.keyCode&&($("#bKeyAct a").trigger("click"),$("#bKeyAct button").trigger("click")),78==t.keyCode&&($("#nKeyAct a").trigger("click"),$("#nKeyAct button").trigger("click")),77==t.keyCode&&($("#mKeyAct a").trigger("click"),$("#mKeyAct button").trigger("click")),112==t.keyCode&&($("#f1KeyAct a").trigger("click"),$("#f1KeyAct button").trigger("click")),113==t.keyCode&&($("#f2KeyAct a").trigger("click"),$("#f2KeyAct button").trigger("click")),114==t.keyCode&&($("#f3KeyAct a").trigger("click"),$("#f3KeyAct button").trigger("click")),115==t.keyCode&&($("#f4KeyAct a").trigger("click"),$("#f4KeyAct button").trigger("click")),116==t.keyCode&&($("#f5KeyAct a").trigger("click"),$("#f5KeyAct button").trigger("click")),117==t.keyCode&&($("#f6KeyAct a").trigger("click"),$("#f6KeyAct button").trigger("click")),118==t.keyCode&&($("#f7KeyAct a").trigger("click"),$("#f7KeyAct button").trigger("click")),119==t.keyCode&&($("#f8KeyAct a").trigger("click"),$("#f8KeyAct button").trigger("click")),120==t.keyCode&&($("#f9KeyAct a").trigger("click"),$("#f9KeyAct button").trigger("click")),121==t.keyCode&&($("#f10KeyAct a").trigger("click"),$("#f10KeyAct button").trigger("click")),122==t.keyCode&&($("#f11KeyAct a").trigger("click"),$("#f11KeyAct button").trigger("click")),123==t.keyCode&&($("#f12KeyAct a").trigger("click"),$("#f12KeyAct button").trigger("click"))})}();</script><tw-tag name="nobr" color="green"></tw-tag><tw-tag name="widget" color="red"></tw-tag><tw-tag name="Stats" color="green"></tw-tag><tw-passagedata pid="1" name="Init" tags="nobr" position="14,26" size="100,100">&lt;&lt;if _test != 1&gt;&gt;
	&lt;&lt;include &quot;Starter Page&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Items&quot;&gt;&gt;

/* Estate */
&lt;&lt;set $estate = {name:null, rooms:&quot;&quot;, pop:0, cap:4, location:null, level:1, facilities:&quot;&quot;, page:&quot;Overview&quot;}&gt;&gt;
&lt;&lt;set $estate.facilities = {page:null, trainingroom:0, dungeon:0, training:null, hypnotherapy:null}&gt;&gt;
&lt;&lt;set $estate.facilities.training = {implements:0, bedding:0, permit:0, rooms:1, trainers:[], trainer:null}&gt;&gt;
&lt;&lt;set $estate.rooms = {amount:1, used:0}&gt;&gt;
&lt;&lt;set $estate.alchemy = {active:0}&gt;&gt;
&lt;&lt;set $estate.brothel = {active:0, name:&quot;The Rusty Knob&quot;, pop:0, cap:0, decor:&quot;Classic&quot;, focus:&quot;Variety&quot;, research:&quot;&quot;, popularity:{}, style:null, page:&quot;Overview&quot;, levels:&quot;&quot;, exceptions:&quot;&quot;, competition:{}, takedowns:{}, report:{}}&gt;&gt;
&lt;&lt;set $estate.brothel.report = {text:null, brothelscore:0, guardscore:0}&gt;&gt;
&lt;&lt;set $estate.brothel.takedowns = {local:0, regional:0, national:0}&gt;&gt;
&lt;&lt;set $estate.brothel.popularity = {level:&quot;Local&quot;, total:0}&gt;&gt;
&lt;&lt;set $estate.brothel.levels = {soliciting:&quot;Min&quot;, managing:&quot;Min&quot;, guarding:&quot;Min&quot;, hosting:&quot;Min&quot;, attending:&quot;Min&quot;, teaching:&quot;Min&quot;, consorting:&quot;Min&quot;}&gt;&gt;
&lt;&lt;set $estate.brothel.exceptions = {pSoliciting:&quot;No&quot;, pConsorting:&quot;No&quot;, gSoliciting:&quot;No&quot;, gConsorting:&quot;No&quot;}&gt;&gt;
&lt;&lt;set $estate.brothel.research = {popular:0, niche:0, common:0}&gt;&gt;
&lt;&lt;set $estate.ranch = {active:0, name:&quot;Moonshine Ranch&quot;, pop:0, cap:0, style:null, popularity:0, report:{}}&gt;&gt;
&lt;&lt;set $estate.ranch.report = {text:null}&gt;&gt;
&lt;&lt;set $estate.farm = {active:0}&gt;&gt;
&lt;&lt;set $estate.training = {active:1, implements:1, incense:0}&gt;&gt;
&lt;&lt;set $estate.chattel = {active:0, name:&quot;Chattel House&quot;, pop:0, cap:0, pens:&quot;&quot;, page:0}&gt;&gt;
&lt;&lt;set $estate.chattel.pens = {amount:0}&gt;&gt;
/* Estate */

/* Date */
&lt;&lt;set $weekcount = 1&gt;&gt;
&lt;&lt;set $weeknum to 1&gt;&gt;
&lt;&lt;set $weeks to 1&gt;&gt;
&lt;&lt;set $monthnum to 0&gt;&gt;
&lt;&lt;set $month to &quot;January&quot;&gt;&gt;
&lt;&lt;set $monthArray = [&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;]&gt;&gt;
&lt;&lt;set $yearnum = 753&gt;&gt;
&lt;&lt;set $trueyears = 0&gt;&gt;
/* Date */

/* General */
&lt;&lt;set $version to &quot;0.5.16.0&quot;&gt;&gt;
&lt;&lt;set $Version = 1&gt;&gt;

&lt;&lt;set $endweek = 0&gt;&gt;

&lt;&lt;set $gameover = 0&gt;&gt;

&lt;&lt;set $difficulty = &quot;default&quot;&gt;&gt;

&lt;&lt;set $cheats = []&gt;&gt;

&lt;&lt;set $tabs = {skills:null}&gt;&gt;

&lt;&lt;set $main = {page:&quot;estate&quot;}&gt;&gt;

&lt;&lt;set $updates = {ready: 0, brothel: &quot;&quot;, farm: &quot;&quot;, slaver: &quot;&quot;, slave: &quot;&quot;, compendium: &quot;&quot;}&gt;&gt;

&lt;&lt;set $tips = {training: 1, slavebuying: 0, slavediscipline: 0, slaveexpense:0, brothel: 1}&gt;&gt;

&lt;&lt;set $compendium = {page:null, leaf:null, races:[], natures:[], codes:[], moods:[&quot;Anxiety&quot;, &quot;Happiness&quot;, &quot;Sanity&quot;, &quot;Serenity&quot;], ages:[&quot;Young Adult&quot;, &quot;Adult&quot;, &quot;Mature&quot;], attributes:[&quot;Obedience&quot;, &quot;Trust&quot;, &quot;Fear&quot;], sexes:[&quot;Male&quot;, &quot;Female&quot;, &quot;Shemale&quot;, &quot;Futanari&quot;, &quot;Transgender&quot;], titles:[&quot;Common&quot;, &quot;Uncommon&quot;, &quot;Unique&quot;, &quot;Rare&quot;, &quot;Special&quot;]}&gt;&gt;

&lt;&lt;set $summary = {income:{}, slavedesc: 0, brothelslavedesc: 0, history:0, skills:0, slaveinfo:0, brothelcapacity:0, brothelpopularity:0, brothelpopularitydesc:1, brothelfocus:0, estateInfo:0, estateCap:0}&gt;&gt;
&lt;&lt;set $summary.income = {estate:0, brothel:0, ranch:0, chattel:0}&gt;&gt;

&lt;&lt;set $extrainfo = &quot;&quot;&gt;&gt;

&lt;&lt;set $slaveIncome = 0&gt;&gt;
&lt;&lt;set $requestIncome = 0&gt;&gt;
&lt;&lt;set $resources = 0&gt;&gt;
&lt;&lt;set $maintenance = {personal:0, estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
&lt;&lt;set $slaveExpense = 0&gt;&gt;
&lt;&lt;set $expenses = {estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
&lt;&lt;set $revenue = {estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
&lt;&lt;set $remainder = {total:0, name:null, color:null}&gt;&gt;
&lt;&lt;set $brothelearnings = 0&gt;&gt;
&lt;&lt;set $brothelexpense = 0&gt;&gt;
&lt;&lt;set $totalcustomers = 0&gt;&gt;
&lt;&lt;set $ranchearnings = 0&gt;&gt;
&lt;&lt;set $brothelslaves = {amount:0, popularity:0}&gt;&gt;
/* General */

/* Adjectives */
&lt;&lt;set $eyedesc = [&quot;bright&quot;, &quot;clear&quot;, &quot;beautiful&quot;, &quot;peircing&quot;, &quot;unyeilding&quot;, &quot;sharp&quot;, &quot;warm&quot;, &quot;welcoming&quot;, &quot;deep&quot;, &quot;round&quot;, &quot;alluring&quot;, &quot;gentle&quot;, &quot;fiery&quot;, &quot;shining&quot;, &quot;steely&quot;, &quot;big&quot;]&gt;&gt;
/* Adjectives */

/* User Stats */
&lt;&lt;set $upkeep to 0&gt;&gt;

&lt;&lt;set $inventory = {amount:0, page:&quot;Transformative&quot;}&gt;&gt;
&lt;&lt;set $bulk = []&gt;&gt;
&lt;&lt;set $slaves = {amount: 0}&gt;&gt;
/* User Stats */

/* Titles */
&lt;&lt;include &quot;Titles&quot;&gt;&gt;
/* Titles */
&lt;&lt;include &quot;Descriptors&quot;&gt;&gt;

&lt;&lt;include &quot;Names&quot;&gt;&gt;

&lt;&lt;include &quot;Races&quot;&gt;&gt;

&lt;&lt;include &quot;Skills&quot;&gt;&gt;

/* Traits */

&lt;&lt;set $canineEars = [&quot;button&quot;, &quot;round-tipped&quot;, &quot;prick&quot;, &quot;folded&quot;, &quot;pendant&quot;, &quot;hooded&quot;, &quot;rose&quot;]&gt;&gt;
&lt;&lt;set $felineEars = [&quot;prick&quot;, &quot;curled&quot;, &quot;folded&quot;, &quot;floopy&quot;]&gt;&gt;
&lt;&lt;set $leporineEars = [&quot;lopped&quot;, &quot;straight&quot;, &quot;v-shapped&quot;]&gt;&gt;
&lt;&lt;set $ears = {canine: $canineEars, feline: $felineEars, leporine: $leporineEars}&gt;&gt;

&lt;&lt;set $canineTails = [&quot;ring&quot;, &quot;sickle&quot; ,&quot;screw&quot;, &quot;docked&quot;, &quot;otter &amp; whip&quot;, &quot;bobbed&quot;]&gt;&gt;
&lt;&lt;set $felineTails = [&quot;long flowing&quot;, &quot;plumed&quot;, &quot;short, thick&quot;, &quot;long, thin&quot;]&gt;&gt;
&lt;&lt;set $leporineTails = [&quot;puff ball&quot;, &quot;short, fluffy&quot;]&gt;&gt;
&lt;&lt;set $tail = {canine: $canineTails, feline: $felineTails, leporine: $leporineTails}&gt;&gt;

/* Traits */

/* Haircolors */
&lt;&lt;set $humanHC = [&quot;black&quot;, &quot;brown&quot;, &quot;red&quot;, &quot;blonde&quot;]&gt;&gt;

&lt;&lt;set $beastmanHC = [&quot;black&quot;, &quot;brown&quot;, &quot;red&quot;, &quot;blonde&quot;, &quot;pink&quot;, &quot;purple&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;silver&quot;, &quot;white&quot;]&gt;&gt;

&lt;&lt;set $haircolors = {human: $humanHC, beastman: $beastmanHC}&gt;&gt;
/* Haircolors */

/* Hairstyles */
&lt;&lt;set $simplemalehairstyles = [&quot;completely bald&quot;, &quot;in a crew cut&quot;, &quot;curtained&quot;, &quot;long&quot;, &quot;in a caesar cut&quot;, &quot;in a quiff&quot;, &quot;simple and short&quot;]&gt;&gt;

&lt;&lt;set $simplefemalehairstyles = [&quot;completely bald&quot;, &quot;in a chin length bob&quot;, &quot;in a short bob&quot;, &quot;in a hime cut&quot;, &quot;long and wavy&quot;, &quot;straight and long&quot;, &quot;in pigtails&quot;, &quot;in a ponytail&quot;]&gt;&gt;

&lt;&lt;set $simplehairstyles = {male: $simplemalehairstyles, female: $simplefemalehairstyles}&gt;&gt;
/* Hairstyles */

/* Gender */
&lt;&lt;include &quot;Pronouns&quot;&gt;&gt;

&lt;&lt;set $vagina = {1: &quot;your cunt&quot;, 0: &quot;an onahole&quot;}&gt;&gt;
&lt;&lt;set $clit = {1: &quot;your clit&quot;, 0: &quot;its clit&quot;}&gt;&gt;
&lt;&lt;set $penis = {1: &quot;your cock&quot;, 0: &quot;a dildo&quot;}&gt;&gt;
&lt;&lt;set $shaft = {1: &quot;your shaft&quot;, 0: &quot;its shaft&quot;}&gt;&gt;
&lt;&lt;set $testicles = {1: &quot;your balls&quot;, 0: &quot;its balls&quot;}&gt;&gt;

&lt;&lt;set $childtitle = {male: &quot;son&quot;, female: &quot;daughter&quot;}&gt;&gt;
/* Gender */

/* Slave Shops */
&lt;&lt;set $slavetemplate = &quot;Jhak&quot;&gt;&gt;
&lt;&lt;set $shoptemplate = 1&gt;&gt;
&lt;&lt;include &quot;Stock Shops&quot;&gt;&gt;
&lt;&lt;set $jhakbeastshack = _characterShop&gt;&gt;
&lt;&lt;set $jhakbeastshack.name = &quot;Jhak&#39;s Beast Shack&quot;&gt;&gt;
&lt;&lt;set $jhakbeastshack.description = &quot;A slave shop that sells substandard quality beastmen slaves.&quot;&gt;&gt;
&lt;&lt;set $jhakbeastshack.welcome = &quot;Jhak: Welcome to my beast shack! Who would you like to purchase?&quot;&gt;&gt;

&lt;&lt;set $slavetemplate = &quot;Sasha&quot;&gt;&gt;
&lt;&lt;set $shoptemplate = 1&gt;&gt;
&lt;&lt;include &quot;Stock Shops&quot;&gt;&gt;
&lt;&lt;set $sashaslaveshop = _characterShop&gt;&gt;
&lt;&lt;set $sashaslaveshop.name = &quot;Sasha&#39;s Slave Shop&quot;&gt;&gt;
&lt;&lt;set $sashaslaveshop.description = &quot;A slave shop that sells a large assortment of substandard quality slaves.&quot;&gt;&gt;
&lt;&lt;set $sashaslaveshop.welcome = &quot;Sasha: Take a look around and choose wisely, all sales are final!&quot;&gt;&gt;

&lt;&lt;set $slavetemplate = &quot;Pan&quot;&gt;&gt;
&lt;&lt;set $shoptemplate = 1&gt;&gt;
&lt;&lt;include &quot;Stock Shops&quot;&gt;&gt;
&lt;&lt;set $panbargainbasement = _characterShop&gt;&gt;
&lt;&lt;set $panbargainbasement.name = &quot;Pan&#39;s Bargain Basement&quot;&gt;&gt;
&lt;&lt;set $panbargainbasement.description = &quot;A small shop that stocks few slaves.&quot;&gt;&gt;
&lt;&lt;set $panbargainbasement.welcome = &quot;Pan: These are all the recent junk from my shop. Prices are final, I have to find a way turn a profit on them somehow.&quot;&gt;&gt;
/* Slave Shops */</tw-passagedata><tw-passagedata pid="2" name="StoryCaption" tags="nobr" position="1360,51" size="100,100">&lt;&lt;if $Version&gt;&gt;
	&#39;&#39;&lt;center&gt;Version $version.&lt;/center&gt;&#39;&#39;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1&gt;&gt;
	/*&lt;&lt;set _date = &quot;Week &quot; + $weeknum + &quot; of &quot; + $month + &quot;, &quot; + $yearnum&gt;&gt;*/
	&lt;&lt;set _date = &quot;Week &quot; + $weekcount&gt;&gt;
	&#39;&#39;&lt;center&gt;_date&lt;/center&gt;&#39;&#39;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Travel&gt;&gt;
	&#39;&#39;&lt;center&gt;[[Travel|Travel]]&lt;/center&gt;&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $NextWeek&gt;&gt;
	&#39;&#39;&lt;center&gt;[[End Week|End Week]]&lt;/center&gt;&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Main&gt;&gt;
	&#39;&#39;&lt;center&gt;[[Home|Main]]&lt;/center&gt;&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Continue&gt;&gt;
	&lt;span id=&quot;spaceAct&quot;&gt;&#39;&#39;&lt;center&gt;[[Continue|$Continue]] [Space]&lt;/center&gt;&#39;&#39;&lt;/span&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sexContinue == 2&gt;&gt;
	&lt;&lt;if $sex.player.stamina.current&gt;&gt;
		&#39;&#39;&lt;center&gt;[[Continue Sex|Sex Results][$sex.continue = 1]]&lt;/center&gt;&#39;&#39;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $sexContinue == 1&gt;&gt;
	&lt;&lt;if $sex.player.stamina.current&gt;&gt;
		&#39;&#39;&lt;center&gt;[[End Continuing Sex|Sex Battle][$sex.continue = 0]]&lt;/center&gt;&#39;&#39;
	&lt;&lt;else&gt;&gt;
		&#39;&#39;&lt;center&gt;[[End Continuing Sex|End Sex][$sex.continue = 0]]&lt;/center&gt;&#39;&#39;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Next&gt;&gt;
	&#39;&#39;&lt;center&gt;[[$Next|$Next]]&lt;/center&gt;&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Previous&gt;&gt;
	&#39;&#39;&lt;center&gt;[[Return|$Previous]]&lt;/center&gt;&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Return&gt;&gt;
	&#39;&#39;&lt;center&gt;[[Return|$return]]&lt;/center&gt;&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $TrueReturn&gt;&gt;
	&#39;&#39;&lt;center&gt;[[Return|$truereturn]]&lt;/center&gt;&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $EndTraining&gt;&gt;
	&#39;&#39;&lt;center&gt;[[End Training|$EndTraining]]&lt;/center&gt;&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $CustomLink&gt;&gt;
	&lt;b&gt;&lt;center&gt;&lt;&lt;link &quot;$CustomLink&quot; &quot;Main Menu&quot;&gt;&gt;
		&lt;&lt;if $CustomLink == &quot;End Intercourse&quot;&gt;&gt;
				&lt;&lt;set $sex = null&gt;&gt;
				&lt;&lt;set $CustomLink = null&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/link&gt;&gt;&lt;/center&gt;&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $NextWeek || $Main || $Continue || $Next || $Return || $TrueReturn || $Previous || $EndTraining || $CustomLink&gt;&gt;
	&lt;&lt;if $Version != 1 &amp;&amp; $StoryTime != 1&gt;&gt;
		&lt;br&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Version != 1 &amp;&amp; $StoryTime != 1&gt;&gt;
	&lt;&lt;if $Training&gt;&gt;
		&lt;center&gt;&#39;&#39;$activeCharacter.name&#39;s Stats&#39;&#39;
		&lt;br&gt;
		&#39;&#39;&lt;&lt;include &quot;Battle Stats&quot;&gt;&gt;&#39;&#39;&lt;/center&gt;
	&lt;&lt;else&gt;&gt;
		&#39;&#39;&lt;center&gt;&lt;&lt;include &quot;Stats&quot;&gt;&gt;&lt;/center&gt;&#39;&#39;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if passage() == &quot;CC - Physical Traits&quot;&gt;&gt;
	&lt;br&gt;&lt;b&gt;&lt;center&gt;
	&lt;&lt;if $cheats.includes(&quot;perfectCharacter&quot;)&gt;&gt;
		Statpoints: ∞
		&lt;br&gt;
		[[MAX ALL STATS|CC - Physical Traits][$cheats.push(&quot;MAS&quot;)]]
	&lt;&lt;else&gt;&gt;
		Statpoints: &lt;span id=&#39;statpoints&#39;&gt;$NC.statpoints&lt;/span&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;/center&gt;&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if settings.cheats &amp;&amp; [&quot;Main Menu&quot;, &quot;Main&quot;, &quot;CC - Physical Traits&quot;, &quot;Sex Battle&quot;].contains(passage())&gt;&gt;
	&lt;&lt;set $tbpassage = passage()&gt;&gt;
	&lt;br&gt;
	&lt;center&gt;&#39;&#39;Spellbook&#39;&#39;
	&lt;br&gt;
	&lt;&lt;textbox &quot;$cheat&quot; &quot;&quot; $tbpassage autofocus&gt;&gt;&lt;/center&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="3" name="Start" tags="nobr" position="141,1561" size="100,100">&lt;center&gt;&lt;titled&gt;A New Beginning&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

After six months of travel you finally reach the city Waiross. Years of war between the Demon Lord and the Hero&#39;s faction has left many homes destroyed, including your own, leaving you no choice but to emigrate to one of the larger, more stable cities. Although there were cities closer to you than Waiross, you reasoned that it was your best bet at survival. With no way of getting any news of the survival of closer but smaller cities, you choose to travel to the largest one you knew. You weren&#39;t the only one, there were many immigrants headed for the same city and before you knew it you were traveling with hundreds of others.

&lt;br&gt;&lt;br&gt;

Luckily for you, Waiross did survive the war. Its vibrant slave trade kept its economy running in times of peril and its vast army kept it defended from any attacks from the Demon Lord&#39;s army. However not everything is peaches and roses. Just like you noticed on your travel here, there are a lot of immigrants waiting outside the city to get in. A large majority of the other neighboring cities didn&#39;t make it through the war, creating a much larger number of immigrants than Waiross had expected. There were so many people that the Waiross King, Waiross the Third, claimed that there was not enough space or resources to accommodate all the new arrivals and majorly reduced the amount of new people allowed to live inside the city.

&lt;br&gt;&lt;br&gt;

At first only those with marketable skills or large sums of money were allowed citizenship. Even then, the amount of people coming into the city was too much for the city to handle causing them to raise the standards even higher. Only those with exceptional skills or people with money were to be allowed in. The amount of immigrants living outside the city became so big that an outer city slum was created. The slums consist mostly of immigrants living in makeshift housing. With no guards sent to police the outer city the slums were filled with crime.

&lt;br&gt;&lt;br&gt;

Crime syndicates quickly popped up all over the slums, stealing money from unprotected immigrants to fund their operations which allowed them to send people into the city. The officials in Waiross quickly caught on to this, and decreed that only clean money was allowed to be used to buy citizenship. While they didn&#39;t mind accepting dirty money, they were not interested in allowing a bunch of criminals to settle in their city. This severely lowered the amount of criminal activity and recruiting going on in the slums but didn&#39;t stop it completely. From what you’ve heard many crime syndicate still find a way to get their members in by bribing city officials.

&lt;br&gt;&lt;br&gt;

Before having to flee from your old village, you were the town&#39;s merchant. You were several times more wealthy than most of the people in the village but you had to leave most of your goods behind. You were able to salvage your money but it won&#39;t do you any good because you can&#39;t prove to the city officials that your money was obtained legitimately. You&#39;re still better off than most people as you can use your business know-how and money to start a business venture right here in the slums.

&lt;br&gt;&lt;br&gt;

&lt;&lt;set $revenue.estate = 100000&gt;&gt;
&lt;&lt;set $revenue.total = 100000&gt;&gt;
&lt;&lt;set $PC.money = 100000&gt;&gt;
&lt;&lt;unset $Continue&gt;&gt;
&lt;&lt;set $Previous = &quot;CC - Physical Traits&quot;&gt;&gt;

[[Buy an estate in the slums.|Purchase Estate]]</tw-passagedata><tw-passagedata pid="4" name="End Week" tags="nobr noreturn notruereturn" position="1362,176" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Titles&quot;&gt;&gt;
&lt;&lt;set $endweek = 1&gt;&gt;
&lt;&lt;set $soldSlaves = []&gt;&gt;

&lt;&lt;if !$endweekupdates&gt;&gt;
	&lt;&lt;include &quot;End Week Update&quot;&gt;&gt;

	&lt;&lt;include &quot;Player Report&quot;&gt;&gt;

	&lt;&lt;set _pop = 0&gt;&gt;

	&lt;&lt;if $slaves.amount&gt;&gt;
		&lt;&lt;for _i to 1; _i &lt;= $slaves.amount;_i++&gt;&gt;
			&lt;&lt;set _character = $slaves[_i]&gt;&gt;
			&lt;&lt;include &quot;Slave Report&quot;&gt;&gt;
		&lt;&lt;/for&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $estate.pop &gt; $estate.cap &amp;&amp; !$estate.overcap&gt;&gt;
		&lt;&lt;set $estate.overcap = 1&gt;&gt;

	&lt;&lt;elseif $estate.pop &gt; $estate.cap&gt;&gt;
		&lt;&lt;set $estate.overcap += 1&gt;&gt;

	&lt;&lt;elseif $estate.pop &lt;= $estate.cap&gt;&gt;
		&lt;&lt;set $estate.overcap = 0&gt;&gt;
		&lt;&lt;set $estate.warning = null&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $estate.overcap == 1&gt;&gt;
		&lt;&lt;set $estate.warning = &quot;Your estate is currently overpopulated with slaves. If it is still overpopulated by the end of the week your most recently obtained slaves assigned to the estate will be automatically sold.&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;set $endweekupdates = 1&gt;&gt;
	&lt;&lt;set $summarypage = null&gt;&gt;
	&lt;&lt;set $summarypen = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $Continue = &quot;End Week Expenses&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;
&lt;&lt;set _institutes = []&gt;&gt;

&lt;&lt;if $estate.pop&gt;&gt;
	&lt;&lt;set _institutes.push(&quot;estate&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.pop&gt;&gt;
	&lt;&lt;set _institutes.push(&quot;brothel&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.ranch.pop&gt;&gt;
	&lt;&lt;set _institutes.push(&quot;ranch&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.chattel.pop&gt;&gt;
	&lt;&lt;set _institutes.push(&quot;chattel&quot;)&gt;&gt;

	&lt;&lt;set _chattelcap = $estate.chattel.cap&gt;&gt;
	&lt;&lt;set _chattelpenpop = 0&gt;&gt;

	&lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
		&lt;&lt;set _chattelcap += $estate.chattel.pens[_p].cap&gt;&gt;
		&lt;&lt;set _chattelpenpop += $estate.chattel.pens[_p].pop&gt;&gt;
		&lt;&lt;set $estate.chattel.pens[_p].stylepage = null&gt;&gt;
	&lt;&lt;/for&gt;&gt;


	&lt;&lt;set _chattelholdingpop = $estate.chattel.pop-_chattelpenpop&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$summarypage&gt;&gt;
	&lt;&lt;set $summarypage = _institutes[0]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.pop&gt;&gt;
	&lt;&lt;set $estate.brothel.report.brothelscore = Math.clamp($estate.brothel.report.brothelscore, 0, 100)&gt;&gt;
	&lt;&lt;set $estate.brothel.report.guardscore = Math.clamp($estate.brothel.report.guardscore, 0, 100)&gt;&gt;
	&lt;&lt;run createReport(&quot;Brothel&quot;, $estate.brothel.report.brothelscore, $estate.brothel.report.guardscore)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.ranch.pop&gt;&gt;
	&lt;&lt;run createReport(&quot;Ranch&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;center&gt;&lt;h3&gt;Weekly Player Report&lt;/h3&gt;&lt;/center&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;tr&gt;&lt;td&gt;&lt;&lt;race $PC.tribe &quot;Main Menu&quot;&gt;&gt; $PC.name &lt;&lt;gender $PC.sex $PC.gender&gt;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;$PC.summary&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;&lt;if $slaves.amount&gt;&gt;
	&lt;hr&gt;
	&lt;center&gt;&lt;h3&gt;Weekly Slave Report&lt;/h3&gt;&lt;/center&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _institutes.length&gt;&gt;

	&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

	&lt;tr&gt;
		&lt;&lt;if _institutes.contains(&quot;estate&quot;)&gt;&gt;
			&lt;&lt;if $summarypage == &quot;estate&quot;&gt;&gt;
				&lt;th&gt;Estate Slaves[$estate.pop/$estate.cap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[Estate Slaves[&quot; + $estate.pop + &quot;/&quot; + $estate.cap + &quot;]|End Week][$summarypage = &#39;estate&#39;, $activeCharacter = null]]&quot;&gt;&gt;&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if _institutes.contains(&quot;brothel&quot;)&gt;&gt;
			&lt;&lt;if $summarypage == &quot;brothel&quot;&gt;&gt;
				&lt;th&gt;Brothel Slaves[$estate.brothel.pop/$estate.brothel.cap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[Brothel Slaves[&quot; + $estate.brothel.pop + &quot;/&quot; + $estate.brothel.cap + &quot;]|End Week][$summarypage = &#39;brothel&#39;, $activeCharacter = null]]&quot;&gt;&gt;&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if _institutes.contains(&quot;ranch&quot;)&gt;&gt;
			&lt;&lt;if $summarypage == &quot;ranch&quot;&gt;&gt;
				&lt;th&gt;Ranch Slaves[$estate.ranch.pop/$estate.ranch.cap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[Ranch Slaves[&quot; + $estate.ranch.pop + &quot;/&quot; + $estate.ranch.cap + &quot;]|End Week][$summarypage = &#39;ranch&#39;, $activeCharacter = null]]&quot;&gt;&gt;&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if _institutes.contains(&quot;chattel&quot;)&gt;&gt;
			&lt;&lt;if $summarypage == &quot;chattel&quot;&gt;&gt;
				&lt;th&gt;Chattel Slaves[$estate.chattel.pop/_chattelcap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[Chattel Slaves[&quot; + $estate.chattel.pop + &quot;/&quot; + _chattelcap + &quot;]|End Week][$summarypage = &#39;chattel&#39;, $activeCharacter = null]]&quot;&gt;&gt;&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;/tr&gt;
	&lt;/table&gt;

	&lt;&lt;if $summarypage == &quot;estate&quot; &amp;&amp; $estate.warning&gt;&gt;
		&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
			&lt;tr&gt;&lt;th&gt;@@color:red;WARNING@@&lt;/th&gt;&lt;/tr&gt;
			&lt;tr&gt;&lt;td&gt;$estate.warning&lt;/td&gt;&lt;/tr&gt;
		&lt;/table&gt;
		
	&lt;&lt;elseif $summarypage == &quot;brothel&quot;&gt;&gt;
		&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
			&lt;tr&gt;&lt;th&gt;Brothel Summary&lt;/th&gt;&lt;/tr&gt;
			&lt;tr&gt;&lt;td&gt;$estate.brothel.report.text&lt;/td&gt;&lt;/tr&gt;
		&lt;/table&gt;
		
	&lt;&lt;elseif $summarypage == &quot;ranch&quot;&gt;&gt;
		&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
			&lt;tr&gt;&lt;th&gt;Ranch Summary&lt;/th&gt;&lt;/tr&gt;
			&lt;tr&gt;&lt;td&gt;$estate.ranch.report.text&lt;/td&gt;&lt;/tr&gt;
		&lt;/table&gt;
	
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $summarypage == &quot;chattel&quot;&gt;&gt;
		&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

		&lt;tr&gt;
		&lt;&lt;if _chattelholdingpop&gt;&gt;
			&lt;&lt;if !$summarypen&gt;&gt;
				&lt;&lt;set $summarypen = &quot;Holding Pen&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $summarypen == &quot;Holding Pen&quot;&gt;&gt;
				&lt;th&gt;Holding Pen [_chattelholdingpop/$estate.chattel.cap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[Holding Pen|End Week][$summarypen = &#39;Holding Pen&#39;]]&quot;&gt;&gt; [_chattelholdingpop/$estate.chattel.cap]&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
			&lt;&lt;set _pen = $estate.chattel.pens[_p]&gt;&gt;
			&lt;&lt;if _pen.pop&gt;&gt;
				&lt;&lt;if !$summarypen&gt;&gt;
					&lt;&lt;set $summarypen = _p&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $summarypen == _p&gt;&gt;
					&lt;th&gt;Pen _p [_pen.pop/_pen.cap]&lt;/th&gt;
				&lt;&lt;else&gt;&gt;
					&lt;th&gt;&lt;&lt;print &quot;[[Pen &quot; + _p + &quot;|End Week][$summarypen = &quot; + _p + &quot;]]&quot;&gt;&gt; [_pen.pop/_pen.cap]&lt;/th&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/for&gt;&gt;
		&lt;/tr&gt;
		&lt;/table&gt;

		&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
			&lt;&lt;set _character = $slaves[_i]&gt;&gt;
			&lt;&lt;if _character.location == $summarypage &amp;&amp; _character.chattel.pen == $summarypen&gt;&gt;
				&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
				&lt;tr&gt;&lt;td&gt;&lt;&lt;displayTitle _character.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race _character.tribe &quot;Main Menu&quot;&gt;&gt; _character.name &lt;&lt;gender _character.sex _character.gender&gt;&gt;&lt;/td&gt;&lt;/tr&gt;
				&lt;tr&gt;&lt;td&gt;_character.summary&lt;/td&gt;&lt;/tr&gt;
				&lt;/table&gt;

			&lt;&lt;elseif _character.location == &quot;chattel&quot; &amp;&amp; !_character.chattel.pen &amp;&amp; $summarypen == &quot;Holding Pen&quot;&gt;&gt;
				&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
				&lt;tr&gt;&lt;td&gt;&lt;&lt;displayTitle _character.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race _character.tribe &quot;Main Menu&quot;&gt;&gt; _character.name &lt;&lt;gender _character.sex _character.gender&gt;&gt;&lt;/td&gt;&lt;/tr&gt;
				&lt;tr&gt;&lt;td&gt;_character.summary&lt;/td&gt;&lt;/tr&gt;
				&lt;/table&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/for&gt;&gt;


	&lt;&lt;else&gt;&gt;
		&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
			&lt;&lt;set _character = $slaves[_i]&gt;&gt;
			&lt;&lt;if _character.location == $summarypage&gt;&gt;
				&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
				&lt;tr&gt;&lt;td&gt;&lt;&lt;displayTitle _character.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race _character.tribe &quot;Main Menu&quot;&gt;&gt; _character.name &lt;&lt;gender _character.sex _character.gender&gt;&gt;&lt;/td&gt;&lt;/tr&gt;
				&lt;tr&gt;&lt;td&gt;_character.summary&lt;/td&gt;&lt;/tr&gt;
				&lt;/table&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/for&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="5" name="StoryMenu" tags="" position="490,8" size="100,100">&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1&gt;&gt;
	[[Compendium]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $PC.guild.slaver.contract.length &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1&gt;&gt;
	[[Contracts]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1&gt;&gt;
	[[Estate]]
&lt;&lt;/if&gt;&gt;

/*
&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1 &amp;&amp; $estate.brothel.active&gt;&gt;
	[[Brothel]]
&lt;&lt;/if&gt;&gt;
*/

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1 &amp;&amp; $estate.ranch.active&gt;&gt;
	[[Ranch]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1 &amp;&amp; $estate.chattel.active&gt;&gt;
	[[Chattel]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1&gt;&gt;
	[[Training Room]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1&gt;&gt;
	[[Wardrobe]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $MainMenu == 1&gt;&gt;
	[[Status]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1 &amp;&amp; $inventory.amount &gt;= 1 &amp;&amp; $MainMenu == 1&gt;&gt;
	[[Inventory]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="6" name="Inventory" tags="noreturn nobr" position="733,8" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if !$inventory.page&gt;&gt;
	&lt;&lt;set $inventory.page = &quot;Transformative&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
	&lt;tr&gt;
		&lt;&lt;if $inventory.page == &quot;Transformative&quot;&gt;&gt;
			&lt;th style=&#39;width: 50%;&#39;&gt;Transformative Items&lt;/th&gt;
		&lt;&lt;else&gt;&gt;
			&lt;th style=&#39;width: 50%;&#39;&gt;[[Transformative Items|Inventory][$inventory.page = &quot;Transformative&quot;]]&lt;/th&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $inventory.page == &quot;Sexual Toy&quot;&gt;&gt;
			&lt;th style=&#39;width: 50%;&#39;&gt;Sexual Toys&lt;/th&gt;
		&lt;&lt;else&gt;&gt;
			&lt;th style=&#39;width: 50%;&#39;&gt;[[Sexual Toys|Inventory][$inventory.page = &quot;Sexual Toy&quot;]]&lt;/th&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;/tr&gt;
&lt;/table&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
	&lt;tr&gt;
		&lt;th style=&#39;width: 30%;&#39;&gt;Name&lt;/th&gt;
		&lt;th style=&#39;width: 70%;&#39;&gt;Description&lt;/th&gt;
	&lt;/tr&gt;

	&lt;&lt;for _i = 1; _i &lt;= $inventory.amount; _i++&gt;&gt;
		&lt;&lt;set _item = $inventory[_i]&gt;&gt;

		&lt;&lt;if _item.amount &gt;= 1 &amp;&amp; _item.type == $inventory.page&gt;&gt;
			&lt;tr&gt;
				&lt;td style=&#39;width: 30%;&#39;&gt;&lt;b&gt;_item.name x_item.amount&lt;/b&gt;&lt;/td&gt;
				&lt;td style=&#39;width: 70%;&#39;&gt;_item.description&lt;/td&gt;
			&lt;/tr&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="7" name="Slaves" tags="nobr noreturn" position="365,8" size="100,100">&lt;&lt;set $caption = &quot;Return&quot;&gt;&gt;
&lt;center&gt;Slaves&lt;/center&gt;
&lt;hr&gt;
&lt;&lt;for _i to 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
	&lt;&lt;set _character to $slaves[_i]&gt;&gt;
	&lt;&lt;print &quot;[[_character.name|Slave Description][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt;&lt;br&gt;
	&lt;&lt;include &quot;Brief Slave Description&quot;&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/for&gt;&gt;</tw-passagedata><tw-passagedata pid="8" name="Achievements" tags="noreturn nobr" position="1490,51" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

You have been playing for &lt;&lt;print $trueyears&gt;&gt; year(s), &lt;&lt;print $monthnum&gt;&gt; month(s) and &lt;&lt;print $weeknum&gt;&gt; week(s).</tw-passagedata><tw-passagedata pid="9" name="Wardrobe" tags="noreturn nobr" position="851,8" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Jewelry&lt;/h3&gt;&lt;/center&gt;

&lt;&lt;wardrobe &quot;Ear&quot; $Ear &quot;Jewelry&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;wardrobe &quot;Eyebrow&quot; $Eyebrow &quot;Jewelry&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;wardrobe &quot;Nose&quot; $Nose &quot;Jewelry&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;wardrobe &quot;Tongue&quot; $Tongue &quot;Jewelry&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;wardrobe &quot;Lip&quot; $Lip &quot;Jewelry&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;wardrobe &quot;Nipple&quot; $Nipple &quot;Jewelry&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;wardrobe &quot;Navel&quot; $Navel &quot;Jewelry&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;wardrobe &quot;Cock&quot; $Cock &quot;Jewelry&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;wardrobe &quot;Pussy&quot; $Pussy &quot;Jewelry&quot;&gt;&gt;
&lt;hr&gt;</tw-passagedata><tw-passagedata pid="10" name="Main" tags="nobr" position="14,781" size="100,100">/*&lt;center&gt;&lt;h3&gt;Main&lt;/h3&gt;&lt;/center&gt;*/

&lt;&lt;include &quot;Modernize PC&quot;&gt;&gt;
&lt;&lt;unset $activeCharacter&gt;&gt;

&lt;&lt;if $endweek == 1&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.oldrequest = null&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.transfer = null&gt;&gt;
	&lt;&lt;set $weekcount += 1&gt;&gt;
	&lt;&lt;set $weeknum += 1&gt;&gt;
	&lt;&lt;set $weeks += 1&gt;&gt;
	&lt;&lt;set $trueweeks += 1&gt;&gt;

	&lt;&lt;if $weeknum &gt;= 5&gt;&gt;
		&lt;&lt;set $weeknum = 1&gt;&gt;
		&lt;&lt;set $monthnum += 1&gt;&gt;
		&lt;&lt;set $month to $monthArray[$monthnum]&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $monthnum &gt;= 12&gt;&gt;
		&lt;&lt;set $weeks = 1&gt;&gt;
		&lt;&lt;set $monthnum = 0&gt;&gt;
		&lt;&lt;set $month = $monthArray[$monthnum]&gt;&gt;
		&lt;&lt;set $yearnum += 1&gt;&gt;
		&lt;&lt;set $trueyears += 1&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;set $PC.money += $revenue.total&gt;&gt;
	&lt;&lt;set $PC.money -= $expenses.total&gt;&gt;
	&lt;&lt;set $endweek = 0&gt;&gt;
	&lt;&lt;set $endweekupdates = null&gt;&gt;

	&lt;&lt;if $PC.money &lt; 0&gt;&gt;
		&lt;&lt;set $gameover += 1&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $gameover = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $saveStart = $PC.name + &quot; | &quot;&gt;&gt;
	&lt;&lt;set $saveEnd = &quot; | Week &quot; + $weekcount&gt;&gt;
	
	&lt;&lt;if !Save.autosave.get() &amp;&amp; settings.autosave&gt;&gt;
		&lt;&lt;run Save.autosave.save($saveStart + passage() + $saveEnd)&gt;&gt;
		
	&lt;&lt;elseif (Save.autosave.get().title != $saveStart + passage() + $saveEnd) &amp;&amp; settings.autosave&gt;&gt;
		&lt;&lt;run Save.autosave.save($saveStart + passage() + $saveEnd)&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $gameover &gt;= 3&gt;&gt;
	&lt;&lt;include &quot;Game Over&quot;&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;include &quot;Main Menu&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="11" name="Estate" tags="nobr noreturn" position="615,8" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;$estate.name&lt;/h3&gt;&lt;/center&gt;

Your estate is located in the slums. There is very little, if any protection from the city to protect the property of those living in the slums. The price of property in the slums is at an all time low, and usually does not appreciate in value over time. When moving into the city you must sell your estate. You will only be able to get a small portion of the money you invest into it when you do.

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Estate Capacity&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Estate Residence&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="12" name="Travel" tags="nobr" position="25,2150" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;
&lt;h3&gt;[[Waiross Slums|Slums]]&lt;/h3&gt;
The Waiross Slums are located at the outskirts of the city. People of all backgrounds can be found here. The goods sold are usually cheap but are often low-quality or disposable, most times both.
&lt;/center&gt;
&lt;hr&gt;

&lt;center&gt;
&lt;h3&gt;[[Hokoi Village|Village1]]&lt;/h3&gt;
A small villiage far from Waiross city. Life is simpler, but harsher here. Soldiers are posted at the stockade preparing for the next Orc raid.
&lt;/center&gt;
&lt;hr&gt;</tw-passagedata><tw-passagedata pid="13" name="Roll Slave" tags="nobr" position="138,516" size="100,100">&lt;&lt;include &quot;New Slave&quot;&gt;&gt;

&lt;&lt;set _character.known = {virginity:1, analvirginity:1, nature:0, sexualskill:0}&gt;&gt;

&lt;&lt;set _character.sexualskill = {oral:&quot;&quot;, mammary:&quot;&quot;, manual:&quot;&quot;, intercourse:&quot;&quot;}&gt;&gt;

&lt;&lt;set _character.sexualskill.oral = {kissing: 0, fellatio: 0, cunnilingus: 0, analingus: 0}&gt;&gt;
&lt;&lt;set _character.sexualskill.oral.kissing = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.oral.fellatio = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.oral.cunnilingus = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.oral.analingus = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;

&lt;&lt;set _character.sexualskill.mammary = {breastplay: 0, breastfeeding: 0, intercourse: 0}&gt;&gt;
&lt;&lt;set _character.sexualskill.mammary.breastplay = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.mammary.breastfeeding = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.mammary.intercourse = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;

&lt;&lt;set _character.sexualskill.manual = {masturbation: 0, fingering: 0, handjob: 0, fisting: 0}&gt;&gt;
&lt;&lt;set _character.sexualskill.manual.masturbation = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.manual.fingering = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.manual.handjob = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.manual.fisting = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;

&lt;&lt;set _character.sexualskill.intercourse = {vaginal: 0, anal: 0, pitching: 0, pegging: 0}&gt;&gt;
&lt;&lt;set _character.sexualskill.intercourse.vaginal = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.intercourse.anal = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.intercourse.pitching = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;
&lt;&lt;set _character.sexualskill.intercourse.pegging = weightedRand({0:0.3, 20:0.3, 40:0.2, 60:0.1, 80:0.06, 100:0.04})&gt;&gt;

&lt;&lt;if $slavetemplate == &quot;Jhak&quot;&gt;&gt;
	&lt;&lt;set _character.race = &quot;beastman&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _races = {1:&quot;hume&quot;, 2:&quot;beastman&quot;, 3:&quot;monster&quot;, 4:&quot;elf&quot;}&gt;&gt;
	
	&lt;&lt;if $slavetemplate == &quot;Pan&quot;&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.35, 2:0.15, 3:0.25, 4:0.25})&gt;&gt;
		
	&lt;&lt;elseif $slavetemplate == &quot;Common Enslavement Event&quot;&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.35, 2:0.35, 3:0.25, 4:0.05})&gt;&gt;
		
	&lt;&lt;elseif $slavetemplate == &quot;E&quot;&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.8, 2:0.2, 3:0.0, 4:0.0})&gt;&gt;
	
	&lt;&lt;elseif $slavetemplate == &quot;D&quot;&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.7, 2:0.3, 3:0.0, 4:0.0})&gt;&gt;
	
	&lt;&lt;elseif $slavetemplate == &quot;C&quot;&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.5, 2:0.4, 3:0.1, 4:0.0})&gt;&gt;
	
	&lt;&lt;elseif $slavetemplate == &quot;B&quot;&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.35, 2:0.35, 3:0.25, 4:0.05})&gt;&gt;
	
	&lt;&lt;elseif $slavetemplate == &quot;A&quot;&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.25, 2:0.25, 3:0.25, 4:0.25})&gt;&gt;
	
	&lt;&lt;elseif $slavetemplate == &quot;S&quot;&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.15, 2:0.15, 3:0.15, 4:0.55})&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _race = weightedRand({1:0.5, 2:0.30, 3:0.15, 4:0.05})&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set _character.race = _races[_race]&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.race == &quot;hume&quot;&gt;&gt;
	&lt;&lt;set _tribes = {1:&quot;human&quot;, 2:&quot;dwarf&quot;, 3: &quot;gnome&quot;, 4: &quot;giant&quot;}&gt;&gt;
	&lt;&lt;set _tribe = weightedRand({1:0.5, 2:0.2, 3:0.2, 4:0.1})&gt;&gt;

&lt;&lt;elseif _character.race == &quot;beastman&quot;&gt;&gt;
	&lt;&lt;set _tribes = {1:&quot;neko&quot;, 2:&quot;canus&quot;, 3: &quot;pantheran&quot;, 4: &quot;mongrel&quot;, 5: &quot;holstaur&quot;, 6: &quot;minotaur&quot;, 7: &quot;moon rabbit&quot;}&gt;&gt;
	&lt;&lt;set _tribe = weightedRand({1:0.25, 2:0.25, 3:0.11, 4:0.11, 5:0.11, 6:0.11, 7:0.06})&gt;&gt;

&lt;&lt;elseif _character.race == &quot;monster&quot;&gt;&gt;
	&lt;&lt;set _tribes = {1:&quot;goblin&quot;, 2:&quot;orc&quot;}&gt;&gt;
	&lt;&lt;set _tribe = weightedRand({1:0.75, 2:0.25})&gt;&gt;

&lt;&lt;elseif _character.race == &quot;elf&quot;&gt;&gt;
	&lt;&lt;set _tribes = {1:&quot;high elf&quot;, 2:&quot;forest elf&quot;, 3: &quot;dark elf&quot;}&gt;&gt;
	&lt;&lt;set _tribe = weightedRand({1:0.1, 2:0.8, 3:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _character.tribe = _tribes[_tribe]&gt;&gt;

&lt;&lt;if _character.race == &quot;hume&quot;&gt;&gt;
	&lt;&lt;set _skintones = [&quot;pale&quot;, &quot;light-skinned&quot;, &quot;tan&quot;, &quot;dark-skinned&quot;]&gt;&gt;
	&lt;&lt;set _character.skintone =  _skintones.random()&gt;&gt;

&lt;&lt;elseif _character.race == &quot;beastman&quot;&gt;&gt;
	&lt;&lt;if _character.tribe == &quot;pantheran&quot; || _character.tribe == &quot;mongrel&quot;&gt;&gt;
		&lt;&lt;set _skintones = [&quot;brown&quot;, &quot;cream&quot;, &quot;cinnamon&quot;, &quot;black&quot;, &quot;white&quot;, &quot;fawn&quot;]&gt;&gt;
		&lt;&lt;set _character.fur = _skintones.random()&gt;&gt;

	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _skintones = [&quot;pale&quot;, &quot;light-skinned&quot;, &quot;tan&quot;, &quot;dark-skinned&quot;]&gt;&gt;
		&lt;&lt;set _character.skintone =  _skintones.random()&gt;&gt;

	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _character.race == &quot;monster&quot;&gt;&gt;
	&lt;&lt;set _skintones = [&quot;brown-skinned&quot;, &quot;green-skinned&quot;]&gt;&gt;
	&lt;&lt;set _character.skintone =  _skintones.random()&gt;&gt;

&lt;&lt;elseif _character.race == &quot;elf&quot;&gt;&gt;
	&lt;&lt;if _character.tribe == &quot;forest elf&quot;&gt;&gt;
		&lt;&lt;set _character.skintone = &quot;light-skinned&quot;&gt;&gt;

	&lt;&lt;elseif _character.tribe == &quot;high elf&quot;&gt;&gt;
		&lt;&lt;set _character.skintone = &quot;pale&quot;&gt;&gt;

	&lt;&lt;elseif _character.tribe == &quot;dark elf&quot;&gt;&gt;
		&lt;&lt;set _character.skintone = &quot;dark-skinned&quot;&gt;&gt;

	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _character.age = random(18, 50)&gt;&gt;
&lt;&lt;set _character.lifespan = random(70, 100)&gt;&gt;
&lt;&lt;set _character.birthweek = random(1, 52)&gt;&gt;

&lt;&lt;if _character.age &lt;= 25&gt;&gt;
	&lt;&lt;set _character.maturity = 1&gt;&gt;
	&lt;&lt;set _character.virgin = random(0,1,1)&gt;&gt;
	&lt;&lt;set _character.analvirgin = random(0,1,1,1)&gt;&gt;

&lt;&lt;elseif _character.age &lt; 40&gt;&gt;
	&lt;&lt;set _character.maturity = 2&gt;&gt;
	&lt;&lt;set _character.virgin = random(0,1)&gt;&gt;
	&lt;&lt;set _character.analvirgin = random(0,1,1)&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.maturity = 3&gt;&gt;
	&lt;&lt;set _character.virgin = random(0,0,1)&gt;&gt;
	&lt;&lt;set _character.analvirgin = random(0,1)&gt;&gt;

	&lt;&lt;if [&quot;pantheran&quot;, &quot;mongrel&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.fur = &quot;gray&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;run generateSex(_character)&gt;&gt;

&lt;&lt;include &quot;Names&quot;&gt;&gt;

&lt;&lt;if _character.race == &quot;elf&quot;&gt;&gt;
	&lt;&lt;set _character.name to $elfnames[_character.gender].random()&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _character.name to $orcnames[_character.gender].random()&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;goblin&quot;&gt;&gt;
	&lt;&lt;set _character.name to $goblinnames.random()&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.name to $names[_character.gender].random()&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.tribe == &quot;gnome&quot;&gt;&gt;
	&lt;&lt;set _character.intelligence = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;dark elf&quot;, &quot;forest elf&quot;, &quot;high elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.intelligence = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _character.intelligence = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;goblin&quot;&gt;&gt;
	&lt;&lt;set _character.intelligence = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.intelligence = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.tribe == &quot;orc&quot; || _character.tribe == &quot;giant&quot;&gt;&gt;
	&lt;&lt;set _character.weight = weightedRand({1:0, 2:0, 3:0, 4:0, 5:0.1, 6:0.3, 7:0.6})&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;dwarf&quot; || _character.tribe == &quot;minotaur&quot; || _character.tribe == &quot;pantheran&quot; || _character.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _character.weight = weightedRand({1:0, 2:0, 3:0.1, 4:0, 5:0.2, 6:0.6, 7:0.1})&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;holstaur&quot;&gt;&gt;
	&lt;&lt;set _character.weight = weightedRand({1:0.05, 2:0, 3:0.3, 4:0, 5:0.5, 6:0.1, 7:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.weight = weightedRand({1:0.05, 2:0.05, 3:0.15, 4:0.1, 5:0.5, 6:0.1, 7:0.05})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.race == &quot;elf&quot;&gt;&gt;
	&lt;&lt;set _character.beauty = weightedRand({1:0.025, 2:0.025, 3:0.05, 4:0.05, 5:0.075, 6:0.075, 7:0.1, 8:0.1, 9:0.25, 10:0.25})&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;moon rabbit&quot;&gt;&gt;
	&lt;&lt;set _character.beauty = weightedRand({1:0.025, 2:0.025, 3:0.05, 4:0.05, 5:0.1, 6:0.1, 7:0.25, 8:0.25, 9:0.075, 10:0.075})&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;goblin&quot;&gt;&gt;
	&lt;&lt;set _character.beauty = weightedRand({1:0.075, 2:0.075, 3:0.25, 4:0.25, 5:0.1, 6:0.1, 7:0.05, 8:0.05, 9:0.025, 10:0.025})&gt;&gt;

&lt;&lt;elseif _character.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _character.beauty = weightedRand({1:0.25, 2:0.25, 3:0.1, 4:0.1, 5:0.075, 6:0.075, 7:0.05, 8:0.05, 9:0.025, 10:0.025})&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.beauty = weightedRand({1:0.05, 2:0.05, 3:0.075, 4:0.075, 5:0.25, 6:0.25, 7:0.075, 8:0.075, 9:0.05, 10:0.05})&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _character.health = random(2,3)&gt;&gt;

&lt;&lt;set _eyecolors = [&quot;amber&quot;, &quot;blue&quot;, &quot;brown&quot;, &quot;gray&quot;, &quot;green&quot;, &quot;hazel&quot;, &quot;red&quot;, &quot;violet&quot;]&gt;&gt;
&lt;&lt;set _character.eyecolor = _eyecolors.random()&gt;&gt;
&lt;&lt;set _character.eyedescriptor = $eyedesc.random()&gt;&gt;

&lt;&lt;if _character.tribe == &quot;pantheran&quot; || _character.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _character.haircolor = _character.fur&gt;&gt;
	&lt;&lt;set _character.hairstyle = $simplehairstyles[_character.gender].random()&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _haircolors = [&quot;black&quot;, &quot;brown&quot;, &quot;red&quot;, &quot;blonde&quot;, &quot;pink&quot;, &quot;purple&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;silver&quot;, &quot;white&quot;]&gt;&gt;
	&lt;&lt;set _character.haircolor = _haircolors.random()&gt;&gt;
	
	&lt;&lt;if (_character.tribe == &quot;orc&quot; &amp;&amp; [&quot;male&quot;].contains(_character.sex)) || _character.tribe == &quot;goblin&quot;&gt;&gt;
		&lt;&lt;set _character.hairstyle = &quot;completely bald&quot;&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.hairstyle = $simplehairstyles[_character.gender].random()&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.fertility.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.fertility.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;giant&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.fertility.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.fertility.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.fertility.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.libido.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;dark elf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.libido.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;giant&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;forest elf&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.libido.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;moon rabbit&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.libido.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.libido.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.strength.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;dark elf&quot;, &quot;canus&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.strength.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;forest elf&quot;, &quot;pantheran&quot;, &quot;moon rabbit&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.strength.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;neko&quot;, &quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.strength.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.strength.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;gnome&quot;, &quot;moon rabbit&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.speed.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;neko&quot;, &quot;pantheran&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.speed.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;forest elf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.speed.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;dwarf&quot;, &quot;dark elf&quot;, &quot;canus&quot;, &quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.speed.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.speed.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.stamina.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;moon rabbit&quot;, &quot;minotaur&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.stamina.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;gnome&quot;, &quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;, &quot;mongrel&quot;, &quot;pantheran&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.stamina.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.stamina.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;neko&quot;, &quot;canus&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.stamina.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.control.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.control.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;human&quot;, &quot;dwarf&quot;, &quot;gnome&quot;, &quot;canus&quot;, &quot;neko&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.control.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;, &quot;pantheran&quot;, &quot;minotaur&quot;, &quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.control.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.sexual.control.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.cock.mod = weightedRand({1:0.025, 2:0.025, 3:0.05, 4:0.05, 5:0.075, 6:0.075, 7:0.1, 8:0.1, 9:0.25, 10:0.25})&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;goblin&quot;, &quot;minotaur&quot;, &quot;high elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.cock.mod = weightedRand({1:0.025, 2:0.025, 3:0.05, 4:0.05, 5:0.1, 6:0.1, 7:0.25, 8:0.25, 9:0.075, 10:0.075})&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;dark elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.cock.mod = weightedRand({1:0.075, 2:0.075, 3:0.25, 4:0.25, 5:0.1, 6:0.1, 7:0.05, 8:0.05, 9:0.025, 10:0.025})&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.cock.mod = weightedRand({1:0.25, 2:0.25, 3:0.1, 4:0.1, 5:0.075, 6:0.075, 7:0.05, 8:0.05, 9:0.025, 10:0.025})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.cock.mod = weightedRand({1:0.05, 2:0.05, 3:0.075, 4:0.075, 5:0.25, 6:0.25, 7:0.075, 8:0.075, 9:0.05, 10:0.05})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.girth.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;goblin&quot;, &quot;minotaur&quot;, &quot;high elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.girth.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;dark elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.girth.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.girth.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.girth.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.bust.mod = weightedRand({1:0.025, 2:0.025, 3:0.05, 4:0.05, 5:0.075, 6:0.075, 7:0.1, 8:0.1, 9:0.25, 10:0.25})&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;, &quot;dark elf&quot;, &quot;giant&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.bust.mod = weightedRand({1:0.025, 2:0.025, 3:0.05, 4:0.05, 5:0.1, 6:0.1, 7:0.25, 8:0.25, 9:0.075, 10:0.075})&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;high elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.bust.mod = weightedRand({1:0.075, 2:0.075, 3:0.25, 4:0.25, 5:0.1, 6:0.1, 7:0.05, 8:0.05, 9:0.025, 10:0.025})&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.bust.mod = weightedRand({1:0.25, 2:0.25, 3:0.1, 4:0.1, 5:0.075, 6:0.075, 7:0.05, 8:0.05, 9:0.025, 10:0.025})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.bust.mod = weightedRand({1:0.05, 2:0.05, 3:0.075, 4:0.075, 5:0.25, 6:0.25, 7:0.075, 8:0.075, 9:0.05, 10:0.05})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_character.sex) &amp;&amp; _character.bust.mod &lt; 2&gt;&gt;
	&lt;&lt;set _character.bust.mod = 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.butt.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;dark elf&quot;, &quot;moon rabbit&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.butt.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;forest elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.butt.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;, &quot;dwarf&quot;, &quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.butt.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.butt.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;dark elf&quot;, &quot;orc&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.lips.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;canus&quot;, &quot;mongrel&quot;, &quot;giant&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.lips.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;, &quot;neko&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.lips.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.lips.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.lips.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;, &quot;dwarf&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;, &quot;goblin&quot;, &quot;canus&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;forest elf&quot;, &quot;dark elf&quot;, &quot;high elf&quot;, &quot;neko&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;holstaur&quot;, &quot;dark elf&quot;, &quot;pantheran&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.hips.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;orc&quot;, &quot;neko&quot;, &quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.hips.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;canus&quot;, &quot;forest elf&quot;, &quot;dwarf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.hips.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;mongrel&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.hips.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.hips.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;dwarf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;, &quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.torso.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;canus&quot;, &quot;dark elf&quot;, &quot;giant&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.torso.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;neko&quot;, &quot;forest elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.torso.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;gnome&quot;, &quot;high elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.torso.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.torso.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;moon rabbit&quot;, &quot;high elf&quot;, &quot;dark elf&quot;, &quot;pantheran&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.legs.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;forest elf&quot;, &quot;neko&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.legs.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;, &quot;dwarf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.legs.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.legs.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.legs.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.balls.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;mongrel&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.balls.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;dark elf&quot;, &quot;dwarf&quot;, &quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.balls.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.balls.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.balls.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.clit.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;moon rabbit&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.clit.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;, &quot;high elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.clit.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.clit.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.clit.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.pussy.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;, &quot;gnome&quot;, &quot;high elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.pussy.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

&lt;&lt;elseif [&quot;forest elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.pussy.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.pussy.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.pussy.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.cum.quality.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	&lt;&lt;set _character.cum.quantity.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	&lt;&lt;set _character.cum.taste.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.cum.quality.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	&lt;&lt;set _character.cum.quantity.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	&lt;&lt;set _character.cum.taste.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;holstaur&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.milk.quality.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	&lt;&lt;set _character.milk.quantity.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	&lt;&lt;set _character.milk.taste.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;

	&lt;&lt;if [&quot;holstaur&quot;].contains(_character.tribe) &amp;&amp; !_character.virgin&gt;&gt;
		&lt;&lt;set _character.lactating.permanent = 1&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.milk.quality.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	&lt;&lt;set _character.milk.quantity.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	&lt;&lt;set _character.milk.taste.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;elf&quot;].contains(_character.race)&gt;&gt;
	&lt;&lt;set _character.nectar.quality.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	&lt;&lt;set _character.nectar.quantity.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	&lt;&lt;set _character.nectar.taste.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;if !_character.virgin&gt;&gt;
		&lt;&lt;set _character.lactating.permanent = 1&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.nectar.quality.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	&lt;&lt;set _character.nectar.quantity.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	&lt;&lt;set _character.nectar.taste.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.virgin&gt;&gt;
	&lt;&lt;set _character.sensitivity.cock = random(0,40)&gt;&gt;
	&lt;&lt;set _character.sensitivity.breasts = random(0,40)&gt;&gt;
	&lt;&lt;set _character.sensitivity.clit = random(0,40)&gt;&gt;
	&lt;&lt;set _character.sensitivity.pussy = random(0,40)&gt;&gt;
	&lt;&lt;set _character.sensitivity.balls = random(0,40)&gt;&gt;
	&lt;&lt;set _character.sensitivity.mouth = random(0,40)&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.sensitivity.cock = random(20,70)&gt;&gt;
	&lt;&lt;set _character.sensitivity.breasts = random(20,70)&gt;&gt;
	&lt;&lt;set _character.sensitivity.clit = random(20,70)&gt;&gt;
	&lt;&lt;set _character.sensitivity.pussy = random(20,70)&gt;&gt;
	&lt;&lt;set _character.sensitivity.balls = random(20,70)&gt;&gt;
	&lt;&lt;set _character.sensitivity.mouth = random(20,70)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.analvirgin&gt;&gt;
	&lt;&lt;set _character.sensitivity.anus = random(0,40)&gt;&gt;
	&lt;&lt;set _character.gape = random(0,19)&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.sensitivity.anus = random(20,70)&gt;&gt;
	&lt;&lt;set _character.gape = random(20,70)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run generateSexTraits(_character)&gt;&gt;

&lt;&lt;if [&quot;orc&quot;, &quot;giant&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_character.sex)&gt;&gt;
		&lt;&lt;set _character.height = random(215, 260)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.height = random(200, 245)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_character.sex)&gt;&gt;
		&lt;&lt;set _character.height = random(185, 230)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.height = random(170, 215)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_character.sex)&gt;&gt;
		&lt;&lt;set _character.height = random(125, 170)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.height = random(110, 155)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;, &quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_character.sex)&gt;&gt;
		&lt;&lt;set _character.height = random(95, 140)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.height = random(80, 125)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_character.sex)&gt;&gt;
		&lt;&lt;set _character.height = random(155, 200)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.height = random(140, 185)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_character.sex)&gt;&gt;
	&lt;&lt;set _character.circumcised = 0&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_character.sex)&gt;&gt;
	&lt;&lt;set _character.inverted = weightedRand({0:0.875, 1:0.125})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex)&gt;&gt;
	&lt;&lt;set _character.hooded = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.bust.current &lt; 3&gt;&gt;
	&lt;&lt;set _character.sexualskill.mammary.intercourse = random(0,10)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.virgin&gt;&gt;
	&lt;&lt;set _character.sexualskill.intercourse.vaginal = random(0,10)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.analvirgin&gt;&gt;
	&lt;&lt;set _character.sexualskill.intercourse.anal = random(0,10)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Complete Slave&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="14" name="SS Slave Description" tags="nobr noreturn notruereturn" position="511,2118" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Slave Shop&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;for _i to 1; _i &lt;= $SlaveShop.amount; _i++&gt;&gt;
	&lt;&lt;if $activeCharacter.ID == $SlaveShop[_i].ID&gt;&gt;
		&lt;&lt;set $slavenumber = _i&gt;&gt;
		&lt;&lt;set _character = $activeCharacter&gt;&gt;
		&lt;&lt;break&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;include &quot;SS Description Header&quot;&gt;&gt;
&lt;hr&gt;

&lt;&lt;if $activeCharacter.name&gt;&gt;
&lt;&lt;set _height = getHeight($activeCharacter.height)&gt;&gt;
&lt;&lt;set _obedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _fear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _sanity = getSanity($activeCharacter.sanity)&gt;&gt;
&lt;&lt;set _trust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _nature = capitalize($activeCharacter.nature)&gt;&gt;
&lt;&lt;set _price = commify($activeCharacter.price)&gt;&gt;
&lt;&lt;set _gape = getGape($activeCharacter.gape)&gt;&gt;

&lt;&lt;if $activeCharacter.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;knotted&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;pantheran&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;barbed&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;minataur&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;bull&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;orc&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cock = $race[$activeCharacter.skintone]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _maturity = $maturity[$activeCharacter.maturity]&gt;&gt;
&lt;&lt;set _maturitytext = extractWord(_maturity)&gt;&gt;

&lt;br&gt;

&lt;center&gt;
&lt;&lt;traitdesc $activeCharacter.title $activeCharacter&gt;&gt;
&lt;&lt;traitdesc $activeCharacter.tribe $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.sex == &quot;male&quot; &amp;&amp; $activeCharacter.stats.sissification == 100&gt;&gt;
	&lt;&lt;traitdesc &quot;sissy&quot; $activeCharacter&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;traitdesc $activeCharacter.sex $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc _maturitytext $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.pregnancy.status&gt;&gt;
	&lt;&lt;traitdesc &quot;pregnant&quot; $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;br&gt;

&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; costs @@color:lightgreen;💎_price@@.
&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.price &gt; $PC.money&gt;&gt;
	You don&#39;t have enough to purchase this slave.
&lt;&lt;elseif $estate.pop &gt;= $estate.cap&gt;&gt;
	You can only have $estate.cap unassigned slaves. Either assign one to a brothel or sell an extra slave to free up some space.
&lt;&lt;else&gt;&gt;
	[[Purchase This Slave.|Slave Shop][$boughtSlave = $activeCharacter]]
&lt;&lt;/if&gt;&gt;


&lt;br&gt;&lt;br&gt;
You get the owner to give you some time to appraise $activeCharacter.name to see if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is worth the price. From what the owner has told you $activeCharacter.name is _obedience, _fear and _trust.
&lt;br&gt;&lt;br&gt;

You ask $activeCharacter.name to tell you what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows about &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;.

&lt;&lt;set _maturity = extractWord($maturity[$activeCharacter.maturity])&gt;&gt;
&lt;&lt;set _an = AvsAn.query(_maturity)&gt;&gt;

$activeCharacter.name starts off by explaining that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;s _an &lt;&lt;print $maturity[$activeCharacter.maturity]&gt;&gt;

&lt;&lt;if $activeCharacter.skintone&gt;&gt;
	$activeCharacter.skintone
&lt;&lt;elseif $activeCharacter.fur&gt;&gt;
	$activeCharacter.fur furred
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.tribe&gt;&gt;
	$activeCharacter.tribe.
&lt;&lt;else&gt;&gt;
	$activeCharacter.race.
&lt;&lt;/if&gt;&gt;

Before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was enslaved, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was $activeCharacter.occupation.

You can tell from the small conversation you had with $activeCharacter.name that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $intelligence[$activeCharacter.intelligence]&gt;&gt;.
&lt;br&gt;&lt;br&gt;

After speaking with $activeCharacter.name, you strip &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; clothing so you can examine &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body closely.

$activeCharacter.name&#39;s face is &lt;&lt;print $beauty[$activeCharacter.beauty]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is _height, &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt; and looks &lt;&lt;print $health[$activeCharacter.health]&gt;&gt;.

&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has $activeCharacter.eyedescriptor $activeCharacter.eyecolor eyes and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; $activeCharacter.haircolor hair is styled $activeCharacter.hairstyle.

&lt;&lt;physicalTraits $activeCharacter &quot;Race&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.lips.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has &lt;&lt;print $lips[$activeCharacter.lips.current]&gt;&gt; lips. 
	&lt;&lt;attributeDescriptor &quot;Lips&quot; $activeCharacter.lips.current $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.shoulders.current &amp;&amp; $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders and &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.shoulders.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;

&lt;&lt;elseif $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.hips.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips are &lt;&lt;print $hips[$activeCharacter.hips.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.legs.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has two &lt;&lt;print $legs[$activeCharacter.legs.current]&gt;&gt; legs.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.bust.current &gt; 1&gt;&gt;
	$activeCharacter.name has &lt;&lt;print $inverted[$activeCharacter.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $bust[$activeCharacter.bust.current]&gt;&gt; sized breasts.
&lt;&lt;else&gt;&gt;
	$activeCharacter.name has &lt;&lt;print $inverted[$activeCharacter.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chest.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.girth.current &gt; 0&gt;&gt;
	&lt;&lt;set _girth = extractWord($girth[$activeCharacter.girth.current])&gt;&gt;
	&lt;&lt;set _an = AvsAn.query(_girth)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.cock.current &gt; 0 &amp;&amp; $activeCharacter.girth.current &gt; 0 &amp;&amp; $activeCharacter.balls.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has _an &lt;&lt;print $girth[$activeCharacter.girth.current]&gt;&gt;, &lt;&lt;print $cock[$activeCharacter.cock.current]&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; _cock cock and a pair of &lt;&lt;print $balls[$activeCharacter.balls.current]&gt;&gt; balls.

&lt;&lt;elseif $activeCharacter.cock.current &gt; 0 &amp;&amp; $activeCharacter.girth.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has _an &lt;&lt;print $girth[$activeCharacter.girth.current]&gt;&gt;, &lt;&lt;print $cock[$activeCharacter.cock.current]&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; _cock cock.

&lt;&lt;elseif $activeCharacter.balls.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a pair of &lt;&lt;print $balls[$activeCharacter.balls.current]&gt;&gt; balls.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.pussy.current &gt; 0&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; pussy is &lt;&lt;print $pussy[$activeCharacter.pussy.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.clit.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a &lt;&lt;print $clitoris[$activeCharacter.clit.current]&gt;&gt; and &lt;&lt;print $hooded[$activeCharacter.hooded]&gt;&gt; clit.
&lt;&lt;/if&gt;&gt;

You motion &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to turn around and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does, showing you &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $butt[$activeCharacter.gender][$activeCharacter.butt.current]&gt;&gt; ass.

&lt;&lt;if $activeCharacter.gape == 100&gt;&gt;
	 &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole has been _gape to the point that you can fit multiple intrusions into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole without causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; any pain.

&lt;&lt;elseif $activeCharacter.gape &gt;= 80&gt;&gt;
	$&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape and can accommodate almost any size intrusion.

&lt;&lt;elseif $activeCharacter.gape &gt;= 60&gt;&gt;
	&lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole is _gape and as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses lube &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can accommodate people of any size.

&lt;&lt;elseif $activeCharacter.gape &gt;= 40&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; ass has been _gape. It can fit a full sized intrusion but anything larger than that can cause pain even with lube.

&lt;&lt;elseif $activeCharacter.gape &gt;= 20&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape but it has seen some use.

&lt;&lt;elseif $activeCharacter.gape &gt;= 0&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape. You can barely fit your finger in it, let alone a full sized intrusion.

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.virgin&gt;&gt;
	$activeCharacter.name is a @@color:green;virgin@@,
&lt;&lt;else&gt;&gt;
	$activeCharacter.name is not a virgin,
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
	&lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is an @@color:green;anal virgin@@.
&lt;&lt;else&gt;&gt;
	&lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not an anal virgin.
&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
There is nothing in this cell.
&lt;&lt;/if&gt;&gt;
&lt;hr&gt;
&lt;&lt;include &quot;SS Description Header&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="15" name="Stock Shops" tags="nobr" position="138,147" size="100,100">&lt;&lt;set _characterShop = {maxamount:0, amount:0, owner:&quot;&quot;, name: &quot;&quot;, description: &quot;&quot;, welcome: &quot;&quot;}&gt;&gt;

&lt;&lt;include &quot;Shop Templates&quot;&gt;&gt;

&lt;&lt;for _i to _high; _i &gt; 0; _i--&gt;&gt;
	&lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
	&lt;&lt;set _characterShop[_i] to _character&gt;&gt;
	&lt;&lt;set _character.shelflife to $weekcount + random(1,4)&gt;&gt;
	&lt;&lt;set _characterShop.amount += 1&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;for _i to _characterShop.amount+1; _i &lt;= _characterShop.maxamount; _i++&gt;&gt;
	&lt;&lt;include &quot;Empty Cell&quot;&gt;&gt;
	&lt;&lt;set _characterShop[_i] to _cell&gt;&gt;
	&lt;&lt;set _characterShop.amount += 1&gt;&gt;
&lt;&lt;/for&gt;&gt;</tw-passagedata><tw-passagedata pid="16" name="Slums" tags="nobr" position="25,2325" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Travel&quot;&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;include &quot;Shops&quot;&gt;&gt;
&lt;&lt;set $Guild = {type:null, loc:null}&gt;&gt;
&lt;&lt;unset $SlaveShop&gt;&gt;
&lt;&lt;unset $Store&gt;&gt;
&lt;&lt;unset $ragdoll&gt;&gt;
&lt;&lt;unset $cost&gt;&gt;
&lt;&lt;unset $character&gt;&gt;
&lt;&lt;unset $choice&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;
&lt;h3&gt;Slave Markets&lt;/h3&gt;
A large sum of Waiross immigrants were too poor to pay for the bare necessities, forcing many of them to become slaves. The more rare breeds of people enslaved by the city for profit, the lesser, more common races were gathered and sold at slave shops around the slums.

&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$sashaslaveshop.name|Slave Shop][$SlaveShop to $sashaslaveshop, $slavetemplate = &quot;Sasha&quot;]]&#39;&#39; &lt;br&gt;
Sasha&#39;s Slave Shop is one of the longest standing slave shops in all of Waiross Slums. Sasha sells substandard beastmen and humans of all ages and many appearances.

&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$jhakbeastshack.name|Slave Shop][$SlaveShop to $jhakbeastshack, $slavetemplate = &quot;Jhak&quot;]]&#39;&#39; &lt;br&gt;
Jhak&#39;s Beast Shack primarily sells substandard beastmen. This slave shop hasn&#39;t been around for a long time but it is the best choice for someone looking to buy a beastman slave.
&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$panbargainbasement.name|Slave Shop][$SlaveShop to $panbargainbasement, $slavetemplate = &quot;Pan&quot;]]&#39;&#39; &lt;br&gt;
Pan&#39;s Bargain Basement is the sister shop to Pan&#39;s main store. Her main store is located within the city and any slaves that can&#39;t sell in there is sold for a lesser price in the slums. Elves are sold more frequently here.

&lt;hr&gt;

&lt;h3&gt;General Stores&lt;/h3&gt;
Most of the stores set up in the Waiross Slums are filled with useless junk and trinkets. The few stores holding items of value have hired help protecting the store from theives and the multiple gangs prowling around the slums.

&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$olyssaatelier.name|General Store][$Store to $olyssaatelier]]&#39;&#39; &lt;br&gt;
A small alchemist studio owned by a woman named Olyssa. Her shop is the only one in all of the slums that sell even remotely useful transformative potions and elixirs.

&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$mayasbulkbarn.name|Bulk Store][$Store to $mayasbulkbarn]]&#39;&#39; &lt;br&gt;
Since clothes and jewelry can be expensive for starting slavers, bulk stores are a great way to get items for all of your slaves for relatively cheap prices. These items can be used by multiple slaves at the same time.

&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$erinsexemporium.name|General Store][$Store to $erinsexemporium]]&#39;&#39; &lt;br&gt;
A rather well put together store for a sex shop in the slums. Erin sells an assortment of all kinds of sex toys for all sexes, orientations and races. The items bought in this shop are for sexual use only.

&lt;hr&gt;

&lt;h3&gt;Service Stores&lt;/h3&gt;
These stores grant services to slum citizens for low prices because of their subpar ability to perform them. Only expect the most basic of services from any of these stores, as anyone with the skills to provide any service of use has long since been accepted into the city.

&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$studio.name|Piercing Studio][$Store to $studio]]&#39;&#39; &lt;br&gt;
This is the only trusted location in all of the slums to get piercings without the worry of getting an infection or disease. The prices are pretty high because of this despite the fact that the workers here are not very skilled at performing piercings.

&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$runepracticum.name|Practicum][$Store to $runepracticum]]&#39;&#39; &lt;br&gt;
A Rune Practicum provides a place for people to have their &#39;assets&#39; enlarged or reduced through the use of runeworking. Small changes are cheap, but the more complex the runework becomes, the more expensive it is to add more runes.

&lt;hr&gt;

&lt;h3&gt;Guilds&lt;/h3&gt;
There are still a few guilds that have chapters outside of the city and inside the slums despite the rampant amount of crime. These guild chapters have a higher registration fee to cover the costs of paying their guards and only have certification for the lower rankings.

&lt;br&gt;&lt;br&gt;

&#39;&#39;[[Slavers Guild|Slaver Guild][$Guild.type = &quot;Slaver&quot;, $Guild.loc = &quot;Slums&quot;]]&#39;&#39; &lt;br&gt;
This guild is on the outskirts of the slums, close to the gate leading into the city. It has a few decently armored guards standing outside of it. This guild allows slavers to take requests to train slaves to certain specifications.

&lt;hr&gt;
&lt;/center&gt;</tw-passagedata><tw-passagedata pid="17" name="Slave Shop" tags="nobr noreturn" position="136,2118" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;set $shop to $SlaveShop.name&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;$SlaveShop.name&lt;/h3&gt;&lt;/center&gt;
&lt;br&gt;

$SlaveShop.welcome

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $tips.slavebuying&gt;&gt;
	Hide slave buying [[tips|Slave Shop][$tips.slavebuying = 0]].
	&lt;br&gt;

	&lt;b&gt;Slave Buying&lt;/b&gt;
	&lt;hr&gt;
	@@color:red;Red@@ colored traits @@color:red;severely decreases@@ a slave&#39;s price. These traits severely reduce the appeal of a slave, especially age. &lt;br&gt;&lt;br&gt;

	@@color:orange;Orange@@ colored traits @@color:orange;decreases@@ a slave&#39;s price. These traits slightly reduce the appeal of a slave. &lt;br&gt;&lt;br&gt;

	@@color:yellow;Yellow@@ colored traits @@color:yellow;don&#39;t affect@@ a slave&#39;s price at all. These traits neither increases nor decreases a slave&#39;s appeal. &lt;br&gt;&lt;br&gt;

	@@color:greenyellow;Yellowish Green@@ colored traits @@color:greenyellow;increases@@ a slave&#39;s price. These traits slightly increase the appeal of a slave. &lt;br&gt;&lt;br&gt;

	@@color:forestgreen;Green@@ colored traits @@color:forestgreen;drastically increases@@ a slave&#39;s price. These traits significantly increases the appeal of a slave, especially age.
&lt;&lt;else&gt;&gt;
	Show slave buying [[tips|Slave Shop][$tips.slavebuying = 1]].
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $boughtSlave&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;include &quot;Purchase Slave&quot;&gt;&gt;
	&lt;&lt;unset $boughtSlave&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;hr&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:950px&#39;&gt;

&lt;tr&gt;
	&lt;th style=&#39;width: 5%;&#39;&gt;&lt;/th&gt;
	&lt;th style=&#39;width: 35%;&#39;&gt;Identity&lt;/th&gt;
	&lt;th style=&#39;width: 20%;&#39;&gt;Price&lt;/th&gt;
	&lt;th style=&#39;width: 40%;&#39;&gt;Description&lt;/th&gt;
&lt;/tr&gt;

&lt;&lt;for _i to 1; _i &lt;= $SlaveShop.amount; _i++&gt;&gt;
	&lt;&lt;if $weekcount &gt;= $SlaveShop[_i].shelflife+4&gt;&gt;
		&lt;&lt;include &quot;Empty Cell&quot;&gt;&gt;
		&lt;&lt;set $SlaveShop[_i] = _cell&gt;&gt;
		&lt;&lt;set $SlaveShop[_i].week = $weekcount&gt;&gt;
	&lt;&lt;elseif $weekcount &gt;= $SlaveShop[_i].shelflife&gt;&gt;
		&lt;&lt;include &quot;Empty Cell&quot;&gt;&gt;
		&lt;&lt;set $SlaveShop[_i] = _cell&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $SlaveShop[_i].week &lt;= $weekcount&gt;&gt;
		&lt;&lt;set _character = $SlaveShop[_i].slave&gt;&gt;
		&lt;&lt;set _character.shelflife = ($weekcount + random(1,4))&gt;&gt;
		&lt;&lt;set $SlaveShop[_i] = _character&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $SlaveShop[_i].name&gt;&gt;
		&lt;&lt;set _character to $SlaveShop[_i]&gt;&gt;
		&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;
		&lt;&lt;set _price = commify(_character.price)&gt;&gt;
		&lt;tr&gt;
			&lt;td&gt;&lt;b&gt;@@color:gray;_i@@&lt;/b&gt;&lt;/td&gt;
			&lt;td&gt;&lt;&lt;race _character.tribe&gt;&gt; | &lt;&lt;print &quot;[[_character.name|SS Slave Description][$activeCharacter to $SlaveShop[&quot; + _i + &quot;]]]&quot;&gt;&gt; &lt;&lt;gender _character.sex _character.gender&gt;&gt;&lt;/td&gt;
			&lt;td&gt;@@color:lightgreen;💎_price@@&lt;/td&gt;
			&lt;td&gt;&lt;&lt;include &quot;Brief SS Slave Description&quot;&gt;&gt;&lt;/td&gt;
		&lt;/tr&gt;

	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _cell to $SlaveShop[_i]&gt;&gt;
		&lt;tr&gt;
			&lt;td&gt;&lt;b&gt;@@color:gray;_cell.number@@&lt;/b&gt;&lt;/td&gt;
			&lt;td colspan=3&gt;&lt;b&gt;This cage is empty right now, try checking back in a few weeks.&lt;/b&gt;&lt;/td&gt;
		&lt;/tr&gt;

	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;
&lt;/table&gt;
&lt;&lt;include &quot;Save Slave Shop&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="18" name="Brief SS Slave Description" tags="nobr" position="261,2118" size="100,100">&lt;&lt;set _maturity = extractWord($maturity[_character.maturity])&gt;&gt;
&lt;&lt;set _an = capitalize(AvsAn.query(_maturity))&gt;&gt;

_an _maturity
&lt;&lt;if _character.skintone&gt;&gt;
	_character.skintone
&lt;&lt;elseif _character.fur&gt;&gt;
	_character.fur furred
&lt;&lt;/if&gt;&gt;

_character.sex

&lt;&lt;if _character.tribe&gt;&gt;
	_character.tribe.
&lt;&lt;else&gt;&gt;
	_character.race.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="19" name="Money" tags="nobr noreturn" position="1620,51" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set $expenseslide = &quot;Money&quot;&gt;&gt;

&lt;&lt;if $gameover == 1&gt;&gt;
	&lt;center&gt;&lt;b&gt;@@color:red;You are in debt. If you are in debt after two more weeks the game will be over.@@&lt;/b&gt;&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

&lt;&lt;elseif $gameover == 2&gt;&gt;
	&lt;center&gt;&lt;b&gt;@@color:red;You are in debt. If you are in debt after another week the game will be over.@@&lt;/b&gt;&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Expense Breakdown&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="20" name="Empty Cell" tags="nobr" position="138,266" size="100,100">&lt;&lt;if $shoptemplate&gt;&gt;
	&lt;&lt;include &quot;Shop Templates&quot;&gt;&gt;
	&lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _cell to {empty: 1, week: 0, slave: _character, ID:0, number: _i}&gt;&gt;

&lt;&lt;set $letter = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;]&gt;&gt;
&lt;&lt;set _cell.ID = random(0, 1000) + $letter.random() + random(0, 1000)&gt;&gt;
&lt;&lt;set _cell.week to $weekcount + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="21" name="Purchase Slave" tags="nobr" position="636,2119" size="100,100">&lt;&lt;for _i to 1; _i &lt;= $SlaveShop.amount; _i++&gt;&gt;
	&lt;&lt;if $boughtSlave.ID == $SlaveShop[_i].ID&gt;&gt;
		&lt;&lt;set $slavenumber = _i&gt;&gt;
		&lt;&lt;set _character = $boughtSlave&gt;&gt;
		&lt;&lt;break&gt;&gt;
	&lt;&lt;/if&gt;&gt;	
&lt;&lt;/for&gt;&gt;

&lt;&lt;set $boughtSlave.origin = &quot;You bought &quot; + $boughtSlave.name + &quot; from &quot; + $SlaveShop.name + &quot;.&quot;&gt;&gt;
&lt;&lt;run addSlave($boughtSlave, $boughtSlave.price)&gt;&gt;
&lt;&lt;include &quot;Empty Cell&quot;&gt;&gt;
&lt;&lt;set $SlaveShop[_i] = _cell&gt;&gt;
&lt;&lt;include &quot;Save Slave Shop&quot;&gt;&gt;

&lt;b&gt;You have purchased $boughtSlave.name!&lt;/b&gt;</tw-passagedata><tw-passagedata pid="22" name="Save Slave Shop" tags="nobr" position="761,2118" size="100,100">&lt;&lt;switch $SlaveShop.name&gt;&gt;
	&lt;&lt;case &quot;Jhak&#39;s Beast Shack&quot;&gt;&gt;
		&lt;&lt;set $jhakbeastshack = $SlaveShop&gt;&gt;
	
	&lt;&lt;case &quot;Sasha&#39;s Slave Shop&quot;&gt;&gt;
		&lt;&lt;set $sashaslaveshop = $SlaveShop&gt;&gt;
		
	&lt;&lt;case &quot;Pan&#39;s Bargain Basement&quot;&gt;&gt;
		&lt;&lt;set $panbargainbasement = $SlaveShop&gt;&gt;
	
&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="23" name="Brief Slave Description" tags="nobr" position="490,258" size="100,100">A _character.age year old _character.skintone _character.race
&lt;&lt;if _character.tribe != &quot;&quot;&gt;&gt;
	(_character.tribe)
&lt;&lt;/if&gt;&gt;
_character.gender.</tw-passagedata><tw-passagedata pid="24" name="Slave Description" tags="nobr noreturn" position="490,383" size="100,100">&lt;&lt;unset $slavenumber&gt;&gt;
&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;for _i to 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
	&lt;&lt;if $activeCharacter.ID == $slaves[_i].ID&gt;&gt;
		&lt;&lt;set $slavenumber = _i&gt;&gt;
		&lt;&lt;break&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;set _character = $activeCharacter&gt;&gt;

&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;

&lt;&lt;if $CurrentTitle != null &amp;&amp; $CurrentTitle != $activeCharacter.title&gt;&gt;
	&lt;&lt;set $activeCharacter.cooldown.title = 1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;unset $CurrentTitle&gt;&gt;

&lt;&lt;if $slavenumber&gt;&gt;
	&lt;&lt;include &quot;Description Header&quot;&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.update.length &gt; 0&gt;&gt;
	&lt;&lt;include &quot;Slave Update&quot;&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;


&lt;&lt;if $activeCharacter.cooldown.title&gt;&gt;
	&lt;&lt;displayTitle $activeCharacter.title&gt;&gt; | &lt;b&gt;@@color:red;$activeCharacter.name has already changed &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; title once this week.@@&lt;/b&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;displayTitle $activeCharacter.title&gt;&gt; | [[Change Title|Change Title]]
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;
&lt;&lt;include &quot;Title Descriptions&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;
&lt;&lt;include &quot;Health&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;
&lt;&lt;include &quot;Trans Items&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;
&lt;&lt;include &quot;Slave Expense&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;
&lt;&lt;include &quot;Slave Skills&quot;&gt;&gt;
&lt;hr&gt;
&lt;&lt;include &quot;Slave History&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;
&lt;center&gt;&lt;b&gt;Description&lt;/b&gt;&lt;br&gt;&lt;/center&gt;

&lt;&lt;include &quot;Description&quot;&gt;&gt;
&lt;br&gt;
Do you want to change $activeCharacter.name&#39;s name? &lt;&lt;textbox &quot;$activeCharacter.name&quot; $activeCharacter.name &quot;Slave Description&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;set _price = $activeCharacter.ogprice * 0.75&gt;&gt;
&lt;&lt;set _price = Math.round10(_price,1)&gt;&gt;
&lt;&lt;set _textprice = commify(_price)&gt;&gt;

&lt;&lt;set _psg = &quot;Sell this slave for 💎&quot; + _textprice + &quot;.&quot;&gt;&gt;

&lt;&lt;if !$activeCharacter.contract&gt;&gt;
	[[_psg|Sell Slave][$sell = 0]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="25" name="SS Description Header" tags="nobr" position="386,2118" size="100,100">&lt;&lt;if $activeCharacter.name&gt;&gt;
	&lt;&lt;if $slavenumber == 1&gt;&gt;
		&lt;center&gt;&lt;= Back | ---- [[$activeCharacter.name|SS Slave Description]] ---- | [[Next =&gt;|SS Slave Description][$activeCharacter = $SlaveShop[$slavenumber + 1]]]&lt;/center&gt;
	&lt;&lt;elseif $slavenumber == $SlaveShop.amount&gt;&gt;
		&lt;center&gt;[[&lt;= Back|SS Slave Description][$activeCharacter = $SlaveShop[$slavenumber - 1]]] | ---- [[$activeCharacter.name|SS Slave Description]] ---- | Next =&gt;&lt;/center&gt;
	&lt;&lt;else&gt;&gt;
		&lt;center&gt;[[&lt;= Back|SS Slave Description][$activeCharacter = $SlaveShop[$slavenumber - 1]]] | ---- [[$activeCharacter.name|SS Slave Description]] ---- | [[Next =&gt;|SS Slave Description][$activeCharacter = $SlaveShop[$slavenumber + 1]]]&lt;/center&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;if $slavenumber == 1&gt;&gt;
		&lt;center&gt;&lt;= Back | ---- Empty Cage ---- | [[Next =&gt;|SS Slave Description][$activeCharacter = $SlaveShop[$slavenumber + 1]]]&lt;/center&gt;
	&lt;&lt;elseif $slavenumber == $SlaveShop.amount&gt;&gt;
		&lt;center&gt;[[&lt;= Back|SS Slave Description][$activeCharacter = $SlaveShop[$slavenumber - 1]]] | ---- Empty Cage ---- | Next =&gt;&lt;/center&gt;
	&lt;&lt;else&gt;&gt;
		&lt;center&gt;[[&lt;= Back|SS Slave Description][$activeCharacter = $SlaveShop[$slavenumber - 1]]] | ---- Empty Cage  ---- | [[Next =&gt;|SS Slave Description][$activeCharacter = $SlaveShop[$slavenumber + 1]]]&lt;/center&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="26" name="Slave Inspection" tags="nobr" position="14,1041" size="100,100">&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;

&lt;&lt;set _race = capitalize($activeCharacter.race)&gt;&gt;
&lt;&lt;set _tribe = capitalize($activeCharacter.tribe)&gt;&gt;
&lt;&lt;set _nature = capitalize($activeCharacter.nature)&gt;&gt;
&lt;&lt;set _skintone = capitalize($activeCharacter.skintone)&gt;&gt;
&lt;&lt;set _fur = capitalize($activeCharacter.fur)&gt;&gt;
&lt;&lt;set _age = $UCage[$activeCharacter.maturity]&gt;&gt;
&lt;&lt;set _health = $UChealth[$activeCharacter.health]&gt;&gt;
&lt;&lt;set _weight = $UCweight[$activeCharacter.weight]&gt;&gt;
&lt;&lt;set _beauty = $UCbeauty[$activeCharacter.beauty]&gt;&gt;
&lt;&lt;set _exoticism = getExoticism($activeCharacter.exoticism)&gt;&gt;
&lt;&lt;set _intelligence = $UCintelligence[$activeCharacter.intelligence]&gt;&gt;
&lt;&lt;set _bust = $UCbust[$activeCharacter.bust.current]&gt;&gt;
&lt;&lt;set _butt = $UCbutt[$activeCharacter.gender][$activeCharacter.butt.current]&gt;&gt;
&lt;&lt;set _cock = $cock[$activeCharacter.cock.current]&gt;&gt;
&lt;&lt;set _girth = $UCgirth[$activeCharacter.girth.current]&gt;&gt;
&lt;&lt;set _balls = $UCballs[$activeCharacter.balls.current]&gt;&gt;
&lt;&lt;set _pussy = $UCpussy[$activeCharacter.pussy.current]&gt;&gt;
&lt;&lt;set _circumcised = $UCcircumcised[$activeCharacter.circumcised]&gt;&gt;
&lt;&lt;set _inverted = $UCinverted[$activeCharacter.inverted]&gt;&gt;
&lt;&lt;set _clit = $UCclit[$activeCharacter.clit.current]&gt;&gt;
&lt;&lt;set _hooded = $UChooded[$activeCharacter.hooded]&gt;&gt;
&lt;&lt;set _fatigue = getFatigue($activeCharacter)&gt;&gt;
&lt;&lt;set _mood = getMood($activeCharacter)&gt;&gt;
&lt;&lt;set _lust = getLust($activeCharacter.lust)&gt;&gt;

&lt;&lt;set _obedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _fear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _sanity = getSanity($activeCharacter.sanity)&gt;&gt;
&lt;&lt;set _trust = getTrust($activeCharacter.trust.current)&gt;&gt;

&lt;&lt;set _status = []&gt;&gt;
&lt;&lt;set _actions = []&gt;&gt;
&lt;&lt;set _assignments = []&gt;&gt;
&lt;&lt;set _description = []&gt;&gt;

&lt;&lt;set _status += &quot;_obedience -- _trust -- _fear -- _health -- _fatigue -- _weight -- _mood -- _lust&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.known.sexualskill&gt;&gt;
	&lt;&lt;set _status += &quot; -- _nature&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.known.sexualskill == 0&gt;&gt;
	&lt;&lt;if $PC.energy.current &lt; 1&gt;&gt;
		&lt;&lt;set _actions += &quot;Explore $activeCharacter.name&#39;s sexual talent.&quot;&gt;&gt;

	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _linktext = &quot;Explore &quot; + $activeCharacter.name + &quot;&#39;s sexual talent&quot;&gt;&gt;

		&lt;&lt;set _actions += &quot;[[_linktext|Explore Sex Talent]]&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;if $PC.energy.current &lt; 1&gt;&gt;
		&lt;&lt;set _actions += &quot;Train -- Interact&quot;&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _actions += &quot;[[Train|Train]] -- [[Interact|Interact]]&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.pop &lt; $estate.brothel.cap &amp;&amp; $activeCharacter.location != &quot;brothel&quot;&gt;&gt;
	&lt;&lt;set _actions += &quot; -- &lt;&lt;link [[Assign to Brothel|Main Menu]]&gt;&gt;&lt;&lt;run relocateSlave($activeCharacter, $estate, &#39;brothel&#39;)&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
&lt;&lt;elseif $activeCharacter.location == &quot;brothel&quot; &amp;&amp; $estate.pop &lt; $estate.cap&gt;&gt;
	&lt;&lt;set _actions += &quot; -- &lt;&lt;link [[Remove From Brothel|Main Menu]]&gt;&gt;&lt;&lt;run relocateSlave($activeCharacter, $estate, &#39;estate&#39;)&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.ranch.pop &lt; $estate.ranch.cap &amp;&amp; $activeCharacter.location != &quot;ranch&quot;&gt;&gt;
	&lt;&lt;set _actions += &quot; -- &lt;&lt;link [[Assign to Ranch|Main Menu]]&gt;&gt;&lt;&lt;run relocateSlave($activeCharacter, $estate, &#39;ranch&#39;)&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
&lt;&lt;elseif $activeCharacter.location == &quot;ranch&quot; &amp;&amp; $estate.pop &lt; $estate.cap&gt;&gt;
	&lt;&lt;set _actions += &quot; -- &lt;&lt;link [[Remove From Ranch|Main Menu]]&gt;&gt;&lt;&lt;run relocateSlave($activeCharacter, $estate, &#39;estate&#39;)&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.chattel.pop-_chattelpenpop &lt; $estate.chattel.cap &amp;&amp; $activeCharacter.location != &quot;chattel&quot;&gt;&gt;
	&lt;&lt;set _actions += &quot; -- &lt;&lt;link [[Assign to Chattel|Main Menu]]&gt;&gt;&lt;&lt;run relocateSlave($activeCharacter, $estate, &#39;chattel&#39;)&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
&lt;&lt;elseif $activeCharacter.location == &quot;chattel&quot; &amp;&amp; $estate.pop &lt; $estate.cap&gt;&gt;
	&lt;&lt;set _actions += &quot; -- &lt;&lt;link [[Remove From Chattel|Main Menu]]&gt;&gt;&lt;&lt;run relocateSlave($activeCharacter, $estate, &#39;estate&#39;)&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.assignment == &quot;rest&quot; &amp;&amp; $activeCharacter.location != &quot;chattel&quot;&gt;&gt;
	&lt;&lt;set _assignments += &quot;&lt;span id=&#39;rest&#39;&gt;Resting&lt;/span&gt;&quot;&gt;&gt;
&lt;&lt;elseif [&quot;estate&quot;, &quot;brothel&quot;, &quot;ranch&quot;].contains($activeCharacter.location)&gt;&gt;
	&lt;&lt;set _assignments += &quot;&lt;span id=&#39;rest&#39;&gt;&lt;&lt;appendLink &#39;EstateRest&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.location == &quot;estate&quot;&gt;&gt;
	&lt;&lt;set _reqFatigue = requiredFatigue($activeCharacter, &quot;odd jobs&quot;)&gt;&gt;
	
	&lt;&lt;if $activeCharacter.assignment == &quot;odd jobs&quot;&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- &lt;span id=&#39;work&#39;&gt;Working&lt;/span&gt;&quot;&gt;&gt;
	&lt;&lt;elseif $activeCharacter.fatigue.progress &gt; _reqFatigue&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- @@color:red;Work [Fatigued]@@&quot;&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- &lt;span id=&#39;work&#39;&gt;&lt;&lt;appendLink &#39;EstateWork&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.location == &quot;brothel&quot;&gt;&gt;
	&lt;&lt;set _reqFatigue = requiredFatigue($activeCharacter, &quot;brothel&quot;)&gt;&gt;
	&lt;&lt;set _reqHealth = requiredHealth(&quot;brothel&quot;, $estate)&gt;&gt;
	
	&lt;&lt;if $activeCharacter.assignment == &quot;brothel&quot;&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- &lt;span id=&#39;work&#39;&gt;Working&lt;/span&gt;&quot;&gt;&gt;
	&lt;&lt;elseif $activeCharacter.fatigue.progress &gt; _reqFatigue&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- @@color:red;Work [Fatigued]@@&quot;&gt;&gt;
	&lt;&lt;elseif $activeCharacter.condition.progress &lt;= _reqHealth&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- @@color:red;Work [Unhealthy]@@&quot;&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- &lt;span id=&#39;work&#39;&gt;&lt;&lt;appendLink &#39;EstateWork&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.location == &quot;ranch&quot;&gt;&gt;
	&lt;&lt;set _reqFatigue = requiredFatigue($activeCharacter, &quot;husbandry&quot;)&gt;&gt;
	&lt;&lt;set _reqHealth = requiredHealth(&quot;husbandry&quot;, $estate)&gt;&gt;
	&lt;&lt;if $activeCharacter.assignment == &quot;husbandry&quot;&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- &lt;span id=&#39;work&#39;&gt;Working&lt;/span&gt;&quot;&gt;&gt;
	&lt;&lt;elseif $activeCharacter.fatigue.progress &gt; _reqFatigue&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- @@color:red;Work [Fatigued]@@&quot;&gt;&gt;
	&lt;&lt;elseif $activeCharacter.condition.progress &lt;= _reqHealth&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- @@color:red;Work [Unhealthy]@@&quot;&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _assignments += &quot; -- &lt;span id=&#39;work&#39;&gt;&lt;&lt;appendLink &#39;EstateWork&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.location == &quot;chattel&quot;&gt;&gt;
	&lt;&lt;if !$activeCharacter.chattel.pen&gt;&gt;
		&lt;&lt;set _assignments += &quot;Holding Pen&quot;&gt;&gt;
		&lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
			&lt;&lt;if $estate.chattel.pens[_p].pop &lt; $estate.chattel.pens[_p].cap&gt;&gt;
				&lt;&lt;set _assignments += &quot; -- [[Pen &quot; + _p + &quot;|Main Menu][$estate.chattel.pens[&quot; + _p + &quot;].pop++, $activeCharacter.chattel.pen = &quot; + _p + &quot;, $activeCharacter.chattel.style = $estate.chattel.pens[&quot; + _p + &quot;].style, $activeCharacter.chattel.focus = $estate.chattel.pens[&quot; + _p + &quot;].focus]]&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/for&gt;&gt;

	&lt;&lt;elseif $activeCharacter.chattel.pen&gt;&gt;
		&lt;&lt;if $estate.chattel.pop-_chattelpenpop &lt; $estate.chattel.cap&gt;&gt;
	    &lt;&lt;set _assignments += &quot;[[Holding Pen|Main Menu][$estate.chattel.pens[&quot; + $activeCharacter.chattel.pen + &quot;].pop--, $activeCharacter.chattel.pen = 0, $activeCharacter.chattel.style = null, $activeCharacter.chattel.focus = null]]&quot;&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _assignments += &quot;Pen &quot; + $activeCharacter.chattel.pen&gt;&gt;
		&lt;&lt;/if&gt;&gt;

    &lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
      &lt;&lt;if $estate.chattel.pens[_p].pop &lt; $estate.chattel.pens[_p].cap &amp;&amp; $activeCharacter.chattel.pen != _p&gt;&gt;
      	&lt;&lt;set _assignments += &quot; -- [[Pen &quot; + _p + &quot;|Main Menu][$estate.chattel.pens[&quot; + $activeCharacter.chattel.pen + &quot;].pop--, $estate.chattel.pens[&quot; + _p + &quot;].pop++, $activeCharacter.chattel.pen = &quot; + _p + &quot;, $activeCharacter.chattel.style = $estate.chattel.pens[&quot; + _p + &quot;].style, $activeCharacter.chattel.focus = $estate.chattel.pens[&quot; + _p + &quot;].focus]]&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/for&gt;&gt;

	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _description += &quot;_age&quot;&gt;&gt;

&lt;&lt;if _skintone&gt;&gt;
	&lt;&lt;set _description += &quot; _skintone&quot;&gt;&gt;

&lt;&lt;elseif _fur&gt;&gt;
	&lt;&lt;set _description += &quot; _fur furred&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _tribe&gt;&gt;
	&lt;&lt;set _description += &quot; &lt;&lt;race $activeCharacter.tribe &#39;Description&#39;&gt;&gt; --&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _description += &quot; _race --&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _description += &quot; _intelligence, _beauty, _exoticism&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.bust.current &gt; 0&gt;&gt;
	&lt;&lt;set _description += &quot; -- _bust Bust&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.cock.current &gt; 0 &amp;&amp; $activeCharacter.girth.current &gt; 0&gt;&gt;
	&lt;&lt;set _description += &quot; -- _circumcised _girth _cock Cock&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.pussy.current &gt; 0 &amp;&amp; $activeCharacter.clit.current &gt; 0&gt;&gt;
	&lt;&lt;set _description += &quot; -- _pussy Pussy, _clit _hooded Clit&quot;&gt;&gt;
&lt;&lt;elseif $activeCharacter.pussy.current &gt; 0&gt;&gt;
	&lt;&lt;set _description += &quot; -- _pussy Pussy&quot;&gt;&gt;
&lt;&lt;elseif $activeCharacter.clit.current &gt; 0&gt;&gt;
	&lt;&lt;set _description += &quot; -- _clit _hooded Clit&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;tr&gt;
	&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
	&lt;td class = &quot;listing&quot; style=&#39;width: 89%;&#39;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;th colspan=2&gt;&lt;&lt;displayTitle $activeCharacter.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race $activeCharacter.tribe &quot;Main Menu&quot;&gt;&gt; &lt;&lt;print &quot;[[$activeCharacter.name|Slave Description]]&quot;&gt;&gt; &lt;&lt;gender $activeCharacter.sex $activeCharacter.gender&gt;&gt; ---- Slave Inspection ---- &lt;&lt;link &quot;Dismiss&quot;&gt;&gt;&lt;&lt;replace &quot;#inspection&quot; t8n&gt;&gt;&lt;&lt;set $activeCharacter = null&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/th&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;th&gt;Status&lt;/th&gt;
	&lt;td&gt;_status&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;th&gt;Actions&lt;/th&gt;
	&lt;td&gt;_actions&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;th&gt;Assignment&lt;/th&gt;
	&lt;td&gt;_assignments&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;th&gt;Description&lt;/th&gt;
	&lt;td&gt;_description&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="27" name="Brothel Description" tags="nobr notruereturn noreturn" position="917,822" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $tips.brothel == 1&gt;&gt;
	Your brothel is located in [[$activeBrothel.loc|Brothel Description][$tips.brothel to 0]].
	&lt;br&gt;&lt;br&gt;
	&lt;center&gt;Market Research&lt;/center&gt;
	&lt;hr&gt;
	&lt;&lt;print $locdescbrothel[$activeBrothel.loc]&gt;&gt;
&lt;&lt;else&gt;&gt;
	You brothel is located in [[$activeBrothel.loc|Brothel Description][$tips.brothel to 1]].
	&lt;br&gt;&lt;br&gt;
	&lt;center&gt;Market Research (Summary)&lt;/center&gt;
	&lt;hr&gt;
	Customer Volume: &lt;&lt;print $marketresearch[$activeBrothel.stats.customervolume]&gt;&gt;&lt;br&gt;
	Customer Demand: &lt;&lt;print $marketresearch[$activeBrothel.stats.customerdemand]&gt;&gt;&lt;br&gt;
	Worker Welfare: &lt;&lt;print $marketresearch[$activeBrothel.stats.workerwelfare]&gt;&gt;&lt;br&gt;
	Customer Tolerance: &lt;&lt;print $marketresearch[$activeBrothel.stats.customertolerance]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;
&lt;center&gt;Brothel Room Status&lt;/center&gt;&lt;hr&gt;
You have &lt;b&gt;&lt;&lt;print [$activeBrothel.rooms.total-$activeBrothel.rooms.used]&gt;&gt;&lt;/b&gt; unused rooms. Currently &lt;b&gt;$activeBrothel.rooms.used\$activeBrothel.rooms.total&lt;/b&gt; rooms have a purpose. The max amount of rooms you can have in this brothel is &lt;b&gt;$activeBrothel.rooms.max&lt;/b&gt;.
&lt;br&gt;&lt;br&gt;

$activeBrothel.name has &lt;b&gt;$activeBrothel.boudoirs.rooms&lt;/b&gt; boudoir(s). There are currently &lt;b&gt;&lt;&lt;print $activeBrothel.boudoirs.rooms-$activeBrothel.boudoirs.pop&gt;&gt;&lt;/b&gt; empty boudoirs. Send slaves here to whore them out during the week.&lt;br&gt;

$activeBrothel.name has &lt;b&gt;$activeBrothel.prisons.rooms&lt;/b&gt; prison(s). Send disobediant slaves here to discipline them further during the week. Each prison can hold up to &lt;b&gt;&lt;&lt;print [$activeBrothel.prisons.cap/$activeBrothel.prisons.rooms]&gt;&gt;&lt;/b&gt; slaves. There are currently &lt;b&gt;&lt;&lt;print $activeBrothel.prisons.cap-$activeBrothel.prisons.pop&gt;&gt;&lt;/b&gt; empty prison cells.&lt;br&gt;

$activeBrothel.name has &lt;b&gt;$activeBrothel.dorms.rooms&lt;/b&gt; dorms(s). Slaves assigned a bed in a dorm gets rest. Each dormroom can hold up to &lt;b&gt;&lt;&lt;print [$activeBrothel.dorms.cap/$activeBrothel.dorms.rooms]&gt;&gt;&lt;/b&gt; slaves. There are currently &lt;b&gt;&lt;&lt;print $activeBrothel.dorms.cap-$activeBrothel.dorms.pop&gt;&gt;&lt;/b&gt; empty beds.&lt;br&gt;
&lt;&lt;if $activeBrothel.slaves.amount&gt;&gt;
	&lt;&lt;set _brothel = $activeBrothel&gt;&gt;
	&lt;br&gt;
	&lt;center&gt;Brothel Slaves&lt;/center&gt;&lt;hr&gt;
	&lt;&lt;for _k to 1; _k &lt;= $activeBrothel.slaves.amount;_k++&gt;&gt;
		&lt;&lt;set _character = $activeBrothel.slaves[_k]&gt;&gt;
		&lt;&lt;include &quot;Menu Brief Slave Description&quot;&gt;&gt;&lt;br&gt;
	&lt;&lt;/for&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="28" name="Slave Location" tags="nobr noreturn notruereturn" position="358,1033" size="100,100">&lt;&lt;if $activeCharacter.location == &quot;estate&quot;&gt;&gt;
	&lt;&lt;if $brothel.dorms.pop &gt;= $brothel.dorms.cap&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;$brothel.name is currently full. If you want to put $activeCharacter.name in this brothel please remove someone from it. &lt;br&gt;&quot;&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;include &quot;Move Slave&quot;&gt;&gt;
		&lt;&lt;set $brothel.dorms.pop += 1&gt;&gt;
		&lt;&lt;set $brothel.slaves.amount++&gt;&gt;
		&lt;&lt;set
		$brothel.slaves[$brothel.slaves.amount] = $activeCharacter&gt;&gt;
		&lt;&lt;set $activeCharacter.assignment = &quot;rest&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.location = &quot;brothel&quot;&gt;&gt;
		
		&lt;&lt;set $updates.brothel += &quot;You have sent $activeCharacter.name to $brothel.name. &lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.location == &quot;brothel&quot;&gt;&gt;
	&lt;&lt;if $slaves.amount &gt;= $estate.cap&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;You have $estate.cap unassigned slaves already. Assign one to a brothel or sell an extra slave to free up some space. &lt;br&gt;&quot;&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;include &quot;Move Slave&quot;&gt;&gt;
		&lt;&lt;set $brothel.dorms.pop -= 1&gt;&gt;
		&lt;&lt;set $slaves.amount++&gt;&gt;
		&lt;&lt;set $slaves[$slaves.amount] = $activeCharacter&gt;&gt;
		&lt;&lt;set $activeCharacter.assignment = &quot;rest&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.location = &quot;estate&quot;&gt;&gt;
		
		&lt;&lt;set $updates.brothel += &quot;You have removed $activeCharacter.name from $brothel.name. &lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Main&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="29" name="Move Slave" tags="nobr" position="375,125" size="100,100">&lt;&lt;run relocateSlave($activeCharacter, $estate, &quot;Removed&quot;)&gt;&gt;

&lt;&lt;for _m = 1; _m &lt;= $slaves.amount;_m++&gt;&gt;
	&lt;&lt;if $activeCharacter.ID == $slaves[_m].ID&gt;&gt;
		&lt;&lt;set $slaves[_m] = null&gt;&gt;
	&lt;&lt;break&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;set _characters = $slaves&gt;&gt;
&lt;&lt;set $slaves = {amount: 0}&gt;&gt;

&lt;&lt;for _m = 1; _m &lt;= _characters.amount;_m++&gt;&gt;
	&lt;&lt;if _characters[_m] != null&gt;&gt;
		&lt;&lt;set _character = _characters[_m]&gt;&gt;
		&lt;&lt;set $slaves.amount++&gt;&gt;
		&lt;&lt;set $slaves[$slaves.amount] = _character&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;</tw-passagedata><tw-passagedata pid="30" name="Save Slave" tags="nobr" position="365,258" size="100,100">&lt;&lt;if $activeCharacter&gt;&gt;
	&lt;&lt;for _v = 1; _v &lt;= $slaves.amount;_v++&gt;&gt;
		&lt;&lt;if $activeCharacter.ID == $slaves[_v].ID&gt;&gt;
			&lt;&lt;set $slaves[_v] = $activeCharacter&gt;&gt;
			&lt;&lt;break&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="31" name="Slave Income &amp; Expenses" tags="nobr" position="1362,566" size="100,100">&lt;&lt;set _fatigue = getFatigue(_character)&gt;&gt;
&lt;&lt;set _health = $UChealth[_character.health]&gt;&gt;
&lt;&lt;set _fatiguereq = requiredFatigue($activeCharacter, _character.assignment)&gt;&gt;
&lt;&lt;set _healthreq = requiredHealth(_character.assignment, $estate)&gt;&gt;
&lt;&lt;set $slaveExpense += updateExpense(_character)&gt;&gt;
&lt;&lt;set $activeCharacter.summary = &quot;&quot;&gt;&gt;
&lt;&lt;set $extraSum = &quot;&quot;&gt;&gt;

&lt;&lt;if _character.ID != &quot;PLAYER&quot;&gt;&gt;
	&lt;&lt;set _char = &quot;$slaves[&quot; + _i + &quot;]&quot;&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _char = &quot;$PC&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.location == &quot;brothel&quot;&gt;&gt;
	&lt;&lt;if _character.assignment == &quot;brothel&quot;&gt;&gt;
		&lt;&lt;set _customers = 0&gt;&gt;
		&lt;&lt;set _character.rating = getRating(_character)&gt;&gt;
		
		&lt;&lt;if _character.position == &quot;Guard&quot; &amp;&amp; _character.skills[&quot;guard&quot;]&gt;&gt;
			&lt;&lt;set $estate.brothel.report.guardscore += getGuardScore(_character)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if _character.position == &quot;Procurer&quot; &amp;&amp; _character.skills[&quot;manager&quot;]&gt;&gt;
			&lt;&lt;set $estate.brothel.report.procurerscore += getProcurerScore(_character)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Guard&quot;)&gt;&gt;
			&lt;&lt;set _character.popularity.brothel = getPopularity(_character, $estate)&gt;&gt;
			&lt;&lt;set _earnings = getBrothelPrice(_character, $estate)&gt;&gt;
			
			&lt;&lt;if $pricetitles.includes(_character.title)&gt;&gt;
				&lt;&lt;set _earnings = Math.round(_earnings*1.20)&gt;&gt;
			&lt;&lt;/if&gt;&gt;
		
			&lt;&lt;set _earnings *= 2&gt;&gt;
			&lt;&lt;set _customers = getBrothelCustomers(_character, $estate)&gt;&gt;
		
			&lt;&lt;if $popularitytitles.includes(_character.title)&gt;&gt;
				&lt;&lt;set _customers = Math.round(_customers*1.20)&gt;&gt;
			&lt;&lt;/if&gt;&gt;
		
			&lt;&lt;set $brothelslaves.amount += 1&gt;&gt;
			&lt;&lt;set $brothelslaves.popularity += _character.popularity.brothel&gt;&gt;
			&lt;&lt;set _totalearned = _customers * _earnings&gt;&gt;
			&lt;&lt;set $brothelearnings += _totalearned&gt;&gt;
			&lt;&lt;set $totalcustomers += _customers&gt;&gt;
			&lt;&lt;set _totalearned = commify(_totalearned)&gt;&gt;
			
			&lt;&lt;if $activeCharacter.ID != &quot;PLAYER&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary = &quot;&lt;b&gt;&quot; + _character.name + &quot; was whoring this week.&lt;/b&gt;&quot;&gt;&gt;
			
			&lt;&lt;else&gt;&gt;
				&lt;&lt;set $activeCharacter.summary = &quot;&lt;b&gt;You whored yourself out at the brothel for the week.&lt;/b&gt;&quot;&gt;&gt;
			
			&lt;&lt;/if&gt;&gt;
		
			&lt;&lt;if $popularitytitles.includes(_character.title)&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has granted &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; a 20% popularity boost.@@&lt;/b&gt;&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;
		
			&lt;&lt;if $pricetitles.includes(_character.title)&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has granted &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; a 20% boost to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; brothel price.@@&lt;/b&gt;&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;
			
			&lt;&lt;if $activeCharacter.ID != &quot;PLAYER&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; served &lt;b&gt;&quot; + _customers + &quot;&lt;/b&gt; customers this week for an average of @@color:lightgreen;💎&quot; + _earnings + &quot;@@ per customer, earning a total of @@color:lightgreen;💎&quot; + _totalearned + &quot;@@.&quot;&gt;&gt;
			
			&lt;&lt;else&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;You served &lt;b&gt;&quot; + _customers + &quot;&lt;/b&gt; customers this week for an average of @@color:lightgreen;💎&quot; + _earnings + &quot;@@ per customer, earning a total of @@color:lightgreen;💎&quot; + _totalearned + &quot;@@.&quot;&gt;&gt;
			
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if _customers &gt;= 1&gt;&gt;
			&lt;&lt;include &quot;Job Scenes&quot;&gt;&gt;
			
		&lt;&lt;elseif !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Guard&quot;)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _character.name + &quot; had no customers this week, try changing the brothel fetish or train &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; to better cater toward the brothel&#39;s current fetish.&quot;&gt;&gt;
		
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if $extraSum&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += $extraSum&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;switch $activeCharacter.position&gt;&gt;
			&lt;&lt;case &quot;Host&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;host&#39;&gt;&gt;&quot;&gt;&gt;
				&lt;&lt;run increaseSkillLvl(&quot;host&quot;, $activeCharacter, 15, $estate.brothel.levels.hosting)&gt;&gt;
				
			&lt;&lt;case &quot;Attendant&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;attendant&#39;&gt;&gt;&quot;&gt;&gt;
				&lt;&lt;run increaseSkillLvl(&quot;attendant&quot;, $activeCharacter, 15, $estate.brothel.levels.attending)&gt;&gt;
				
			&lt;&lt;case &quot;Procurer&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;manager&#39;&gt;&gt;&quot;&gt;&gt;
				&lt;&lt;run increaseSkillLvl(&quot;manager&quot;, $activeCharacter, 15, $estate.brothel.levels.managing)&gt;&gt;
				
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;	
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;teacher&#39;&gt;&gt;&quot;&gt;&gt;
				&lt;&lt;run increaseSkillLvl(&quot;teacher&quot;, $activeCharacter, 15, $estate.brothel.levels.teaching)&gt;&gt;
				
			&lt;&lt;case &quot;Guard&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;guard&#39;&gt;&gt;&quot;&gt;&gt;
				&lt;&lt;run increaseSkillLvl(&quot;guard&quot;, $activeCharacter, 15, $estate.brothel.levels.guarding)&gt;&gt;
				
			&lt;&lt;case &quot;Prostitute&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;solicitor&#39;&gt;&gt;&quot;&gt;&gt;
				&lt;&lt;run increaseSkillLvl(&quot;solicitor&quot;, $activeCharacter, 15, $estate.brothel.levels.soliciting)&gt;&gt;
				
		&lt;&lt;/switch&gt;&gt;
		
		&lt;&lt;if !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; $activeCharacter.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; $activeCharacter.position == &quot;Guard&quot;)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;solicitor&#39;&gt;&gt;&quot;&gt;&gt;
			&lt;&lt;run increaseSkillLvl(&quot;solicitor&quot;, $activeCharacter, 5, $estate.brothel.levels.soliciting)&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if !($estate.brothel.exceptions.pConsorting == &quot;Yes&quot; &amp;&amp; $activeCharacter.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gConsorting == &quot;Yes&quot; &amp;&amp; $activeCharacter.position == &quot;Guard&quot;)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;consorter&#39;&gt;&gt;&quot;&gt;&gt;
			&lt;&lt;run increaseSkillLvl(&quot;consorter&quot;, $activeCharacter, 5, $estate.brothel.levels.consorting)&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;elseif _character.assignment == &quot;rest&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.ID != &quot;PLAYER&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary = &quot;&lt;b&gt;&quot; + _character.name + &quot; was resting this week.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;You allow &quot; + _character.name + &quot; to take time off from working in the brothel to rest this week so &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; can get recover &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; health and fatigue. &lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is now &quot; + _health + &quot; and &quot; + _fatigue + &quot;.&quot;&gt;&gt;
		
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set $activeCharacter.summary = &quot;&lt;b&gt;You took a break from whoring yourself out this week.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;You took time off from working in the brothel to rest this week so you could recover your health and fatigue. You are now &quot; + _health + &quot; and &quot; + _fatigue + &quot;.&quot;&gt;&gt;
		
		&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _character.location == &quot;chattel&quot; &amp;&amp; _character.chattel.pen&gt;&gt;
	&lt;&lt;set $activeCharacter.summary = &quot;&lt;b&gt;&quot; + _character.name + &quot; was resting inside of a pen this week.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

	&lt;&lt;penresults&gt;&gt;

&lt;&lt;elseif _character.assignment == &quot;rest&quot;&gt;&gt;
	&lt;&lt;set $activeCharacter.summary = &quot;&lt;b&gt;&quot; + _character.name + &quot; was resting this week.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

	&lt;&lt;set $activeCharacter.summary += &quot;You allow &quot; + _character.name + &quot; to rest this week so &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; can get recover &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; health and fatigue. &lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is now &quot; + _health + &quot; and &quot; + _fatigue + &quot;.&quot;&gt;&gt;

&lt;&lt;elseif _character.assignment == &quot;husbandry&quot;&gt;&gt;
	&lt;&lt;set _character.popularity.ranch = getPopularity(_character, $estate)&gt;&gt;
	&lt;&lt;set _earnings = Math.round(10 + (random(1,5) + ($estate.ranch.popularity / 5)))&gt;&gt;
	&lt;&lt;set _litres = getRanchLitres(_character, $estate)&gt;&gt;
	&lt;&lt;set _litres *= 4&gt;&gt;
	
	&lt;&lt;set $activeCharacter.summary = &quot;&lt;b&gt;&quot; + _character.name + &quot; was being milked for &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; slave produce this week.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;
	
	&lt;&lt;if $domesticatedtitles.includes(_character.title)&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has granted &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; a 20% produce yield boost boost.@@&lt;/b&gt;&quot;&gt;&gt;
		&lt;&lt;set _litres *= 1.2&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $pricetitles.includes(_character.title)&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has granted &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; a 20% boost to &lt;&lt;print $hisher[_character.gender]&gt;&gt; produce price.@@&lt;/b&gt;&quot;&gt;&gt;
		&lt;&lt;set _earnings *= 1.2&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;set $ranchslaves.amount ++&gt;&gt;
	&lt;&lt;set $ranchslaves.popularity += _character.popularity.ranch&gt;&gt;
	&lt;&lt;set _totalearned = _earnings * _litres&gt;&gt;
	&lt;&lt;set $ranchearnings += _totalearned&gt;&gt;
	&lt;&lt;set $totallitres += _litres&gt;&gt;
	&lt;&lt;set _totalearned = commify(_totalearned)&gt;&gt;

	&lt;&lt;if _litres &gt;= 1&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;b&gt;&quot; + _litres + &quot;&lt;/b&gt; litres of slave produce was milked from &quot; + _character.name + &quot; this week for an average of @@color:lightgreen;💎&quot; + _earnings + &quot;@@ per litre, earning a total of @@color:lightgreen;💎&quot; + _totalearned + &quot;@@.&quot;&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;No slave produce was milked from &quot; + _character.name + &quot; this week.&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _character.assignment == &quot;odd jobs&quot;&gt;&gt;
	&lt;&lt;set _income = 2 * random(100,400)&gt;&gt;
	&lt;&lt;set $activeCharacter.summary = _character.name + &quot; has earned @@color:lightgreen;💎&quot; + _income + &quot;@@ working odd jobs this week.&quot;&gt;&gt;
	&lt;&lt;set $slaveIncome += _income&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$activeCharacter.training&gt;&gt;
	&lt;&lt;set $activeCharacter.training = {trainer:null, discipline:null, reward:{}, punishment:{}}&gt;&gt;
	&lt;&lt;set $activeCharacter.training.reward = {small:null, normal:null, large:null}&gt;&gt;
	&lt;&lt;set $activeCharacter.training.punishment = {small:null, normal:null, large:null}&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.training.trainer&gt;&gt;
	&lt;&lt;set $activeCharacter.summary += createSummary($activeCharacter, &quot;Training&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="32" name="End Week Expenses" tags="nobr noreturn notruereturn" position="1489,306" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;

&lt;&lt;if $soldSlaves.length&gt;&gt;
	&lt;&lt;for _i = 1;_i &lt;= $slaves.amount;_i++&gt;&gt;
		&lt;&lt;set _character = $slaves[_i]&gt;&gt;

		&lt;&lt;if $soldSlaves.contains(_character.ID)&gt;&gt;
			&lt;&lt;set $activeCharacter = _character&gt;&gt;
			&lt;&lt;include &quot;Move Slave&quot;&gt;&gt;
			&lt;&lt;set _i--&gt;&gt;
		&lt;&lt;/if&gt;&gt;

	&lt;&lt;/for&gt;&gt;

	&lt;&lt;set $soldSlaves = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set $expenseslide = &quot;End Week Expenses&quot;&gt;&gt;

&lt;&lt;include &quot;Expense Breakdown&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="33" name="Description Header" tags="nobr" position="490,133" size="100,100">&lt;&lt;if $slaves.amount == 1&gt;&gt;
	&lt;center&gt;&lt;= Back | ---- [[$activeCharacter.name|Slave Description]] ---- | Next =&gt;&lt;/center&gt;
&lt;&lt;elseif $slavenumber == 1&gt;&gt;
	&lt;center&gt;&lt;= Back | ---- [[$activeCharacter.name|Slave Description]] ---- | [[Next =&gt;|Slave Description][$activeCharacter = $slaves[$slavenumber + 1]]]&lt;/center&gt;
&lt;&lt;elseif $slavenumber == $slaves.amount&gt;&gt;
	&lt;center&gt;[[&lt;= Back|Slave Description][$activeCharacter = $slaves[$slavenumber - 1]]] | ---- [[$activeCharacter.name|Slave Description]] ---- | Next =&gt;&lt;/center&gt;
&lt;&lt;else&gt;&gt;
	&lt;center&gt;[[&lt;= Back|Slave Description][$activeCharacter = $slaves[$slavenumber - 1]]] | ---- [[$activeCharacter.name|Slave Description]] ---- | [[Next =&gt;|Slave Description][$activeCharacter = $slaves[$slavenumber + 1]]]&lt;/center&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="34" name="Expense Breakdown" tags="nobr noreturn" position="1361,696" size="100,100">&lt;&lt;set _remainder = 0&gt;&gt;
&lt;&lt;set _remaindernum = 0&gt;&gt;
&lt;&lt;set _remaindercolor = &quot;&quot;&gt;&gt;
&lt;&lt;set _remaindername = &quot;&quot;&gt;&gt;

&lt;&lt;set _brothelincome = &quot;@@color:lightgreen;💎$brothelearnings@@&quot;&gt;&gt;
&lt;&lt;set _ranchincome = &quot;@@color:lightgreen;💎$ranchearnings@@&quot;&gt;&gt;

&lt;&lt;set $maintenance.estate = 500&gt;&gt;

&lt;&lt;if $estate.brothel.active&gt;&gt;
	&lt;&lt;switch $estate.brothel.style&gt;&gt;
		&lt;&lt;case null&gt;&gt;
			&lt;&lt;set $maintenance.brothel = 250&gt;&gt;
			
		&lt;&lt;case &quot;Open&quot;&gt;&gt;
			&lt;&lt;set $maintenance.brothel = 500&gt;&gt;
		
		&lt;&lt;case &quot;Theater&quot;&gt;&gt;
			&lt;&lt;set $maintenance.brothel = 1000&gt;&gt;
		
		&lt;&lt;case &quot;Closed&quot;&gt;&gt;
			&lt;&lt;set $maintenance.brothel = 1500&gt;&gt;
		
	&lt;&lt;/switch&gt;&gt;
	
	&lt;&lt;if $estate.brothel.report.brothelscore &gt;= 100&gt;&gt;
		&lt;&lt;run updateBrothelPopularity(15)&gt;&gt;
		
	&lt;&lt;elseif $estate.brothel.report.brothelscore &gt;= 75&gt;&gt;
		&lt;&lt;run updateBrothelPopularity(5)&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.report.brothelscore &gt;= 50&gt;&gt;
		&lt;&lt;run updateBrothelPopularity(0)&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.report.brothelscore &gt;= 25&gt;&gt;
		&lt;&lt;run updateBrothelPopularity(-5)&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.report.brothelscore &gt;= 0&gt;&gt;
		&lt;&lt;run updateBrothelPopularity(-15)&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $estate.brothel.report.guardscore &gt;= 100&gt;&gt;
		&lt;&lt;set $brothelexpense = 0&gt;&gt;
		
	&lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 75&gt;&gt;
		&lt;&lt;set $brothelexpense *= 0.5&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 50&gt;&gt;
		&lt;&lt;set $brothelexpense *= 1&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 25&gt;&gt;
		&lt;&lt;set $brothelexpense *= 1.5&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 0&gt;&gt;
		&lt;&lt;set $brothelexpense *= 2&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $brothelexpense = ($totalcustomers * 20)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.ranch.active&gt;&gt;
	&lt;&lt;set $maintenance.ranch = 500&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.chattel.active&gt;&gt;
	&lt;&lt;if $PC.focus == &quot;Chattel&quot;&gt;&gt;
		&lt;&lt;set $maintenance.chattel = 250 + ($estate.chattel.pens.amount * 125)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $maintenance.chattel = 500 + ($estate.chattel.pens.amount * 250)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _variables = [$maintenance.personal, $maintenance.estate, $maintenance.brothel, $maintenance.ranch, $maintenance.chattel, $slaveIncome, $brothelearnings, $ranchearnings, $requestIncome, $resources, $maintenance.total, $slaveExpense, $brothelexpense]&gt;&gt;

&lt;&lt;for _v = 0; _v &lt; _variables.length;_v++&gt;&gt;
	&lt;&lt;if isNaN(_variables[_v])&gt;&gt;
		&lt;&lt;set _variables[_v] = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;set $maintenance.total = $maintenance.personal + $maintenance.estate + $maintenance.brothel + $maintenance.ranch + $maintenance.chattel&gt;&gt;

&lt;&lt;set $revenue.estate = $slaveIncome + $requestIncome&gt;&gt;
&lt;&lt;set $revenue.brothel = $brothelearnings&gt;&gt;
&lt;&lt;set $revenue.ranch = $ranchearnings&gt;&gt;
&lt;&lt;set $revenue.chattel = 0&gt;&gt;
&lt;&lt;set $revenue.total = $slaveIncome + $brothelearnings + $ranchearnings + $requestIncome&gt;&gt;

&lt;&lt;set $expenses.estate = $maintenance.personal + $maintenance.estate + $slaveExpense + $resources&gt;&gt;
&lt;&lt;set $expenses.brothel = $maintenance.brothel + $brothelexpense&gt;&gt;
&lt;&lt;set $expenses.ranch = $maintenance.ranch&gt;&gt;
&lt;&lt;set $expenses.chattel = $maintenance.chattel&gt;&gt;
&lt;&lt;set $expenses.total = $resources + $maintenance.total + $slaveExpense + $brothelexpense&gt;&gt;

&lt;&lt;set $remainder.total = $revenue.total - $expenses.total&gt;&gt;

&lt;&lt;if $remainder.total &gt;= 0&gt;&gt;
	&lt;&lt;set $remainder.name = &quot;Net Income&quot;&gt;&gt;
	&lt;&lt;set $remainder.color = &quot;lightgreen&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $remainder.name = &quot;Net Loss&quot;&gt;&gt;
	&lt;&lt;set $remainder.color = &quot;red&quot;&gt;&gt;
	&lt;&lt;set $remainder.total = $remainder.total * -1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Expenses&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="35" name="Explore Sex Talent" tags="noreturn notruereturn nobr" position="488,508" size="100,100">&lt;&lt;if $ownpage&gt;&gt;
	&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
	&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
	&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;set $energy = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= 80&gt;&gt;
	&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		$activeCharacter.name obediently displays &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual abilities for you. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; seems very confident in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills up until moment &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to perform. While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; remains confident when performing sexual acts &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is more comfortable with, $activeCharacter.name becomes nervous as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is in uncharted territory. Either way, $activeCharacter.name competently performs each act using whatever knowledge &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has at &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; disposal. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is well trained.
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		When you tell $activeCharacter.name that you&#39;ll be testing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual skills, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; demonstrates them obediently. No matter how  depraved the sex act is, talented or untalented &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is in said act, $activeCharacter.name performs calmly to the best of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability. Its usually very hard to tell what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is thinking but from the yielding look &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gives you, you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is very well trained.
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		$activeCharacter.name proudly struts over to you. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; obediently performs any sex act you ask of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while carrying &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with poise and good deportment. No matter how good &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is at a particular skill, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; makes sure that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; puts as much effort into the performance as possible. You can tell from how eager &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is to prove &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is trained well.
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		$activeCharacter.name is more than willing to show you &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual skills but you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is very nervous about it. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still performs to the best of her ability, letting you know that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; won&#39;t let &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; disposition prevent &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from doing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; best. This alone tells you how well &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is trained.
	&lt;&lt;/switch&gt;&gt;
	
	
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 40&gt;&gt;
	&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		$activeCharacter.name isn&#39;t pleased about performing sexual acts for you but understands that punishment awaits &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t do as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;s told. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glares at you throughout the whole process but is at least wise enough to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; attitude in check. Afterwards $activeCharacter.name makes sure to tell you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; did the performance of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own accord, and not because you asked &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do it.
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		$activeCharacter.name keeps an emotionless face on at all times during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual presentation. You can&#39;t tell if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; hates you or not but its clear that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is obedient enough to follow your orders. $activeCharacter.name does hesitate briefly before each sexual act, proving that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does have some hang-ups about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slavery. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt;&#39;ll need some more training before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can be called truely obedient.
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		Even though $activeCharacter.name obediently performs &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual presentation, you can tell from the haughty look &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gives you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still believes that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is above being a slave. While you don&#39;t want to ruin &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; confidence, $activeCharacter.name needs more obedience.current training so that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; place.
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		$activeCharacter.name is obviously anxious about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual presentation, to the point that you worry it&#39;ll affect &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; performance. At points &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems so scared of failing that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pauses from time to time. You&#39;re still able to get a good approximation of where &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual talents are but its clear that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; requires more training.
	&lt;&lt;/switch&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		The amount of hate $activeCharacter.name has for you shows in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes but you can tell &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is frightened by the way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shivers when in your presence. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; even jumps at the sound of your voice and tries to mask &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear by glaring at you heatedly. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; sexual presentation goes relatively smoothly as any showing of disobedience.current crumbles under the the threat of punishment.
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		You tell $activeCharacter.name that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is to perform a sexual presentation and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tells you its not going to happen. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; puts on a brave front and looks at you with disgust but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; façade crumbles as soon as you approach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Before you know it &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is performing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual presentation in earnest. Anytime &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows any signs of disobedience.current a stern look from you puts &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; place.
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		$activeCharacter.name refuses to perform &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual presentation, claiming that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; family will punish you for abusing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You don&#39;t even know &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; last name, let alone &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; family but even if you did it wouldn&#39;t matter. $activeCharacter.name is your property now and you&#39;ve already proven that you can discipline &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; without repercussion. A hard slap to the face reminds &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; new position and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; scrambles to perform &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual presentation.
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		$activeCharacter.name goes into a fit of crying as soon as you tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to perform a sexual presentation, begging you to let &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; go. You threaten &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with punishment and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stifles &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cries and prepares &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to perform. Even though it takes $activeCharacter.name a while to work through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; presentation properly, you get a general idea of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual skills.
	&lt;&lt;/switch&gt;&gt;
	
	&lt;&lt;set $PC.energy.current = Math.max($PC.energy.current-1,0)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _kissing = getSexSkill($activeCharacter.sexualskill.oral.kissing)&gt;&gt;
&lt;&lt;set _fellatio = getSexSkill($activeCharacter.sexualskill.oral.fellatio)&gt;&gt;
&lt;&lt;set _cunnilingus = getSexSkill($activeCharacter.sexualskill.oral.cunnilingus)&gt;&gt;
&lt;&lt;set _analingus = getSexSkill($activeCharacter.sexualskill.oral.analingus)&gt;&gt;

&lt;&lt;set _titjob = getSexSkill($activeCharacter.sexualskill.mammary.intercourse)&gt;&gt;
&lt;&lt;set _breastplay = getSexSkill($activeCharacter.sexualskill.mammary.breastplay)&gt;&gt;
&lt;&lt;set _breastfeeding = getSexSkill($activeCharacter.sexualskill.mammary.breastfeeding)&gt;&gt;

&lt;&lt;set _masturbation = getSexSkill($activeCharacter.sexualskill.manual.masturbation)&gt;&gt;
&lt;&lt;set _fingering = getSexSkill($activeCharacter.sexualskill.manual.fingering)&gt;&gt;
&lt;&lt;set _handjob = getSexSkill($activeCharacter.sexualskill.manual.handjob)&gt;&gt;
&lt;&lt;set _fisting = getSexSkill($activeCharacter.sexualskill.manual.fisting)&gt;&gt;

&lt;&lt;set _vaginal = getSexSkill($activeCharacter.sexualskill.intercourse.vaginal)&gt;&gt;
&lt;&lt;set _anal = getSexSkill($activeCharacter.sexualskill.intercourse.anal)&gt;&gt;
&lt;&lt;set _pitching = getSexSkill($activeCharacter.sexualskill.intercourse.pitching)&gt;&gt;
&lt;&lt;set _pegging = getSexSkill($activeCharacter.sexualskill.intercourse.pegging)&gt;&gt;

&lt;br&gt;&lt;br&gt;
&lt;u&gt;Sexual Oral Skills&lt;/u&gt;&lt;br&gt;
$activeCharacter.name&#39;s kissing skills are _kissing. &lt;br&gt;
$activeCharacter.name&#39;s fellatio skills are _fellatio. &lt;br&gt;
$activeCharacter.name&#39;s cunnilingus skills are _cunnilingus. &lt;br&gt;
$activeCharacter.name&#39;s analingus skills are _analingus.
&lt;br&gt;&lt;br&gt;

&lt;u&gt;Manual Intercourse&lt;/u&gt;&lt;br&gt;
$activeCharacter.name&#39;s maturbation skills are _masturbation. &lt;br&gt;
$activeCharacter.name&#39;s fingering skills are _fingering. &lt;br&gt;
$activeCharacter.name&#39;s handjob skills are _handjob. &lt;br&gt;
$activeCharacter.name&#39;s fisting skills are _fisting.
&lt;br&gt;&lt;br&gt;

&lt;u&gt;Sexual Mammary Skills&lt;/u&gt;&lt;br&gt;
$activeCharacter.name&#39;s breastplay skills are _breastplay. &lt;br&gt;
$activeCharacter.name&#39;s breastfeeding skills are _breastfeeding. &lt;br&gt;
$activeCharacter.name&#39;s mammary intercourse skills are _titjob.
&lt;br&gt;&lt;br&gt;

&lt;u&gt;Genital Intercourse&lt;/u&gt;&lt;br&gt;
$activeCharacter.name&#39;s vaginal skills are _vaginal.
&lt;&lt;if $activeCharacter.virgin&gt;&gt;
	@@color:green;$activeCharacter.name is a virgin@@.
&lt;&lt;/if&gt;&gt; &lt;br&gt;

$activeCharacter.name&#39;s anal skills are _anal.
&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
	@@color:green;$activeCharacter.name is an anal virgin@@.
&lt;&lt;/if&gt;&gt; &lt;br&gt;

&lt;&lt;if $activeCharacter.cock&gt;&gt;
	$activeCharacter.name&#39;s pitching skills are _pitching.
&lt;&lt;else&gt;&gt;
	$activeCharacter.name&#39;s pegging skills are _pegging.
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $activeCharacter.known.sexualskill = 1&gt;&gt;
&lt;&lt;set $activeCharacter.known.virginity = 1&gt;&gt;
&lt;&lt;set $activeCharacter.known.analvirginity = 1&gt;&gt;
&lt;&lt;set $activeCharacter.known.nature = 1&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="36" name="Train" tags="nobr noreturn" position="359,513" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set _character = $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;
&lt;&lt;set $activeCharacter = _character&gt;&gt;
&lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;
&lt;&lt;include &quot;images&quot;&gt;&gt;

&lt;&lt;if $subtrainingtype&gt;&gt;
	&lt;&lt;unset $subtrainingtype&gt;&gt;
	
	&lt;&lt;if $cheats.includes(&quot;energyWell&quot;)&gt;&gt;
		&lt;&lt;set $PC.energy.current = $PC.energy.max&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $PC.energy.current = Math.max($PC.energy.current-1,0)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $trainingtype == &quot;Induce&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.fatigue.mental = Math.min($estate.training.incense, $activeCharacter.fatigue.max-1)&gt;&gt;
		&lt;&lt;unset $Hypnotism&gt;&gt;
		&lt;&lt;unset $trainingtype&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.energy.current &gt;= 1&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Practical Training&lt;/h3&gt;
	Train $activeCharacter.name hands-on by using an assortment of punishments and rewards. Practical training can be used to train specific skills, or may be used to force a sexual identity.
	&lt;br&gt;&lt;br&gt;

&lt;table&gt;
	&lt;tr&gt;
		&lt;td&gt;&lt;center&gt;[img[Sex Training|$iconSex][Training Battle][$trainingtype = &quot;Sexual&quot;]]&lt;/center&gt;&lt;/td&gt;
&lt;td&gt;&amp;emsp;&amp;emsp;&lt;/td&gt;
&lt;td&gt;&lt;center&gt;[img[D/s Training|$iconWhip][Training Battle][$trainingtype = &quot;D/s&quot;]]&lt;/center&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;&lt;center&gt;Train $activeCharacter.name&#39;s &lt;br&gt; sex skills.&lt;/center&gt;&lt;/td&gt;
		&lt;td&gt;&amp;emsp;&amp;emsp;&lt;/td&gt;
		&lt;td&gt;&lt;center&gt;Teach $activeCharacter.name &lt;br&gt; Dom/sub roles.&lt;/center&gt;&lt;/td&gt;
	&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;emsp;&amp;emsp;&lt;/td&gt;
&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;&lt;center&gt;[img[Strumpet Training|$iconHarlot][Training Battle][$trainingtype = &quot;Strumpetry&quot;]]&lt;/center&gt;&lt;/td&gt;
&lt;td&gt;&amp;emsp;&amp;emsp;&lt;/td&gt;
		&lt;td&gt;&lt;center&gt;[img[Princess Training|$iconPrincess][Training Battle][$trainingtype = &quot;Femininity&quot;]]&lt;/center&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;&lt;center&gt;Train $activeCharacter.name as a &lt;br&gt;feral female&lt;/center&gt;&lt;/td&gt;
&lt;td&gt;&amp;emsp;&amp;emsp;&lt;/td&gt;
		&lt;td&gt;&lt;center&gt;Train $activeCharacter.name as a &lt;br&gt; genteel female.&lt;/center&gt;&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;&lt;center&gt;[img[Prince Training|$iconPrince][Training Battle][$trainingtype = &quot;Feminization&quot;]]&lt;/center&gt;&lt;/td&gt;
&lt;td&gt;&amp;emsp;&amp;emsp;&lt;/td&gt;
		&lt;td&gt;&lt;center&gt;[img[Stud Training|$iconStud][Training Battle][$trainingtype = &quot;Masculinity&quot;]]&lt;/center&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;&lt;center&gt;Train $activeCharacter.name as a &lt;br&gt;genteel male.&lt;/center&gt;&lt;/td&gt;
&lt;td&gt;&amp;emsp;&amp;emsp;&lt;/td&gt;
		&lt;td&gt;&lt;center&gt;Train $activeCharacter.name as a &lt;br&gt;feral male.&lt;/center&gt;&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;

	&lt;hr&gt;

	&lt;h3&gt;Hypnotic Training&lt;/h3&gt;
	Hypnotic training can be used to coerce information such as likes, dislikes, fears and important memories from slaves. Once they’ve been discovered, you can imprint new effects in their place. 

	&lt;br&gt;&lt;br&gt;
    [img[Induce|$iconHypnosis][Hypnotic Battle][$trainingtype = &quot;Induce&quot;, $Hypnotism = null]]
	&lt;br&gt;
	Induce a like or dislike onto $activeCharacter.name through mulitiple sessions of hypnotism.
	&lt;hr&gt;
	&lt;/center&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;include &quot;Main Menu&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="37" name="verbal" tags="nobr" position="3099,100" size="100,100">&lt;&lt;set _rewpun = &quot;&quot;&gt;&gt;
&lt;&lt;switch $disciplinesubtype&gt;&gt;
	&lt;&lt;case &quot;promise&quot;&gt;&gt;
		&lt;&lt;set _discipline = 10&gt;&gt;
		&lt;&lt;set _mood = 3&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
		&lt;&lt;set _rewpun = &quot;reward&quot;&gt;&gt;
	&lt;&lt;case &quot;encourage&quot;&gt;&gt;
		&lt;&lt;set _discipline = 20&gt;&gt;
		&lt;&lt;set _mood = 2&gt;&gt;
		&lt;&lt;set _submission = 2&gt;&gt;
		&lt;&lt;set _rewpun = &quot;reward&quot;&gt;&gt;
	&lt;&lt;case &quot;praise&quot;&gt;&gt;
		&lt;&lt;set _discipline = 30&gt;&gt;
		&lt;&lt;set _mood = 1&gt;&gt;
		&lt;&lt;set _submission = 3&gt;&gt;
		&lt;&lt;set _rewpun = &quot;reward&quot;&gt;&gt;
		
	&lt;&lt;case &quot;threaten&quot;&gt;&gt;
		&lt;&lt;set _discipline = 10&gt;&gt;
		&lt;&lt;set _mood = 1&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
		&lt;&lt;set _rewpun = &quot;punishment&quot;&gt;&gt;
	&lt;&lt;case &quot;admonish&quot;&gt;&gt;
		&lt;&lt;set _discipline = 20&gt;&gt;
		&lt;&lt;set _mood = 2&gt;&gt;
		&lt;&lt;set _submission = 2&gt;&gt;
		&lt;&lt;set _rewpun = &quot;punishment&quot;&gt;&gt;
	&lt;&lt;case &quot;scold&quot;&gt;&gt;
		&lt;&lt;set _discipline = 30&gt;&gt;
		&lt;&lt;set _mood = 3&gt;&gt;
		&lt;&lt;set _submission = 3&gt;&gt;
		&lt;&lt;set _rewpun = &quot;punishment&quot;&gt;&gt;
	
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Due to $activeCharacter.name being well disciplined, the effect this $subtrainingtype _rewpun has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submision has been increased.@@&lt;/b&gt;
	
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
	&lt;b&gt;@@color:yellow;$activeCharacter.name is disciplined well enough that the effect this $subtrainingtype _rewpun has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submision is normal.@@&lt;/b&gt;
			
&lt;&lt;else&gt;&gt;
	&lt;b&gt;@@color:red;Due to $activeCharacter.name being poorly disciplined, the effect this $subtrainingtype _rewpun has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submision has been decreased.@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission = _submission + random(0,1)&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission = _submission + random(0,1)&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission = _submission + random(0,1)&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
&lt;&lt;/switch&gt;&gt;

&lt;&lt;include $disciplinesubtype&gt;&gt;
&lt;&lt;set _mood = 6 + (_mood * 1)&gt;&gt;

&lt;&lt;if _rewpun == &quot;reward&quot;&gt;&gt;
	&lt;&lt;run increaseMood($activeCharacter, &quot;Serenity&quot;, _mood)&gt;&gt;
	
&lt;&lt;elseif _rewpun == &quot;punishment&quot;&gt;&gt;
	&lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, _mood)&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateSubmission($activeCharacter, _submission*_effectiveness, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter)&gt;&gt;</tw-passagedata><tw-passagedata pid="38" name="corporal" tags="nobr" position="3229,100" size="100,100">&lt;&lt;switch $disciplinesubtype&gt;&gt;
	&lt;&lt;case &quot;slap&quot;&gt;&gt;
		&lt;&lt;set _discipline = 10&gt;&gt;
		&lt;&lt;set _mood = 1&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
	&lt;&lt;case &quot;spanking&quot;&gt;&gt;
		&lt;&lt;set _discipline = 20&gt;&gt;
		&lt;&lt;set _mood = 2&gt;&gt;
		&lt;&lt;set _submission = 2&gt;&gt;
	&lt;&lt;case &quot;beating&quot;&gt;&gt;
		&lt;&lt;set _discipline = 30&gt;&gt;
		&lt;&lt;set _mood = 3&gt;&gt;
		&lt;&lt;set _submission = 3&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Due to $activeCharacter.name being well disciplined, the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been increased.@@&lt;/b&gt;
	
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
	&lt;b&gt;@@color:yellow;$activeCharacter.name is disciplined well enough that the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission is normal.@@&lt;/b&gt;
			
&lt;&lt;else&gt;&gt;
	&lt;b&gt;@@color:red;Due to $activeCharacter.name being poorly disciplined, the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been decreased.@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;include &quot;Masochist Check&quot;&gt;&gt;

&lt;&lt;include $disciplinesubtype&gt;&gt;
&lt;&lt;set _mood = 6 + (_mood * 2)&gt;&gt;
&lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, _mood)&gt;&gt;
&lt;&lt;run updateSubmission($activeCharacter, _submission*_effectiveness, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;</tw-passagedata><tw-passagedata pid="39" name="flagellation" tags="nobr" position="3359,100" size="100,100">&lt;&lt;switch $disciplinesubtype&gt;&gt;
	&lt;&lt;case &quot;paddling&quot;&gt;&gt;
		&lt;&lt;set _discipline = 10&gt;&gt;
		&lt;&lt;set _mood = 1&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
	&lt;&lt;case &quot;caning&quot;&gt;&gt;
		&lt;&lt;set _discipline = 20&gt;&gt;
		&lt;&lt;set _mood = 2&gt;&gt;
		&lt;&lt;set _submission = 2&gt;&gt;
	&lt;&lt;case &quot;whipping&quot;&gt;&gt;
		&lt;&lt;set _discipline = 30&gt;&gt;
		&lt;&lt;set _mood = 3&gt;&gt;
		&lt;&lt;set _submission = 3&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Due to $activeCharacter.name being well disciplined, the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been increased.@@&lt;/b&gt;
	
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
	&lt;b&gt;@@color:yellow;$activeCharacter.name is disciplined well enough that the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission is normal.@@&lt;/b&gt;
			
&lt;&lt;else&gt;&gt;
	&lt;b&gt;@@color:red;Due to $activeCharacter.name being poorly disciplined, the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been decreased.@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;include &quot;Masochist Check&quot;&gt;&gt;

&lt;&lt;include $disciplinesubtype&gt;&gt;
&lt;&lt;set _mood = 6 + (_mood * 3)&gt;&gt;
&lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, _mood)&gt;&gt;
&lt;&lt;run updateSubmission($activeCharacter, _submission*_effectiveness, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;</tw-passagedata><tw-passagedata pid="40" name="degradation" tags="nobr" position="3489,100" size="100,100">&lt;&lt;switch $disciplinesubtype&gt;&gt;
	&lt;&lt;case &quot;naked walk&quot;&gt;&gt;
		&lt;&lt;set _discipline = 10&gt;&gt;
		&lt;&lt;set _mood = 1&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
	&lt;&lt;case &quot;public mouth&quot;&gt;&gt;
		&lt;&lt;set _discipline = 20&gt;&gt;
		&lt;&lt;set _mood = 2&gt;&gt;
		&lt;&lt;set _submission = 2&gt;&gt;
	&lt;&lt;case &quot;public toilet&quot;&gt;&gt;
		&lt;&lt;set _discipline = 30&gt;&gt;
		&lt;&lt;set _mood = 3&gt;&gt;
		&lt;&lt;set _submission = 3&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Due to $activeCharacter.name being well disciplined, the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been increased.@@&lt;/b&gt;
	
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
	&lt;b&gt;@@color:yellow;$activeCharacter.name is disciplined well enough that the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission is normal.@@&lt;/b&gt;
			
&lt;&lt;else&gt;&gt;
	&lt;b&gt;@@color:red;Due to $activeCharacter.name being poorly disciplined, the effect this $subtrainingtype punishment has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been decreased.@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;include &quot;Masochist Check&quot;&gt;&gt;

&lt;&lt;include $disciplinesubtype&gt;&gt;
&lt;&lt;set _mood = 6 + (_mood * 3)&gt;&gt;
&lt;&lt;if $activeCharacter.nature == &quot;kuudere&quot; || $activeCharacter.nature == &quot;tsundere&quot;&gt;&gt;
	&lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, _mood)&gt;&gt;
&lt;&lt;elseif $activeCharacter.nature == &quot;tsundere&quot;&gt;&gt;
	&lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, _mood)&gt;&gt;
&lt;&lt;elseif $activeCharacter.nature == &quot;dandere&quot;&gt;&gt;
	&lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, _mood)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;run updateSubmission($activeCharacter, _submission*_effectiveness, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;</tw-passagedata><tw-passagedata pid="41" name="encourage" tags="nobr" position="3099,230" size="100,100">You try to verbally encourage $activeCharacter.name as to nurture &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; current progress. You explain that while things may be rough for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; now, they&#39;ll get better as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; keeps putting in the same effort.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name straight up laughs at your encouragement. Not only does &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; not believe you, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no intentions of behaving and being an &#39;obedient slave&#39; in the future.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name accepts your encouragement but is still cautiously optimistic about the future. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still has doubts about your sincerity and is scared that you&#39;re only trying to make &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; let down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; guard so you can sadistically punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; later.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name is glad to hear the encouragement and is optimistic about the future. Your words have helped to assuage &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fears about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; treatment, if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does as told. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still have some reservations following your orders but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will try to follow them as closely as possible from now on.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	Your words of encouragement resonate strongly with $activeCharacter.name. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; believes that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can follow almost any order you give them and that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will be rewarded properly for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; efforts.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="42" name="praise" tags="nobr" position="3099,360" size="100,100">You verbally praise $activeCharacter.name for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behavior so far. You make sure to call &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by name, explain exactly what you are praising &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for and speak with a sincere tone.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name does not care for your praise. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; sticks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nose up and ignores you completely. When you&#39;re doing praising &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; explains that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; didn&#39;t do anything to get your praise and if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; did then it was not intended.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	Your praise falls of deaf ears. While $activeCharacter.name is happy to hear the praise, you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t really affected by it. You could attempt to seem more sincere but at this point anymore will just have negative effects.
	
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name is happy to get the praise. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; wholeheartedly believes that you mean what you say and is glad &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; efforts have not gone unnoticed. 
	
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	Any praise given to $activeCharacter.name is very effective. Not only does &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; completely believe in the sincerity of your words, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; also feels obligated to work even harder to make sure &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does not let you down in the future.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="43" name="promise" tags="nobr" position="3099,490" size="100,100">You promise $activeCharacter.name that you will give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a present (physical or sexual) as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; keeps up the progress they have been making so far.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name does not believe your promise for even a second. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; explains that not only does &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; not believe your promise, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does not want any gift you plan on giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. 
	
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name politely accepts the promise but doesn&#39;t really feel like getting a present is all that special. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; gives you no indication that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t believe that you&#39;ll fulfill your promise but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; probably believes that the present itself will be something small.
	
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name is anxious to see what gift you&#39;ll get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and is happy that you think &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; efforts gift worthy.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name feels special to have received a promise from you. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is so happy that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will like the gift no matter how big or small it is. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; vows to keep up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; progress whether &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gets a present or not.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="44" name="physical" tags="nobr" position="3619,100" size="100,100">&lt;&lt;switch $disciplinesubtype&gt;&gt;
	&lt;&lt;case &quot;coddle&quot;&gt;&gt;
		&lt;&lt;set _discipline = 10&gt;&gt;
		&lt;&lt;set _mood = 3&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
	&lt;&lt;case &quot;massage&quot;&gt;&gt;
		&lt;&lt;set _discipline = 20&gt;&gt;
		&lt;&lt;set _mood = 2&gt;&gt;
		&lt;&lt;set _submission = 2&gt;&gt;
	&lt;&lt;case &quot;spa treatment&quot;&gt;&gt;
		&lt;&lt;set _discipline = 30&gt;&gt;
		&lt;&lt;set _mood = 1&gt;&gt;
		&lt;&lt;set _submission = 3&gt;&gt;
		&lt;&lt;set $PC.money -= 100&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Due to $activeCharacter.name being well disciplined, the effect this $subtrainingtype reward has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been increased.@@&lt;/b&gt;
	
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
	&lt;b&gt;@@color:yellow;$activeCharacter.name is disciplined well enough that the effect this $subtrainingtype reward has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission is normal.@@&lt;/b&gt;
			
&lt;&lt;else&gt;&gt;
	&lt;b&gt;@@color:red;Due to $activeCharacter.name being poorly disciplined, the effect this $subtrainingtype reward has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been decreased.@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;include $disciplinesubtype&gt;&gt;
&lt;&lt;set _mood = 6 + (_mood * 2)&gt;&gt;
&lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, _mood)&gt;&gt;
&lt;&lt;run updateSubmission($activeCharacter, _submission*_effectiveness, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;</tw-passagedata><tw-passagedata pid="45" name="sexual" tags="nobr" position="3749,100" size="100,100">&lt;&lt;switch $disciplinesubtype&gt;&gt;
	&lt;&lt;case &quot;sensual kissing&quot;&gt;&gt;
		&lt;&lt;set _discipline = 10&gt;&gt;
		&lt;&lt;set _lust = 1&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
	&lt;&lt;case &quot;fingering&quot;&gt;&gt;
		&lt;&lt;set _discipline = 20&gt;&gt;
		&lt;&lt;set _lust = 2&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
	&lt;&lt;case &quot;hj&quot;&gt;&gt;
		&lt;&lt;set _discipline = 20&gt;&gt;
		&lt;&lt;set _lust = 2&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
	&lt;&lt;case &quot;cun&quot;&gt;&gt;
		&lt;&lt;set _discipline = 30&gt;&gt;
		&lt;&lt;set _lust = 3&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
	&lt;&lt;case &quot;blowjob&quot;&gt;&gt;
		&lt;&lt;set _discipline = 30&gt;&gt;
		&lt;&lt;set _lust = 3&gt;&gt;
		&lt;&lt;set _submission = 1&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Due to $activeCharacter.name being well disciplined, the effect this $subtrainingtype reward has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been increased.@@&lt;/b&gt;
	
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
	&lt;b&gt;@@color:yellow;$activeCharacter.name is disciplined well enough that the effect this $subtrainingtype reward has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission is normal.@@&lt;/b&gt;
			
&lt;&lt;else&gt;&gt;
	&lt;b&gt;@@color:red;Due to $activeCharacter.name being poorly disciplined, the effect this $subtrainingtype reward has on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust and submission has been decreased.@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;switch $activeCharacter.nature&gt;&gt;
	&lt;&lt;case &quot;tsundere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
			
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;dandere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
			
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 2&gt;&gt;
			
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;kuudere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
			
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;case &quot;himedere&quot;&gt;&gt;
		&lt;&lt;if $activeCharacter.obedience.current &gt;= _discipline*2&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			&lt;&lt;set _submission++&gt;&gt;
			
		&lt;&lt;elseif $activeCharacter.obedience.current &gt;= _discipline&gt;&gt;
			&lt;&lt;set _effectiveness = 1&gt;&gt;
			
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _effectiveness = 0.5&gt;&gt;
			&lt;&lt;set _submission--&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;include $disciplinesubtype&gt;&gt;
&lt;&lt;run updateLust($activeCharacter, _lust)&gt;&gt;
&lt;&lt;set _mood = _lust&gt;&gt;
&lt;&lt;set _mood = 6 + (_mood * 2)&gt;&gt;
&lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, _mood)&gt;&gt;
&lt;&lt;run updateSubmission($activeCharacter, _submission*_effectiveness, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;</tw-passagedata><tw-passagedata pid="46" name="admonish" tags="nobr" position="3099,620" size="100,100">You admonish $activeCharacter.name for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; recent behaviour. You explain to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; what is wrong with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; current behaviour and what kind of behaviour you expect from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You also explain that harsher punishment may be required if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does not listen to your warnings.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name has no intentions of listening to your warnings. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; says that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will do as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pleases and does not care whether you don&#39;t like it or not. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; also says that the best way to get over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour is for you to get over it.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name does not take your words to heart but does acknowledge &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; wrongdoings. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; explains that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will do better in the future to behave as you have instructed.
	
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name listens carefully to your words and apologizes for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; feels a little bad about being admonished and says that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will not err in the future.
	
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	Your admonishment is particularly effective on $activeCharacter.name. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; feels as if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has disappointed you and explains that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will make sure to correct any and all errors in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="47" name="scold" tags="nobr" position="3099,750" size="100,100">You harshly scold $activeCharacter.name for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; recent behaviour. You don&#39;t even explain to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; what is wrong, as you are sure &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows, and tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that they are to never act like that again.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name tells you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will act like that again, right after you tell them not to. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; says that while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is only doing what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants, if you keep bugging &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will act that purposely to annoy you.
	
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	The seriousness of your tone does not get through to $activeCharacter.name but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does show that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; understands that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour is wrong. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; says &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will try not to act like that in the future.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name understands why you&#39;re upset with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour and is remorseful about it. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; sits quietly while you scold &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and promises afterward that it won&#39;t happen again.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name begins to tear up from your words alone. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; says &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is ashamed that you needed to scold &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and swears that you won&#39;t need to reprimand &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; again for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; misbehaviour.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="48" name="threaten" tags="nobr" position="3099,880" size="100,100">You threaten $activeCharacter.name with harsher punishment, being sold and possibly death. You explain that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour has gotten so bad that you don&#39;t know what you&#39;ll have to do to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in order but it won&#39;t be pleasant.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name is surprised that you&#39;d threaten &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; so strongly but believes that you threats are empty or is just that fearless. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; jokingly says that if you&#39;re going to threaten &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with stronger punishment you may as well do it now as there is no way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is going to listen to your orders.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name acknowledges the threat with an apology and promise to correct &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour. Your threat doesn&#39;t seem to scare &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into behaving better but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does take it seriously.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name pales as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; hears your threat. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; swears up an down that you won&#39;t need to use stronger discipline techniques or that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is too disobedient to be trained at all.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	Your threats extraordinarily effective at frightening $activeCharacter.name. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is absolutely terrified of being sold, or worse -- killed. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; says that you will get no more disobedience from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can help it.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="49" name="slap" tags="nobr" position="3229,230" size="100,100">You pull $activeCharacter.name over to you and give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and hard slap across the face. You follow that up by explaining &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; erroneous behaviour that caused you to slap &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	The slap has left $activeCharacter.name stupefied. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t respond well to getting hit at all and just freezes up completely. Your words phase right through &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and it doesn&#39;t seem like anything you do for a while will have any lasting affect on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name understands why you hit &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but does not believe that it was an appropriate response for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bad behaviour. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still agrees to behave better in the future but the strike was largely ineffective.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name immediately covers the cheek you slapped with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hand while simultaneously guarding &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from another blow. After your explanation &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; promises to behave properly as long as you don&#39;t hit &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; again.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name starts screaming and cowering as soon as you slap &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; didn&#39;t actually expect you to hit &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and now that you have &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; starts pleading for your forgiveness.

&lt;&lt;/if&gt;&gt;

</tw-passagedata><tw-passagedata pid="50" name="spanking" tags="nobr" position="3229,360" size="100,100">You pull $activeCharacter.name over your lap and pull down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; underwear, exposing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass to you. You tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to count every slap you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and to thank you for it afterward. You tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that any hit &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does not thank you for will not count towards &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; total spanking count.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name struggles through the whole process. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t count any of the spankings you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; definitely doesn&#39;t thank you for them. You spend quite a bit of time just callously beating &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass until you get tired. If you can&#39;t get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to obey you, you can get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to fear you.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name misses a few counts and forgets to show gratitude for even more of the spankings. Its clear that while $activeCharacter.name understands what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; did wrong, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does not believe that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; deserves a spanking for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; transgressions. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; eventually gets through the allotted number of spankings and even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is barely more obedient, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will probably think twice about doing something wrong.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name takes every hit without complaint and makes sure to attempt to count and thank you for everyone one. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; starts sobbing halfway through the spanking and has trouble keeping count and giving thanks, earning &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a few extra. Whether &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; believes that the spanking was deserved, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; behaviour will be better in the future just to avoid another spanking.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name starts bawling &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes out before you&#39;re even a quarter way through the spanking. Its obvious that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t used to getting disciplined physically, but its much more effective because of that. Half way through &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; forgets to even count or thank you and the spanking lasts a lot longer than it needed to. By the end of it &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is swearing through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tears that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; won&#39;t do anything bad again.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="51" name="beating" tags="nobr" position="3229,490" size="100,100">You callously beat $activeCharacter.name for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; transgressions. Making sure to aim for high visibility areas you make sure to hit &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in the face, arms and legs. Not only do you want &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to feel pain, you also want &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be reminded of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; beating every time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sees one of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bruises.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name tries to fight back during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; disciplining, earning &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; an even more brutal beating. After you finish punishing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has nothing but hate for you but you can also see fear in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name has a hard time just staying still and bearing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment. While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t fight back, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thrashes about trying to escape it or at least prevent your hits from striking &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in important spots like &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face or genitals. This only serves to elongate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment, earning you more fear than obedience from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name gives as little resistance to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment as possible. Either &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; believes that what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; did warrants a beating or &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is frightened by the prospect of getting beaten more than necessary. Regardless, the beating will make &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; more obedient.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name doesn&#39;t take the beating well at all. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was compliant at first but as soon as you began hitting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; starts crying and struggling as hard as possible. This doesn&#39;t stop you from administering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment and even eggs you on to continue longer than usual. When you&#39;re finally done not only is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; groveling at your feet but you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a lot more scared of doing something wrong than &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was before.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="52" name="paddling" tags="nobr" position="3359,230" size="100,100">You call $activeCharacter.name into your training room as you need a tool for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment. For this punishment you plan to restrain &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with some rope and paddle &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass until its sore. 

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name doesn&#39;t make it easy for you. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you when you try to tie &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; up and tries anything and everything &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can think of to wiggle &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; way out of the punishment. It takes a while, but you finally get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; restrained and begin waling on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass with no regards for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feelings. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is completely emotionally checked out by the time you&#39;re done but at least the paddling has sparked some fear into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	You get $activeCharacter.name into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; binding without much trouble but as soon as the punishment starts &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to struggle &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; way out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; restraints. Thats fine, you don&#39;t expect &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to just stay still while you wale on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass with a paddle and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was obedient enough in the beginning. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; writhing does earn &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a few more strikes though. After the punishment is over you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t believe &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; deserves it but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; won&#39;t argue with you about it.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name dutifully takes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment without any complaints or struggle. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; understands exactly why &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is being punished and knows that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; deserves it. 

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name starts struggling before you even put on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; restraints. No matter how well disciplined &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does not take physical punishment well. That works in your favor, it deters &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from disobeying you and strikes some fear into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="53" name="caning" tags="nobr" position="3359,360" size="100,100">You plan to cane $activeCharacter.name for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment. You bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the training room to do this and get one of the canes you have laying around. You expect $activeCharacter.name to be a little more obedient and a lot more fearful of you after you&#39;re done with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	Its a struggle to even bring $activeCharacter.name into the training room. Luckily, you don&#39;t have to restrain &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a good caning. You drag your cane across &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body multiple times, ignoring all cries and attempts to escape. You&#39;re indiscriminate in where you strike, giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a healthy number of stripes all over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t happy about this and pretty much tells you as much &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with the way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; glances defiantly at you. At least &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems to fear you enough to open &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth and verbally tell you how much &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; hates you.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name obediently follows you into the training room and doesn&#39;t object when you explain what &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment is to be. You can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t agree with it but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t going to say that out loud. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; misgivings about the punishment only come to light when you strip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with the cane. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; cries, begs and curses you as cane &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; over and over again.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name doesn&#39;t object to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment when you explain what it is. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; understands that its your right to punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; whether &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; deserves it or not.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name can&#39;t hold &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; together no matter how obedient &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is. Flagellation is too much for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to handle, it seems like &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has a strong aversion to strong physical pain. 

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="54" name="whipping" tags="nobr" position="3359,490" size="100,100">You plan to bring $activeCharacter.name into the training room for a whipping. While harsh, you believe this punishment will put a strong fear in &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and make &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; much more obedient than &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; currently is.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	You give $activeCharacter.name the chance to obediently follow you into the training room and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; ignores you, making you to use a heavy-handed approach. You forcibly drag &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into the training room while making sure to lock the door behind you. You pull a whip off of its wall mount and start viciously tearing into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with it. Normally you would only whip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; across the back, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; needs some motivation for following your orders. When the punishment is over &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fears you more than before but hates you even more than that.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name doesn&#39;t cause a fuss when you tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to follow you into the training room. Once inside you begin setting up the punishment, leaning &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; up against the wall and tying &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands to post above &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head. You pull back, grab you whip and crack it once in the air. $activeCharacter.name&#39;s body tenses as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realizes what &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment is about to be. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t believe that they&#39;ve done anything to warrant a whipping but doesn&#39;t say so aloud. You whip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; strong enough to tear the skin on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; fears you a lot more and is a little more obedient.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	From the time that you tell $activeCharacter.name to go into the training room, to you having &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands restrained on a plank above &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t display one sign of resistance. You take your time whipping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes it, not necessarily because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; believes that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; deserves it but because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows that its your right to do so. Still, it causes &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to fear you a lot more while making &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a bit more obedient.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	By the time you have $activeCharacter.name tied up and ready for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; whipping &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is sobbing out cries for forgiveness. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is deathly scared of pain and even more of the whip, but that doesn&#39;t mean you&#39;re going to go easy on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You lay into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back with the whip causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to continuously scream out in pain. When you&#39;re done $activeCharacter.name is a blubbering mess and can&#39;t even stand. This whipping has made $activeCharacter.name a lot more scared of you and a bit more obedient.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="55" name="naked walk" tags="nobr" position="3491,230" size="100,100">You call $activeCharacter.name over and tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to strip because you&#39;re going to parade &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; naked around the city. You hope that this walk will help lower &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arrogance while supplementing the idea that you&#39;re &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; owner.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name is very obedient and quickly follows your orders. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a very good understanding of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; status as a slave so taking naked walks aren&#39;t a very effective way to discipline &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. They do however affect &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust; you can tell from the goosebumps on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; skin that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will always be tense during the walks no matter how confident &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems to be. 
	
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name struggles against your orders forcing you to restrain &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with some rope. You put on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; collar and lead &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; outside by a leash. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is beset by the feeling of humiliation as people begin to point, comment and laugh at &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to close &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; during the ordeal but you order &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to keep them open unless &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants you to bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; on another naked walk later in the day. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; obeys, but keeps &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes on the ground. The naked walk has lowered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust in you a bit, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is much more fearful and angry with you than obedient.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name obediently follows your orders by stripping naked and waiting at the door. At this point &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would rather be humiliated than beaten. You don&#39;t even have to lead &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; outside by a leash, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems perfectly content with following closely behind you as you walk around town. While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; might be able to run away from you at any moment, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is level-headed enough to know that running up and down the street isn&#39;t going to pan out well for a slave. The walk works well to enforce the idea that $activeCharacter.name is nothing but a slave who has no other option but to listen to you if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants any semblance of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; freedom back if you decide to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; some.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name not only refuses to take the walk, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; goes as far as to imply that someone like &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; should be the one walking you. Its clear that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; needs to be taken down a notch and the naked walk is the perfect punishment to do so. It takes some effort to physically restrain &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but it isn&#39;t long before you drag &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; out the door by a leash and collar. The walk doesn&#39;t go well for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; snaps at anyone who makes notice of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. With you leading &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by a leash with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arms restrained &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can only try to verbally abuse onlookers, which only attracts more people to watch. Once the walk is over $activeCharacter.name looks like &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is furious with you but from the lack of words coming out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth you get the idea that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is humbled a little by knowing that everyone thinks of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as nothing but a slave.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="56" name="public mouth" tags="nobr" position="3491,360" size="100,100">You send $activeCharacter.name to a be a public mouth. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will be sent to a public brothel where &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can have &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth joined to a gloryhole. Usually slaves are only put to work for a maximum of four hours.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name dislikes the idea of being a public mouth but completely understands that it is your right to punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as you see fit. You bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; over to a local public brothel and have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; set up in one of the gloryhole stations. For the next four hours &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has a steady number of cocks shoved into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth and even more loads of cum deposited into it. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is visibly shaken by the rough behaviour when you go to pick &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; up but you can tell that for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; this was another punishment.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name timidly accepts your punishment and follows your orders. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; certainly isn&#39;t happy about being sent to a gloryhole and isn&#39;t even sure that such a severe punishment should be used on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Its easy enough to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into the gloryhole but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fights against almost every intrusion thrusting into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth. It makes things a little bit more difficult on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and when &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; four hours of punishment are up you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is more resentful for being punished than &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is remorseful for whatever you&#39;re punishing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name resigns &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to the fate of being a public mouth and obediently follows you to the local public brothel. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no interest in being one but knows that there are much worse punishments you could give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; experience at the gloryhole isn&#39;t pleasant and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is in tears because of the humiliation and suffering &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; had to go through. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; begs you through tears to refrain from sending &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the gloryhole again and promises to be a better slave in the future.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name fights against you every step of the way. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams, kicks and bites at every opportunity given to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as you drag &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; down to the local public brothel. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; feels as if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is above others, above following your orders and has no intention of serving others sexually. Getting some help from the guards you strap &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to a gloryhole using a ring gag and some restraints that help to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth aligned with one of the gloryholes. The next four hours are horrible for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;; the name calling, rough treatment of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth being used as a semen receptacle and whole environment has left &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; completely stunned. When you retrieve &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from the hole &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is completely emotionless but as soon as you mention sending &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; back to the gloryhole &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; starts screaming and begging for forgiveness.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="57" name="public toilet" tags="nobr" position="3491,490" size="100,100">You send $activeCharacter.name to a local public brothel to become a public toilet for a few hours. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will be strapped into one of the many washroom stalls in the building and left for patrons to use. Although &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is to be used as a receptacle for human fluids, a public toilet&#39;s genitals are not to be used. There is usually a guard or two in the washrooms making sure everything is aboveboard.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This punishment was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This punishment was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This punishment was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This punishment was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name obediently follows you to the local public brothel without complaint. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; knows its not &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; place to disagree with the punishment you set for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. It doesn&#39;t matter if its a harsh punishment like being turned into a public toilet or something as small as a scolding, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; understands that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not going to get out of it. After finding an empty stall and getting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; strapped in, you leave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for a few hours. When you come back, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a complete mess. Piss, shit, cum and any other possible bodily fluid is all over &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. It doesn&#39;t seem to bother &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; much until you tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to go clean &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; up in one of the baths and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; rushes for the door. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is completely apathetic to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment.
	
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name actively tries to convince you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t need such harsh punishment but you ignore &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is completely quiet during the travel to the local public brothel and doesn&#39;t even struggle once you start strapping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into one of the stalls. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; face is completely emotionless, it seems like &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has checked out ever since &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realized that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t getting out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment. You check back in with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a few hours later and $activeCharacter.name is a complete mess. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body is painted by a copious amount of bodily fluids but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; demeanor is mostly the same as when you left &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; seems to have been temporarily traumatized &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by being turned into a public toilet, making the punishment largely ineffective.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name just seems broken upon hearing what you have planned for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment. Instead of complaining &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently sobs to &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; while you bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into a local public brothel and get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; strapped into a stall. Once you&#39;ve made sure &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is properly secured, you leave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; alone for a few hours. Once you come back &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems even more dejected than when you brought &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; here which is understandable as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is now caked with all kinds of bodily fluids.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name aggressively fights against you, trying anything possible to get away from you so you can&#39;t bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to a local public brothel. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; struggles are mostly futile as you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; strapped into one of its stalls within the hour. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; thrashes against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; restraints but quickly finds out how useless it is and starts cursing you instead. You simply tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that you&#39;ll be back to collect &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in a few hours and leave. When you come back &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; attitude has made a complete 180. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is sobbing violently and starts begging for forgiveness as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sees your face. A look of humiliation and disgust covers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face, more than just &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust in you was damaged during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; time as a public toilet.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="58" name="coddle" tags="nobr" position="3619,230" size="100,100">You call over $activeCharacter.name so you can coddle &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Coddling can acknowledge and reinforce a slave&#39;s behaviour but is ineffective for most people otherwise. Slaves who refuse to be coddled usually don&#39;t become anymore obedient but they may end up less fearful.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name has no interest in being coddled by you. As soon as you get near to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; lashes out at you. You could tie &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; up and coddle &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; forcefully but that would defeat the purpose of rewarding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You decide just to sit in close proximity to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to get used to you being around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; without you interactive negatively with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. 

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name allows you to coddle &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but doesn&#39;t seem to care much for it. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t receptive to physical affection but that is probably more because of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; personality than &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; having an aversion to being with you. While it will barely help to reinforce good behaviour, it will help lower &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name accepts your attempt to coddle &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; wholeheartedly. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; enjoys the physical attention you&#39;re giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; which helps to reinforce &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; current behaviour. On top of making &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; more obedient, it helps assuage any fears &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has of you.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name is very receptive to being coddled. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lights up whenever you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; physical attention. Coddling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; has strongly reinforced &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; current behaviour while also helping to lessen any fear &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has of you.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="59" name="massage" tags="nobr" position="3619,360" size="100,100">You decide to give $activeCharacter.name a massage. Massages are a good way to help soothe a slave. Massages are usually not as effective with slaves from a high social class as they usually aren&#39;t as attention starved as slaves from lower social classes.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name continuously shrugs off any attempt you make to massage &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no interest in whatever reward you have for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; definitely doesn&#39;t want any type of physical affection from you. You end up only giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; some free time to &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; as forcing a reward on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; would defeat its purpose.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name is indifferent to being massaged. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; does enjoy being acknowledged and praised but the reward itself isn&#39;t stimulating enough for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Even though it barely reinforces &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; feels a bit more comfortable around you now.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name appreciates the physical attention a little bit more than normal. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; relaxes into your massage as soon as you start, relieving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; of a lot of stress. Not only does it help lower &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear for you, but it helps to encourage &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name seems to crave physical attention more than anything. Massages are a very effective method of rewarding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. It lifts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood, massively influences &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour and helps alleviate any fear &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has for you.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="60" name="spa treatment" tags="nobr" position="3619,490" size="100,100">You decide to send $activeCharacter.name to a spa. Full day spa treatments are a great way to physically reward a slave without doing it yourself. There are spas just for slaves so you don&#39;t have to worry about &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; escaping from you while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t being supervised by you.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	You tell $activeCharacter.name that you&#39;re going to reward &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by sending &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; somewhere but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to go. Not only does &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; not trust you, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; makes sure to let you know that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t need any type of reward from you. When you tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; its a spa, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; reluctantly agrees to go. You drop &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; off for a day and come back at night. The worker there tells you that $activeCharacter.name was too tense to enjoy the experience.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name agrees to go to the spa but doesn&#39;t seem too enthusiastic about it. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; seems more happy to get some time to relax than anything else. You bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the spa and leave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for the day. When you come back the worker tells you that $activeCharacter.name just lounged around doing nothing for the majority of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; stay.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name is more than eager to go to the spa. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; enjoys being pampered from time to time, especially when its somewhere &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can go and forget about being a slave for a few hours. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; gives you no issues while you bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; straight to the spa and you leave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; there for the day. When you return to pick $activeCharacter.name up the worker supervising &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; stay tells you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; enjoyed using their facilities.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name relishes being pampered and is especially blissful when you tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that you will be rewarding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with a few hours at the spa. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; practically drags you to the spa, like a dog eager to go on a walk, and promises to be on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; best behaviour while you leave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; there for the rest of the day. When you pick $activeCharacter.name up at the end of the day, the worker assigned to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; tells you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been nothing but respectful and easy to work with.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="61" name="sensual kissing" tags="nobr" position="3749,230" size="100,100">You pull $activeCharacter.name into your lap and pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body against yours so that you can kiss &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; sensually. A little show of physical affection can go a long way for some slaves in terms of rewards. Not only can it raise a slave&#39;s submission to you, it can affect their lust in a positive way.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	When you kiss $activeCharacter.name the look of disgust on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face is palpable. Not only was your kiss ineffective, it has only served to turn &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; off of you even more than normal.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name is pretty much indifferent to your kiss. While it hasn&#39;t completely repulsed &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, it was a middling experience at best.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name allows you to lead the kiss but is quick to accept your tongue into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth, as well as feeding &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; into yours.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name is eager to kiss you. Before you can move your head to kiss &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has pressed &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lips against yours, tonguing your mouth with fervor.	

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="62" name="fingering" tags="nobr" position="3749,360" size="100,100">You have $activeCharacter.name spread &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs so you can have access to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;pussy&#39;&gt;&gt;. Fingering a slave is a good way to increase &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust, as well as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience if its effective.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name spreads &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs for you, but barely enough for you to get a good look of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lips. You basically have to pry &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs open, and when you do, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is dry as the desert. You try to gently caress &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; outer lips so you can finger &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;pussy&#39;&gt;&gt; with your fingers, but its ineffective.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name spreads &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs enough for you to get a good look of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cunt lips but they are dry. You slowly caress &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;pussy&#39;&gt;&gt;, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; barely enough moisture so that you can give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a pleasurable fingering.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs spread wide and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; visibly cunt wet. With no need for extra foreplay you slowly finger &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;pussy&#39;&gt;&gt; while prepping to insert another. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;s ready you shove another couple of fingers in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; and rub &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; g-spot to orgasm.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name&#39;s legs are spread wide open, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; outer lips are soaked and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;pussy&#39;&gt;&gt; is ready for penetration. You find it very easy to finger $activeCharacter.name, you barely have to use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is coming all over your hand.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="63" name="hj" tags="nobr" position="3749,490" size="100,100">You have $activeCharacter.name pull down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; underwear and spread &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; so you can have access to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;cock&#39;&gt;&gt;. Giving a slave a handjob is a good way to increase &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust, as well as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience if its effective.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	You slowly jerk $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter 0 &#39;cock&#39;&gt;&gt; with your hands but the look of discomfort and disgust on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face tells you all that you need to know; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t attracted to you and won&#39;t be getting hard enough for you to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; an orgasm.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	With a few practiced strokes of your hand, you have $activeCharacter.name&#39;s cock completely erect. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt;&#39;s face is a bit pained, most likely from the shame of being jerked off by you rather than a need for release. You give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; words of praise as you caress &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt; but you aren&#39;t able to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to orgasm.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	Before you even touch $activeCharacter.name&#39;s cock its hard, displaying how eager &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is to get some physical relief, even if its just from your hands. You rain praise on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while you stroke &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt; to orgasm, which doesn&#39;t take long.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name&#39;s cock is completely erect and its head is glistening, completely drenched with precum. You can tell from the pained look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is basically begging for release. You don&#39;t even have to praise &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; this time around, just a few strokes with your hand and $activeCharacter.name jets rope after rope of cum all over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; stomach, as you&#39;ve pointed &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt; right at &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; abdomen.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="64" name="cun" tags="nobr" position="3749,620" size="100,100">You have $activeCharacter.name spread &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs so you can have access to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;pussy&#39;&gt;&gt;. Giving a slave cunnilingus can greatly increases &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust, as well as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience if its effective.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	$activeCharacter.name spreads &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs for you, but barely enough for you to get a good look of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lips. You basically have to pry &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs open, and when you do, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is dry as the desert. You try to tease &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; outer lips and clit with your tongue, but its ineffective.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	$activeCharacter.name spreads &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs enough for you to get a good look of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cunt lips but they are dry. You slowly tease &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;pussy&#39;&gt;&gt; with your tongue. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; gets a little wet but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t enjoy the experience at all.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	$activeCharacter.name has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs spread wide prostating &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;pussy&#39;&gt;&gt;. With no need for extra foreplay you dig right into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;pussy&#39;&gt;&gt; with your tongue. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is not only physically aroused, you bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to orgasm.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name&#39;s legs are spread wide open, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; outer lips are soaked and ready for your mouth. You barely have to give &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;pussy&#39;&gt;&gt; any oral attention before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is coming all over your face.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="65" name="blowjob" tags="nobr" position="3749,750" size="100,100">You have $activeCharacter.name pull down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; underwear and spread &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; so you can have access to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;cock&#39;&gt;&gt;. Giving a slave a blowjob can greatly increases &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lust, as well as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience if its effective.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	&#39;&#39;@@color:red;This reward was ineffective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	&#39;&#39;@@color:orange;This reward was not very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	&#39;&#39;@@color:greenyellow;This reward was effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	&#39;&#39;@@color:forestgreen;This reward was very effective.@@&#39;&#39; &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _effectiveness == 0&gt;&gt;
	You sensually fellate $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter 0 &#39;cock&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is way to uncomfortable with you to get hard. You&#39;ve no clue if &lt;&lt;print $hehse[$activeCharacter.gender]&gt;&gt; is scared of you or if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; finds you unattractive, but either way this reward has been completely ineffective.

&lt;&lt;elseif _effectiveness == 0.5&gt;&gt;
	You have to fellate $activeCharacter.name for a few minutes before &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;cock&#39;&gt;&gt; gets hard. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt;&#39;s face is a bit pained, most likely from the shame of being fellated by you rather than a need for release. You give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; words of praise as you suck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt; but you aren&#39;t able to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to orgasm.

&lt;&lt;elseif _effectiveness == 1&gt;&gt;
	Before you even touch $activeCharacter.name you see &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt;, displaying how eager &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is to get some physical relief, especially if its from your mouth. You rain praise on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while you suck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt; to orgasm, which doesn&#39;t take long considering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; initial enthusiasm.

&lt;&lt;elseif _effectiveness == 2&gt;&gt;
	$activeCharacter.name&#39;s cock is completely erect and its head is glistening, completely drenched with precum. You can tell from the pained look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is basically begging for release. You don&#39;t even have to praise &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; this time around, just a few strokes with your tongue on the head of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt; and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; jets rope after rope of cum all over your face. When you tell $activeCharacter.name to lick &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own spend off your face, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does so happily.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="66" name="New Slave" tags="nobr" position="138,387" size="100,100">&lt;&lt;set _character = {name: &quot;&quot;, race: &quot;&quot;, tribe: &quot;&quot;, gender: &quot;&quot;, sex: &quot;&quot;, ogsex: &quot;&quot;, skintone: &quot;&quot;, fur: &quot;&quot;, haircolor: &quot;&quot;, clothes: &quot;&quot;, hairstyle: &quot;&quot;, eyecolor: &quot;&quot;, eyedescriptor: &quot;&quot;, occupation: &quot;&quot;, temperament: &quot;&quot;, nature: &quot;&quot;, origin: &quot;&quot;, assignment: &quot;rest&quot;, location: &quot;estate&quot;, building: &quot;&quot;, room: &quot;&quot;, diet: &quot;&quot;, sickness: &quot;&quot;, promise: &quot;&quot;, likes: &quot;&quot;, dislikes: &quot;&quot;, fears: &quot;&quot;, renew: null, memories: &quot;&quot;, appointment: &quot;&quot;, threaten: &quot;&quot;, echo:&quot;&quot;, title: &quot;&quot;, titles: &quot;&quot;, transformation:&quot;&quot;, incense:&quot;&quot;, hypno: &quot;&quot;, info: &quot;&quot;, stats: &quot;&quot;, cooldown: &quot;&quot;, popularity: &quot;&quot;, clothes: &quot;&quot;, tattoo: &quot;&quot;, piercing: &quot;&quot;, exoticism: 0, style: 0, will: 0, submission: 0, shaved: 0, lust: 3, mood: {}, customers: 0, amnity:0, sanity: 0, obedience: {}, fear: {}, trust: {}, rating: 0, guilt: 0, tempbehaviour: 0, ID: 0, health: 0, fatigue: 0, expense: 0, rarity: 0, shelflife: 0, age: 0, birthweek:0, maturity: 0, lifespan: 0, intelligence: 0, height: 0, inverted: 0, butt: &quot;&quot;, lips: &quot;&quot;, shoulders: &quot;&quot;, hips: &quot;&quot;, torso: &quot;&quot;, legs: &quot;&quot;, bust: &quot;&quot;, cock: &quot;&quot;, girth: &quot;&quot;, balls: &quot;&quot;, clit: &quot;&quot;, pussy: &quot;&quot;, sensitivity: &quot;&quot;, gape: 1, analtoy: 0, hooded: 0, vagina: 0, circumcised: 0, chastity: 0, virgin: 0, lactating: &quot;&quot;, nectaring:&quot;&quot;, analvirgin: 0, beauty: 0, weight: 0, traits: &quot;&quot;, fitness: &quot;&quot;, price: 0, ogprice:0, appeal: 0, reputation: 0, sexualskill: 0, expenses: 0, known:&quot;&quot;, impermanent:&quot;&quot;, sexual:&quot;&quot;, chattel:&quot;&quot;, pregnancy: null, history: [], eventlog: [], skills: {}, position:null, training:{}, combat:{}}&gt;&gt;

&lt;&lt;set _character.combat = {stamina:null, arousal:null, libido:null, text:{}, stimulation:0}&gt;&gt;
&lt;&lt;set _character.combat.stamina = {current:0, max:0}&gt;&gt;
&lt;&lt;set _character.combat.arousal = {current:0, max:0}&gt;&gt;
&lt;&lt;set _character.combat.libido = {current:0, max:0}&gt;&gt;

&lt;&lt;set _character.mood = {scale:&quot;Happiness&quot;, current:50}&gt;&gt;

&lt;&lt;set _character.obedience = {current:0, base:0, mood:0, bonus:0, multi:1}&gt;&gt;
&lt;&lt;set _character.trust = {current:0, base:0, mood:0, bonus:0, multi:1}&gt;&gt;
&lt;&lt;set _character.fear = {current:100, base:100, mood:0, bonus:0, multi:1}&gt;&gt;

&lt;&lt;set _character.chattel = {pen:0, style:null, focus:null}&gt;&gt;
&lt;&lt;set _character.pregnancy = {child:[], weeks:0, maturity:0, duration:0, lactating:0, recovery:0, type:&quot;normal&quot;, status:null}&gt;&gt;
&lt;&lt;set _character.sexual = {fertility: &quot;&quot;, libido: &quot;&quot;, strength: &quot;&quot;, speed: &quot;&quot;, stamina: &quot;&quot;, control: &quot;&quot;}&gt;&gt;

&lt;&lt;set _character.sexual.fertility = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.sexual.libido = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.sexual.strength = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.sexual.speed = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.sexual.stamina = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.sexual.control = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _character.impermanent = {cock:0, bust:0, clit:0, pussy:0, balls:0}&gt;&gt;

&lt;&lt;set _character.training = {trainer:null, discipline:null, reward:{}, punishment:{}}&gt;&gt;
&lt;&lt;set _character.training.reward = {small:null, normal:null, large:null}&gt;&gt;
&lt;&lt;set _character.training.punishment = {small:null, normal:null, large:null}&gt;&gt;

&lt;&lt;set _character.stats = {manual:0, oral:0, mammary:0, vanilla:0, anal:0, sissification: 0, bimbofication: 0, femininity: 0, masculinity: 0, strumpetry: 0, dominant: 0, submissive: 0, masculinization:0, chivalry:0, breeding:0}&gt;&gt;

&lt;&lt;set _character.lips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.shoulders = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.hips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.torso = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.legs = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.butt = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.cock = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.bust = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.clit = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.pussy = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.girth = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.balls = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _character.sensitivity = {cock:0, breasts:0, anus:0, clit:0, pussy:0, balls:0, mouth:0}&gt;&gt;

&lt;&lt;set _character.lactating = {temporary:0, permanent:0}&gt;&gt;
&lt;&lt;set _character.nectaring = {temporary:0, permanent:0}&gt;&gt;

&lt;&lt;set _character.cum = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set _character.cum.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.cum.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.cum.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _character.milk = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set _character.milk.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.milk.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.milk.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _character.nectar = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set _character.nectar.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.nectar.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _character.nectar.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _character.appointment = {type:null, location:null, detail:null}&gt;&gt;

&lt;&lt;set _character.clothes = {outfit: null, head: null, eyes: null, neck: null, hands: null, top: null, bottom: null, legs: null, shoes: null}&gt;&gt;
&lt;&lt;set _character.clothes.outfit = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _character.clothes.head = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _character.clothes.eyes = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _character.clothes.neck = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _character.clothes.hands = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _character.clothes.top = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _character.clothes.bottom = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _character.clothes.legs = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _character.clothes.shoes = {attire:&quot;&quot;, style: 0}&gt;&gt;

&lt;&lt;set _character.piercing = {ear:&quot;&quot;, eyebrow:&quot;&quot;, nose:&quot;&quot;, tongue:&quot;&quot;, lip:&quot;&quot;, nipple:&quot;&quot;, navel:&quot;&quot;, pussy:&quot;&quot;, cock:&quot;&quot;}&gt;&gt;
&lt;&lt;set _character.piercing.ear = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _character.piercing.eyebrow = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _character.piercing.nose = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _character.piercing.tongue = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _character.piercing.lip = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _character.piercing.nipple = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _character.piercing.navel = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _character.piercing.pussy = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _character.piercing.cock = {type:0, jewelry:0}&gt;&gt;

&lt;&lt;set _character.tattoo = {body:null, face:null, innerlip:null, neck:null, upperback:null, shoulder:null, upperarm:null, lowerarm:null, hands:null, chest:null, ribcage:null, lowerback:null, abdomen:null, pelvis:null, hips:null, buttocks:null, upperleg:null, lowerleg:null, ankle:null, feet:null}&gt;&gt;

&lt;&lt;set _character.titles = []&gt;&gt;
&lt;&lt;set _character.likes = []&gt;&gt;
&lt;&lt;set _character.dislikes = []&gt;&gt;
&lt;&lt;set _character.fears = []&gt;&gt;
&lt;&lt;set _character.update = []&gt;&gt;

&lt;&lt;set _character.cooldown = {title:0}&gt;&gt;
&lt;&lt;set _character.info = {endweek:null}&gt;&gt;
&lt;&lt;set _character.transformation = {progress:0, item:&quot;None&quot;, circulating: &quot;None&quot;, duration:0}&gt;&gt;
&lt;&lt;set _character.incense = {item:&quot;None&quot;}&gt;&gt;
&lt;&lt;set _character.clothes = {butt: null, vagina: null, cock: null}&gt;&gt;
&lt;&lt;set _character.echo = {subtype:&quot;&quot;, total:0}&gt;&gt;
&lt;&lt;set _character.promise = {made:0,weeks:0}&gt;&gt;
&lt;&lt;set _character.threaten = {made:0,weeks:0}&gt;&gt;
&lt;&lt;set _character.diet = {status:&quot;Normal&quot;, progress:0}&gt;&gt;
&lt;&lt;set _character.fitness = {status:&quot;None&quot;, progress:0}&gt;&gt;
&lt;&lt;set _character.fatigue = {status:&quot;None&quot;, mental:null, physical:null, max:null, progress:0}&gt;&gt;
&lt;&lt;set _character.popularity = {brothel:0, ranch:0}&gt;&gt;
&lt;&lt;set _character.condition = {status:&quot;None&quot;, progress:0}&gt;&gt;
&lt;&lt;set _character.traits = {ears:&quot;&quot;, tail:&quot;&quot;, feet:&quot;&quot;, hands:&quot;&quot;, body:&quot;&quot;, description:&quot;&quot;, list:[]}&gt;&gt;

&lt;&lt;set _character.hypno = {bimbo:0, cum:0, masochism:0, sadism:0, muscle:0, domesticated:0}&gt;&gt;</tw-passagedata><tw-passagedata pid="67" name="Health" tags="nobr" position="488,768" size="100,100">&lt;&lt;set _health = $UChealth[$activeCharacter.health]&gt;&gt;
&lt;&lt;set _weight = $UCweight[$activeCharacter.weight]&gt;&gt;
&lt;&lt;set _tiredness = getFatigue($activeCharacter)&gt;&gt;
&lt;&lt;set _diet = $activeCharacter.diet.status&gt;&gt;
&lt;&lt;set _dietProgress = $activeCharacter.diet.progress&gt;&gt;
&lt;&lt;set _workout = $activeCharacter.fitness.status&gt;&gt;
&lt;&lt;set _workoutProgress = $activeCharacter.fitness.progress&gt;&gt;
&lt;&lt;set _fatigue = $activeCharacter.fatigue.status&gt;&gt;
&lt;&lt;set _fatigueProgress = $activeCharacter.fatigue.progress&gt;&gt;
&lt;&lt;set _condition = $activeCharacter.condition.status&gt;&gt;
&lt;&lt;set _conditionProgress = $activeCharacter.condition.progress&gt;&gt;

&lt;b&gt;Health Management&lt;/b&gt;&lt;br&gt;
_health | _tiredness &lt;br&gt;

&lt;&lt;if _condition == &quot;None&quot;&gt;&gt;
	[[Remedy|Slave Description][$activeCharacter.condition.status = &quot;Remedy&quot;]] | No Curative | [[Panacea|Slave Description][$activeCharacter.condition.status = &quot;Panacea&quot;]]
&lt;&lt;elseif _condition == &quot;Remedy&quot;&gt;&gt;
	Remedy | [[No Curative|Slave Description][$activeCharacter.condition.status = &quot;None&quot;]] | [[Panacea|Slave Description][$activeCharacter.condition.status = &quot;Panacea&quot;]]
&lt;&lt;elseif _condition == &quot;Panacea&quot;&gt;&gt;
	[[Remedy|Slave Description][$activeCharacter.condition.status = &quot;Remedy&quot;]] | [[No Curative|Slave Description][$activeCharacter.condition.status = &quot;None&quot;]] | Panacea
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _fatigue == &quot;None&quot;&gt;&gt;
	[[Ether|Slave Description][$activeCharacter.fatigue.status = &quot;Ether&quot;]] | No Curative | [[Pasithea|Slave Description][$activeCharacter.fatigue.status = &quot;Pasithea&quot;]]
&lt;&lt;elseif _fatigue == &quot;Ether&quot;&gt;&gt;
	Ether | [[No Curative|Slave Description][$activeCharacter.fatigue.status = &quot;None&quot;]] | [[Pasithea|Slave Description][$activeCharacter.fatigue.status = &quot;Pasithea&quot;]]
&lt;&lt;elseif _fatigue == &quot;Pasithea&quot;&gt;&gt;
	[[Ether|Slave Description][$activeCharacter.fatigue.status = &quot;Ether&quot;]] | [[No Curative|Slave Description][$activeCharacter.fatigue.status = &quot;None&quot;]] | Pasithea
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;b&gt;Weight Management&lt;/b&gt;&lt;br&gt;
_weight &lt;br&gt;

&lt;&lt;if _diet == &quot;Normal&quot;&gt;&gt;
	[[High Calorie Diet|Slave Description][$activeCharacter.diet.status = &quot;High&quot;]] | Normal Diet | [[Low Calorie Diet|Slave Description][$activeCharacter.diet.status = &quot;Low&quot;]]
&lt;&lt;elseif _diet == &quot;High&quot;&gt;&gt;
	High Calorie Diet | [[Normal Diet|Slave Description][$activeCharacter.diet.status = &quot;Normal&quot;]] | [[Low Calorie Diet|Slave Description][$activeCharacter.diet.status = &quot;Low&quot;]]
&lt;&lt;elseif _diet == &quot;Low&quot;&gt;&gt;
	[[High Calorie Diet|Slave Description][$activeCharacter.diet.status = &quot;High&quot;]] | [[Normal Diet|Slave Description][$activeCharacter.diet.status = &quot;Normal&quot;]] | Low Calorie Diet
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _workout == &quot;None&quot;&gt;&gt;
	[[Heavy Workout|Slave Description][$activeCharacter.fitness.status = &quot;Heavy&quot;]] | No Workout | [[Light Workout|Slave Description][$activeCharacter.fitness.status = &quot;Light&quot;]]
&lt;&lt;elseif _workout == &quot;Heavy&quot;&gt;&gt;
	Heavy Workout | [[No Workout|Slave Description][$activeCharacter.fitness.status = &quot;None&quot;]] | [[Light Workout|Slave Description][$activeCharacter.fitness.status = &quot;Light&quot;]]
&lt;&lt;elseif _workout == &quot;Light&quot;&gt;&gt;
	[[Heavy Workout|Slave Description][$activeCharacter.fitness.status = &quot;Heavy&quot;]] | [[No Workout|Slave Description][$activeCharacter.fitness.status = &quot;None&quot;]] | Light Workout
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="68" name="Description" tags="noreturn notruereturn nobr" position="14,1171" size="100,100">&lt;&lt;include &quot;Descriptors&quot;&gt;&gt;

&lt;&lt;set _name = $activeCharacter.name&gt;&gt;
&lt;&lt;set _gender = $activeCharacter.gender&gt;&gt;
&lt;&lt;set _maturity = $maturity[$activeCharacter.maturity]&gt;&gt;
&lt;&lt;set _intelligence = $intelligence[$activeCharacter.intelligence]&gt;&gt;
&lt;&lt;set _beauty = $beauty[$activeCharacter.beauty]&gt;&gt;
&lt;&lt;set _health = $health[$activeCharacter.health]&gt;&gt;
&lt;&lt;set _weight = $weight[$activeCharacter.weight]&gt;&gt;
&lt;&lt;set _height = getHeight($activeCharacter.height, $activeCharacter.legs.current-$activeCharacter.legs.base)&gt;&gt;

&lt;&lt;set _cumquantity = $quantity[$activeCharacter.cum.quantity.current]&gt;&gt;
&lt;&lt;set _cumquality = $quality[$activeCharacter.cum.quality.current]&gt;&gt;
&lt;&lt;set _cumtaste = $taste.cum[$activeCharacter.cum.taste.current]&gt;&gt;

&lt;&lt;set _milkquantity = $quantity[$activeCharacter.milk.quantity.current]&gt;&gt;
&lt;&lt;set _milkquality = $quality[$activeCharacter.milk.quality.current]&gt;&gt;
&lt;&lt;set _milktaste = $taste.milk[$activeCharacter.milk.taste.current]&gt;&gt;

&lt;&lt;set _nectarquantity = $quantity[$activeCharacter.nectar.quantity.current]&gt;&gt;
&lt;&lt;set _nectarquality = $quality[$activeCharacter.nectar.quality.current]&gt;&gt;
&lt;&lt;set _nectartaste = $taste.nectar[$activeCharacter.nectar.taste.current]&gt;&gt;

&lt;&lt;set _fatigue = getFatigue($activeCharacter)&gt;&gt;
&lt;&lt;set _an = AvsAn.query(extractWord(_maturity))&gt;&gt;
&lt;&lt;set _obedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _obedience = lowercasecolor(_obedience)&gt;&gt;
&lt;&lt;set _fear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _fear = lowercasecolor(_fear)&gt;&gt;
&lt;&lt;set _trust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _trust = lowercasecolor(_trust)&gt;&gt;
&lt;&lt;set _nature = capitalize($activeCharacter.nature)&gt;&gt;
&lt;&lt;set _exoticism = getExoticism($activeCharacter.exoticism)&gt;&gt;
&lt;&lt;set _exoticism = lowercasecolor(_exoticism)&gt;&gt;
&lt;&lt;set _gape = getGape($activeCharacter.gape)&gt;&gt;

&lt;&lt;set _cockSens = getSensitivity($activeCharacter.sensitivity.cock)&gt;&gt;
&lt;&lt;set _breastSens = getSensitivity($activeCharacter.sensitivity.breasts)&gt;&gt;
&lt;&lt;set _anusSens = getSensitivity($activeCharacter.sensitivity.anus)&gt;&gt;
&lt;&lt;set _ballsSens = getSensitivity($activeCharacter.sensitivity.balls)&gt;&gt;
&lt;&lt;set _clitSens = getSensitivity($activeCharacter.sensitivity.clit)&gt;&gt;
&lt;&lt;set _pussySens = getSensitivity($activeCharacter.sensitivity.pussy)&gt;&gt;
&lt;&lt;set _mouthSens = getSensitivity($activeCharacter.sensitivity.mouth)&gt;&gt;

&lt;&lt;set _sexualstrength = getSexualStat($activeCharacter.sexual.strength.current)&gt;&gt;
&lt;&lt;set _sexualspeed = getSexualStat($activeCharacter.sexual.speed.current)&gt;&gt;
&lt;&lt;set _sexualstamina = getSexualStat($activeCharacter.sexual.stamina.current)&gt;&gt;
&lt;&lt;set _sexualcontrol = getSexualStat($activeCharacter.sexual.control.current)&gt;&gt;

&lt;&lt;if !$activeCharacter.pregnancy.recovery&gt;&gt;
	&lt;&lt;set _weeksuntilbirth = $activeCharacter.pregnancy.duration - $activeCharacter.pregnancy.weeks&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;knotted&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;pantheran&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;barbed&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;minataur&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;bull&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;orc&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cock = $race[$activeCharacter.skintone]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _maturitytext = extractWord(_maturity)&gt;&gt;

&lt;br&gt;

&lt;center&gt;
&lt;&lt;traitdesc $activeCharacter.title $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.position&gt;&gt;
	&lt;&lt;traitdesc $activeCharacter.position $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc $activeCharacter.tribe $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.sex == &quot;male&quot; &amp;&amp; $activeCharacter.stats.sissification == 100&gt;&gt;
	&lt;&lt;traitdesc &quot;sissy&quot; $activeCharacter&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;traitdesc $activeCharacter.sex $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc _maturitytext $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.pregnancy.status&gt;&gt;
	&lt;&lt;traitdesc &quot;pregnant&quot; $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;br&gt;

_name&#39;s _an _maturity

&lt;&lt;if $activeCharacter.skintone&gt;&gt;
	$activeCharacter.skintone
&lt;&lt;elseif $activeCharacter.fur&gt;&gt;
	$activeCharacter.fur furred
&lt;&lt;/if&gt;&gt;

$activeCharacter.gender

&lt;&lt;if $activeCharacter.tribe&gt;&gt;
	$activeCharacter.tribe.
&lt;&lt;else&gt;&gt;
	$activeCharacter.race.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.occupation&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was $activeCharacter.occupation before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was a slave.
&lt;&lt;/if&gt;&gt;

$activeCharacter.origin
&lt;br&gt;&lt;br&gt;

&lt;&lt;displayMood $activeCharacter&gt;&gt;

From the interactions you&#39;ve had with $activeCharacter.name you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $intelligence[$activeCharacter.intelligence]&gt;&gt;. In regards to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; discipline, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;moodStats &quot;Obedience&quot; $activeCharacter&gt;&gt;. When it comes to having trust, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;moodStats &quot;Trust&quot; $activeCharacter&gt;&gt;. As for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; courage, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;moodStats &quot;Fear&quot; $activeCharacter&gt;&gt;.
&lt;br&gt;&lt;br&gt;

_name is exoticism is _exoticism, affected by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; [[piercings|Piercing Description]].
&lt;br&gt;&lt;br&gt;

_name is _beauty. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has $activeCharacter.haircolor hair styled $activeCharacter.hairstyle. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has $activeCharacter.eyedescriptor $activeCharacter.eyecolor eyes. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is _height and is _weight.

&lt;&lt;physicalTraits $activeCharacter &quot;Race&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.lips.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has &lt;&lt;print $lips[$activeCharacter.lips.current]&gt;&gt; lips.
	&lt;&lt;attributeDescriptor &quot;Lips&quot; $activeCharacter.lips.current $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth is _mouthSens.

&lt;&lt;if $activeCharacter.shoulders.current &amp;&amp; $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders and &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.shoulders.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;

&lt;&lt;elseif $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.hips.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips are &lt;&lt;print $hips[$activeCharacter.hips.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.legs.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has two &lt;&lt;print $legs[$activeCharacter.legs.current]&gt;&gt; legs.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.pregnancy.status&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;b&gt;[Week $activeCharacter.pregnancy.weeks (&lt;&lt;print capitalize($activeCharacter.pregnancy.type)&gt;&gt;)]&lt;/b&gt;
	&lt;&lt;if _weeksuntilbirth&gt;&gt;
	  $activeCharacter.name is due to give birth in _weeksuntilbirth weeks.

	&lt;&lt;elseif $activeCharacter.pregnancy.recovery&gt;&gt;
	  $activeCharacter.name will recover from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pregnancy in $activeCharacter.pregnancy.recovery weeks.

	&lt;&lt;/if&gt;&gt;

	$activeCharacter.pregnancy.status
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.known.sexualskill&gt;&gt;
	&lt;br&gt;&lt;br&gt;

	_name&#39;s sexual fortitude is _sexualstrength and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; responsiveness  during sexual intercourse is _sexualspeed. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; sexual stamina is _sexualstamina and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual control is _sexualcontrol.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.bust.current&gt;&gt;
	_name has &lt;&lt;print $inverted[$activeCharacter.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $bust[$activeCharacter.bust.current]&gt;&gt; sized breasts. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breasts are _breastSens.
&lt;&lt;else&gt;&gt;
	_name has &lt;&lt;print $inverted[$activeCharacter.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chest. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nipples are _breastSens.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.milk.quality.current &amp;&amp; $activeCharacter.milk.quantity.current &amp;&amp; $activeCharacter.milk.taste.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is lactating, and can produce a _milkquantity amount of _milkquality milk. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; milk has a _milktaste taste to it.
	
&lt;&lt;elseif [&quot;holstaur&quot;].contains($activeCharacter.tribe) &amp;&amp; $activeCharacter.virgin&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is not lactating and cannot produce any milk until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; loses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; virginity.

&lt;&lt;else&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is not lactating so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; produce any milk.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.girth.current&gt;&gt;
	&lt;&lt;set _girth = extractWord($girth[$activeCharacter.girth.current])&gt;&gt;
	&lt;&lt;set _an = AvsAn.query(_girth)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current&gt;&gt;
	$activeCharacter.name has _an &lt;&lt;print $girth[$activeCharacter.girth.current]&gt;&gt;, &lt;&lt;print $cock[$activeCharacter.cock.current]&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; _cock cock hanging between &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cock is _cockSens.

	&lt;&lt;if $activeCharacter.cum.quality.current &amp;&amp; $activeCharacter.cum.quantity.current &amp;&amp; $activeCharacter.cum.taste.current &amp;&amp; !$activeCharacter.balls.current&gt;&gt;
		It can produce a _cumquantity amount of _cumquality semen. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; semen has a _cumtaste taste to it.
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.balls.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a pair of &lt;&lt;print $balls[$activeCharacter.balls.current]&gt;&gt; balls. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; balls are _ballsSens.

	&lt;&lt;if $activeCharacter.cum.quality.current &amp;&amp; $activeCharacter.cum.quantity.current &amp;&amp; $activeCharacter.cum.taste.current &amp;&amp; $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current&gt;&gt;
		When full they can produce a _cumquantity amount of _cumquality semen. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; semen has a _cumtaste taste to it.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.pussy.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; pussy is &lt;&lt;print $pussy[$activeCharacter.pussy.current]&gt;&gt;. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pussy is _pussySens.

	&lt;&lt;if $activeCharacter.nectar.quality.current &amp;&amp; $activeCharacter.nectar.quantity.current &amp;&amp; $activeCharacter.nectar.taste.current&gt;&gt;
		When aroused &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pussy produces a _nectarquantity amount of _nectarquality nectar. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; nectar has a _nectartaste taste to it.
		
	&lt;&lt;elseif [&quot;elf&quot;].contains($activeCharacter.race) &amp;&amp; $activeCharacter.virgin&gt;&gt;
		&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is not nectaring and cannot produce any nectar until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; loses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; virginity.
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is not nectaring so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; cannot produce any nectar.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.clit.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a &lt;&lt;print $clitoris[$activeCharacter.clit.current]&gt;&gt; and &lt;&lt;print $hooded[$activeCharacter.hooded]&gt;&gt; clit. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; is _clitSens.
&lt;&lt;/if&gt;&gt;

_name&#39;s ass is &lt;&lt;print $butt[$activeCharacter.gender][$activeCharacter.butt.current]&gt;&gt;.

&lt;&lt;if $activeCharacter.gape == 100&gt;&gt;
	 &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole has been _gape to the point that you can fit multiple intrusions into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole without causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; any pain.

&lt;&lt;elseif $activeCharacter.gape &gt;= 80&gt;&gt;
	$&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape and can accommodate almost any size intrusion.

&lt;&lt;elseif $activeCharacter.gape &gt;= 60&gt;&gt;
	&lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole is _gape and as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses lube &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can accommodate people of any size.

&lt;&lt;elseif $activeCharacter.gape &gt;= 40&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; ass has been _gape. It can fit a full sized intrusion but anything larger than that can cause pain even with lube.

&lt;&lt;elseif $activeCharacter.gape &gt;= 20&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape but it has seen some use.

&lt;&lt;elseif $activeCharacter.gape &gt;= 0&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape. You can barely fit your finger in it, let alone a full sized intrusion.

&lt;&lt;/if&gt;&gt;

The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anus is _anusSens.

&lt;&lt;if $activeCharacter.virgin || $activeCharacter.analvirgin&gt;&gt;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.virgin&gt;&gt;
	&lt;br&gt;
	$activeCharacter.name is a @@color:green;virgin@@.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is an @@color:green;anal virgin@@.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="69" name="Complete Slave" tags="nobr" position="138,646" size="100,100">&lt;&lt;set _character.appeal = getAppeal(_character)&gt;&gt;
&lt;&lt;set _character.diet.progress = setDietProgress(_character)&gt;&gt;
&lt;&lt;set _character.fitness.progress = setFitnessProgress(_character)&gt;&gt;
&lt;&lt;set _character.condition.progress = setConditionProgress(_character)&gt;&gt;
&lt;&lt;set _character.ogsex = _character.sex&gt;&gt;
&lt;&lt;run updateMaxFatigue(_character)&gt;&gt;
&lt;&lt;set _character.fatigue.physical = _character.fatigue.max&gt;&gt;
&lt;&lt;set _character.fatigue.mental = _character.fatigue.max&gt;&gt;

&lt;&lt;if _character.gender == &quot;male&quot;&gt;&gt;
	&lt;&lt;if _character.sexualskill.manual.handjob &lt; 20&gt;&gt;
		&lt;&lt;set _character.sexualskill.manual.handjob = 20&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if _character.sexualskill.oral.fellatio &lt; 20&gt;&gt;
		&lt;&lt;set _character.sexualskill.oral.fellatio = 20&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _character.gender == &quot;female&quot;&gt;&gt;
	&lt;&lt;if _character.sexualskill.manual.fingering &lt; 20&gt;&gt;
		&lt;&lt;set _character.sexualskill.manual.fingering = 20&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if _character.sexualskill.oral.cunnilingus &lt; 20&gt;&gt;
		&lt;&lt;set _character.sexualskill.oral.cunnilingus = 20&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;human&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.rarity = 1&gt;&gt;
&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;mongrel&quot;, &quot;pantheran&quot;, &quot;holstaur&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.rarity = 2&gt;&gt;
&lt;&lt;elseif [&quot;giant&quot;, &quot;forest elf&quot;, &quot;moon rabbit&quot;, &quot;orc&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.rarity = 3&gt;&gt;
&lt;&lt;elseif [&quot;high elf&quot;, &quot;dark elf&quot;].contains(_character.tribe)&gt;&gt;
	&lt;&lt;set _character.rarity = 4&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _character.price = getPrice(_character)&gt;&gt;
&lt;&lt;set _character.ogprice = _character.price&gt;&gt;

&lt;&lt;set $letter = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;]&gt;&gt;
&lt;&lt;set _character.ID = &quot;SLAVE&quot; + random(0, 1000) + $letter.random() + random(0, 1000)&gt;&gt;

&lt;&lt;set _naturelist = [&quot;dandere&quot;, &quot;tsundere&quot;, &quot;kuudere&quot;, &quot;himedere&quot;]&gt;&gt;

&lt;&lt;set _character.nature = _naturelist.random()&gt;&gt;
&lt;&lt;set _character.sanity = 70&gt;&gt;

&lt;&lt;if _character.nature == &quot;tsundere&quot;&gt;&gt;
	&lt;&lt;set _character.fear.base = random(20,60)&gt;&gt;
	&lt;&lt;set _character.trust.base = random(0,40)&gt;&gt;
	&lt;&lt;set _character.obedience.base = random(0,40)&gt;&gt;
&lt;&lt;elseif _character.nature == &quot;dandere&quot;&gt;&gt;
	&lt;&lt;set _character.fear.base = random(20,60)&gt;&gt;
	&lt;&lt;set _character.trust.base = random(20,60)&gt;&gt;
	&lt;&lt;set _character.obedience.base = random(20,60)&gt;&gt;
&lt;&lt;elseif _character.nature == &quot;kuudere&quot;&gt;&gt;
	&lt;&lt;set _character.fear.base = random(0,40)&gt;&gt;
	&lt;&lt;set _character.trust.base = random(0,40)&gt;&gt;
	&lt;&lt;set _character.obedience.base = random(0,40)&gt;&gt;
&lt;&lt;elseif _character.nature == &quot;himedere&quot;&gt;&gt;
	&lt;&lt;set _character.fear.base = random(20,60)&gt;&gt;
	&lt;&lt;set _character.trust.base = random(0,40)&gt;&gt;
	&lt;&lt;set _character.obedience.base = random(0,40)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run refreshObedience(_character)&gt;&gt;
&lt;&lt;run refreshTrust(_character)&gt;&gt;
&lt;&lt;run refreshFear(_character)&gt;&gt;

&lt;&lt;set _jobpool = []&gt;&gt;

&lt;&lt;set _villageraces = [&quot;human&quot;, &quot;dwarf&quot;, &quot;gnome&quot;, &quot;neko&quot;, &quot;canus&quot;, &quot;moon rabbit&quot;, &quot;high elf&quot;]&gt;&gt;
&lt;&lt;set _forestraces = [&quot;giant&quot;, &quot;pantheran&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;, &quot;holstaur&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;, &quot;orc&quot;, &quot;goblin&quot;]&gt;&gt;

&lt;&lt;set _villagejobs = [&quot;baker&quot;, &quot;tradesman&quot;, &quot;villager&quot;, &quot;butcher&quot;, &quot;tailor&quot;, &quot;carpenter&quot;, &quot;adventurer&quot;, &quot;herald&quot;, &quot;jester&quot;, &quot;blacksmith&quot;, &quot;farmer&quot;, &quot;hunter&quot;, &quot;gatherer&quot;, &quot;innkeeper&quot;, &quot;apothecary&quot;, &quot;shepherd&quot;, &quot;guard&quot;]&gt;&gt;
&lt;&lt;set _noblevillagejobs = [&quot;knight&quot;, &quot;councilor&quot;, &quot;village elder&quot;, &quot;chancellor&quot;, &quot;marshal&quot;, &quot;diplomat&quot;, &quot;merchant&quot;, &quot;chaplain&quot;, &quot;priest&quot;]&gt;&gt;

&lt;&lt;set _forestjobs = [&quot;adventurer&quot;, &quot;gatherer&quot;, &quot;hunter&quot;, &quot;farmer&quot;, &quot;fighter&quot;, &quot;crafter&quot;, &quot;trader&quot;, &quot;trapper&quot;, &quot;carver&quot;, &quot;potter&quot;]&gt;&gt;
&lt;&lt;set _nobleforestjobs = [&quot;small tribe&#39;s chief&quot;, &quot;shaman&quot;, &quot;village elder&quot;, &quot;healer&quot;, &quot;magician&quot;]&gt;&gt;

&lt;&lt;if _character.nature == &quot;himedere&quot;&gt;&gt;
	&lt;&lt;if _villageraces.contains(_character.race)&gt;&gt;
		&lt;&lt;set _jobpool = mergeArray(_jobpool, _noblevillagejobs)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _jobpool = mergeArray(_jobpool, _nobleforestjobs)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _character.nature == &quot;kuudere&quot;&gt;&gt;
	&lt;&lt;if _villageraces.contains(_character.race)&gt;&gt;
		&lt;&lt;set _jobpool = mergeArray(_jobpool, _noblevillagejobs)&gt;&gt;
		&lt;&lt;set _jobpool = mergeArray(_jobpool, _villagejobs)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _jobpool = mergeArray(_jobpool, _nobleforestjobs)&gt;&gt;
		&lt;&lt;set _jobpool = mergeArray(_jobpool, _forestjobs)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;if _villageraces.contains(_character.race)&gt;&gt;
		&lt;&lt;set _jobpool = mergeArray(_jobpool, _villagejobs)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _jobpool = mergeArray(_jobpool, _forestjobs)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _character.occupation = _jobpool.random()&gt;&gt;
&lt;&lt;set _an = AvsAn.query(_character.occupation)&gt;&gt;

&lt;&lt;if _character.maturity == 1&gt;&gt;
	&lt;&lt;set _character.occupation = _an + &quot; &quot; + _character.occupation + &quot;&#39;s &quot; + $childtitle[_character.gender]&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _character.occupation = _an + &quot; &quot; + _character.occupation&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="70" name="Update Slave" tags="nobr" position="365,383" size="100,100">&lt;&lt;include &quot;Modernize Slave&quot;&gt;&gt;

&lt;&lt;set _fatiguetitles = 0&gt;&gt;
&lt;&lt;set _healthtitles = 0&gt;&gt;

&lt;&lt;if $fatiguetitles.includes(_character.title)&gt;&gt;
	&lt;&lt;set _fatiguetitles = 1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $healthtitles.includes(_character.title)&gt;&gt;
	&lt;&lt;set _healthtitles = 1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $endweek&gt;&gt;
	&lt;&lt;set _character.diet.progress = updateDiet(_character)&gt;&gt;
	&lt;&lt;set _character.fitness.progress = updateFitness(_character)&gt;&gt;
	&lt;&lt;set _character.condition.progress = updateCondition(_character, $difficulty, _healthtitles, $estate)&gt;&gt;
	&lt;&lt;set _character.fatigue.progress = updateFatigue(_character, $difficulty, _fatiguetitles, $estate)&gt;&gt;
	&lt;&lt;run updateMaxFatigue(_character)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateTitles(_character)&gt;&gt;
&lt;&lt;run getSexTraits(_character)&gt;&gt;
&lt;&lt;run updateExoticism(_character)&gt;&gt;
&lt;&lt;run updateMood(_character)&gt;&gt;
&lt;&lt;set _character.health = updateHealth(_character)&gt;&gt;
&lt;&lt;set _character.weight = updateWeight(_character)&gt;&gt;
&lt;&lt;set _character.expense = updateExpense(_character)&gt;&gt;</tw-passagedata><tw-passagedata pid="71" name="Random Events" tags="nobr noreturn" position="1896,2000" size="100,100">&lt;&lt;set $roll = random(1,6)&gt;&gt;
&lt;&lt;set $events.choice = null&gt;&gt;
&lt;&lt;set $events.scene = null&gt;&gt;
&lt;&lt;set $events.scenes = [&quot;Basic - Dietary Concerns - Start&quot;, &quot;Basic - Behavioural Dispute - Start&quot;]&gt;&gt;
&lt;&lt;set _commonEnslavementScenes = [&quot;Common - Backdoor Slave Sale - Start&quot;, &quot;Common - Hard Times - Start&quot;, &quot;Common - Trespasser - Start&quot;, &quot;Common - Thicker Than Water - Start&quot;]&gt;&gt;
&lt;&lt;set _s = random(1, $slaves.amount)&gt;&gt;
&lt;&lt;set $activeCharacter = $slaves[_s]&gt;&gt;

&lt;&lt;if random(1,10) &gt; 7&gt;&gt;
  &lt;&lt;set $events.scenes.push.apply($events.scenes, _commonEnslavementScenes)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &lt; 60&gt;&gt;
  &lt;&lt;set $events.scenes.push(&quot;Basic - Kleptomaniac - Start&quot;, &quot;Basic - Confrontation - Start&quot;, &quot;Basic - Work Dispute - Start&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.fear.current &gt;= 40&gt;&gt;
  &lt;&lt;set $events.scenes.push(&quot;Basic - Scared Stiff - Start&quot;, &quot;Basic - Restless Nights - Start&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.trust.current &lt; 40&gt;&gt;
  &lt;&lt;set $events.scenes.push(&quot;Basic - Egocentric Attitude - Start&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.assignment == &quot;brothel&quot; &amp;&amp; !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; $activeCharacter.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; $activeCharacter.position == &quot;Guard&quot;)&gt;&gt;
  &lt;&lt;set $events.scenes.push(&quot;Basic - Irate Customer&quot;, &quot;Basic - Customer Contentment&quot;, &quot;Basic - Property Damage&quot;, &quot;Basic - Obsessed&quot;, &quot;Basic - Marital Affair&quot;, &quot;Basic - Renthouse&quot;, &quot;Basic - Coming of Age&quot;)&gt;&gt;
  
  &lt;&lt;if $activeCharacter.obedience.current &lt; 60&gt;&gt;
    &lt;&lt;set $events.scenes.push(&quot;Basic - Sex Slave Strike&quot;)&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $events.scene = $events.scenes.random()&gt;&gt;

&lt;&lt;if _commonEnslavementScenes.includes($events.scene)&gt;&gt;
  &lt;&lt;set $slavetemplate = &quot;Common Enslavement Event&quot;&gt;&gt;
  &lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
  &lt;&lt;set $activeCharacter = _character&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="72" name="Statbar Widget" tags="widget nobr" position="1233,50" size="100,100">&lt;&lt;widget &quot;statbar&quot;&gt;&gt;

&lt;&lt;set _ee = $args[0] / $args[1]&gt;&gt;
&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .8&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .6&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .4&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .2&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * 30)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * 30)&gt;&gt;
&lt;&lt;/if&gt;&gt;
	
&lt;&lt;set _gone = 30 - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;if $args[2]&gt;&gt;
	&lt;&lt;set _cstat = &#39;[@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
	&lt;&lt;set _gstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@]&#39;&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cstat = &#39;@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
	&lt;&lt;set _gstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@&#39;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;print _cstat + _gstat&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="73" name="Money Widget" tags="widget nobr" position="1620,441" size="100,100">&lt;&lt;widget &quot;money&quot;&gt;&gt;
&lt;&lt;if $PC.money &gt;= 0&gt;&gt;
	&lt;&lt;set _money = commify($PC.money)&gt;&gt;
	&lt;&lt;print &quot;@@color:lightgreen;💎_money@@&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _money = $PC.money * -1&gt;&gt;
	&lt;&lt;set _money = commify($PC.money)&gt;&gt;
	&lt;&lt;print &quot;@@color:red;(💎_money)@@&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
		
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="74" name="Stats" tags="" position="1232,306" size="100,100">&lt;&lt;if $Guild.type == &quot;Slaver&quot; &amp;&amp; $PC.guild.slaver.rank&gt;&gt;\
Player Stats 
|stattable|k
| ![[Money|Money]] | &lt;&lt;money&gt;&gt; |
| !Energy | &lt;&lt;statbar $PC.energy.current $PC.energy.max&gt;&gt; |
&lt;hr&gt;
Slavers Guild | Rank &lt;&lt;print $GuildRankings[$PC.guild.slaver.rank]&gt;&gt;
|stattable|k
| !EXP | &lt;&lt;statbar $PC.guild.slaver.exp $PC.guild.slaver.maxexp&gt;&gt; |
&lt;&lt;elseif $endweek &amp;&amp; $PC.guild.slaver.oldrequest&gt;&gt;\
Player Stats
|stattable|k
| !Money | &lt;&lt;money&gt;&gt; |
| !Energy | &lt;&lt;statbar $PC.energy.current $PC.energy.max&gt;&gt; |
&lt;hr&gt;
Slavers Guild | Rank &lt;&lt;print $GuildRankings[$PC.guild.slaver.rank]&gt;&gt;
|stattable|k
| !EXP | &lt;&lt;statbar $PC.guild.slaver.exp $PC.guild.slaver.maxexp&gt;&gt; |
&lt;&lt;elseif $endweek&gt;&gt;\
Player Stats
|stattable|k
| !Money | &lt;&lt;money&gt;&gt; |
| !Energy |&lt;&lt;statbar $PC.energy.current $PC.energy.max&gt;&gt; |
&lt;&lt;elseif $Brothel&gt;&gt;
Player Stats 
|stattable|k
| ![[Money|Money]] | &lt;&lt;money&gt;&gt; |
| !Energy | &lt;&lt;statbar $PC.energy.current $PC.energy.max&gt;&gt; |
&lt;hr&gt;
Brothel Stats
|stattable|k
| !Popularity | &lt;&lt;statbar $estate.brothel.popularity.total 300&gt;&gt; |
&lt;&lt;elseif $Ranch&gt;&gt;
Player Stats 
|stattable|k
| ![[Money|Money]] | &lt;&lt;money&gt;&gt; |
| !Energy | &lt;&lt;statbar $PC.energy.current $PC.energy.max&gt;&gt; |
&lt;hr&gt;
Ranch Stats
|stattable|k
| !Popularity | &lt;&lt;statbar $estate.ranch.popularity 100&gt;&gt; |
&lt;&lt;else&gt;&gt;\
Player Stats
|stattable|k
| ![[Money|Money]] | &lt;&lt;money&gt;&gt; |
| !Energy | &lt;&lt;statbar $PC.energy.current $PC.energy.max&gt;&gt; |
&lt;&lt;/if&gt;&gt;\</tw-passagedata><tw-passagedata pid="75" name="Unset Passages" tags="nobr" position="1232,176" size="100,100">&lt;&lt;unset $Version&gt;&gt;
&lt;&lt;unset $NextWeek&gt;&gt;
&lt;&lt;unset $Main&gt;&gt;
&lt;&lt;unset $MainMenu&gt;&gt;
&lt;&lt;unset $Continue&gt;&gt;
&lt;&lt;unset $Next&gt;&gt;
&lt;&lt;unset $Return&gt;&gt;
&lt;&lt;unset $TrueReturn&gt;&gt;
&lt;&lt;unset $Previous&gt;&gt;
&lt;&lt;unset $Training&gt;&gt;
&lt;&lt;unset $EndTraining&gt;&gt;
&lt;&lt;unset $Travel&gt;&gt;
&lt;&lt;unset $Brothel&gt;&gt;
&lt;&lt;unset $Ranch&gt;&gt;
&lt;&lt;unset $Chattel&gt;&gt;
&lt;&lt;unset $sexContinue&gt;&gt;
&lt;&lt;unset $CustomLink&gt;&gt;

&lt;&lt;if $playerStatus &amp;&amp; (passage() != &quot;Piercing Description&quot; &amp;&amp; !$activeCharacter)&gt;&gt;
  &lt;&lt;unset $playerStatus&gt;&gt;
  &lt;&lt;unset $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.page != &quot;Presentation&quot; &amp;&amp; $main.page != &quot;brothel&quot; &amp;&amp; passage() != &quot;Ranch&quot;&gt;&gt;
  &lt;&lt;unset $style&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Modernize PC&quot;&gt;&gt;
&lt;&lt;include &quot;Descriptors&quot;&gt;&gt;
&lt;&lt;include &quot;Races&quot;&gt;&gt;
&lt;&lt;include &quot;Skills&quot;&gt;&gt;
&lt;&lt;include &quot;Pronouns&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="76" name="Identify" tags="nobr noreturn" position="2026,2000" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Descriptors&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _name = $identifySlave.name&gt;&gt;
&lt;&lt;set _gender = $identifySlave.gender&gt;&gt;
&lt;&lt;set _maturity = $maturity[$identifySlave.maturity]&gt;&gt;
&lt;&lt;set _intelligence = $intelligence[$identifySlave.intelligence]&gt;&gt;
&lt;&lt;set _beauty = $beauty[$identifySlave.beauty]&gt;&gt;
&lt;&lt;set _health = $health[$identifySlave.health]&gt;&gt;
&lt;&lt;set _weight = $weight[$identifySlave.weight]&gt;&gt;
&lt;&lt;set _height = getHeight($identifySlave.height, $identifySlave.legs.current-$identifySlave.legs.base)&gt;&gt;

&lt;&lt;set _cumquantity = $quantity[$identifySlave.cum.quantity.current]&gt;&gt;
&lt;&lt;set _cumquality = $quality[$identifySlave.cum.quality.current]&gt;&gt;
&lt;&lt;set _cumtaste = $taste.cum[$identifySlave.cum.taste.current]&gt;&gt;

&lt;&lt;set _milkquantity = $quantity[$identifySlave.milk.quantity.current]&gt;&gt;
&lt;&lt;set _milkquality = $quality[$identifySlave.milk.quality.current]&gt;&gt;
&lt;&lt;set _milktaste = $taste.milk[$identifySlave.milk.taste.current]&gt;&gt;

&lt;&lt;set _nectarquantity = $quantity[$identifySlave.nectar.quantity.current]&gt;&gt;
&lt;&lt;set _nectarquality = $quality[$identifySlave.nectar.quality.current]&gt;&gt;
&lt;&lt;set _nectartaste = $taste.nectar[$identifySlave.nectar.taste.current]&gt;&gt;

&lt;&lt;set _fatigue = getFatigue($identifySlave)&gt;&gt;
&lt;&lt;set _an = AvsAn.query(extractWord(_maturity))&gt;&gt;
&lt;&lt;set _obedience = getObedience($identifySlave.obedience.current)&gt;&gt;
&lt;&lt;set _obedience = lowercasecolor(_obedience)&gt;&gt;
&lt;&lt;set _fear = getFear($identifySlave.fear.current)&gt;&gt;
&lt;&lt;set _fear = lowercasecolor(_fear)&gt;&gt;
&lt;&lt;set _trust = getTrust($identifySlave.trust.current)&gt;&gt;
&lt;&lt;set _trust = lowercasecolor(_trust)&gt;&gt;
&lt;&lt;set _nature = capitalize($identifySlave.nature)&gt;&gt;
&lt;&lt;set _exoticism = getExoticism($identifySlave.exoticism)&gt;&gt;
&lt;&lt;set _exoticism = lowercasecolor(_exoticism)&gt;&gt;
&lt;&lt;set _gape = getGape($identifySlave.gape)&gt;&gt;

&lt;&lt;set _cockSens = getSensitivity($identifySlave.sensitivity.cock)&gt;&gt;
&lt;&lt;set _breastSens = getSensitivity($identifySlave.sensitivity.breasts)&gt;&gt;
&lt;&lt;set _anusSens = getSensitivity($identifySlave.sensitivity.anus)&gt;&gt;
&lt;&lt;set _ballsSens = getSensitivity($identifySlave.sensitivity.balls)&gt;&gt;
&lt;&lt;set _clitSens = getSensitivity($identifySlave.sensitivity.clit)&gt;&gt;
&lt;&lt;set _pussySens = getSensitivity($identifySlave.sensitivity.pussy)&gt;&gt;
&lt;&lt;set _mouthSens = getSensitivity($identifySlave.sensitivity.mouth)&gt;&gt;

&lt;&lt;set _sexualstrength = getSexualStat($identifySlave.sexual.strength.current)&gt;&gt;
&lt;&lt;set _sexualspeed = getSexualStat($identifySlave.sexual.speed.current)&gt;&gt;
&lt;&lt;set _sexualstamina = getSexualStat($identifySlave.sexual.stamina.current)&gt;&gt;
&lt;&lt;set _sexualcontrol = getSexualStat($identifySlave.sexual.control.current)&gt;&gt;

&lt;&lt;if !$identifySlave.pregnancy.recovery&gt;&gt;
	&lt;&lt;set _weeksuntilbirth = $identifySlave.pregnancy.duration - $identifySlave.pregnancy.weeks&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;knotted&quot;&gt;&gt;

&lt;&lt;elseif $identifySlave.tribe == &quot;pantheran&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;barbed&quot;&gt;&gt;

&lt;&lt;elseif $identifySlave.tribe == &quot;minataur&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;bull&quot;&gt;&gt;

&lt;&lt;elseif $identifySlave.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;orc&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cock = $race[$identifySlave.skintone]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _maturitytext = extractWord(_maturity)&gt;&gt;

&lt;br&gt;

&lt;center&gt;
&lt;&lt;traitdesc $identifySlave.title $identifySlave&gt;&gt;

&lt;&lt;if $identifySlave.position&gt;&gt;
	&lt;&lt;traitdesc $identifySlave.position $identifySlave&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc $identifySlave.tribe $identifySlave&gt;&gt;

&lt;&lt;if $identifySlave.sex == &quot;male&quot; &amp;&amp; $identifySlave.stats.sissification == 100&gt;&gt;
	&lt;&lt;traitdesc &quot;sissy&quot; $identifySlave&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;traitdesc $identifySlave.sex $identifySlave&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc _maturitytext $identifySlave&gt;&gt;

&lt;&lt;if $identifySlave.pregnancy.status&gt;&gt;
	&lt;&lt;traitdesc &quot;pregnant&quot; $identifySlave&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;br&gt;

_name&#39;s _an _maturity

&lt;&lt;if $identifySlave.skintone&gt;&gt;
	$identifySlave.skintone
&lt;&lt;elseif $identifySlave.fur&gt;&gt;
	$identifySlave.fur furred
&lt;&lt;/if&gt;&gt;

$identifySlave.gender

&lt;&lt;if $identifySlave.tribe&gt;&gt;
	$identifySlave.tribe.
&lt;&lt;else&gt;&gt;
	$identifySlave.race.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.occupation&gt;&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; was $identifySlave.occupation before &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; was a slave.
&lt;&lt;/if&gt;&gt;

$identifySlave.origin
&lt;br&gt;&lt;br&gt;

&lt;&lt;displayMood $identifySlave&gt;&gt;

From the interactions you&#39;ve had with $identifySlave.name you can tell that &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; is &lt;&lt;print $intelligence[$identifySlave.intelligence]&gt;&gt;. In regards to &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; discipline, &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; is &lt;&lt;moodStats &quot;Trust&quot; $identifySlave&gt;&gt;. As for &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; courage, &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; is &lt;&lt;moodStats &quot;Fear&quot; $identifySlave&gt;&gt;.
&lt;br&gt;&lt;br&gt;

_name is exoticism is _exoticism, affected by &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; [[piercings|Piercing Description]].
&lt;br&gt;&lt;br&gt;

_name is _beauty. &lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; has $identifySlave.haircolor hair styled $identifySlave.hairstyle. &lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; has $identifySlave.eyedescriptor $identifySlave.eyecolor eyes. &lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; is _height and is _weight.

&lt;&lt;physicalTraits $identifySlave &quot;Race&quot;&gt;&gt;

&lt;&lt;if $identifySlave.lips.current&gt;&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; has &lt;&lt;print $lips[$identifySlave.lips.current]&gt;&gt; lips.
	&lt;&lt;attributeDescriptor &quot;Lips&quot; $identifySlave.lips.current $identifySlave&gt;&gt;
&lt;&lt;/if&gt;&gt;

The sensitivity of &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; mouth is _mouthSens.

&lt;&lt;if $identifySlave.shoulders.current &amp;&amp; $identifySlave.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; &lt;&lt;print $shoulders[$identifySlave.shoulders.current]&gt;&gt; shoulders and &lt;&lt;print $torso[$identifySlave.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $identifySlave.shoulders.current $identifySlave&gt;&gt;
	
&lt;&lt;elseif $identifySlave.shoulders.current&gt;&gt;
	&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; &lt;&lt;print $shoulders[$identifySlave.shoulders.current]&gt;&gt; shoulders frames &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $identifySlave.shoulders.current $identifySlave&gt;&gt;

&lt;&lt;elseif $identifySlave.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; &lt;&lt;print $torso[$identifySlave.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; upper body.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.hips.current&gt;&gt;
	&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; hips are &lt;&lt;print $hips[$identifySlave.hips.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.legs.current&gt;&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; has two &lt;&lt;print $legs[$identifySlave.legs.current]&gt;&gt; legs.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.pregnancy.status&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;b&gt;[Week $identifySlave.pregnancy.weeks (&lt;&lt;print capitalize($identifySlave.pregnancy.type)&gt;&gt;)]&lt;/b&gt;
	&lt;&lt;if _weeksuntilbirth&gt;&gt;
	  $identifySlave.name is due to give birth in _weeksuntilbirth weeks.

	&lt;&lt;elseif $identifySlave.pregnancy.recovery&gt;&gt;
	  $identifySlave.name will recover from &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; pregnancy in $identifySlave.pregnancy.recovery weeks.

	&lt;&lt;/if&gt;&gt;

	$identifySlave.pregnancy.status
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.known.sexualskill&gt;&gt;
	&lt;br&gt;&lt;br&gt;

	_name&#39;s sexual fortitude is _sexualstrength and &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; responsiveness  during sexual intercourse is _sexualspeed. &lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; sexual stamina is _sexualstamina and &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; sexual control is _sexualcontrol.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $identifySlave.bust.current &gt; 1&gt;&gt;
	_name has &lt;&lt;print $inverted[$identifySlave.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; &lt;&lt;print $bust[$identifySlave.bust.current]&gt;&gt; sized breasts. The sensitivity of &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; breasts are _breastSens.
&lt;&lt;else&gt;&gt;
	_name has &lt;&lt;print $inverted[$identifySlave.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; chest. The sensitivity of &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; nipples are _breastSens.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.milk.quality.current &amp;&amp; $identifySlave.milk.quantity.current &amp;&amp; $identifySlave.milk.taste.current&gt;&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; is lactating, and can produce a _milkquantity amount of _milkquality milk. &lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; milk has a _milktaste taste to it.
	
&lt;&lt;elseif [&quot;holstaur&quot;].contains($identifySlave.tribe) &amp;&amp; $identifySlave.virgin&gt;&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; is not lactating and cannot produce any milk until &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; loses &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; virginity.

&lt;&lt;else&gt;&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; is not lactating so &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; produce any milk.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.girth.current &gt; 0&gt;&gt;
	&lt;&lt;set _girth = extractWord($girth[$identifySlave.girth.current])&gt;&gt;
	&lt;&lt;set _an = AvsAn.query(_girth)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.cock.current &gt; 0 &amp;&amp; $identifySlave.girth.current &gt; 0&gt;&gt;
	$identifySlave.name has _an &lt;&lt;print $girth[$identifySlave.girth.current]&gt;&gt;, &lt;&lt;print $cock[$identifySlave.cock.current]&gt;&gt; &lt;&lt;print $circumcised[$identifySlave.circumcised]&gt;&gt; _cock cock hanging between &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; legs. The sensitivity of &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; cock is _cockSens.

	&lt;&lt;if $identifySlave.cum.quality.current &amp;&amp; $identifySlave.cum.quantity.current &amp;&amp; $identifySlave.cum.taste.current &amp;&amp; !$identifySlave.balls.current&gt;&gt;
		It can produce a _cumquantity amount of _cumquality semen. &lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; semen has a _cumtaste taste to it.
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.balls.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; has a pair of &lt;&lt;print $balls[$identifySlave.balls.current]&gt;&gt; balls. The sensitivity of &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; balls are _ballsSens.

	&lt;&lt;if $identifySlave.cum.quality.current &amp;&amp; $identifySlave.cum.quantity.current &amp;&amp; $identifySlave.cum.taste.current &amp;&amp; $identifySlave.cock.current &amp;&amp; $identifySlave.girth.current&gt;&gt;
		When full they can produce a _cumquantity amount of _cumquality semen. &lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; semen has a _cumtaste taste to it.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.pussy.current &gt; 0&gt;&gt;
	&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; pussy is &lt;&lt;print $pussy[$identifySlave.pussy.current]&gt;&gt;. The sensitivity of &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; pussy is _pussySens.

	&lt;&lt;if $identifySlave.nectar.quality.current &amp;&amp; $identifySlave.nectar.quantity.current &amp;&amp; $identifySlave.nectar.taste.current&gt;&gt;
		When aroused &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; pussy produces a _nectarquantity amount of _nectarquality nectar. &lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; nectar has a _nectartaste taste to it.
		
	&lt;&lt;elseif [&quot;elf&quot;].contains($identifySlave.race) &amp;&amp; $identifySlave.virgin&gt;&gt;
		&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; is not nectaring and cannot produce any nectar until &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; loses &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; virginity.
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; is not nectaring so &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; cannot produce any nectar.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.clit.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; has a &lt;&lt;print $clitoris[$identifySlave.clit.current]&gt;&gt; and &lt;&lt;print $hooded[$identifySlave.hooded]&gt;&gt; clit. The sensitivity of &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; is _clitSens.
&lt;&lt;/if&gt;&gt;

_name&#39;s ass is &lt;&lt;print $butt[$identifySlave.gender][$identifySlave.butt.current]&gt;&gt;.

&lt;&lt;if $identifySlave.gape == 100&gt;&gt;
	 &lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; asshole has been _gape to the point that you can fit multiple intrusions into &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; asshole without causing &lt;&lt;print $himher[$identifySlave.gender]&gt;&gt; any pain.

&lt;&lt;elseif $identifySlave.gape &gt;= 80&gt;&gt;
	$&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; asshole is _gape and can accommodate almost any size intrusion.

&lt;&lt;elseif $identifySlave.gape &gt;= 60&gt;&gt;
	&lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; asshole is _gape and as long as &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; uses lube &lt;&lt;print $heshe[$identifySlave.gender]&gt;&gt; can accommodate people of any size.

&lt;&lt;elseif $identifySlave.gape &gt;= 40&gt;&gt;
	&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; ass has been _gape. It can fit a full sized intrusion but anything larger than that can cause pain even with lube.

&lt;&lt;elseif $identifySlave.gape &gt;= 20&gt;&gt;
	&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; asshole is _gape but it has seen some use.

&lt;&lt;elseif $identifySlave.gape &gt;= 0&gt;&gt;
	&lt;&lt;print $HisHer[$identifySlave.gender]&gt;&gt; asshole is _gape. You can barely fit your finger in it, let alone a full sized intrusion.

&lt;&lt;/if&gt;&gt;

The sensitivity of &lt;&lt;print $hisher[$identifySlave.gender]&gt;&gt; anus is _anusSens.

&lt;&lt;if $identifySlave.virgin || $identifySlave.analvirgin&gt;&gt;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.virgin&gt;&gt;
	&lt;br&gt;
	$identifySlave.name is a @@color:green;virgin@@.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $identifySlave.analvirgin&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print $HeShe[$identifySlave.gender]&gt;&gt; is an @@color:green;anal virgin@@.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="77" name="Shop Templates" tags="nobr" position="150,25" size="100,100">&lt;&lt;switch $slavetemplate&gt;&gt;
	&lt;&lt;case &quot;Jhak&quot;&gt;&gt;
		&lt;&lt;set _low = 14&gt;&gt;
		&lt;&lt;set _high = 20&gt;&gt;
		&lt;&lt;set _baseprice = 1000&gt;&gt;
		&lt;&lt;set _multi = 1&gt;&gt;
		&lt;&lt;if _characterShop&gt;&gt;
			&lt;&lt;set _characterShop.maxamount = 20&gt;&gt;
		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Sasha&quot;&gt;&gt;
		&lt;&lt;set _low = 20&gt;&gt;
		&lt;&lt;set _high = 30&gt;&gt;
		&lt;&lt;set _baseprice = 1000&gt;&gt;
		&lt;&lt;set _multi = 1&gt;&gt;
		&lt;&lt;if _characterShop&gt;&gt;
			&lt;&lt;set _characterShop.maxamount = 30&gt;&gt;
		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Pan&quot;&gt;&gt;
		&lt;&lt;set _low = 6&gt;&gt;
		&lt;&lt;set _high = 10&gt;&gt;
		&lt;&lt;set _baseprice = 1000&gt;&gt;
		&lt;&lt;set _multi = 1.5&gt;&gt;
		&lt;&lt;if _characterShop&gt;&gt;
			&lt;&lt;set _characterShop.maxamount = 10&gt;&gt;
		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;
</tw-passagedata><tw-passagedata pid="78" name="Main Menu" tags="nobr" position="14,911" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Unset Wardrobe&quot;&gt;&gt;
&lt;&lt;include &quot;Items&quot;&gt;&gt;
&lt;&lt;set $MainMenu = 1&gt;&gt;
&lt;&lt;unset $SlaveShop&gt;&gt;
&lt;&lt;unset $slavenumber&gt;&gt;
&lt;&lt;unset $ownpage&gt;&gt;
&lt;&lt;set $Guild = {type:null, loc:null}&gt;&gt;
&lt;&lt;set $NextWeek = 1&gt;&gt;
&lt;&lt;set $Travel = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if settings.cheats&gt;&gt;
	&lt;&lt;if $cheat == &quot;goldHoard&quot;&gt;&gt;
		&lt;&lt;set $PC.money += 100000&gt;&gt;

	&lt;&lt;elseif $cheat == &quot;dragonHoard&quot;&gt;&gt;
		&lt;&lt;set $PC.money += 100000000&gt;&gt;

    &lt;&lt;elseif $cheat == &quot;superSlaver&quot;&gt;&gt;
        &lt;&lt;set $PC.guild.slaver.rankup = 1&gt;&gt;
		
	&lt;&lt;elseif $cheat == &quot;trueOrc&quot;&gt;&gt;
		&lt;&lt;set $PC.energy.current = $PC.energy.max&gt;&gt;
		
	&lt;&lt;elseif $cheat == &quot;spaDay&quot;&gt;&gt;
		&lt;&lt;if !$activeCharacter&gt;&gt;
			&lt;b&gt;@@color:red;Error!@@&lt;/b&gt; &lt;br&gt;
			The code you entered requires an active slave. Call a slave into your office by clicking on their name before using this code again.
			&lt;br&gt;&lt;br&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set $activeCharacter.fatigue.physical = $activeCharacter.fatigue.max&gt;&gt;
			&lt;&lt;set $activeCharacter.fatigue.mental = $activeCharacter.fatigue.max&gt;&gt;
			&lt;&lt;set $activeCharacter.condition.progress = 100&gt;&gt;
			&lt;&lt;set $activeCharacter.fatigue.progress = 0&gt;&gt;
		
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if [&quot;goldHoard&quot;, &quot;trueOrc&quot;, &quot;spaDay&quot;, &quot;energyWell&quot;, &quot;healthSustain&quot;, &quot;moodBlockers&quot;].contains($cheat)&gt;&gt;
		&lt;&lt;run addCheatPage($cheat)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if [&quot;energyWell&quot;, &quot;healthSustain&quot;, &quot;moodBlockers&quot;].contains($cheat)&gt;&gt;
		&lt;&lt;run toggleCheat($cheat)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $cheat = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Updates&quot;&gt;&gt;

&lt;center&gt;
&lt;big&gt;&#39;&#39;Manage $estate.name Slaves&#39;&#39;&lt;/big&gt;
&lt;br&gt;

&lt;&lt;if $slaves.amount == 0&gt;&gt;
	You currently don&#39;t own any slaves. You can buy your first slave by traveling to slave market in the [[Waiross Slums|Slums]].
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;&lt;if $activeCharacter&gt;&gt;
	&lt;&lt;set _ID = $activeCharacter.ID&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _ID = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _institutes = [&quot;estate&quot;]&gt;&gt;

&lt;&lt;if $estate.brothel.active&gt;&gt;
	&lt;&lt;set _institutes.push(&quot;brothel&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.ranch.pop&gt;&gt;
	&lt;&lt;set _institutes.push(&quot;ranch&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.chattel.pop&gt;&gt;
	&lt;&lt;set _institutes.push(&quot;chattel&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.chattel.active&gt;&gt;
	&lt;&lt;set _chattelcap = $estate.chattel.cap&gt;&gt;
	&lt;&lt;set _chattelpenpop = 0&gt;&gt;

	&lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
		&lt;&lt;set _chattelcap += $estate.chattel.pens[_p].cap&gt;&gt;
		&lt;&lt;set _chattelpenpop += $estate.chattel.pens[_p].pop&gt;&gt;
		&lt;&lt;set $estate.chattel.pens[_p].stylepage = null&gt;&gt;
	&lt;&lt;/for&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_institutes.includes($main.page)&gt;&gt;
	&lt;&lt;set $main.page = _institutes[0]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;span id=&quot;inspection&quot;&gt;
&lt;&lt;if $activeCharacter&gt;&gt;
	&lt;&lt;set _character = $activeCharacter&gt;&gt;
	&lt;&lt;include &quot;Slave Inspection&quot;&gt;&gt;
	&lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/span&gt;

&lt;&lt;if _institutes.length&gt;&gt;

	&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

	&lt;tr&gt;
		&lt;&lt;if _institutes.contains(&quot;estate&quot;)&gt;&gt;
			&lt;&lt;if $main.page == &quot;estate&quot;&gt;&gt;
				&lt;th&gt;$estate.name [$estate.pop/$estate.cap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[&quot; + $estate.name + &quot; [&quot; + $estate.pop + &quot;/&quot; + $estate.cap + &quot;]|Main Menu][$main.page = &#39;estate&#39;, $activeCharacter = null]]&quot;&gt;&gt;&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if _institutes.contains(&quot;brothel&quot;)&gt;&gt;
			&lt;&lt;if $main.page == &quot;brothel&quot;&gt;&gt;
				&lt;th&gt;$estate.brothel.name [$estate.brothel.pop/$estate.brothel.cap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[&quot; + $estate.brothel.name + &quot; [&quot; + $estate.brothel.pop + &quot;/&quot; + $estate.brothel.cap + &quot;]|Main Menu][$main.page = &#39;brothel&#39;, $activeCharacter = null]]&quot;&gt;&gt;&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if _institutes.contains(&quot;ranch&quot;)&gt;&gt;
			&lt;&lt;if $main.page == &quot;ranch&quot;&gt;&gt;
				&lt;th&gt;Ranch Slaves[$estate.ranch.pop/$estate.ranch.cap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[Ranch Slaves[&quot; + $estate.ranch.pop + &quot;/&quot; + $estate.ranch.cap + &quot;]|Main Menu][$main.page = &#39;ranch&#39;, $activeCharacter = null]]&quot;&gt;&gt;&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if _institutes.contains(&quot;chattel&quot;)&gt;&gt;
			&lt;&lt;if $main.page == &quot;chattel&quot;&gt;&gt;
				&lt;th&gt;Chattel Slaves[$estate.chattel.pop/_chattelcap]&lt;/th&gt;
			&lt;&lt;else&gt;&gt;
				&lt;th&gt;&lt;&lt;print &quot;[[Chattel Slaves[&quot; + $estate.chattel.pop + &quot;/&quot; + _chattelcap + &quot;]|Main Menu][$main.page = &#39;chattel&#39;, $activeCharacter = null]]&quot;&gt;&gt;&lt;/th&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;/tr&gt;

	&lt;/table&gt;

	&lt;&lt;if [&quot;brothel&quot;].contains($main.page)&gt;&gt;
		&lt;&lt;include &quot;Brothel UI&quot;&gt;&gt;
		
	&lt;&lt;elseif [&quot;estate&quot;].contains($main.page)&gt;&gt;
		&lt;&lt;include &quot;Estate UI&quot;&gt;&gt;
	
	&lt;&lt;elseif $main.page == &quot;chattel&quot;&gt;&gt;
		&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
		
		&lt;&lt;if $estate.chattel.pop &gt; _chattelpenpop&gt;&gt;
			&lt;tr&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 34%;&#39;&gt;&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
			&lt;/tr&gt;

			&lt;tr&gt;
				&lt;th colspan = 7&gt;Holding Pen [&lt;&lt;print $estate.chattel.pop-_chattelpenpop&gt;&gt;/$estate.chattel.cap]&lt;/th&gt;
			&lt;/tr&gt;

			&lt;tr&gt;
				&lt;th style=&#39;width: 34%;&#39;&gt;Identity&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Obedience&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Trust&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Fear&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Health&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Fatigue&lt;/th&gt;
				&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Weight&lt;/th&gt;
			&lt;/tr&gt;

			&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
				&lt;&lt;set _character = $slaves[_i]&gt;&gt;
				&lt;&lt;if _character.location == &quot;chattel&quot; &amp;&amp; !_character.chattel.pen&gt;&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;&lt;displayTitle _character.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race _character.tribe &quot;Main Menu&quot;&gt;&gt; &lt;&lt;print &quot;[[_character.name|Main Menu][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt; &lt;&lt;gender _character.sex _character.gender&gt;&gt; &lt;&lt;print &quot;[[✓|Slave Description][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt;&lt;/td&gt;
						&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getObedience(_character.obedience.current)&gt;&gt;&lt;/td&gt;
						&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getTrust(_character.trust.current)&gt;&gt;&lt;/td&gt;
						&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getFear(_character.fear.current)&gt;&gt;&lt;/td&gt;
						&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $UChealth[_character.health]&gt;&gt;&lt;/td&gt;
						&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getFatigue(_character)&gt;&gt;&lt;/td&gt;
						&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $UCweight[_character.weight]&gt;&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;&lt;/if&gt;&gt;
			&lt;&lt;/for&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;for _num = 1; _num &lt;= $estate.chattel.pens.amount; _num++&gt;&gt;
			&lt;&lt;set _pen = $estate.chattel.pens[_num]&gt;&gt;

			&lt;&lt;if _pen.pop&gt;&gt;
				&lt;tr&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 34%;&#39;&gt;&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
				&lt;/tr&gt;

				&lt;tr&gt;
					&lt;th colspan = 7&gt;Pen _num [_pen.pop/_pen.cap]&lt;/th&gt;
				&lt;/tr&gt;

				&lt;tr&gt;
					&lt;th style=&#39;width: 34%;&#39;&gt;Identity&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Obedience&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Trust&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Fear&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Health&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Fatigue&lt;/th&gt;
					&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Weight&lt;/th&gt;
				&lt;/tr&gt;

				&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
					&lt;&lt;set _character = $slaves[_i]&gt;&gt;

					&lt;&lt;if _character.location == &quot;chattel&quot; &amp;&amp; _character.chattel.pen == _num&gt;&gt;
						&lt;tr&gt;
							&lt;td&gt;&lt;&lt;displayTitle _character.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race _character.tribe &quot;Main Menu&quot;&gt;&gt; &lt;&lt;print &quot;[[_character.name|Main Menu][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt; &lt;&lt;gender _character.sex _character.gender&gt;&gt; &lt;&lt;print &quot;[[✓|Slave Description][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt;&lt;/td&gt;
							&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getObedience(_character.obedience.current)&gt;&gt;&lt;/td&gt;
							&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getTrust(_character.trust.current)&gt;&gt;&lt;/td&gt;
							&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getFear(_character.fear.current)&gt;&gt;&lt;/td&gt;
							&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $UChealth[_character.health]&gt;&gt;&lt;/td&gt;
							&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getFatigue(_character)&gt;&gt;&lt;/td&gt;
							&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $UCweight[_character.weight]&gt;&gt;&lt;/td&gt;
						&lt;/tr&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/for&gt;&gt;

			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/for&gt;&gt;
		&lt;/table&gt;

	&lt;&lt;else&gt;&gt;
		&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
		
		&lt;tr&gt;
			&lt;th style=&#39;width: 34%;&#39;&gt;Identity&lt;/th&gt;
			&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Obedience&lt;/th&gt;
			&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Trust&lt;/th&gt;
			&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Fear&lt;/th&gt;
			&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Health&lt;/th&gt;
			&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Fatigue&lt;/th&gt;
			&lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Weight&lt;/th&gt;
		&lt;/tr&gt;

		&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
			&lt;&lt;set _character = $slaves[_i]&gt;&gt;
			&lt;&lt;include &quot;Modernize Slave&quot;&gt;&gt;

			&lt;&lt;if _character.location == $main.page&gt;&gt;
				&lt;tr&gt;
					&lt;td&gt;&lt;&lt;displayTitle _character.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race _character.tribe &quot;Main Menu&quot;&gt;&gt; &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + amendString(_character.name) + &quot;&#39;&gt;&gt;&lt;&lt;set $activeCharacter = $slaves[&quot; + _i + &quot;]&gt;&gt;&lt;&lt;replace &#39;#inspection&#39; t8n&gt;&gt;&lt;&lt;set _character = $activeCharacter&gt;&gt;&lt;&lt;include &#39;Slave Inspection&#39;&gt;&gt;&lt;&lt;saveSlave $activeCharacter&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt; &lt;&lt;gender _character.sex _character.gender&gt;&gt; &lt;&lt;print &quot;[[✓|Slave Description][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt;&lt;/td&gt;
					&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getObedience(_character.obedience.current)&gt;&gt;&lt;/td&gt;
					&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getTrust(_character.trust.current)&gt;&gt;&lt;/td&gt;
					&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getFear(_character.fear.current)&gt;&gt;&lt;/td&gt;
					&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $UChealth[_character.health]&gt;&gt;&lt;/td&gt;
					&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print getFatigue(_character)&gt;&gt;&lt;/td&gt;
					&lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $UCweight[_character.weight]&gt;&gt;&lt;/td&gt;
				&lt;/tr&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/for&gt;&gt;
		
		&lt;/table&gt;
	&lt;&lt;/if&gt;&gt;
	

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="79" name="Game Over" tags="nobr" position="12,1301" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;

&lt;b&gt;--Game Over--&lt;/b&gt;

&lt;br&gt;&lt;br&gt;

You&#39;ve been in debt for too long.</tw-passagedata><tw-passagedata pid="80" name="Sell Slave" tags="nobr noreturn notruereturn" position="357,643" size="100,100">&lt;&lt;set _price = $activeCharacter.ogprice * 0.75&gt;&gt;
&lt;&lt;set _price = Math.round10(_price,1)&gt;&gt;

&lt;&lt;if $sell == 0&gt;&gt;
	&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
	&lt;&lt;set $Return = 1&gt;&gt;
  &lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;
  
	Are you sure you want to sell $activeCharacter.name for @@color:lightgreen;💎_price@@?

	[[Yes|Sell Slave][$sell = 1]] | [[No|Slave Description]] 
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
	&lt;&lt;set $Main = 1&gt;&gt;
  &lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

	You have sold $activeCharacter.name for @@color:lightgreen;💎_price@@.
	
	&lt;&lt;set $PC.money += _price&gt;&gt;
	&lt;&lt;include &quot;Move Slave&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="81" name="Training Battle" tags="nobr noreturn notruereturn" position="2001,101" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set _character = $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;
&lt;&lt;set $activeCharacter = _character&gt;&gt;
&lt;&lt;set $Training = 1&gt;&gt;

&lt;&lt;if $activeCharacter.fatigue.physical != $activeCharacter.fatigue.max&gt;&gt;
	&lt;&lt;set _basesub = $activeCharacter.submission&gt;&gt;
&lt;&lt;elseif $obediencetitles.includes($activeCharacter.title) || $activeCharacter.obedience.current == 140&gt;&gt;
	&lt;&lt;set _basesub = 100&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &lt; 20 &amp;&amp; $activeCharacter.fear.current &lt; 20&gt;&gt;
	&lt;&lt;set _basesub = 0&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &lt; 40 &amp;&amp; $activeCharacter.fear.current &lt; 40&gt;&gt;
	&lt;&lt;set _basesub = 20&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60 &amp;&amp; $activeCharacter.fear.current &lt; 60&gt;&gt;
	&lt;&lt;set _basesub = 40&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &lt; 80 &amp;&amp; $activeCharacter.fear.current &lt; 80&gt;&gt;
	&lt;&lt;set _basesub = 60&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &lt; 100 &amp;&amp; $activeCharacter.fear.current &lt; 100&gt;&gt;
	&lt;&lt;set _basesub = 70&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &lt; 120&gt;&gt;
	&lt;&lt;set _basesub = 80&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &lt; 140&gt;&gt;
	&lt;&lt;set _basesub = 90&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.fatigue.physical != $activeCharacter.fatigue.max&gt;&gt;
	&lt;&lt;set _basewill = $activeCharacter.will&gt;&gt;
&lt;&lt;elseif $trusttitles.includes($activeCharacter.title) || $activeCharacter.trust.current == 140 || $activeCharacter.fear.current &gt;= 80&gt;&gt;
	&lt;&lt;set _basewill = 0&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &lt; 20&gt;&gt;
	&lt;&lt;set _basewill = 100&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &lt; 40&gt;&gt;
	&lt;&lt;set _basewill = 80&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &lt; 60&gt;&gt;
	&lt;&lt;set _basewill = 60&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &lt; 80&gt;&gt;
	&lt;&lt;set _basewill = 40&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &lt; 100&gt;&gt;
	&lt;&lt;set _basewill = 30&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &lt; 120&gt;&gt;
	&lt;&lt;set _basewill = 20&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &lt; 140&gt;&gt;
	&lt;&lt;set _basewill = 10&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$subtrainingtype&gt;&gt;
	&lt;&lt;set $Previous = &quot;Train&quot;&gt;&gt;
	&lt;&lt;set $LustCount = 0&gt;&gt;
	&lt;&lt;set $activeCharacter.submission = _basesub&gt;&gt;
	&lt;&lt;set $activeCharacter.will = _basewill&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $EndTraining = &quot;End Training&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $tips.training&gt;&gt;
	&lt;&lt;include &quot;Training Tips&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$tips.training&gt;&gt;
	&lt;&lt;set _tl = $trainingtype + &quot; Training&quot;&gt;&gt;
	&lt;center&gt;&lt;h3&gt;_tl&lt;/h3&gt;&lt;/center&gt;
	&lt;center&gt;[[(Show Training Tips)|Training Battle][$tips.training = 1]]&lt;/center&gt;

&lt;&lt;else&gt;&gt;
	&lt;center&gt;&lt;h3&gt;$trainingtype Training&lt;/h3&gt;&lt;/center&gt;
&lt;&lt;/if&gt;&gt;

&lt;center&gt;
&lt;&lt;include $trainingtype&gt;&gt;
&lt;hr&gt;

&lt;h3&gt;Discipline&lt;/h3&gt;
&lt;&lt;include &quot;Rewards&quot;&gt;&gt;
&lt;&lt;include &quot;Punishments&quot;&gt;&gt;
&lt;/center&gt;</tw-passagedata><tw-passagedata pid="82" name="Battle Stats" tags="Stats" position="1232,696" size="100,100">&lt;&lt;if $trainingtype == &quot;Sexual&quot;&gt;&gt;\
|stattable|k
| !Will | &lt;&lt;statbar $activeCharacter.will 100&gt;&gt; |
| !Submission | &lt;&lt;statbar $activeCharacter.submission 100&gt;&gt; |
| !Fatigue | &lt;&lt;statbar $activeCharacter.fatigue.physical $activeCharacter.fatigue.max&gt;&gt; |
| !Mood | &lt;&lt;print getMood($activeCharacter)&gt;&gt; |
| !Lust | &lt;&lt;print getLust($activeCharacter.lust)&gt;&gt; |
| !Dominant | &lt;&lt;statbar $activeCharacter.stats.dominant 100&gt;&gt; |
| !Submissive | &lt;&lt;statbar $activeCharacter.stats.submissive 100&gt;&gt; |
| !@@color:#b71c1c;Strumpetry@@ | &lt;&lt;statbar $activeCharacter.stats.strumpetry 100&gt;&gt; |
| !@@color:#004dcf;Masculinity@@ | &lt;&lt;statbar $activeCharacter.stats.masculinity 100&gt;&gt; |
| !@@color:#f78da7;Femininity@@ | &lt;&lt;statbar $activeCharacter.stats.femininity 100&gt;&gt; |
| !@@color:#3A82FF;Sissification@@ | &lt;&lt;statbar $activeCharacter.stats.sissification 100&gt;&gt; |
| !@@color:#ffffff;Focus@@ | !&lt;&lt;statbar $activeCharacter.fatigue.mental $activeCharacter.fatigue.max&gt;&gt; |
&lt;&lt;elseif $trainingtype == &quot;Induce&quot;&gt;&gt;\
|stattable|k
| !Will | &lt;&lt;statbar $activeCharacter.will 100&gt;&gt; |
| !Submission | &lt;&lt;statbar $activeCharacter.submission 100&gt;&gt; |
| !Fatigue | &lt;&lt;statbar $activeCharacter.fatigue.physical $activeCharacter.fatigue.max&gt;&gt; |
| !Mood | &lt;&lt;print getMood($activeCharacter)&gt;&gt; |
| !Lust | &lt;&lt;print getLust($activeCharacter.lust)&gt;&gt; |
| !Dominant | &lt;&lt;statbar $activeCharacter.stats.dominant 100&gt;&gt; |
| !Submissive | &lt;&lt;statbar $activeCharacter.stats.submissive 100&gt;&gt; |
| !@@color:#b71c1c;Strumpetry@@ | &lt;&lt;statbar $activeCharacter.stats.strumpetry 100&gt;&gt; |
| !@@color:#004dcf;Masculinity@@ | &lt;&lt;statbar $activeCharacter.stats.masculinity 100&gt;&gt; |
| !@@color:#f78da7;Femininity@@ | &lt;&lt;statbar $activeCharacter.stats.femininity 100&gt;&gt; |
| !@@color:#3A82FF;Sissification@@ | &lt;&lt;statbar $activeCharacter.stats.sissification 100&gt;&gt; |
| !@@color:#ffffff;Focus@@ | !&lt;&lt;statbar $activeCharacter.fatigue.mental $activeCharacter.fatigue.max&gt;&gt; |
&lt;&lt;elseif $trainingtype == &quot;Feminization&quot;&gt;&gt;\
|stattable|k
| !Will | &lt;&lt;statbar $activeCharacter.will 100&gt;&gt; |
| !Submission | &lt;&lt;statbar $activeCharacter.submission 100&gt;&gt; |
| !Fatigue | &lt;&lt;statbar $activeCharacter.fatigue.physical $activeCharacter.fatigue.max&gt;&gt; |
| !Mood | &lt;&lt;print getMood($activeCharacter)&gt;&gt; |
| !Lust | &lt;&lt;print getLust($activeCharacter.lust)&gt;&gt; |
| !Dominant | &lt;&lt;statbar $activeCharacter.stats.dominant 100&gt;&gt; |
| !Submissive | &lt;&lt;statbar $activeCharacter.stats.submissive 100&gt;&gt; |
| !@@color:#b71c1c;Strumpetry@@ | &lt;&lt;statbar $activeCharacter.stats.strumpetry 100&gt;&gt; |
| !@@color:#004dcf;Masculinity@@ | &lt;&lt;statbar $activeCharacter.stats.masculinity 100&gt;&gt; |
| !@@color:#f78da7;Femininity@@ | &lt;&lt;statbar $activeCharacter.stats.femininity 100&gt;&gt; |
| !@@color:#3A82FF;Sissification@@ | &lt;&lt;statbar $activeCharacter.stats.sissification 100&gt;&gt; |
| !@@color:#ffffff;Focus@@ | !&lt;&lt;statbar $activeCharacter.fatigue.mental $activeCharacter.fatigue.max&gt;&gt; |
&lt;&lt;elseif $trainingtype == &quot;Femininity&quot;&gt;&gt;\
|stattable|k
| !Will | &lt;&lt;statbar $activeCharacter.will 100&gt;&gt; |
| !Submission | &lt;&lt;statbar $activeCharacter.submission 100&gt;&gt; |
| !Fatigue | &lt;&lt;statbar $activeCharacter.fatigue.physical $activeCharacter.fatigue.max&gt;&gt; |
| !Mood | &lt;&lt;print getMood($activeCharacter)&gt;&gt; |
| !Lust | &lt;&lt;print getLust($activeCharacter.lust)&gt;&gt; |
| !Dominant | &lt;&lt;statbar $activeCharacter.stats.dominant 100&gt;&gt; |
| !Submissive | &lt;&lt;statbar $activeCharacter.stats.submissive 100&gt;&gt; |
| !@@color:#b71c1c;Strumpetry@@ | &lt;&lt;statbar $activeCharacter.stats.strumpetry 100&gt;&gt; |
| !@@color:#004dcf;Masculinity@@ | &lt;&lt;statbar $activeCharacter.stats.masculinity 100&gt;&gt; |
| !@@color:#f78da7;Femininity@@ | &lt;&lt;statbar $activeCharacter.stats.femininity 100&gt;&gt; |
| !@@color:#3A82FF;Sissification@@ | &lt;&lt;statbar $activeCharacter.stats.sissification 100&gt;&gt; |
| !@@color:#ffffff;Focus@@ | !&lt;&lt;statbar $activeCharacter.fatigue.mental $activeCharacter.fatigue.max&gt;&gt; |
&lt;&lt;elseif $trainingtype == &quot;Masculinity&quot;&gt;&gt;\
|stattable|k
| !Will | &lt;&lt;statbar $activeCharacter.will 100&gt;&gt; |
| !Submission | &lt;&lt;statbar $activeCharacter.submission 100&gt;&gt; |
| !Fatigue | &lt;&lt;statbar $activeCharacter.fatigue.physical $activeCharacter.fatigue.max&gt;&gt; |
| !Mood | &lt;&lt;print getMood($activeCharacter)&gt;&gt; |
| !Lust | &lt;&lt;print getLust($activeCharacter.lust)&gt;&gt; |
| !Dominant | &lt;&lt;statbar $activeCharacter.stats.dominant 100&gt;&gt; |
| !Submissive | &lt;&lt;statbar $activeCharacter.stats.submissive 100&gt;&gt; |
| !@@color:#b71c1c;Strumpetry@@ | &lt;&lt;statbar $activeCharacter.stats.strumpetry 100&gt;&gt; |
| !@@color:#004dcf;Masculinity@@ | &lt;&lt;statbar $activeCharacter.stats.masculinity 100&gt;&gt; |
| !@@color:#f78da7;Femininity@@ | &lt;&lt;statbar $activeCharacter.stats.femininity 100&gt;&gt; |
| !@@color:#3A82FF;Sissification@@ | &lt;&lt;statbar $activeCharacter.stats.sissification 100&gt;&gt; |
| !@@color:#ffffff;Focus@@ | !&lt;&lt;statbar $activeCharacter.fatigue.mental $activeCharacter.fatigue.max&gt;&gt; |
&lt;&lt;elseif $trainingtype == &quot;Strumpetry&quot;&gt;&gt;\
|stattable|k
| !Will | &lt;&lt;statbar $activeCharacter.will 100&gt;&gt; |
| !Submission | &lt;&lt;statbar $activeCharacter.submission 100&gt;&gt; |
| !Fatigue | &lt;&lt;statbar $activeCharacter.fatigue.physical $activeCharacter.fatigue.max&gt;&gt; |
| !Mood | &lt;&lt;print getMood($activeCharacter)&gt;&gt; |
| !Lust | &lt;&lt;print getLust($activeCharacter.lust)&gt;&gt; |
| !Dominant | &lt;&lt;statbar $activeCharacter.stats.dominant 100&gt;&gt; |
| !Submissive | &lt;&lt;statbar $activeCharacter.stats.submissive 100&gt;&gt; |
| !@@color:#b71c1c;Strumpetry@@ | &lt;&lt;statbar $activeCharacter.stats.strumpetry 100&gt;&gt; |
| !@@color:#004dcf;Masculinity@@ | &lt;&lt;statbar $activeCharacter.stats.masculinity 100&gt;&gt; |
| !@@color:#f78da7;Femininity@@ | &lt;&lt;statbar $activeCharacter.stats.femininity 100&gt;&gt; |
| !@@color:#3A82FF;Sissification@@ | &lt;&lt;statbar $activeCharacter.stats.sissification 100&gt;&gt; |
| !@@color:#ffffff;Focus@@ | !&lt;&lt;statbar $activeCharacter.fatigue.mental $activeCharacter.fatigue.max&gt;&gt; |
&lt;&lt;elseif $trainingtype == &quot;D/s&quot;&gt;&gt;\
|stattable|k
| !Will | &lt;&lt;statbar $activeCharacter.will 100&gt;&gt; |
| !Submission | &lt;&lt;statbar $activeCharacter.submission 100&gt;&gt; |
| !Fatigue | &lt;&lt;statbar $activeCharacter.fatigue.physical $activeCharacter.fatigue.max&gt;&gt; |
| !Mood | &lt;&lt;print getMood($activeCharacter)&gt;&gt; |
| !Lust | &lt;&lt;print getLust($activeCharacter.lust)&gt;&gt; |
| !Dominant | &lt;&lt;statbar $activeCharacter.stats.dominant 100&gt;&gt; |
| !Submissive | &lt;&lt;statbar $activeCharacter.stats.submissive 100&gt;&gt; |
| !@@color:#b71c1c;Strumpetry@@ | &lt;&lt;statbar $activeCharacter.stats.strumpetry 100&gt;&gt; |
| !@@color:#004dcf;Masculinity@@ | &lt;&lt;statbar $activeCharacter.stats.masculinity 100&gt;&gt; |
| !@@color:#f78da7;Femininity@@ | &lt;&lt;statbar $activeCharacter.stats.femininity 100&gt;&gt; |
| !@@color:#3A82FF;Sissification@@ | &lt;&lt;statbar $activeCharacter.stats.sissification 100&gt;&gt; |
| !@@color:#ffffff;Focus@@ | !&lt;&lt;statbar $activeCharacter.fatigue.mental $activeCharacter.fatigue.max&gt;&gt; |
&lt;&lt;/if&gt;&gt;\</tw-passagedata><tw-passagedata pid="83" name="Feminization" tags="nobr" position="2262,232" size="100,100">&lt;&lt;include &quot;FTV&quot;&gt;&gt;
&lt;&lt;include &quot;Feminization Training&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="84" name="Shaving" tags="nobr" position="2262,362" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;if $activeCharacter.shaved == 0&gt;&gt;
	$activeCharacter.name&#39;s wild and unkempt body hair is completely unbecoming for someone considered to be a woman. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; genital area is in worse condition, completely covering the base of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print getCock($activeCharacter)&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; cock. The state of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; taint and asshole isn&#39;t any better.

&lt;&lt;elseif $activeCharacter.shaved == 1&gt;&gt;
	While $activeCharacter.name&#39;s body hair is not completely uncouth, the area around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print getCock($activeCharacter)&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; cock is completely covered in hair. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; taint and asshole have a lot of hair as well.

&lt;&lt;elseif $activeCharacter.shaved == 2&gt;&gt;
	$activeCharacter.name has little to no body hair. It seems like &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair is only just growing from the last time it was cut. There is a small amount of stubble around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print getCock($activeCharacter)&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; cock. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; taint and asshole have a little stubble as well.
&lt;&lt;/if&gt;&gt;

You explain to $activeCharacter.name that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; needs to be completely shaved.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name vehemently refuses to shave.&#39;&#39;@@
			
	&lt;br&gt;
			
	$activeCharacter.name argues that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t need to shave because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not a woman. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; runs away from you anytime you get near as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no desire to shave &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; and definitely doesn&#39;t trust you to be anywhere near &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; genitals with any type of blade. The razor you&#39;re planning to shave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with isn&#39;t the least bit intimidating. However $activeCharacter.name sees it differently and is actively covering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; junk with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands so you won&#39;t to be able to shave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; properly.
			
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name refuses to shave.&#39;&#39;@@
			
	&lt;br&gt;
			
	$activeCharacter.name silently stirs to &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; while watching you clean the razor you plan to shave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has massive reservations about allowing you to shave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t trust you enough and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is extremely worried about why you want to shave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; may not know what you have planned exactly, but whatever it is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t want anything to do with it. To protect &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has covered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; genitals with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands.
			
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;You forceful shave $activeCharacter.name&#39;s genital area, taint and asshole.&#39;&#39;@@
			
	&lt;br&gt;
			
	$activeCharacter.name immediately refuses to cooperate, cupping &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; genital area in defense. Having no patience for disobedience you make your way for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reacts to your movement by retreating until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is backed into a corner. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tells you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t want you to shave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Unluckily for him, your plans require no input from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You push &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; hard, knocking &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the ground and then crouch over &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You try to unpeel &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands from around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; crotch but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t let you. You smirk and put your hand around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; and start to apply pressure. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; eyes pop open in surprise as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realizes that you&#39;re squeezing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; balls with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own hands. Somehow &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; manages to plead for mercy through the pain. Happy with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; response you slowly release &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to turn around so you can properly shave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; does so with quietly and shows no signs of resistance.
			
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly allows you to shave &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; genital area, taint and asshole.&#39;&#39;@@ 
			
	&lt;br&gt;
			
	$activeCharacter.name has some reservations about being shaved. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; trusts you enough that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t think you&#39;re going to hurt &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; intentionally unless you say so but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t fond of being treated like a woman. You can tell from the troubled look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is thinking about refusing to comply. Ultimately &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; choses to listen to you, probably more scared of being punished than &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is scared of being treated like a woman instead of a man.
			
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name compliantly allows you to shave &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; genital area, taint and asshole.&#39;&#39;@@
			
	&lt;br&gt;
			
	You tell $activeCharacter.name to get on all fours and raise &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass up so you can shave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; obediently follows your orders without question. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is very content to follow your orders and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t worried about being treated like a girl in the slightest. You can see from the look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is fond of the attention you&#39;re giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as well.
			
&lt;&lt;/if&gt;&gt;
		
&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 1, _roll)&gt;&gt;

&lt;&lt;if _roll &gt;= 3&gt;&gt;
	&lt;&lt;set $activeCharacter.shaved = 3&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="85" name="Mood" tags="nobr" position="2131,101" size="100,100">&lt;&lt;set _mood = getMood($activeCharacter)&gt;&gt;
&lt;&lt;set _mood = lowercasecolor(_mood)&gt;&gt;
&lt;&lt;set _scale = $activeCharacter.mood.current&gt;&gt;


&lt;&lt;if _scale &lt; 25&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name is currently _mood.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name&#39;s submission will increase at a &#39;&#39;greatly reduced&#39;&#39; rate for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; training and discipline.
	
&lt;&lt;elseif _scale &lt; 50&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name is currently _mood.&#39;&#39;@@
	&lt;br&gt;	
	$activeCharacter.name&#39;s submission will increase at a &#39;&#39;reduced&#39;&#39; rate for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; training and discipline.
		
&lt;&lt;elseif _scale &lt; 75&gt;&gt;
	@@color:yellow;&#39;&#39;$activeCharacter.name is currently _mood.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name&#39;s submission will increase at a &#39;&#39;normal&#39;&#39; rate for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; training and discipline.
	
&lt;&lt;elseif _scale &lt; 100&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name is currently _mood.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name&#39;s submission will increase at an &#39;&#39;increased&#39;&#39; rate for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; training and discipline.
	
&lt;&lt;elseif _scale == 100&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name is currently _mood.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name&#39;s submission will increase at a &#39;&#39;greatly increased&#39;&#39; rate for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; training and discipline.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="86" name="Lust" tags="nobr" position="2261,102" size="100,100">&lt;&lt;switch $activeCharacter.lust&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		@@color:red;&#39;&#39;$activeCharacter.name is currently undersexed.&#39;&#39;@@&lt;br&gt;
		
		$activeCharacter.name will be much less inclined to follow your orders. Being undersexed will naturally have negative affects on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
	&lt;&lt;case 2&gt;&gt;
		@@color:orange;&#39;&#39;$activeCharacter.name is sexually sated.&#39;&#39;@@&lt;br&gt;
		
		$activeCharacter.name will be less inclined to follow your orders. Being undersexed will naturally have negative affects on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
	&lt;&lt;case 3&gt;&gt;
		@@color:yellow;&#39;&#39;$activeCharacter.name&#39;s lust is at a normal level.&#39;&#39;@@&lt;br&gt;
		
		$activeCharacter.name will not have any positive or negative inclinations to follow your orders, nor will &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood be affected in any way.
	&lt;&lt;case 4&gt;&gt;
		@@color:greenyellow;&#39;&#39;$activeCharacter.name is currently horny.&#39;&#39;@@&lt;br&gt;
		
		$activeCharacter.name will be more inclined to follow your orders. Being horny will naturally have positive affects on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
	&lt;&lt;case 5&gt;&gt;
		@@color:forestgreen;&#39;&#39;$activeCharacter.name is currently oversexed.&#39;&#39;@@ &lt;br&gt;
		
		$activeCharacter.name will be much more inclined to follow your orders. Being oversexed for too long will have negative affects on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $LustCount &gt;= 2&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	@@color:red;&#39;&#39;$activeCharacter.name mood has been negatively affected by being oversexed too long.&#39;&#39;@@
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.lust == 5 &amp;&amp; $subtrainingtype &amp;&amp; $subtrainingtype != &quot;Waiting&quot;&gt;&gt;
	&lt;&lt;set $LustCount++&gt;&gt;
&lt;&lt;elseif $activeCharacter.lust != 5&gt;&gt;
	&lt;&lt;set $LustCount = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="87" name="Punishments" tags="" position="2521,101" size="100,100">|chart|k
|&gt;|&gt;|&gt;|&gt;| !Punishments |
| ! | !Verbal | !Corporal | !Flagellation | !Degredation |
| Level 1 | [[Threaten|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;threaten&quot;]] | [[Slap|Results][$subtrainingtype = &quot;corporal&quot;, $disciplinesubtype = &quot;slap&quot;]] | [[Paddling|Results][$subtrainingtype = &quot;flagellation&quot;, $disciplinesubtype = &quot;paddling&quot;]] | [[Naked Walk|Results][$subtrainingtype = &quot;degradation&quot;, $disciplinesubtype = &quot;naked walk&quot;]] |
| Level 2 | [[Admonish|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;admonish&quot;]] | [[Spanking|Results][$subtrainingtype = &quot;corporal&quot;, $disciplinesubtype = &quot;spanking&quot;]] | [[Caning|Results][$subtrainingtype = &quot;flagellation&quot;, $disciplinesubtype = &quot;caning&quot;]] | [[Public Mouth|Results][$subtrainingtype = &quot;degradation&quot;, $disciplinesubtype = &quot;public mouth&quot;]] |
| Level 3 | [[Scold|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;scold&quot;]] | [[Beating|Results][$subtrainingtype = &quot;corporal&quot;, $disciplinesubtype = &quot;beating&quot;]] | [[Whipping|Results][$subtrainingtype = &quot;flagellation&quot;, $disciplinesubtype = &quot;whipping&quot;]] | [[Public Toilet|Results][$subtrainingtype = &quot;degradation&quot;, $disciplinesubtype = &quot;public toilet&quot;]] |</tw-passagedata><tw-passagedata pid="88" name="Rewards" tags="" position="2391,101" size="100,100">&lt;&lt;if $activeCharacter.cock.current &gt;= 1 &amp;&amp; $activeCharacter.pussy.current &gt;= 1&gt;&gt;\
|chart|k
|&gt;|&gt;|&gt;| !Rewards |
| ! | !Verbal | !Physical | !Sexual |
| Level 1 | [[Promise|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;promise&quot;]] | [[Coddle|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;coddle&quot;]] | [[Sensual Kissing|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;sensual kissing&quot;]] |
| Level 2 | [[Encourage|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;encourage&quot;]] | [[Massage|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;massage&quot;]] | [[Fingering|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;fingering&quot;]] / [[Handjob|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;hj&quot;]] |
| Level 3 | [[Praise|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;praise&quot;]] | [[Spa Treatment|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;spa treatment&quot;]] | [[Cunnilingus|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;cun&quot;]] / [[Blowjob|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;blowjob&quot;]] |
&lt;&lt;elseif $activeCharacter.cock.current &gt;= 1&gt;&gt;\
|chart|k
|&gt;|&gt;|&gt;| !Rewards |
| ! | !Verbal | !Physical | !Sexual |
| Level 1 | [[Promise|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;promise&quot;]] | [[Coddle|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;coddle&quot;]] | [[Sensual Kissing|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;sensual kissing&quot;]] |
| Level 2 | [[Encourage|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;encourage&quot;]] | [[Massage|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;massage&quot;]] | [[Handjob|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;hj&quot;]] |
| Level 3 | [[Praise|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;praise&quot;]] | [[Spa Treatment|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;spa treatment&quot;]] | [[Blowjob|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;blowjob&quot;]] |
&lt;&lt;elseif $activeCharacter.pussy.current&gt;&gt;\
|chart|k
|&gt;|&gt;|&gt;| !Rewards |
| ! | !Verbal | !Physical | !Sexual |
| Level 1 | [[Promise|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;promise&quot;]] | [[Coddle|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;coddle&quot;]] | [[Sensual Kissing|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;sensual kissing&quot;]] |
| Level 2 | [[Encourage|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;encourage&quot;]] | [[Massage|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;massage&quot;]] | [[Fingering|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;fingering&quot;]] |
| Level 3 | [[Praise|Results][$subtrainingtype = &quot;verbal&quot;, $disciplinesubtype = &quot;praise&quot;]] | [[Spa Treatment|Results][$subtrainingtype = &quot;physical&quot;, $disciplinesubtype = &quot;spa treatment&quot;]] | [[Cunnilingus|Results][$subtrainingtype = &quot;sexual&quot;, $disciplinesubtype = &quot;cun&quot;]] |
&lt;&lt;/if&gt;&gt;\</tw-passagedata><tw-passagedata pid="89" name="Gender Training" tags="nobr" position="2262,492" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

$activeCharacter.name needs to go through proper gender training for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be turned into a proper sissy. To achieve this you have $activeCharacter.name repeat simple statements that refer to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in the third person as a woman (eg. &#39;$activeCharacter.name is a very pretty girl. She makes sure to be well shaven for her master.&#39;). Whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fails to repeat the statements properly you administer a small shock to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; using an thunder enchanted cane. If done repeatedly, it can help to get $activeCharacter.name to start thinking of &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; as a woman.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt; 
	@@color:red;&#39;&#39;$activeCharacter.name refuses to repeat any parts of the statements you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&#39;&#39;@@
	
	&lt;br&gt;
	
	$activeCharacter.name doesn&#39;t even try to attempt repeating any of the statements you give him, stating that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t see &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; as a slave and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; definitely doesn&#39;t see &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; as a woman. With every statement &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to repeat you poke and prod &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with your thunder enchanted cane, sending &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; screaming and convulsing to the ground multiple times. It seems to have no affect on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; though, as every time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gets back up &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still refuses to repeat any of the statements that you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
	
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name amends the statements by using male pronouns instead of female ones.&#39;&#39;@@ 
	
	&lt;br&gt;
	
	$activeCharacter.name doesn&#39;t attempt repeating the first statement you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Instead, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; watches you for your reaction. When you reach for the thunder enchanted cane, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; begins to start speaking. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; repeats your statements almost exactly word for word, except &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses male pronouns in the place of the female ones. You immediately shock &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with the cane, sending &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; tumbling to the ground with a high-pitched yelp. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; recovers, you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; another statement but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues to replace all the pronouns. No matter how many times you shock &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; purposeful errors, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues to do the same thing.
	
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;$activeCharacter.name repeats your statements properly after some corrective discipline.&#39;&#39;@@ 
	
	&lt;br&gt;
	
	$activeCharacter.name refuses to be compliant. For the first few statements &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is completely silent; a few corrective taps from your thunder enchanted cane gets &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to start speaking. Then &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; begins to purposefully butcher the statements given to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by repeating them completely incorrectly. A few more corrective taps finally gets &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to start repeating the statements you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; verbatim. Still, you can tell from the look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t happy about doing this at all. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is only doing it to prevent &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from being punished but as long as you get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to repeat the words the training will work eventually.
	
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name actively repeats the statements given to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with few errors.&#39;&#39;@@ 
	
	&lt;br&gt;
	
	$activeCharacter.name doesn&#39;t argue against your orders and instead genuinely tries gender training. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; first few attempts are without error but as soon as you increase the difficulty &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; answers are riddled with mistakes. Instead of having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; just repeat whatever you say, you tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to use female pronouns in place of whichever ones you use. You start off with a few statements already amended with female pronouns and then switch to one with male pronouns. Every time it catches $activeCharacter.name off guard you prod &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with the thunder enchanted cane. Each time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gets punished &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; time repeating the statements, actively making sure to replace the pronouns with female ones.
	
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name breezes through gender training.&#39;&#39;@@
	
	&lt;br&gt;
	
	$activeCharacter.name not only completes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; gender training without any complaints, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does so very efficiently. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; repeats every statement you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with ease and no error. You give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; statements with male pronouns and tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to properly amend them with female pronouns and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does so naturally. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; does make small errors here and there, prompting you to prod &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with the thunder enchanted cane but for the most part, the training goes really well for $activeCharacter.name.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="90" name="Social Training" tags="nobr" position="2262,622" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _roll2 = random(1,4)&gt;&gt;

Social training is an important part of the feminization process for sissies. There are many facets in which you plan to train $activeCharacter.name socially. Any profane language in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocabulary will be banned in public, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; posture must be perfect, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must display proper etiquette around the table, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to be polite and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must submissive at all times. Basically, you&#39;ll be training &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be a prim and proper lady while in the public company of others.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name completely rejects the notion that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should be more ladylike.&#39;&#39;@@
	&lt;br&gt;
	&lt;&lt;switch _roll2&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
 You begin training by trying to get $activeCharacter.name to remove some of the more vulgar words from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocabulary. You give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a few replacement phrases and words but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; just ends up cursing more than &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; usually does. You wash &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth with some soap every time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; curses but it doesn&#39;t seem to deter &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from swearing.
	&lt;&lt;case 2&gt;&gt;
You try to get $activeCharacter.name to practice proper standing, sitting and walking postures but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; ignores all your instructions. You use quick yet firm flicks of a crop on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body where &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; posture is lacking in an attempt to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to posture properly but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; slumps back to normal right away.
	&lt;&lt;case 3&gt;&gt;
You have $activeCharacter.name practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; etiquette around the table. You explain to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must be modest at all times while eating and that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; utensils properly. All your words seem to fall on deaf ears as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gobbles down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; food uncouthly as soon as its put in front of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You try to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to eat more slowly by spicing up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; food but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; makes a point of eating just as fast anyways.
	&lt;&lt;case 4&gt;&gt;
You bring $activeCharacter.name outside to socialize with people on the streets. Before you brought &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; outside, you reminded &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must be demure but polite to everyone &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; talks with. As soon as you get outside, $activeCharacter.name acts completely different than what you coached &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do. Anytime you get someone to talk to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; completely ignores them. You allow each person to flog &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass once if they feel slighted, but it doesn&#39;t actually affect how $activeCharacter.name acts around others.
	&lt;&lt;/switch&gt;&gt;
	
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name shows no interest in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; social training.&#39;&#39;@@
	&lt;br&gt;
	&lt;&lt;switch _roll2&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
 $activeCharacter.name ignores any initiative you make at trying to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to use more polite words. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t cursing aggressively in response being social trained but at the same time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t responding to it at all. 
	&lt;&lt;case 2&gt;&gt;
$activeCharacter.name doesn&#39;t respond to your attempts to fix &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; posture. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; completely ignores your corrections and sits, stand and walks the exact same way no matter what you say.
	&lt;&lt;case 3&gt;&gt;
$activeCharacter.name eats however &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pleases with whatever utensil &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pleases. You try to coach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; on which utensils to eat with and how to eat with grace but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pays you no mind. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t interested in being social trained in the slightest.
	&lt;&lt;case 4&gt;&gt;
For $activeCharacter.name&#39;s social training you decide to bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; outside and have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; interact with the people on the street. You give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a basket full of fruit, tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must politely offer them to passers-by and that when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no more fruit in the basket the training is over. Your words seem to completely go though $activeCharacter.name&#39;s ears as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; walks up to people and aggressively tries to hand them out to get rid of them as fast as possible. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; comes back with an empty basket.
	&lt;&lt;/switch&gt;&gt;
	
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;$activeCharacter.name is forcibly made to complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; social training properly.&#39;&#39;@@ 
	&lt;br&gt;
	&lt;&lt;switch _roll2&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
 Before you even begin the lesson you grab some soap and begin scrubbing out $activeCharacter.name&#39;s mouth. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; complains and tries to fight back but you just scrub harder in reaction. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; finally settles down, you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; explain how &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; feels using select phrases that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gives you. Knowing that you aren&#39;t afraid to punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for no reason, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; makes sure to use the phrases you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
	&lt;&lt;case 2&gt;&gt;
You plan to work on $activeCharacter.name&#39;s posture but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t being compliant. Instead of lashing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with a crop whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fails to follow your instructions, you lay into whatever part of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body you feel offends proper posture. At this point &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; couldn&#39;t even stand lay down properly if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wanted to but you still have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; posture anyways. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; does so earnestly, afraid of anymore punishment. While &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; muscle memory for good posture is not being developed, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has accepted doing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; social training.
	&lt;&lt;case 3&gt;&gt;
Every time you try to explain how to use utensils or scold &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for eating improperly, $activeCharacter.name completely ignores you. Its like your words go out one ear and out the next. You decide to completely micromanage all of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; movements with the use of a crop. Every time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; reaches for the wrong utensil, you lash &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hand harshly with the crop. Anytime &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; starts eating to fast you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a quick lash against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cheek. Eventually $activeCharacter.name just follows your orders out of fear of being hit.
	&lt;&lt;case 4&gt;&gt;
You bring $activeCharacter.name outside for some interactive social training. You get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to interact with people in a multitude of ways but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is never polite like you&#39;ve coached &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be. You strip and spank &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bare bottom every time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;s difficult, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to feel greatly ashamed. After the first few times &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; smartens up and begins behaving appropriately.
	&lt;&lt;/switch&gt;&gt;
	
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly does &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; social training.&#39;&#39;@@
	&lt;br&gt;
	&lt;&lt;switch _roll2&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
You give $activeCharacter.name a few words and phrases to replace some of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; old, more crude vocabulary. You have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; express &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feelings on an assortment of things using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; new vocabulary and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does so gingerly. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; makes a few mistakes but at least &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; attempted the training in earnest.
	&lt;&lt;case 2&gt;&gt;
After coaching $activeCharacter.name on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; posture &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; cautiously attempts to follow your advice. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hesitation shows in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; posture, which you reprimand &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for, but overall &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is showing good progress.
	&lt;&lt;case 3&gt;&gt;
You explain proper utensil usage and etiquette around the table to $activeCharacter.name and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems to take it all in seriously. Before using a utensil &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes a few seconds to remember which is which and often has to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from eating too quickly.
	&lt;&lt;case 4&gt;&gt;
You have $activeCharacter.name go outside and interact with people on the street. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t eager to do &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; social training outside but does so with little complaint. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to be polite an demure while talking to others though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sometimes comes off creepy instead. 
	&lt;&lt;/switch&gt;&gt;
	
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name does well in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; social training, and does so of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own free will.&#39;&#39;@@
	&lt;br&gt;
	&lt;&lt;switch _roll2&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
You give $activeCharacter.name a few new phrases and words to use in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocabulary that befit a well-spoken lady. $activeCharacter.name takes them and runs with them, using them correctly and easily as if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; had been using them &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; whole life.
	&lt;&lt;case 2&gt;&gt;
You coach $activeCharacter.name on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; posture. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; follows your instruction as closely as possible and constantly asks you for constructive criticism.
	&lt;&lt;case 3&gt;&gt;
You teach $activeCharacter.name proper utensil usage and etiquette around the table. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; listens to your words carefully and actively attempts to incorporate what you&#39;ve told &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behavior around the table.
	&lt;&lt;case 4&gt;&gt;
You bring $activeCharacter.name outside so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can interact with the people on the street. You coach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; on how to be polite and reserved while talking to anyone. $activeCharacter.name follows your orders perfectly, seemingly as if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been doing this &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; whole life.
	&lt;&lt;/switch&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="91" name="End Training" tags="nobr" position="2781,99" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Main Menu&quot;&gt;&gt;
&lt;&lt;set $Training = 1&gt;&gt;
&lt;&lt;unset $subtrainingtype&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Training Report&lt;/h3&gt;&lt;/center&gt;

&lt;&lt;set _oldObedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _oldObedienceNum = $activeCharacter.obedience.current&gt;&gt;
&lt;&lt;set _oldFear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _oldFearNum = $activeCharacter.fear.current&gt;&gt;
&lt;&lt;set _oldTrust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _oldTrustNum = $activeCharacter.trust.current&gt;&gt;

&lt;&lt;run updateObedience($activeCharacter)&gt;&gt;
&lt;&lt;run updateTrust($activeCharacter)&gt;&gt;
&lt;&lt;run updateFear($activeCharacter)&gt;&gt;

&lt;&lt;set _obedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _obedienceNum = $activeCharacter.obedience.current&gt;&gt;
&lt;&lt;set _fear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _fearNum = $activeCharacter.fear.current&gt;&gt;
&lt;&lt;set _trust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _trustNum = $activeCharacter.trust.current&gt;&gt;

&lt;&lt;if $cheats.includes(&quot;energyWell&quot;)&gt;&gt;
	&lt;&lt;set $PC.energy.current = $PC.energy.max&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.energy.current = Math.max($PC.energy.current-1,0)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.lust &gt;= 4&gt;&gt;
	&lt;&lt;set $activeCharacter.lust--&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.mood == 5&gt;&gt;
	&lt;&lt;set $activeCharacter.mood--&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $feartitles.includes($activeCharacter.title)&gt;&gt;
	&lt;&lt;set $activeCharacter.submission = $activeCharacter.submission&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $activeCharacter.submission = Math.round($activeCharacter.submission*0.8)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cheats.includes(&quot;energyWell&quot;)&gt;&gt;
	&lt;&lt;set $activeCharacter.fatigue.physical = $activeCharacter.fatigue.max&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $activeCharacter.fatigue.physical = $activeCharacter.fatigue.max-1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _oldObedienceNum &lt; _obedienceNum&gt;&gt;
	&#39;&#39;@@color:greenyellow;$activeCharacter.name&#39;s obedience to you has increased.@@&#39;&#39;

&lt;&lt;elseif _oldObedienceNum &gt; _obedienceNum&gt;&gt;
	&#39;&#39;@@color:red;$activeCharacter.name&#39;s obedience to you has decreased.@@&#39;&#39;
	
&lt;&lt;else&gt;&gt;
	&#39;&#39;@@color:gray;$activeCharacter.name&#39;s obedience to you has not changed.@@&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _oldObedience != _obedience&gt;&gt;
	$activeCharacter.name&#39;s obedience level has changed from &#39;&#39;_oldObedience&#39;&#39; to &#39;&#39;_obedience&#39;&#39;.

&lt;&lt;else&gt;&gt;
	$activeCharacter.name&#39;s obedience level has remained &#39;&#39;_obedience&#39;&#39;.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _oldFearNum &gt; _fearNum&gt;&gt;
	&#39;&#39;@@color:greenyellow;$activeCharacter.name&#39;s fear of you has decreased.@@&#39;&#39;

&lt;&lt;elseif _oldFearNum &lt; _fearNum&gt;&gt;
	&#39;&#39;@@color:red;$activeCharacter.name&#39;s fear of you has increased.@@&#39;&#39;
	
&lt;&lt;else&gt;&gt;
	&#39;&#39;@@color:gray;$activeCharacter.name&#39;s fear of you has not changed.@@&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _oldFear != _fear&gt;&gt;
	$activeCharacter.name&#39;s fear level has changed from &#39;&#39;_oldFear&#39;&#39; to &#39;&#39;_fear&#39;&#39;. 

&lt;&lt;else&gt;&gt;
	$activeCharacter.name&#39;s fear level has remained &#39;&#39;_fear&#39;&#39;.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _oldTrustNum &lt; _trustNum&gt;&gt;
	&#39;&#39;@@color:greenyellow;$activeCharacter.name&#39;s trust has increased.@@&#39;&#39;

&lt;&lt;elseif _oldTrustNum &gt; _trustNum&gt;&gt;
	&#39;&#39;@@color:red;$activeCharacter.name&#39;s trust has decreased.@@&#39;&#39;
	
&lt;&lt;else&gt;&gt;
	&#39;&#39;@@color:gray;$activeCharacter.name&#39;s trust has not changed.@@&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _oldTrust != _trust&gt;&gt;
	$activeCharacter.name&#39;s trust level has changed from &#39;&#39;_oldTrust&#39;&#39; to &#39;&#39;_trust&#39;&#39;. 

&lt;&lt;else&gt;&gt;
	$activeCharacter.name&#39;s trust level has remained &#39;&#39;_trust&#39;&#39;.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;
&lt;&lt;displayMood $activeCharacter&gt;&gt;

&lt;&lt;run updateTitles($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.update.length &gt;= 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;include &quot;Slave Update&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="92" name="Training Tips" tags="nobr" position="1875,100" size="100,100">&lt;center&gt;&lt;h3&gt;Training Tips&lt;/h3&gt;&lt;/center&gt;
&lt;center&gt;[[(Hide Training Tips)|Training Battle][$tips.training = 0]]&lt;/center&gt;

&lt;&lt;if $activeCharacter.title == &quot;Confident Slave&quot;&gt;&gt;
	&lt;&lt;displayTitle $activeCharacter.title &quot;text&quot; &quot;$activeCharacter.name’s active title is $activeCharacter.title. This title increases submission retention after a training session.&quot;&gt;&gt; &lt;br&gt;&lt;br&gt;

&lt;&lt;elseif $activeCharacter.title == &quot;Loyal Slave&quot;&gt;&gt;
	&lt;&lt;displayTitle $activeCharacter.title &quot;text&quot; &quot;$activeCharacter.name’s active title is $activeCharacter.title. This title grants a boost in submission for the first training session of the week.&quot;&gt;&gt; &lt;br&gt;&lt;br&gt;

&lt;&lt;elseif $activeCharacter.title == &quot;Trustful Slave&quot;&gt;&gt;
	&lt;&lt;displayTitle $activeCharacter.title &quot;text&quot; &quot;$activeCharacter.name’s active title is $activeCharacter.title. This title decreases the amount of will possessed for the first training session of the week.&quot;&gt;&gt; &lt;br&gt;&lt;br&gt;

	&lt;b&gt;@@color:forestgreen;@@&lt;/b&gt;
&lt;&lt;elseif $activeCharacter.title == &quot;Perfect Slave&quot;&gt;&gt;
	&lt;&lt;displayTitle $activeCharacter.title &quot;text&quot; &quot;$activeCharacter.name’s active title is $activeCharacter.title. This title increases submission retention after a training session, a boost in submission for the first training session of the week and decreases the amount of will possessed for the first training session of the week.&quot;&gt;&gt; &lt;br&gt;&lt;br&gt;

&lt;&lt;/if&gt;&gt;

The goal of sexual training is to raise a slave&#39;s submission as high as possible so you can successfully train him or her. 

&lt;&lt;if $trainingtype == &quot;feminization&quot;&gt;&gt;
	A slave&#39;s sissification status will rise upon successful training sessions.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

Using different rewards and punishments, you can affect a slave&#39;s mood, lust and submission. Low level rewards affect a slave&#39;s mood more than submission, while high level rewards affect submission more than mood. Punishments give a lot of submission but will lower the mood of the slave. The lower the level of the punishment, the less affect it will have on a slave&#39;s mood and submission. Sexual rewards affect lust instead of mood but they only give a small amount of submission.

&lt;br&gt;&lt;br&gt;
&lt;b&gt;Tips;&lt;/b&gt;
&lt;ul&gt;
	&lt;li&gt;The affectiveness of punishments and rewards vary depending on slave personality and obedience.&lt;/li&gt;
	&lt;li&gt;A slave with a lot of &lt;b&gt;trust&lt;/b&gt; will start with a lot of &lt;b&gt;will&lt;/b&gt;.&lt;/li&gt;
	&lt;li&gt;A slave with a lot of &lt;b&gt;OBEDIENCE&lt;/b&gt; or &lt;b&gt;FEAR&lt;/b&gt; will start off with some &lt;b&gt;submission&lt;/b&gt;.&lt;/li&gt;
	&lt;li&gt;Each session you start off with 5 turns, but every subsequent session for that slave during the same week will start you off with 4 turns.&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;Will&lt;/b&gt; resets at the end of the week. A willful slave will require multiple training sessions per week.&lt;/li&gt;
	&lt;li&gt;You keep some &lt;b&gt;submission&lt;/b&gt; going into subsequent training sessions, but it will reset at the end of the week.&lt;/li&gt;
&lt;/ul&gt;
	
&lt;hr&gt;</tw-passagedata><tw-passagedata pid="93" name="Sexual" tags="nobr" position="2131,231" size="100,100">&lt;&lt;include &quot;STV&quot;&gt;&gt;
&lt;&lt;include &quot;Sexual Training&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="94" name="Cross-Dressing" tags="nobr" position="2261,752" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

Training a sissy to act properly isn&#39;t the only important part of feminization. They must be able to look the part as well, making cross-dressing one of the most important facets to sissification. You must make sure $activeCharacter.name not only is comfortable wearing women clothes and undergarments, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must also be able to properly dress &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; as well.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name completely refuses to wear any female clothing.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name tries to rip or throw away any female clothing you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Not only is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; not interested in female clothing, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems offended that you would even suggest that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wear them.
	
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name isn&#39;t interested in wearing female clothing.&#39;&#39;@@ 
	&lt;br&gt;
	You give $activeCharacter.name some basic female garbs and underwear to put on. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; firmly states that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no desire to wear any type of female clothing because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a man.
	
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;You force $activeCharacter.name to wear female clothing.&#39;&#39;@@
	&lt;br&gt;
	You give $activeCharacter.name some female clothes to wear but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t want to put them on. Unamused by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; disobedience, you forcibly pin &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; down and rip the clothes off &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back. Having no choice but to wear the clothes you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; or go naked, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wears them.
	
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly wears the female clothing you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&#39;&#39;@@ 
	&lt;br&gt;
	$activeCharacter.name takes any clothes that you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to wear. Its clear from the look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t happy about wearing them but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t want to face any kind of punishment for refusing them.
	
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name models the women clothing you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; without complaint.&#39;&#39;@@
	&lt;br&gt;
	You give $activeCharacter.name some women clothing to wear and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; obediently wears them. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; does so resolutely, putting them on simply because you say so and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; also makes sure to fashion them properly on &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="95" name="Butt-Plug" tags="nobr" position="2262,882" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

You plan to make $activeCharacter.name wear a butt-plug for a week.

&lt;&lt;if $activeCharacter.gape == 100&gt;&gt;
	 $activeCharacter.name&#39;s asshole is pretty much stretched to the maximum it can be without damaging &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anal sphincter. At this point, making &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; wear a butt-plug this week is more about reinforcing the idea that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass is to be used as you see fit.
&lt;&lt;elseif $activeCharacter.gape &gt;= 60&gt;&gt;
	$activeCharacter.name&#39;s asshole is gaping and can pretty much accommodate any size intrusion but it can still be stretched a little bit more.
&lt;&lt;elseif $activeCharacter.gape &gt;= 40&gt;&gt;
	To keep $activeCharacter.name&#39;s asshole loose, you decide to put a large butt-plug up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass. It still has quite a ways to go before its can fit almost anything in there but as of now as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses lube &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can accommodate people of any size.
&lt;&lt;elseif $activeCharacter.gape &gt;= 20&gt;&gt;
	$activeCharacter.name&#39;s asshole has seen some use but its still quite tight. Using a medium sized butt-plug, you plan to stretch &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole even more.
&lt;&lt;elseif $activeCharacter.gape &gt;= 0&gt;&gt;
	$activeCharacter.name&#39;s asshole is very tight and can barely fit a small butt-plug in it. As long as you can get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to wear it, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;ll loosen up quickly and you&#39;ll be able to start using bigger plugs.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name vehemently refuses to let you put anything up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; butt.&#39;&#39;@@
	&lt;br&gt;
	You try to insert a butt-plug into $activeCharacter.name&#39;s ass but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; actively fights off every attempt you make. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; makes it very clear that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a man and does not appreciate you trying to change that.
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name doesn&#39;t agree to putting a butt-plug up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass.&#39;&#39;@@ 
	&lt;br&gt;
	$activeCharacter.name tells you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; won&#39;t let you put a butt-plug up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass, and if you somehow are able to do it that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;ll just take it out right away. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is still very attached to the idea of being a man.
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;You forcibly shove a butt-plug up $activeCharacter.name&#39;s ass.&#39;&#39;@@ 
	&lt;br&gt;
	You force $activeCharacter.name onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands and knees, pull down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pants and then forcefully insert the butt-plug into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; waiting asshole with no lube. 
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly lets you put a butt-plug up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass.&#39;&#39;@@ 
	&lt;br&gt;
	$activeCharacter.name doesn&#39;t want the insertion of the plug to be any less painful than it needs to be so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; allows you to do it with little complaint. Since &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is compliant, you lube &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and the plug before inserting it.
	
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name puts the butt-plug up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;.&#39;&#39;@@
	&lt;br&gt;
	You don&#39;t even have to put the plug into $activeCharacter.name&#39;s ass. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; gets the plug, lubes &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; and the plug and inserts it all on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;anus&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseGape($activeCharacter, _roll*2)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="96" name="Chastity Cage" tags="nobr" position="2262,1012" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

Having $activeCharacter.name wear a chastity cage reinforces the idea that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not to receive pleasure from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cock but from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asspussy instead. It also helps &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; understand that you&#39;re in control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body, not &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name struggles too much for you to be able to put on the chastity cage.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name fights you every time you get near &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with the chastity cage. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is very against of the idea of not being able to use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; dick as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pleases. You explain that if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants pleasure &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asspussy but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; states clearly that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no plans to do so as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a man, not a woman.
	
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name is against you putting a chastity cage on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&#39;&#39;@@ 
	&lt;br&gt;
	You try to put the chastity cage on $activeCharacter.name but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; constantly complains and runs. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tells you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will not allow you to be in control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body and orgasms. You explain that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can still find pleasure anytime &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass, but it doesn&#39;t change &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind in the slightest.
	
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;You put a chastity cage on $activeCharacter.name through use of force.&#39;&#39;@@ 
	&lt;br&gt;
	You attempt to put the chastity cage on $activeCharacter.name but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t allow you to, forcing you to grab &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; balls and squeeze until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t complain or struggle any longer. With you hand still wrapped tightly around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, you quickly release and put the cage on while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is still out of commission.
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly allows you to put the chastity cage on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&#39;&#39;@@ 
	&lt;br&gt;
	You can tell from the look on $activeCharacter.name&#39;s face that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; clearly does not want you to put a chastity cage on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; dick but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t want to fight against your orders and make things more difficult than they have to be. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still makes a few complaints, but you&#39;re able to put the chastity on.
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name puts on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chastity cage.&#39;&#39;@@
	&lt;br&gt;
	You give $activeCharacter.name &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chastity cage to put on and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does so without complaint. Whether its because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is feeling obedient today or &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; truly has relinquished control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cock and balls to you, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has done it out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own accord which is a very good sign.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="97" name="Anal Masturbation" tags="nobr" position="2262,1142" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

Training $activeCharacter.name to use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asspussy is an important part of the feminization process. Having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; masturbate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass with a dildo will get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; used to the idea of orgasming through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; prostate. It will also help &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; overcome any reservations &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has about having a cock up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name is completely against the idea of masturbating anally.&#39;&#39;@@
	&lt;br&gt;
	You give $activeCharacter.name a dildo to masturbate with and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; throws it right at you. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tells you that not only is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; not interested in doing that, men don&#39;t need, and shouldn&#39;t masturbate anally as long as they have a perfectly functioning dick. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is very against the idea of being treated like a woman in any capacity.
	
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name isn&#39;t interested in anal masturbation.&#39;&#39;@@ 
	&lt;br&gt;
	$activeCharacter.name argues against using a dildo to masturbate anally. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; explains to you that since &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a man, if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants to orgasm &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is perfectly happy using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; dick to do so. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; also tells you that while women may find pleasure getting fucked anally, its not possible for men.
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;You force $activeCharacter.name to masturbate anally.&#39;&#39;@@ 
	&lt;br&gt;
	You turn $activeCharacter.name around, kick &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the ground and strip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; clothes. You force &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into face down, ass up position and then shove the dildo into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole without sans lube and slowly fuck &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with it.
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly masturbates anally.&#39;&#39;@@ 
	&lt;br&gt;
	$activeCharacter.name isn&#39;t content to masturbate anally but yields to your authority. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t eager to find out what will happen if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to fight against your orders, so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; lubes up the dildo and slowly fucks into &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with it. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; face clearly shows &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; displeasure, but at least &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is doing it of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own accord.
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name eagerly masturbates anally.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name lubes both &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole and the dildo. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; shows no reluctance as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; puts the dildo to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass, slowly inserts it and fucks &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with it. If &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has any reservations with using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass for pleasure, its clear that its gone for the moment. 
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;anus&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseGape($activeCharacter, _roll)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="98" name="Anal Training" tags="nobr" position="2262,1272" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

$activeCharacter.name has to go through proper anal training. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; must be trained on how to be a proper bottom. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; actions and speech must be submissive and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; also must be trained to stay hard during anal intercourse.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name refuses to let you train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; anally.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name fights off any advance you make towards &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; passionately yells out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; repulsion for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass being used for anything other than releasing waste. According to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not a woman, there is no reason that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should be treated like one. 
	
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name doesn&#39;t agree to letting you train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; anally.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name avoids any contact with you and fervently argues against being treated as a bottom. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; explains that only women are submissive in bed and that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass isn&#39;t going to be used for anything other than shitting. 
	
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;You force $activeCharacter.name to complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anal training.&#39;&#39;@@ 
	&lt;br&gt;
	You bind $activeCharacter.name&#39;s arms and legs and push &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; over a table. You pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pants down and shove your cock up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass unlubed. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; cries out in pain but you ignore &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as you forcefully plunge into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; again and again. 
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly participates in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anal training.&#39;&#39;@@
	&lt;br&gt;
	Not wanting to make things anymore problematic, $activeCharacter.name allows you to train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; anally. You can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t agree with being submissive nor is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; comfortable with being reamed in the ass but being compliant is the most important step to accepting &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; new role.
	
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name is eager to complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anal training.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name happily spreads &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass for you. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; best to act submissive and actively tries to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; erection during the duration of the training. Even if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t attracted to men, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can still feel stimulated through anal sex.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;anus&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseGape($activeCharacter, _roll)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="99" name="Kissing" tags="nobr" position="2001,361" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;kissing skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.oral.kissing)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name is bad enough at kissing that you have to start &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; off with the basics. This lesson you focus on getting $activeCharacter.name to initiate a closed mouth kiss properly with you.
		
	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name is able to initiate a kiss properly but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has little to no idea what to do after that. This lesson you focus on teaching $activeCharacter.name proper hand and body movement while kissing.
		
	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name is able show proper enthusiasm during a kiss but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t skilled enough skilled enough to give a pleasurable experience. This lesson you focus on teaching $activeCharacter.name how to kiss erotically. Since &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is still a novice at that, you leave teaching about tongue use for another time.
		
	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name is pretty good at kissing and only needs a few more lessons before &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills are perfected. This lesson you focus on teaching $activeCharacter.name how to kiss with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue properly.
		
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name&#39;s kissing ability is almost perfect. This lesson you focus on perfecting the skills $activeCharacter.name has already built up by having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; practice various kissing techniques.
		
	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*1)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.oral.kissing = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.oral.kissing)&gt;&gt;</tw-passagedata><tw-passagedata pid="100" name="Fellatio" tags="nobr" position="2001,491" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;fellatio skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.oral.fellatio)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name is terrible at giving blowjobs, so much so that you wonder if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has ever even heard of the term before &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; enslavement to you. You plan to focus on getting $activeCharacter.name familiar with blowjobs by getting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to lick, suckle and hold &lt;&lt;print $penis[$PC.cock.current]&gt;&gt; in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth for prolonged periods of time.
		
	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name is familiar enough with giving blowjobs that you can start teaching &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; how to use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue when giving fellatio. For the entire lesson you plan to have $activeCharacter.name practice licking &lt;&lt;print $penis[$PC.cock.current]&gt;&gt;. You also make sure &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gives equal attention to &lt;&lt;print $testicles[$PC.balls]&gt;&gt; the whole ordeal.
		
	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name seems good enough with the basics that you can start teaching &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; the importance of and technique to sucking cock. This lesson you plan to have $activeCharacter.name practice sucking on &lt;&lt;print $penis[$PC.cock.current]&gt;&gt; and &lt;&lt;print $penis[$PC.cock.current]&gt;&gt; for prolonged periods of time, using a number of different techniques.
	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name can give a good enough blowjob but needs to understand that a good cumdump knows that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; job isn&#39;t finished with an orgasm. For this lesson you plan to teach $activeCharacter.name where &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should be cummed on, how to clean &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue and fingers as to arouse customers and how to clean up the person or people cumming on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
		
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name is a first-rate cocksucker. You don&#39;t have much left to teach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; until &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cock sucking skills become perfect. You finally can plan to teach $activeCharacter.name on how to deepthroat and take a proper mouth fucking. This lesson you alternate between getting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to practice taking a cock deep in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; throat and you fucking &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth recklessly with &lt;&lt;print $penis[$PC.cock.current]&gt;&gt;.
		
	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.oral.fellatio = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.oral.fellatio)&gt;&gt;</tw-passagedata><tw-passagedata pid="101" name="Cunnilingus" tags="nobr" position="2001,621" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;cunnilingus skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.oral.cunnilingus)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name has no idea how to give cunnilingus. When you allowed &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to practice on &lt;&lt;print $vagina[$PC.pussy.current]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; showed no enthusiasm, giving shallow licks while refusing to give any attention to &lt;&lt;print $clit[$PC.clit]&gt;&gt;. You plan to spend most of the lesson teaching $activeCharacter.name where to lick and suck a cunt, as well as explaining that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; needs to devote a lot of attention to the clit.
		
	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name knows where to lick, suck and give attention to a cunt but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no idea how to do it properly. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is very clinical and robotic in the way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gives cunnilingus, sucking most of the enjoyment out of the act for the receiver. For this lesson you plan to have $activeCharacter.name practice licking &lt;&lt;print $vagina[$PC.pussy.current]&gt;&gt; more sensually while explaining that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; might as well do it properly, as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t going anywhere until you&#39;re satisfied.
		
	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name can give passable cunnilingus but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t last for long enough for the average person to get off. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; gets tired quickly and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skill and attentiveness quickly drops off because of it. You plan to spend most of the lesson teaching $activeCharacter.name how to pace &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; when licking a cunt. You also plan to spend a majority of the lesson making sure that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; enthusiasm is kept even while tired.
		
	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name&#39;s cunnilingus skills are relatively decent. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can consistently get people to orgasm but there is little to no sensuality in the way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does it. This lesson you plan to teach $activeCharacter.name the importance of sensuality. You explain that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth is not the only thing to be used while giving cunnilingus. You focus on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hand movements and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; moaning during the act.
	
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name&#39;s cunnilingus skills are pretty much perfect but there are still things that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can be taught to increase the experience. Even though you&#39;re planning to teaching $activeCharacter.name how to give cunnilingus you spend the lesson showing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; how to finger a cunt in conjunction with sucking on the clit.
		
	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.oral.cunnilingus = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.oral.cunnilingus)&gt;&gt;</tw-passagedata><tw-passagedata pid="102" name="Analingus" tags="nobr" position="2001,751" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;analingus skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.oral.analingus)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name has little to no knowledge on how to give a proper rimjob and requires tolerance training before you can even begin the skill training. You plan to focus on giving $activeCharacter.name sensitivity training for proper rimjob etiquette. Instead of getting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; used to the smell and taste of feces, you teach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; how to suppress the need to give an unsavory reaction.
		
	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name doesn&#39;t mind the smell or taste of feces, or at least doesn&#39;t visibly show &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; aversion to it. Either way, its enough for you to begin teaching &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; how to give a rimjob. For the lesson you plan to have $activeCharacter.name lick your ass while you correct &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; technique. If that doesn&#39;t take up enough time, you plan to train &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; endurance for the rest of the lesson.
		
	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name&#39;s rimjobs are passable but they need a little more active tongue usage to be considered decent. This lesson you plan to focus on teaching $activeCharacter.name how to tongue the inside of an ass. The lesson is a harder test of endurance and tolerance, but isn&#39;t that difficult for someone who has given a few rimjobs before.
		
	&lt;&lt;case 4&gt;&gt;
		Technique wise, $activeCharacter.name&#39;s rimjobs are great. However, there are still a few things to be worked on. You plan to have $activeCharacter.name spend the lesson learning how to pleasure someone&#39;s genitals while giving them a rimjob. The rimjob itself is good but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; rhythm of working you to up to a slow orgasm while focusing on the rimjob as well.

	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name can give an amazing rimjob but it isn&#39;t perfect. Just a little more training should be enough to push &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to that level. This lesson you plan to coach $activeCharacter.name on how to give a mentally stimulating rimjob. You have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; practice sensually running &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; free hand slowly across your body while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s enthusiastically into your ass.
		
	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.oral.analingus = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.oral.analingus)&gt;&gt;</tw-passagedata><tw-passagedata pid="103" name="Pegged" tags="nobr" position="2261,1402" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.sissification == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.sissification &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.sissification &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.sissification &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.sissification &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

$activeCharacter.name has to go through proper anal training. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; must be trained on how to be a proper bottom. &lt;&lt;print $Hisher[$activeCharacter.gender]&gt;&gt; actions and speech must be submissive and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; also must be trained to stay hard during anal intercourse.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name refuses to let you train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; anally.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name fights off any advance you make towards &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; passionately yells out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; repulsion for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass being used for anything other than releasing waste. According to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, there is no way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will allow you to fuck &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with a strap-on nor will &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; allow you to treat &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as a woman.
	
&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name doesn&#39;t agree to letting you train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; anally.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name avoids any contact with you and fervently argues against being treated as a bottom. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; explains that only women like you are submissive in bed and that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass isn&#39;t going to be used for anything other than shitting. 
	
&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;You force $activeCharacter.name to complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anal training.&#39;&#39;@@ 
	&lt;br&gt;
	You bind $activeCharacter.name&#39;s arms and legs and push &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; over a table. You pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pants down and shove the dildo you have strapped to your waist up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass unlubed. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; cries out in pain but you ignore &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as you forcefully plunge into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; again and again. 
&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly participates in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anal training.&#39;&#39;@@
	&lt;br&gt;
	Not wanting to make things anymore problematic, $activeCharacter.name allows you to train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; anally. You can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t agree with being submissive nor is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; comfortable with being reamed in the ass but being compliant is the most important step to accepting &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; new role.
	
&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name is eager to complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anal training.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name happily spreads &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass for your strap-on. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; best to act submissive and actively tries to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; erection during the duration of the training. Even if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t gay, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can still feel stimulated through anal sex.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;anus&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseGape($activeCharacter, _roll)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSissification($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="104" name="Purchase Estate" tags="nobr" position="141,1691" size="100,100">&lt;&lt;set $estate.location = &quot;Slums&quot;&gt;&gt;
&lt;&lt;unset $Previous&gt;&gt;

&lt;&lt;include &quot;Complete Player&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;New Estate&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

You purchase some land in the slums called &lt;&lt;textbox &quot;$estate.name&quot; &quot;Slum Amaro Estate&quot;&gt;&gt; and register it with the city officials.

&lt;br&gt;&lt;br&gt;

It may take a few years, but if you report your weekly revenue to the officials, pass the interviews they give you and pay for your citizenship then you can finally start living in the inner city. Alternatively, you could bribe one of the officials or join one of the many syndicates still operating within the slums. Either way, you&#39;ll have to buy some slaves and start training them for use in your brothel so you can gain some revenue and reputation.

&lt;br&gt;&lt;br&gt;

Most slaves you can buy will be of poor quality. You figure that your best bet would be to purchase a young, healthy but fat slave. You&#39;ll be able to cut costs by feeding the slave a low calorie diet. If possible, it would be good to purchase a &lt;&lt;print getObedience(20)&gt;&gt; slave rather than a &lt;&lt;print getObedience(0)&gt;&gt; one. In the short term it will be hard to gain money due to the investment expenses for training up a slave, but in the long run it will be well worth the money.

&lt;br&gt;&lt;br&gt;

Alternatively you could buy the cheapest slaves you can find and then work them to the bone. They&#39;ll likely die after a few weeks of service so you can spend the minimum amount possible on their expenses. When they pass away, you can just buy more cheap slaves to use. This isn&#39;t a good long term plan as slaves must recoup the costs of their expenses as well as turn a profit before they pass.

&lt;br&gt;&lt;br&gt;

[[Continue|Main]]</tw-passagedata><tw-passagedata pid="105" name="Updates" tags="nobr" position="137,891" size="100,100">&lt;&lt;if $updates.brothel&gt;&gt;
	&lt;b&gt;Brothel Updates&lt;/b&gt; &lt;br&gt;
	$updates.brothel
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $updates.compendium&gt;&gt;
	&lt;b&gt;Compendium Updates&lt;/b&gt; &lt;br&gt;
	$updates.compendium
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $updates.brothel || $updates.compendium&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $updates = {compendium: &quot;&quot;, brothel: &quot;&quot;, farm: &quot;&quot;, slaver: &quot;&quot;, slave: &quot;&quot;}&gt;&gt;</tw-passagedata><tw-passagedata pid="106" name="Slave Assignment" tags="nobr" position="357,903" size="100,100">&lt;&lt;set _fatiguereq = requiredFatigue($activeCharacter)&gt;&gt;
&lt;&lt;set _sparefatigue = 100 - $activeCharacter.fatigue.progress&gt;&gt;

&lt;&lt;if $newassignment == &quot;rest&quot;&gt;&gt;
	&lt;&lt;if $activeCharacter.assignment == &quot;whoring&quot;&gt;&gt;
		&lt;&lt;set $brothel.boudoirs.pop--&gt;&gt;
		&lt;&lt;set $activeCharacter.assignment = $newassignment&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;You send &quot; + $activeCharacter.name + &quot; to rest in &quot; + $hisher[$activeCharacter.gender] + &quot; for the rest of the week. &lt;br&gt;&quot;&gt;&gt;
	
	&lt;&lt;elseif $activeCharacter.assignment == &quot;prison&quot;&gt;&gt;
		&lt;&lt;set $brothel.prisons.pop--&gt;&gt;
		&lt;&lt;set $activeCharacter.assignment = $newassignment&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;You send &quot; + $activeCharacter.name + &quot; to rest in &quot; + $hisher[$activeCharacter.gender] + &quot; for the rest of the week. &lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
&lt;&lt;elseif $newassignment == &quot;whoring&quot;&gt;&gt;
	&lt;&lt;if $brothel.boudoirs.rooms == $brothel.boudoirs.pop&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;All boudoirs are currently full. If you would like to whore out &quot; + $activeCharacter.name + &quot; in one of them, remove someone from their post. &lt;br&gt;&quot;&gt;&gt;
	
	&lt;&lt;elseif _fatiguereq &gt; _sparefatigue&gt;&gt;
		&lt;&lt;set $updates.brothel += $activeCharacter.name + &quot; is too fatigued to work a boudior. Allow &quot; + $himher[$activeCharacter.gender] + &quot; to rest for a while so &quot; + $heshe[$activeCharacter.gender] + &quot; can regain &quot; + $hisher[$activeCharacter.gender] + &quot; strength. &lt;br&gt;&quot;&gt;&gt;
			
	&lt;&lt;elseif $activeCharacter.assignment == &quot;prison&quot;&gt;&gt;
		&lt;&lt;set $brothel.prisons.pop--&gt;&gt;
		&lt;&lt;set $brothel.boudoirs.pop++&gt;&gt;
		&lt;&lt;set $activeCharacter.assignment = $newassignment&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;You put &quot; + $activeCharacter.name + &quot; to work in one of &quot; + $brothel.name + &quot;&#39;s boudoirs for the rest of the week. &lt;br&gt;&quot;&gt;&gt;
	
	&lt;&lt;elseif $activeCharacter.assignment == &quot;rest&quot;&gt;&gt;
		&lt;&lt;set $brothel.boudoirs.pop++&gt;&gt;
		&lt;&lt;set $activeCharacter.assignment = $newassignment&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;You put &quot; + $activeCharacter.name + &quot; to work in one of &quot; + $brothel.name + &quot;&#39;s boudoirs for the rest of the week. &lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $newassignment == &quot;prison&quot;&gt;&gt;
	&lt;&lt;if $brothel.prisons.cap == $brothel.prisons.pop&gt;&gt;
		&lt;set $updates.brothel += &quot;All prisons are currently full. If you would like to put &quot; + $activeCharacter.name + &quot; in one of them, remove someone from their cell. &lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;elseif $activeCharacter.assignment == &quot;rest&quot;&gt;&gt;
		&lt;&lt;set $brothel.prisons.pop++&gt;&gt;
		&lt;&lt;set $activeCharacter.assignment = $newassignment&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;You put &quot; + $activeCharacter.name + &quot; in one of &quot; + $brothel.name + &quot;&#39;s prison cells for the rest of the week. &lt;br&gt;&quot;&gt;&gt;
		
	&lt;&lt;elseif $activeCharacter.assignment == &quot;whoring&quot;&gt;&gt;
		&lt;&lt;set $brothel.prisons.pop++&gt;&gt;
		&lt;&lt;set $brothel.boudoirs.pop--&gt;&gt;
		&lt;&lt;set $activeCharacter.assignment = $newassignment&gt;&gt;
		&lt;&lt;set $updates.brothel += &quot;You put &quot; + $activeCharacter.name + &quot; in one of &quot; + $brothel.name + &quot;&#39;s prison cells for the rest of the week. &lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;unset $newassignment&gt;&gt;
&lt;&lt;include &quot;Main&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="107" name="Brothel Summary" tags="" position="1491,826" size="100,100">|stats|k
|&gt;| !$estate.brothel.name Summary |
| Total Money Earned | @@color:lightgreen;💎_brothelearnings@@ |
| Total Customers | $totalcustomers |</tw-passagedata><tw-passagedata pid="108" name="Expenses" tags="nobr" position="1362,826" size="100,100">&lt;center&gt;
&lt;h3&gt;Expense Breakdown&lt;/h3&gt;

&lt;&lt;if $gameover == 1&gt;&gt;
	&lt;b&gt;@@color:red;You are in debt. If you are in debt after two more weeks the game will be over.@@&lt;/b&gt;
	&lt;br&gt;&lt;br&gt;

&lt;&lt;elseif $gameover == 2&gt;&gt;
	&lt;b&gt;@@color:red;You are in debt. If you are in debt after another week the game will be over.@@&lt;/b&gt;
	&lt;br&gt;&lt;br&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $expenseslide == &quot;Money&quot;&gt;&gt;
	This is a simulated expense breakdown that calculates your deficit or surplus for this week. Your personal and brothel expenses are counted up and are subtracted from the income you&#39;ve gained last week week. &lt;b&gt;A more accurate expense breakdown will be calculated at the end of the week.&lt;/b&gt;

&lt;&lt;else&gt;&gt;
	This is a simulated expense breakdown that calculates your deficit or surplus for this week. Your personal and brothel expenses are counted up and are subtracted from the income you&#39;ve gained this week.
&lt;&lt;/if&gt;&gt;

&lt;/center&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
	&lt;tr&gt;&lt;th colspan = 100&gt;Income Statement&lt;/th&gt;&lt;/tr&gt;
	
	&lt;tr&gt;&lt;th colspan = 50&gt;Revenue&lt;/th&gt;
	&lt;th colspan = 50&gt;Expenses&lt;/th&gt;&lt;/tr&gt;
  
  &lt;tr&gt;
    &lt;th class = &#39;nobottom&#39; colspan = 100&gt;[[Estate|Expenses][$summary.income.estate = summarySwitch($summary.income.estate)]]&lt;/th&gt;
  &lt;/tr&gt;
	
  &lt;&lt;if !$summary.income.estate&gt;&gt;
  	&lt;tr&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Slave Income&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($slaveIncome)&gt;&gt;@@&lt;/td&gt;
  		
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Slave Expense&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($slaveExpense)&gt;&gt;@@&lt;/td&gt;
  	&lt;/tr&gt;
  	
  	&lt;tr&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Guild Income&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($requestIncome)&gt;&gt;@@&lt;/td&gt;
  		
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Maintenace&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($maintenance.estate)&gt;&gt;@@&lt;/td&gt;
  	&lt;/tr&gt;
  	
  	&lt;tr&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;/td&gt;
  		
      &lt;td class = &#39;noborder&#39; colspan = 25&gt;Personal&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($maintenance.personal)&gt;&gt;@@&lt;/td&gt;
  	&lt;/tr&gt;
  	
  	&lt;tr&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;/td&gt;
  		
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Resources&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($resources)&gt;&gt;@@&lt;/td&gt;
  	&lt;/tr&gt;
  &lt;&lt;/if&gt;&gt;
	
	&lt;tr&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($revenue.estate)&gt;&gt;@@&lt;/td&gt;
		
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($expenses.estate)&gt;&gt;@@&lt;/td&gt;
	&lt;/tr&gt;
  
  &lt;tr&gt;
    &lt;th class = &#39;nobottom&#39; colspan = 100&gt;[[Brothel|Expenses][$summary.income.brothel = summarySwitch($summary.income.brothel)]]&lt;/th&gt;
  &lt;/tr&gt;
	
  &lt;&lt;if !$summary.income.brothel&gt;&gt;
  	&lt;tr&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Customer Fees&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($brothelearnings)&gt;&gt;@@&lt;/td&gt;
  		
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Healthcare&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($brothelexpense)&gt;&gt;@@&lt;/td&gt;
  	&lt;/tr&gt;
  	
  	&lt;tr&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;/td&gt;
  		
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Maintenace&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($maintenance.brothel)&gt;&gt;@@&lt;/td&gt;
  	&lt;/tr&gt;
  &lt;&lt;/if&gt;&gt;
	
	&lt;tr&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($revenue.brothel)&gt;&gt;@@&lt;/td&gt;
		
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($expenses.brothel)&gt;&gt;@@&lt;/td&gt;
	&lt;/tr&gt;
  
  &lt;tr&gt;
    &lt;th class = &#39;nobottom&#39; colspan = 100&gt;[[Ranch|Expenses][$summary.income.ranch = summarySwitch($summary.income.ranch)]]&lt;/th&gt;
  &lt;/tr&gt;
	
  &lt;&lt;if !$summary.income.ranch&gt;&gt;
  	&lt;tr&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Produce&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($ranchearnings)&gt;&gt;@@&lt;/td&gt;
  		
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Maintenace&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($maintenance.ranch)&gt;&gt;@@&lt;/td&gt;
  	&lt;/tr&gt;
  &lt;&lt;/if&gt;&gt;
	
	&lt;tr&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($revenue.ranch)&gt;&gt;@@&lt;/td&gt;
		
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($expenses.ranch)&gt;&gt;@@&lt;/td&gt;
	&lt;/tr&gt;
  
  &lt;tr&gt;
    &lt;th class = &#39;nobottom&#39; colspan = 100&gt;[[Chattel|Expenses][$summary.income.chattel = summarySwitch($summary.income.chattel)]]&lt;/th&gt;
  &lt;/tr&gt;
	
  &lt;&lt;if !$summary.income.chattel&gt;&gt;
  	&lt;tr class= &quot;bottom&quot;&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;/td&gt;
  		
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;Maintenace&lt;/td&gt;
  		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($maintenance.chattel)&gt;&gt;@@&lt;/td&gt;
  	&lt;/tr&gt;
  &lt;&lt;/if&gt;&gt;
	
	&lt;tr&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($revenue.chattel)&gt;&gt;@@&lt;/td&gt;
		
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;
		&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($expenses.chattel)&gt;&gt;@@&lt;/td&gt;
	&lt;/tr&gt;
	
	&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 100&gt;Summary&lt;/th&gt;&lt;/tr&gt;
	
		&lt;tr&gt;
			&lt;td class = &#39;nobottom&#39; colspan = 75&gt;&lt;b&gt;Total Revenue&lt;/b&gt;&lt;/td&gt;
			&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:lightgreen;💎&lt;&lt;print commify($revenue.total)&gt;&gt;@@&lt;/td&gt;
		&lt;/tr&gt;
	
		&lt;tr class = &quot;bottom&quot;&gt;
			&lt;td class = &#39;notop&#39; colspan = 75&gt;&lt;b&gt;Total Expense&lt;/b&gt;&lt;/td&gt;
			&lt;td class = &#39;noborder&#39; colspan = 25&gt;@@color:red;💎&lt;&lt;print commify($expenses.total)&gt;&gt;@@&lt;/td&gt;
		&lt;/tr&gt;
	
		&lt;tr&gt;
			&lt;td colspan = 75&gt;&lt;b&gt;$remainder.name&lt;/b&gt;&lt;/td&gt;
			&lt;td colspan = 25&gt;&lt;&lt;print &quot;@@color:&quot; + $remainder.color  + &quot;;💎&lt;&lt;print commify(&quot; + $remainder.total + &quot;)&gt;&gt;@@&quot;&gt;&gt;&lt;/td&gt;
		&lt;/tr&gt;
	
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="109" name="Fingering" tags="nobr" position="2001,1141" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;fingering skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.manual.fingering)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name barely knows anything about a woman&#39;s vagina, if anything. For this lesson you plan to spend it explaining and showing $activeCharacter.name the female anatomy.
	
	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name only knows a little bit about fingering women. For this lesson you plan to explain the importance of preparing oneself for fingering someone to $activeCharacter.name. This includes making sure that all &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fingers are properly trimmed and filed, and have been properly washed.
		
	&lt;&lt;case 3&gt;&gt;
		If given the chance, $activeCharacter.name jumps straight to finger banging to start off the foreplay. You plan to explain to $activeCharacter.name that before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can begin fingering someone, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must get the vagina wet enough to do so. The most optimal way being by gently massaging the labia and clitoral hood.
	
	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name has the basics down but his fingering skills are only just above mediocre. For this lesson you plan to teach $activeCharacter.name how to watch &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner for signs of enjoyment or displeasure and how to properly react to them.
	
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name&#39;s ability to give a proper fingering is virtually perfect. The only thing left &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to work on is putting those skills to good use. You plan to spend this lesson teaching $activeCharacter.name how to give a higher level of pleasure by stimulating the mind with erotic wording.
	
	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.manual.fingering = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.manual.fingering)&gt;&gt;</tw-passagedata><tw-passagedata pid="110" name="Masturbation" tags="nobr" position="2001,881" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;masturbation skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.manual.masturbation)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name is very shy about masturbating in front of others. You plan to spend the majority of the lesson teaching $activeCharacter.name that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; masturbation is a performance act and isn’t about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical pleasure.

	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name hasn’t much experience exploring &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; and doesn’t know much about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body or masturbating. You plan to have $activeCharacter.name explore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body while you explain &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anatomy to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
	
	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name knows about basic masturbation and how to bring &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to orgasm but nothing beyond that. You plan to teach $activeCharacter.name proper edging techniques and then have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; practice them. Doing so will help increase &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual endurance and will teach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; how to elongate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual performance.

	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name can put on a decent masturbation performance but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocal performance is greatly lacking. You plan to have $activeCharacter.name spend the lesson practicing &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;ing. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; performance can be greatly enhanced as long as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;ing is believable.
	
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name’s masturbation performance is very good but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms are lacking in excitement. For this lesson you plan to have $activeCharacter.name practice exaggerating &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms greatly.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if [&quot;female&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;clit&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;

&lt;&lt;elseif [&quot;male&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.25)&gt;&gt;

&lt;&lt;elseif [&quot;futanari&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;

&lt;&lt;elseif [&quot;shemale&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.manual.masturbation = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.manual.masturbation)&gt;&gt;</tw-passagedata><tw-passagedata pid="111" name="Handjob" tags="nobr" position="2001,1011" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;handjob skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.manual.handjob)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name&#39;s handjobs can only be described as unpleasurable. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; grips too hard or limp, and doesn&#39;t use any type of lubrication. Its clear that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; needs a lot of training. You plan to hold the back of $activeCharacter.name&#39;s hand with your own and guide &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hand up and down &lt;&lt;print $penis[$PC.cock.current]&gt;&gt;. During the lesson you will help &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; find the right amount pressure to use all while stressing the importance of lubrication during a handjob.
	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name has enough basic knowledge about handjobs to give a somewhat pleasurable experience. It would still take time for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to bring someone to orgasm but at least &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can get them there. This lesson you plan to focus mainly on teaching $activeCharacter.name how important stimulating the head of a cock is. You have $activeCharacter.name carefully caress the head of &lt;&lt;print $penis[$PC.cock.current]&gt;&gt; lubed up while jerking off &lt;&lt;print $shaft[$PC.cock.current]&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; other hand.
	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name understands the main components to giving a good handjob but still needs a lot of practice before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can be considered decent at it. You plan to spend most of this lesson having $activeCharacter.name practice stroking &lt;&lt;print $penis[$PC.cock.current]&gt;&gt; while making sure that &lt;&lt;print $testicles[$PC.balls]&gt;&gt; aren&#39;t ignored during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; handjobs.
		
	&lt;&lt;case 4&gt;&gt;
		Although $activeCharacter.name is skilled at many aspects of giving handjobs, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has a difficult time putting all of them together to create a single sensual experience. The whole lesson you plan to have $activeCharacter.name practice using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills in tandem without making it noticeable that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is using a multitude of techniques rather than one.
		
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name has pretty much mastered how to give a handjob. All that is left to do is teach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; one more thing before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can consider &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; handjob skill perfect. You plan to spend this lesson teaching $activeCharacter.name how to edge someone with a handjob. Teaching the slowed and pleasurable hand movements are easy for someone of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skill. What takes a little bit more time is teaching &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; how to detect when someone is about to cum and how much to slow down so that its delayed as long as possible.
		
	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.manual.handjob = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.manual.handjob)&gt;&gt;</tw-passagedata><tw-passagedata pid="112" name="Fisting" tags="nobr" position="2001,1271" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;fisting skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.manual.fisting)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name knows nothing about fisting, which really isn&#39;t surprising as it isn&#39;t a very common act. For this lesson you plan to teach $activeCharacter.name the importance of safety and cleanliness during fisting. You plan to have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; practice washing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands as well as setting the scene properly. 
		
	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name has some preliminary knowledge about fisting but has no idea how to actually begin the process. You plan to teach $activeCharacter.name the basics of being fisting, as well as fisting during this lesson. You also have to explain that its something that has to be worked on, not everyone can be fisted and barely anyone who can have a fist just shoved up their vagina or ass without foreplay.

	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name can perform the basics when it comes to fisting. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; knows how to set the play up cleanly and knows how to properly prepare &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; or someone else for fisting with the little to no vaginal or anal tearing. For this lesson you plan to teach $activeCharacter.name how to make the act very pleasurable for a partner, as well as how to receive pleasure from being fisted.
	
	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name only knows about safe, consensual and pleasurable fisting. Not all partners will give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; the time to make sure everything will be safe. This lesson you plan to teach $activeCharacter.name how to perform and receive a more harsh fisting. This includes how to properly care for &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; after being fisted harshly as well as how to give &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; more masochistic partners a rough fisting.
	
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name is very proficient when it comes to being fisted and fisting &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partners. For this lesson you plan to teach $activeCharacter.name you plan to have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; practice the nuances of fisting someone anally. Although &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; already knows how to do so safely, it still takes a large amount of time, effort and skill to get someone to orgasm from anal fisting.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.manual.fisting = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.manual.fisting)&gt;&gt;</tw-passagedata><tw-passagedata pid="113" name="Breastplay" tags="nobr" position="2131,361" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;breastplay&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.mammary.breastplay)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name knows nothing about the anatomy of breasts or their erogenous zones. For this lesson you plan to spend a majority of the lesson explaining the anatomy of breasts and how to stimulate them to $activeCharacter.name. You plan to spend the rest of the lesson explaining to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; the difference in sensitivities between the nipples, the areola and the rest of the breast.

	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name knows where the erogenous zones on breasts but not how to stimulate them. This lesson you plan to have $activeCharacter.name learn how to stimulate each of the erogenous zones with the &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands. 
	
	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name understands basic breastplay but has little to no knowledge on proper play progression. You plan to spend this lesson teaching $activeCharacter.name to start breastplay with soft, sensual kneading and how to slowly work &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; way up to being more rough with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner by slapping and roughly massaging them.

	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name&#39;s breastplay skills are decent but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still needs a lot more skills before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can be considered skilled. For this lesson you plan to teach $activeCharacter.name how to orally stimulate breasts using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue and teeth.

	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name is very good at breastplay but other than technical skill, its very uninspired. You plan to spend this lesson teaching $activeCharacter.name the importance of teasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.mammary.breastplay = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.mammary.breastplay)&gt;&gt;</tw-passagedata><tw-passagedata pid="114" name="Breastfeeding" tags="nobr" position="2131,621" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;breastfeeding skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.mammary.breastfeeding)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		Although $activeCharacter.name breasts are lactating, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has little to no idea about how to sexually service others by letting them feed on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; milk. You plan to have $activeCharacter.name get comfortable with the idea of letting adults feed from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breasts by having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; feed &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nipple into your mouth, allowing you to nurse on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; teet.

	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name is comfortable with adults suck on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breasts for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; milk, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t know how to extend the sexual play from there. For this lesson you have $activeCharacter.name practice humming and speaking soothing words to you while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; allows you to suckle on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breasts, to enhance the atmosphere.

	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name is not only comfortable with allowing others to suckle on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows how to soothe &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partners in a mentally calming manner. However, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still has much to learn about the physical aspect of breastfeeding play. You plan to teach $activeCharacter.name how to physically soothe &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partners by having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; practice caressing you in erotic ways that don&#39;t raise your arousal too much.

	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name&#39;s ability to provide a service through breastfeeding is good enough to satisfy many, if not most of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; potential partners. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is still required to learn how to sexually stimulate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner during the breastfeeding play. For this lesson you teach $activeCharacter.name how to caress you, and others sexually so that you may be able to orgasm while you feed on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; milk. 
		
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name knows many techniques for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breastfeeding sexual play but has a hard time putting them all together to create one sensual, calming and orgasmic experience. You have $activeCharacter.name spend the whole lesson practicing using all of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills in tandem by having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; soothe you with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; words while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; caresses you calmingly with one hand and sexually stimulates your sexual organs with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; other.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.mammary.breastfeeding = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.mammary.breastfeeding)&gt;&gt;</tw-passagedata><tw-passagedata pid="115" name="Mammary Intercourse" tags="nobr" position="2131,491" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;paizuri skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.mammary.intercourse)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name needs a lot of training before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can give a proper titjob. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a general idea of what to do but has no idea where to actually start. For this lesson you plan to teach $activeCharacter.name how to prepare for a titjob by making certain that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; understands that titjobs aren&#39;t to be given dry. You have teach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to wet &lt;&lt;print $penis[$PC.cock.current]&gt;&gt; and how to use lube to properly prepare &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tits.

	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name is experienced enough to know not to give titjobs dry but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills are either lacking or non-existent. You plan to have $activeCharacter.name practice rubbing &lt;&lt;print $penis[$PC.cock.current]&gt;&gt; between &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tightly squeezed breasts. The idea is straightforward so most of the lesson will be spent teaching &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; how to work a cock in a sensual rhythm fast enough to bring someone to orgasm.

	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name can give a basic titjob which may be good enough for a significant other but is horrible for someone who&#39;s sole purpose is to provide sexual relief. For this lesson you plan to have $activeCharacter.name massage a dildo between &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breasts while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; keeps &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body mostly still. Kneading &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breasts against it requires more hand skill and endurance than anything else.

	&lt;&lt;case 4&gt;&gt;
		Even though $activeCharacter.name knows how to give a titjob, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still needs some more training before you can consider &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; very skilled. You plan to spend most of the lesson teaching $activeCharacter.name the importance of using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to enhance the experience. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; spends the lesson sucking and slobbering all over the head of a dildo while the majority of its length remains sandwiched between &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tits.

	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name can give a pleasurable titjob but it feels very clinical, lacking and uninspired. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; needs to learn their is more to it than just shaking &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breasts. You plan to teach $activeCharacter.name how to set a proper mood and how to mentally excite people. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; practices stripping &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; top and bra in a sexy manner and talking dirty during the actual titjob.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.mammary.intercourse = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.mammary.intercourse)&gt;&gt;</tw-passagedata><tw-passagedata pid="116" name="Futa Sex" tags="nobr" position="2131,1011" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0.1, 4:0.4, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.1, 3:0.2, 4:0.3, 5:0.4})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;sex skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.intercourse.vaginal)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name&#39;s vocal performance during sex is non-existent during penetrative sex, and doesn&#39;t know what to do when being penetrated. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will require intensive training before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; at having sex. For this lesson you plan to correct $activeCharacter.name physically whenever &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocal or physical performance is lacking in enthusiasm. Before long, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should be physically conditioned to be more active during any sexual intercourse.

	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name sexual prowess is basically non-existent. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a hard time keeping &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; erection and ejaculates prematurely frequently. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will require a lot of training before &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sex skills are anywhere near passable. For this lesson you plan to have $activeCharacter.name masturbate &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to the edge of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasm before stopping for a small break before beginning again.

	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name is capable of keeping a prolonged erection and can use basic hip movement but other than that &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; sex skills are fairly poor. For this lesson you plan to teach $activeCharacter.name a large range of different sexual positions and how to contract &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pussy muscles. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; may not be able to remember all of the positions but the idea is to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do something other than just missionary or doggy-style during sex.

	&lt;&lt;case 4&gt;&gt;
		As far as you can tell, $activeCharacter.name is a decent lover. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is active during sex and has good control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms and PC muscles. That being said, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would do well to learn that sex isn&#39;t just limited to intercourse. You plan to have $activeCharacter.name spend the lesson practicing physical actions that don&#39;t have anything to do with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; penis or cunt. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; touches, kisses and general sensuality during sex should be improved upon.
	
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name knows how to fuck, very well in fact. The only things you can train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do is how to make it a performance. You plan to teach $activeCharacter.name how to sell sex as a complete experience this lesson. You focus on refining &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocal performance, including things like how to talk dirty and how to fake an orgasm.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, _roll)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.intercourse.vaginal = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.intercourse.vaginal)&gt;&gt;</tw-passagedata><tw-passagedata pid="117" name="Anal Sex" tags="nobr" position="2131,1141" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;anal sex skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.intercourse.anal)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name doesn&#39;t understand the importance of keeping &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass clean other than basic hygiene. For this lesson you plan to teach $activeCharacter.name how to properly clean out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass by giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; an enema. After being taught a few times, $activeCharacter.name will be able to do it &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;.

	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name has no experience being sodomized and has very little knowledge about the act. For this lesson you plan to teach $activeCharacter.name how to properly prepare &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole and the importance of using a non-numbing lube.

	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name understands the anal preparation process but knows little about the actual act. You plan to spend this lesson having $activeCharacter.name practice sodomizing &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with a dildo to get used to performing the act.
	
	&lt;&lt;case 4&gt;&gt;
		$activeCharacter.name&#39;s ass is usable as a fuckhole but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no idea how to make the experience pleasurable for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner. You plan to spend this lesson teaching $activeCharacter.name how to properly tense &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole muscles as to give &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner a more pleasurable experience.
	
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name anal skills are pretty much perfect. This lesson you plan to focus on teaching $activeCharacter.name how to properly finish an anal session. This includes making sure that everything is clean, especially the tool used to sodomize &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, whether its a dildo or a real cock. You especially plan to have $activeCharacter.name practice cleaning &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; off &lt;&lt;print $penis[$PC.cock.current]&gt;&gt; after you finish fucking &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass with it.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;anus&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseGape($activeCharacter, _roll)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.intercourse.anal = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.intercourse.anal)&gt;&gt;</tw-passagedata><tw-passagedata pid="118" name="Male Sex" tags="nobr" position="2131,751" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0.1, 4:0.4, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.1, 3:0.2, 4:0.3, 5:0.4})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;sex skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.intercourse.vaginal)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name&#39;s vocal performance during sex is non-existent. The only time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; makes any sound is during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; climax, and even then its very quiet and unsatisfactory. You plan to get $activeCharacter.name to be more vocal during sex by physically correcting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with subtle pinches, strikes and tweaks when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been quiet during sex for too long.

	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name sexual prowess is basically non-existent. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a hard time keeping &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; erection and ejaculates prematurely frequently. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will require a lot of training before &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sex skills are anywhere near passable. For this lesson you plan to have $activeCharacter.name masturbate &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to the edge of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasm before stopping for a small break before beginning again.

	&lt;&lt;case 3&gt;&gt;
		$activeCharacter.name is capable of keeping an erection during sex without prematurely ejaculating but other than that &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; sex skills are fairly poor. For this lesson you plan to teach $activeCharacter.name a large range of different sexual positions. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; may not be able to remember all of the positions but the idea is to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do something other than just missionary or doggy-style during sex.

	&lt;&lt;case 4&gt;&gt;
		As far as you can tell, $activeCharacter.name is a decent lover. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is active during sex and has good control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms. That being said, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would do well to learn that sex isn&#39;t just limited to intercourse. You plan to have $activeCharacter.name spend the lesson practicing physical actions that don&#39;t have anything to do with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; penis. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; touches, kisses and general sensuality during sex should be improved upon.
	
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name knows how to fuck, very well in fact. The only things you can train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do is how to make it a performance. You plan to teach $activeCharacter.name how to sell sex as a complete experience this lesson. You focus on refining &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocal performance, including things like how to talk dirty.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.intercourse.vaginal = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.intercourse.vaginal)&gt;&gt;</tw-passagedata><tw-passagedata pid="119" name="Female Sex" tags="nobr" position="2131,881" size="100,100">&lt;&lt;if $activeCharacter.submission == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0.1, 4:0.4, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.1, 3:0.2, 4:0.3, 5:0.4})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;sex skills&quot;&gt;&gt;

&lt;&lt;switch getSkillLevel($activeCharacter.sexualskill.intercourse.vaginal)&gt;&gt;
	&lt;&lt;case 1&gt;&gt;
		$activeCharacter.name knows what goes where, but that is the extent of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; knowledge about sex. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will require a lot of training before &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sex skills are anywhere near passable. This lesson you plan to spend a majority of your time thrusting a dildo into $activeCharacter.name. It doesn&#39;t matter if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t a very active participant, the point of the lesson is just to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; used to having sex.
		
	&lt;&lt;case 2&gt;&gt;
		$activeCharacter.name fucks like a dead fish. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; makes no attempts to engage at all during sex, and barely makes any audible sounds. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; might be used to sex but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; definitely doesn&#39;t know how to have sex. You plan to make $activeCharacter.name take a much more active role in sex during the lesson by having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; riding in a cowgirl position.

	&lt;&lt;case 3&gt;&gt;
		During sex $activeCharacter.name can at least move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills are otherwise very poor. This lesson you plan to spend more time on having $activeCharacter.name do kegel exercises rather than actually having sex. You continually stress to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; the importance of learning how to contract &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pussy muscles around a cock.

	&lt;&lt;case 4&gt;&gt;
		As far as you can tell, $activeCharacter.name is a decent lover. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is active during sex and has good control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; PC muscles. That being said, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would do well to learn that sex isn&#39;t just limited to intercourse. You plan to have $activeCharacter.name spend the lesson practicing physical actions that don&#39;t have anything to do with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cunt. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; touches, kisses and general sensuality during sex should be improved upon.
	
	&lt;&lt;case 5&gt;&gt;
		$activeCharacter.name knows how to fuck, very well in fact. The only things you can train &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do is how to make it a performance. You plan to teach $activeCharacter.name how to sell sex as a complete experience this lesson. You focus on refining &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocal performance, including how to properly fake an orgasm if needed.

	&lt;&lt;case 6&gt;&gt;
		$activeCharacter.name has already perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skill. You plan on having $activeCharacter.gender practice just to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname skills polished.
	
&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if _roll &gt; 2&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, _roll)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;set $activeCharacter.sexualskill.intercourse.vaginal = increaseSkill($activeCharacter, _roll, $activeCharacter.sexualskill.intercourse.vaginal)&gt;&gt;</tw-passagedata><tw-passagedata pid="120" name="Training Results" tags="nobr" position="2651,99" size="100,100">&lt;&lt;if $activeCharacter.mood.current &lt; 25 &amp;&amp; $activeCharacter.mood.scale == &quot;Sanity&quot;&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name is mindbroken and cannot learn any new skills or improve on the ones &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has.&#39;&#39;@@
	&lt;br&gt;
	Your efforts in training $activeCharacter.name are fruitless, there is little to nothing going on in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head so everything you try to teach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; goes in one ear and out the other. If you plan on training &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, you will have to raise &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sanity by treating &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; positively.

&lt;&lt;elseif _roll == 1&gt;&gt;
	@@color:red;&#39;&#39;$activeCharacter.name physically refuses to practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name has no intentions of learning anything you have to teach &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; kicks, punches and screams at the top of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lungs anytime you get close to &lt;&lt;print$himher[$activeCharacter.gender]&gt;&gt;. Clearly, &lt;&lt;print$heshe[$activeCharacter.gender]&gt;&gt; wants nothing to do with you whether its intimate or not.

&lt;&lt;elseif _roll == 2&gt;&gt;
	@@color:orange;&#39;&#39;$activeCharacter.name verbally refuses to practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname.&#39;&#39;@@
	&lt;br&gt;
	$activeCharacter.name is not interested in practicing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; firmly explains to you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will not listen to any lesson you try to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. True to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; words, anytime you try to begin the lesson &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body away from you in protest.

&lt;&lt;elseif _roll == 3&gt;&gt;
	@@color:yellow;&#39;&#39;You force $activeCharacter.name to practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname.&#39;&#39;@@ 
	&lt;br&gt;
	$activeCharacter.name attempts to ignore your training but you use enough force necessary to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; attention on you. When the lesson becomes physical, you basically have to force yourself on $activeCharacter.name to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to participate in the practice. This is not a very effective way of training, but its more effective than having the &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; do nothing but ignore or fight you the whole lesson.

&lt;&lt;elseif _roll == 4&gt;&gt;
	@@color:greenyellow;&#39;&#39;$activeCharacter.name reluctantly practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname.&#39;&#39;@@ 
	&lt;br&gt;
	$activeCharacter.name responds and reacts to your lesson favorably. &lt;&lt;print$HisHer[$activeCharacter.gender]&gt;&gt; actions are unsure but there is little to no hesitation in &lt;&lt;print$hisher[$activeCharacter.gender]&gt;&gt; decision to practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname. &lt;&lt;print$HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t exactly enthusiastic about &lt;&lt;print$hisher[$activeCharacter.gender]&gt;&gt; training but &lt;&lt;print$hisher[$activeCharacter.gender]&gt;&gt; lack of resistance is good enough for you to teach &lt;&lt;print$himher[$activeCharacter.gender]&gt;&gt; a reasonably amount.

&lt;&lt;elseif _roll == 5&gt;&gt;
	@@color:forestgreen;&#39;&#39;$activeCharacter.name eagerly practice &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname.&#39;&#39;@@
	&lt;br&gt;	
	$activeCharacter.name shows no hesitation at all when it comes to practicing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; _trainingname. &lt;&lt;print$HeShe[$activeCharacter.gender]&gt;&gt; is very enthusiastic about it, making it very easy for you to teach &lt;&lt;print$himher[$activeCharacter.gender]&gt;&gt; anything you need to about the subject without any problems.
&lt;&lt;/if&gt;&gt;

&lt;!--&lt;&lt;if _roll &gt;= 3&gt;&gt;
	&lt;&lt;print checkVirginity($activeCharacter, $subtrainingtype, _roll, &quot;training&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;--&gt;</tw-passagedata><tw-passagedata pid="121" name="Starter Page" tags="nobr" position="11,1431" size="100,100">Welcome to Fantasy Slave Trainer. This is an erotic text game depicting the slave trade in a fantasy world. You must be 18 years or older to play this game because of the sexual nature of this game&#39;s content.

&lt;br&gt;&lt;br&gt;

[[I am 18 years of age or older and want to play this game.|Difficulty]]</tw-passagedata><tw-passagedata pid="122" name="Difficulty" tags="nobr" position="9,1561" size="100,100">&lt;&lt;unset $Continue&gt;&gt;
&lt;&lt;unset $Previous&gt;&gt;

&lt;b&gt;Please choose which difficulty you would like to play at.&lt;/b&gt;

&lt;br&gt;&lt;br&gt;

&lt;b&gt;[[Default Difficulty|CC - Race Selection][$difficulty = &quot;default&quot;]]&lt;/b&gt;&lt;br&gt;
The default difficulty allows the player to play and enjoy the game, exploring the content as they see fit without having to micromanage slaves and money. Slaves will be much easier to train, they won&#39;t be as fatigued from doing their jobs and will recover very quickly.

&lt;br&gt;&lt;br&gt;

&lt;b&gt;[[Hard Difficulty|CC - Race Selection][$difficulty = &quot;hard&quot;]]&lt;/b&gt;&lt;br&gt;
This difficulty is for people who want to be challenged while playing the game. Slaves will be a lot harder to train and will require more energy focused on them. They become fatigued quicker and will require more rest to get them back to peak condition.

&lt;&lt;set $NC = {tribe: &quot;Canus&quot;, sex: &quot;Male&quot;, gender: &quot;Male&quot;, virgin: &quot;Virgin&quot;, analvirgin: &quot;Virgin&quot;, pregnancy: &quot;None&quot;, statpoints:5}&gt;&gt;

&lt;&lt;set $PC = {name: &quot;Player&quot;, race: &quot;&quot;, tribe: &quot;&quot;, gender: &quot;&quot;, sex: &quot;&quot;, ogsex: &quot;&quot;, skintone: &quot;&quot;, fur: &quot;&quot;, haircolor: &quot;&quot;, clothes: &quot;&quot;, hairstyle: &quot;&quot;, eyecolor: &quot;&quot;, eyedescriptor: &quot;&quot;, occupation: &quot;&quot;, temperament: &quot;&quot;, nature: &quot;&quot;, origin: &quot;&quot;, assignment: &quot;rest&quot;, location: &quot;estate&quot;, building: &quot;&quot;, room: &quot;&quot;, diet: &quot;&quot;, sickness: &quot;&quot;, promise: &quot;&quot;, likes: &quot;&quot;, dislikes: &quot;&quot;, fears: &quot;&quot;, renew: null, memories: &quot;&quot;, appointment: &quot;&quot;, threaten: &quot;&quot;, echo:&quot;&quot;, title: &quot;&quot;, titles: &quot;&quot;, transformation:&quot;&quot;, incense:&quot;&quot;, hypno: &quot;&quot;, info: &quot;&quot;, stats: &quot;&quot;, cooldown: &quot;&quot;, popularity: &quot;&quot;, clothes: &quot;&quot;, tattoo: &quot;&quot;, piercing: &quot;&quot;, exoticism: 0, style: 0, will: 0, submission: 0, shaved: 0, lust: 3, mood: {}, customers: 0, amnity:0, sanity: 0, obedience: {}, fear: {}, trust: {}, rating: 0, guilt: 0, tempbehaviour: 0, ID: 0, health: 0, fatigue: 0, expense: 0, rarity: 0, shelflife: 0, age: 0, birthweek:0, maturity: 0, lifespan: 0, intelligence: 0, height: 0, inverted: 0, butt: &quot;&quot;, lips: &quot;&quot;, shoulders: &quot;&quot;, hips: &quot;&quot;, torso: &quot;&quot;, legs: &quot;&quot;, bust: &quot;&quot;, cock: &quot;&quot;, girth: &quot;&quot;, balls: &quot;&quot;, clit: &quot;&quot;, pussy: &quot;&quot;, sensitivity: &quot;&quot;, gape: 1, analtoy: 0, hooded: 0, vagina: 0, circumcised: 0, chastity: 0, virgin: 0, lactating: &quot;&quot;, nectaring:&quot;&quot;, analvirgin: 0, beauty: 0, weight: 0, traits: &quot;&quot;, fitness: &quot;&quot;, price: 0, ogprice:0, appeal: 0, reputation: 0, sexualskill: 0, expenses: 0, known:&quot;&quot;, impermanent:&quot;&quot;, sexual:&quot;&quot;, chattel:&quot;&quot;, pregnancy: null, slavecap:4, guild:{}, energy:{}, history: [], eventlog: [], skills: {}, position:null, training:{}, combat:{}}&gt;&gt;

/*&lt;&lt;set $PC to {name: &quot;&quot;, gender: &quot;&quot;, sex: &quot;&quot;, penis: 0, balls: 0, vagina: 0, clit: 0, genitals: &quot;&quot;, guild: &quot;&quot;, age: 0, money: 0, level: 1, slavecap: 4, energy: &quot;&quot;}&gt;&gt;*/

&lt;&lt;set $PC.combat = {stamina:null, arousal:null, libido:null, text:{}, stimulation:0}&gt;&gt;
&lt;&lt;set $PC.combat.stamina = {current:0, max:0}&gt;&gt;
&lt;&lt;set $PC.combat.arousal = {current:0, max:0}&gt;&gt;
&lt;&lt;set $PC.combat.libido = {current:0, max:0}&gt;&gt;

&lt;&lt;set $PC.mood = {scale:&quot;Happiness&quot;, current:50}&gt;&gt;

&lt;&lt;set $PC.obedience = {current:100, base:100, mood:0, bonus:0, multi:1}&gt;&gt;
&lt;&lt;set $PC.trust = {current:100, base:100, mood:0, bonus:0, multi:1}&gt;&gt;
&lt;&lt;set $PC.fear = {current:100, base:100, mood:0, bonus:0, multi:1}&gt;&gt;

&lt;&lt;set $PC.guild = {slaver:{}}&gt;&gt;
&lt;&lt;set $PC.guild.slaver = {rank:0, level:3, grade:&quot;E&quot;, exp:0, maxexp:100, contract:[], contractmax:1, excess:0, rankup:0, reward:0}&gt;&gt;
&lt;&lt;set $PC.energy = {current: 4, max: 4}&gt;&gt;
&lt;&lt;set $PC.focus = &quot;Rest&quot;&gt;&gt;

&lt;&lt;set $PC.chattel = {pen:0, style:null, focus:null}&gt;&gt;
&lt;&lt;set $PC.pregnancy = {child:[], weeks:0, maturity:0, duration:0, lactating:0, recovery:0, type:&quot;normal&quot;, status:null}&gt;&gt;
&lt;&lt;set $PC.sexual = {fertility: &quot;&quot;, libido: &quot;&quot;, strength: &quot;&quot;, speed: &quot;&quot;, stamina: &quot;&quot;, control: &quot;&quot;}&gt;&gt;

&lt;&lt;set $PC.sexual.fertility = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.libido = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.strength = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.speed = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.stamina = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.control = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.impermanent = {cock:0, bust:0, clit:0, pussy:0, balls:0}&gt;&gt;

&lt;&lt;set $PC.training = {trainer:null, discipline:null, reward:{}, punishment:{}}&gt;&gt;
&lt;&lt;set $PC.training.reward = {small:null, normal:null, large:null}&gt;&gt;
&lt;&lt;set $PC.training.punishment = {small:null, normal:null, large:null}&gt;&gt;

&lt;&lt;set $PC.stats = {manual:0, oral:0, mammary:0, vanilla:0, anal:0, sissification: 0, bimbofication: 0, femininity: 0, masculinity: 0, strumpetry: 0, dominant: 0, submissive: 0, masculinization:0, chivalry:0, breeding:0}&gt;&gt;

&lt;&lt;set $PC.lips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.shoulders = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.hips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.torso = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.legs = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.butt = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.cock = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.bust = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.clit = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.pussy = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.girth = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.balls = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.sensitivity = {cock:0, breasts:0, anus:0, clit:0, pussy:0, balls:0, mouth:0}&gt;&gt;

&lt;&lt;set $PC.lactating = {temporary:0, permanent:0}&gt;&gt;
&lt;&lt;set $PC.nectaring = {temporary:0, permanent:0}&gt;&gt;

&lt;&lt;set $PC.cum = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.cum.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.cum.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.cum.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.milk = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.milk.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.milk.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.milk.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.nectar = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.nectar.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.nectar.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.nectar.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.appointment = {type:null, location:null, detail:null}&gt;&gt;

&lt;&lt;set $PC.clothes = {outfit: null, head: null, eyes: null, neck: null, hands: null, top: null, bottom: null, legs: null, shoes: null}&gt;&gt;
&lt;&lt;set $PC.clothes.outfit = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.head = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.eyes = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.neck = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.hands = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.top = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.bottom = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.legs = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.shoes = {attire:&quot;&quot;, style: 0}&gt;&gt;

&lt;&lt;set $PC.piercing = {ear:&quot;&quot;, eyebrow:&quot;&quot;, nose:&quot;&quot;, tongue:&quot;&quot;, lip:&quot;&quot;, nipple:&quot;&quot;, navel:&quot;&quot;, pussy:&quot;&quot;, cock:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.piercing.ear = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.eyebrow = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.nose = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.tongue = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.lip = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.nipple = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.navel = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.pussy = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.cock = {type:0, jewelry:0}&gt;&gt;

&lt;&lt;set $PC.tattoo = {body:null, face:null, innerlip:null, neck:null, upperback:null, shoulder:null, upperarm:null, lowerarm:null, hands:null, chest:null, ribcage:null, lowerback:null, abdomen:null, pelvis:null, hips:null, buttocks:null, upperleg:null, lowerleg:null, ankle:null, feet:null}&gt;&gt;

&lt;&lt;set $PC.titles = []&gt;&gt;
&lt;&lt;set $PC.likes = []&gt;&gt;
&lt;&lt;set $PC.dislikes = []&gt;&gt;
&lt;&lt;set $PC.fears = []&gt;&gt;
&lt;&lt;set $PC.update = []&gt;&gt;

&lt;&lt;set $PC.cooldown = {title:0}&gt;&gt;
&lt;&lt;set $PC.info = {endweek:null}&gt;&gt;
&lt;&lt;set $PC.transformation = {progress:0, item:&quot;None&quot;, circulating: &quot;None&quot;, duration:0}&gt;&gt;
&lt;&lt;set $PC.incense = {item:&quot;None&quot;}&gt;&gt;
&lt;&lt;set $PC.clothes = {butt: null, vagina: null, cock: null}&gt;&gt;
&lt;&lt;set $PC.echo = {subtype:&quot;&quot;, total:0}&gt;&gt;
&lt;&lt;set $PC.promise = {made:0,weeks:0}&gt;&gt;
&lt;&lt;set $PC.threaten = {made:0,weeks:0}&gt;&gt;
&lt;&lt;set $PC.diet = {status:&quot;Normal&quot;, progress:0}&gt;&gt;
&lt;&lt;set $PC.fitness = {status:&quot;None&quot;, progress:0}&gt;&gt;
&lt;&lt;set $PC.fatigue = {status:&quot;None&quot;, mental:null, physical:null, max:null, progress:0}&gt;&gt;
&lt;&lt;set $PC.popularity = {brothel:0, ranch:0}&gt;&gt;
&lt;&lt;set $PC.condition = {status:&quot;None&quot;, progress:100}&gt;&gt;
&lt;&lt;set $PC.traits = {ears:&quot;&quot;, tail:&quot;&quot;, feet:&quot;&quot;, hands:&quot;&quot;, body:&quot;&quot;, description:&quot;&quot;, list:[]}&gt;&gt;

&lt;&lt;set $PC.hypno = {bimbo:0, cum:0, masochism:0, sadism:0, muscle:0, domesticated:0}&gt;&gt;</tw-passagedata><tw-passagedata pid="123" name="Title Descriptions" tags="nobr" position="489,898" size="100,100">&lt;&lt;include &quot;Titles&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.title == &quot;Bimbo&quot;&gt;&gt;
	$activeCharacter.name is a bimbo. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead. Nothing of importance goes on in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; only thinks of superficial things. Being turned into a bimbo has not affected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; intelligence despite &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; change in thinking.
	
&lt;&lt;elseif $activeCharacter.title == &quot;Bimboy&quot;&gt;&gt;
	$activeCharacter.name is a bimboy. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead who only thinks of superficial things and has been trained to be a true masculine. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is basically the masculine version of a bimbo.
	
&lt;&lt;elseif $activeCharacter.title == &quot;Bimbo Slut&quot;&gt;&gt;
	$activeCharacter.name is a bimbo slut. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to both love and crave sex as well as hypnotized into an airhead. The only thoughts &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has are either materialistic in nature or something to do with sex.
	
&lt;&lt;elseif $activeCharacter.title == &quot;Brody&quot;&gt;&gt;
	$activeCharacter.name is a brody. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been psychologically trained to think and be a man. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; hopes to one day be transformed physically into a man. $activeSlave.name uses male pronouns.
	
&lt;&lt;elseif $activeCharacter.title == &quot;Breeding Slave&quot;&gt;&gt;
	$activeCharacter.name is a breeding slave. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained for breeding purposes. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; understands &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; role as a breeding slave and all the dynamics that come with it.
	
&lt;&lt;elseif $activeCharacter.title == &quot;Bull&quot;&gt;&gt;
	$activeCharacter.name is a bull. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a domesticated breeding animal. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; whole purpose is to breed as many sows as possible before getting too old.
	
&lt;&lt;elseif $activeCharacter.title == &quot;Cavalier&quot;&gt;&gt;
	$activeCharacter.name is a cavalier. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be chivalrous. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; strives to be the gallant, considerate and courteous person &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was trained to be.
	
&lt;&lt;elseif $activeCharacter.title == &quot;Cicisbeo&quot;&gt;&gt;
	$activeCharacter.name is a cicisbeo. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a chivalrous true masculine. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will be the paragon of machismo, being able to display a wide array of highly admired traits in men.

&lt;&lt;elseif $activeCharacter.title == &quot;Confident Slave&quot;&gt;&gt;
	$activeCharacter.name is a confident slave. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no fear for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; future and is completely accepting of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; position as a slave. This doesn’t mean that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is completely obedient but it display that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is used to the slave life.
	
&lt;&lt;elseif $activeCharacter.title == &quot;Courtesan&quot;&gt;&gt;
	$activeCharacter.name is a courtesan. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be like a true feminine who loves and craves sex. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will be a high-class woman in public but will be a sexual fiend in private.

&lt;&lt;elseif $activeCharacter.title == &quot;Cumsar&quot;&gt;&gt;
  $activeCharacter.name is a cumsar. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into loving any type of cum, whether it be from a man, woman or monster. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is interested in anything that has to do with cum, even if it doesn&#39;t explicitly include sex.

&lt;&lt;elseif $activeCharacter.title == &quot;Cumslut&quot;&gt;&gt;
	$activeCharacter.name is a cumslut. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into loving any type of cum, whether it be from a man, woman or monster. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has also been trained to love and crave sex, making &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; very receptive to being used for sex.

&lt;&lt;elseif $activeCharacter.title == &quot;Domesticated&quot;&gt;&gt;
  $activeCharacter.name is domesticated. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into loving being treated, and acting like a domesticated animal. While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is domesticated, it doesn&#39;t necessarily mean &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is trained. 

&lt;&lt;elseif $activeCharacter.title == &quot;Domesticated Bitch&quot;&gt;&gt;
  $activeCharacter.name is domesticated. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into loving being treated, acting like a domesticated animal and trained to love sex. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is a great slave for those who love sex with superfluous slave produce.

&lt;&lt;elseif $activeCharacter.title == &quot;Dominant&quot;&gt;&gt;
	$activeCharacter.name is a dominant. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to play the dominant role during and outside of sexual intercourse. This doesn’t mean that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; personality is dominant, it simply means that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows how to play the role properly.

&lt;&lt;elseif $activeCharacter.title == &quot;Dominatrix&quot;&gt;&gt;
	$activeCharacter.name is a dominatrix. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a dominant feminine who has been hypnotized to feel pleasure giving and seeing others in pain. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; prefers to sadistically dominate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual partners.

&lt;&lt;elseif $activeCharacter.title == &quot;Drag King&quot;&gt;&gt;
	$activeCharacter.name is a drag king. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been completely psychologically trained to think and be a completely masculine man. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; uses male pronouns.

&lt;&lt;elseif $activeCharacter.title == &quot;Feminine&quot;&gt;&gt;
	$activeCharacter.name is a feminine. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a true feminine. This usually pertains to things outside of sex and has little to no bearing on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; actual personality. 

&lt;&lt;elseif $activeCharacter.title == &quot;Feminine Bimbo&quot;&gt;&gt;
	$activeCharacter.name is a feminine bimbo. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead who only thinks of superficial things and has been trained to be a true feminine. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; holds bimbonic interests but knows how to carry &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with practiced femininity.

&lt;&lt;elseif $activeCharacter.title == &quot;Feminine Sissy&quot;&gt;&gt;
	$activeCharacter.name is a feminine sissy. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been completely psychologically trained to think and be a completely feminine woman. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; uses female pronouns.

&lt;&lt;elseif $activeCharacter.title == &quot;Feminine Sissy Bimbo&quot;&gt;&gt;
	$activeCharacter.name is a feminine sissy bimbo. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead who only thinks of superficial things and has been trained to think and be a completely feminine woman. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; holds bimbonic interests, knows how to carry &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with practiced femininity and uses female pronouns.

&lt;&lt;elseif $activeCharacter.title == &quot;Femme Sub&quot;&gt;&gt;
	$activeCharacter.name is a femme sub. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a true feminine as well as a submissive. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acts completely feminine throughout most of the day and becomes servile during any bedroom play.

&lt;&lt;elseif $activeCharacter.title == &quot;Gigolo&quot;&gt;&gt;
	$activeCharacter.name is a gigolo. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a masculine who thoroughly enjoys having sex. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acts masculine during nonsexual moments but during sexual play &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; conforms to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner&#39;s preferences.

&lt;&lt;elseif $activeCharacter.title == &quot;Incubus&quot;&gt;&gt;
	$activeCharacter.name is a Incubus. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was trained to be a masculine who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will prey upon both the physically and mentally weak in a sexual manner.

&lt;&lt;elseif $activeCharacter.title == &quot;Loyal Slave&quot;&gt;&gt;
	$activeCharacter.name is a loyal slave. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is completely obedient to whomever is &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; master. While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; may have some small issues with following orders, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; level of obedience is pretty much the highest you can expect from a slave.

&lt;&lt;elseif $activeCharacter.title == &quot;Man Eater&quot;&gt;&gt;
	$activeCharacter.name is a man eater. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was trained to be a sex loving slut who has been hypnotized to feel pleasure giving and seeing others in pain. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; enjoys inflicting both psychological and physical pain upon the people &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has sex with.

&lt;&lt;elseif $activeCharacter.title == &quot;Masculine&quot;&gt;&gt;
	$activeCharacter.name is a masculine. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a true masculine. This usually pertains to things outside of sex and has little to no bearing on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; actual personality.

&lt;&lt;elseif $activeCharacter.title == &quot;Masculine Bottom&quot;&gt;&gt;
	$activeCharacter.name is a masculine bottom. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a true masculine as well as trained on how to be a proper submissive. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acts masculine during most of the day but during any sexual act &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes on a much more submissive role.

&lt;&lt;elseif $activeCharacter.title == &quot;Masculine Muscle Bimbo&quot;&gt;&gt;
  $activeCharacter.name is a masculine muscle bimbo. &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness, things that are materialistic in nature or something to do with sex. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has also been trained to be a true masculine, usually pertaining to things outside of sex and has little to no bearing on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; actual personality.

&lt;&lt;elseif $activeCharacter.title == &quot;Masculine Top&quot;&gt;&gt;
	$activeCharacter.name is a masculine top. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a true masculine as well as trained on how to be a proper submissive. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acts masculine during most of the day and during any sexual act &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes on a much dominant role.

&lt;&lt;elseif $activeCharacter.title == &quot;Masochist&quot;&gt;&gt;
	$activeCharacter.name is a masochist. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized to feel pain as pleasure. Masochists aren’t necessarily submissive but usually find that they can get the most pleasure from people who hold power over them.

&lt;&lt;elseif $activeCharacter.title == &quot;Muscle Bimbo&quot;&gt;&gt;
  $activeCharacter.name is a muscle bimbo. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness, things that are materialistic in nature or something to do with sex.

&lt;&lt;elseif $activeCharacter.title == &quot;Muscle Bitch&quot;&gt;&gt;
  $activeCharacter.name is a muscle bitch. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness and has been trained to be like a true feminine as well as trained on how to be a proper submissive. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acts completely feminine throughout most of the day and becomes servile during any bedroom play.

&lt;&lt;elseif $activeCharacter.title == &quot;Muscle Slave&quot;&gt;&gt;
  $activeCharacter.name is a muscle slave. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness and trained to be like a submissive masculine. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acts masculine during most of the day but during any sexual act &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes on a much more submissive role.

&lt;&lt;elseif $activeCharacter.title == &quot;Painslut&quot;&gt;&gt;
	$activeCharacter.name is a painslut. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized to feel all but the most intense pain as pleasure. Coupled with the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been trained to love and crave sex, $activeCharacter.name has been trained to love a very rough play during sexual intercourse.

&lt;&lt;elseif $activeCharacter.title == &quot;Perfect Slave&quot;&gt;&gt;
	$activeCharacter.name is a perfect slave. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; not only is as obedient as a slave can be, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no fears about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; future as a slave and is very modest while remaining confident in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills.

&lt;&lt;elseif $activeCharacter.title == &quot;Sadist&quot;&gt;&gt;
	$activeCharacter.name is a sadist. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized to feel pleasure giving and seeing others in pain. Sadists aren’t necessarily dominant but usually find that they can get the most pleasure by being in a position of power to put others in pain.
  
&lt;&lt;elseif $activeCharacter.title == &quot;Sex Fiend&quot;&gt;&gt;
  $activeCharacter.name is a sex fiend. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been been trained to be an expert on giving sexual pleasure. Sex fiends don&#39;t necessarily enjoy sex but they still make for very experienced and talented sexual partners.
  
&lt;&lt;elseif $activeCharacter.title == &quot;Sex Slave&quot;&gt;&gt;
  $activeCharacter.name is a sex slave. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized to feel pain as pleasure and she has been trained to play the submissive role during and outside of sexual intercourse. These two traits generally make for a good combination when training someone to be used exclusively for sex.

&lt;&lt;elseif $activeCharacter.title == &quot;Sissy&quot;&gt;&gt;
	$activeCharacter.name is a sissy. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been completely psychologically trained to think and be a woman. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; hopes to one day be transformed physically into a woman. $activeCharacter.name uses female pronouns.

&lt;&lt;elseif $activeCharacter.title == &quot;Sissy Bimbo&quot;&gt;&gt;
	$activeCharacter.name is a sissy bimbo. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been conditioned to think and be a woman. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has also been hypnotized into a bimbo. Nothing goes on in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head other than sex, clothing and other things of that nature.

&lt;&lt;elseif $activeCharacter.title == &quot;Sissy Slut&quot;&gt;&gt;
	$activeCharacter.name is a sissy slut. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been thoroughly trained to think and be a woman as well as trained to love and crave any kind of sex. On top of this &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has also been physically transformed into a woman to match &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mentality.

&lt;&lt;elseif $activeCharacter.title == &quot;Sissy Slut Bimbo&quot;&gt;&gt;
	$activeCharacter.name is a sissy slut bimbo. Not only is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; a transformed sissy, the only thing &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is concerned with is sex, clothing, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; appearance and more sex. &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has also been trained to crave any type of sex &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can get.

&lt;&lt;elseif $activeCharacter.title == &quot;Slave&quot;&gt;&gt;
	$activeCharacter.name is a slave. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has lost all right to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; person, and now belongs to someone else. The only way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will find freedom is if &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; owner sets &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; free.

&lt;&lt;elseif $activeCharacter.title == &quot;Slut&quot;&gt;&gt;
	$activeCharacter.name is a slut. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to love and crave sex. This does not necessarily mean that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is good at sex, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; brings a level of enthusiasm to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual performance that can&#39;t be taught through singular sexual skills.

&lt;&lt;elseif $activeCharacter.title == &quot;Sow&quot;&gt;&gt;
	$activeCharacter.name is a sow. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to be a domesticated breeding animal. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; whole purpose is to be breed by as many bulls as possible before getting too old.

&lt;&lt;elseif $activeCharacter.title == &quot;Submissive&quot;&gt;&gt;
	$activeCharacter.name is a submissive. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to play the submissive role during and outside of sexual intercourse. This doesn’t mean that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; personality is submissive, it simply means that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows how to play the role properly.

&lt;&lt;elseif $activeCharacter.title == &quot;Succubus&quot;&gt;&gt;
	$activeCharacter.name is a succubus. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was trained to be a sex loving slut who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will often sadistically play with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partners before draining them of their cum, male or female.
  
&lt;&lt;elseif $activeCharacter.title == &quot;Superjock&quot;&gt;&gt;
  $activeCharacter.name is a superjock. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been hypnotized into an airhead. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness; if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t thinking about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fitness, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t thinking period.

&lt;&lt;elseif $activeCharacter.title == &quot;Switch&quot;&gt;&gt;
	$activeCharacter.name is a switch. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been trained to play the dominant and submissive role during and outside of sexual intercourse. This doesn’t mean that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; personality is dominant or submissive, it simply means that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows how to play the role properly.

&lt;&lt;elseif $activeCharacter.title == &quot;Transformed Brody&quot;&gt;&gt;
	$activeCharacter.name is a transformed brody. Not only has &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; been conditioned to think and behave like a man, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been physically transformed to be one as well.

&lt;&lt;elseif $activeCharacter.title == &quot;Transformed Sissy&quot;&gt;&gt;
	$activeCharacter.name is a transformed sissy. Not only has &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; been conditioned to think and behave like a woman, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been physically transformed to be one as well.

&lt;&lt;elseif $activeCharacter.title == &quot;Trustful Slave&quot;&gt;&gt;
	$activeCharacter.name is a trustful slave. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has absolute trust in you as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; owner. In &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind, anything you say is 100% gospel unless you state otherwise.

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $brodytitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Male Transformation Bonus
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cattlingtitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Fertility
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $chivalrytitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Sexual Stamina
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cumtitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Decreased]@@&#39;&#39; Brothel Fatigue
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $domesticatedtitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Slave Produce
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $feartitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Submission Retention
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $masochisttitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Decreased]@@&#39;&#39; Pain/Humiliation Drawback
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $obediencetitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Submission Base
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $popularitytitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Brothel/Ranch Popularity
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sissytitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Female Transformation Bonus
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sextitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Sexual Ability
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $subtitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Decreased]@@&#39;&#39; Hypnosis Resistance
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $superjocktitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Fitness Bonus
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $trusttitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Decreased]@@&#39;&#39; Base Will
&lt;&lt;/if&gt;&gt;



&lt;&lt;if $fatiguetitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Fatigue Regen
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $healthtitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Health Regen
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $pricetitles.includes($activeCharacter.title)&gt;&gt;
	&lt;br&gt;
	&#39;&#39;@@color:greenyellow;[Slightly Increased]@@&#39;&#39; Brothel/Ranch Price
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="124" name="Hypnotic Battle" tags="nobr noreturn notruereturn" position="4204,99" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Train&quot;&gt;&gt;
&lt;&lt;set _character = $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;
&lt;&lt;set $activeCharacter = _character&gt;&gt;
&lt;&lt;set $Training = 1&gt;&gt;
&lt;&lt;set _hypnotitle = 0&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $cheats.includes(&quot;energyWell&quot;)&gt;&gt;
	&lt;&lt;set $activeCharacter.fatigue.mental = $activeCharacter.fatigue.max&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$Hypnotism&gt;&gt;
	&lt;&lt;set $Hypnotism = {page:&quot;Basic&quot;, type:null, incense:null, choice:null, number:0}&gt;&gt;
	&lt;&lt;set $subtrainingtype = &quot;Standby&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Hypnotism.incense == null&gt;&gt;
	&lt;center&gt;&lt;h3&gt;Hypnotic Induction&lt;/h3&gt;&lt;/center&gt;

	$activeCharacter.name is currently in the incense room. The stick of incense you choose to burn will place &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in a hypnotic trance. While in that state, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind is completely malleable to your guidance. The stronger the stick of incense, the more effective your words will have on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; in the hypnotic trance. This will cause some fatigue for $activeCharacter.name. Once $activeCharacter.name is no longer in a hypnotic trance, most of the effects of your suggestions and actions will revert. Repeated sessions are required for a lasting effect.

	&lt;br&gt;&lt;br&gt;

	&lt;b&gt;Incense Management&lt;/b&gt;&lt;br&gt;
	&lt;&lt;if !$Hypnotism.choice&gt;&gt;
		None
	&lt;&lt;else&gt;&gt;
		[[None|Hypnotic Battle][$Hypnotism.choice = null]]
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;for _t = 1; _t &lt;= $inventory.amount; _t++&gt;&gt;
		&lt;&lt;set _item = $inventory[_t]&gt;&gt;

		&lt;&lt;if _item.type == &quot;Incense&quot; &amp;&amp; _item.name != $Hypnotism.choice &amp;&amp; _item.amount &gt;= 1&gt;&gt;
			| &lt;&lt;print &quot;[[_item.name|Hypnotic Battle][$Hypnotism.choice = $inventory[&quot; + _t + &quot;].name]]&quot;&gt;&gt; (x_item.amount)
		&lt;&lt;elseif _item.name == $Hypnotism.choice&gt;&gt;
			| _item.name (x_item.amount)
			&lt;&lt;set $Hypnotism.number = _t&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
	
	&lt;&lt;if $Hypnotism.choice&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;print &quot;[[Burn Incense|Hypnotic Battle][$inventory[&quot; + $Hypnotism.number + &quot;].amount--, $Hypnotism.incense = $inventory[&quot; + $Hypnotism.number + &quot;], $Hypnotism.choice = null, $subtrainingtype = &#39;Standby&#39;]]&quot;&gt;&gt; | &lt;&lt;print $inventory[$Hypnotism.number].description&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;if $Hypnotism.incense != null &amp;&amp; $activeCharacter.fatigue.mental &gt; 0&gt;&gt;
		&lt;center&gt;&lt;h3&gt;Hypnotic Induction&lt;/h3&gt;&lt;/center&gt;
		&lt;&lt;include &quot;Hypno Chart&quot;&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
		
	&lt;&lt;if $subtrainingtype != &quot;Standby&quot;&gt;&gt;
		&lt;&lt;include $subtrainingtype&gt;&gt;
		&lt;&lt;run updateTitles($activeCharacter)&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.update.length &gt;= 1&gt;&gt;
		&lt;hr&gt;
		&lt;&lt;include &quot;Slave Update&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="125" name="Change Title" tags="nobr noreturn notruereturn" position="488,638" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Titles&quot;&gt;&gt;
&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;set $CurrentTitle = $activeCharacter.title&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Change Title&lt;/h3&gt;
Change $activeCharacter.name&#39;s title to any of the titles below that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has unlocked. Different titles will grant different bonuses.

&lt;br&gt;&lt;br&gt;

&lt;b&gt;You can only change $activeCharacter.name&#39;s title once a week.&lt;/b&gt;
&lt;/center&gt;
&lt;hr&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Bimbo&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Bimbo Titles&lt;/h3&gt;
	Bimbo titles are earned by slaves who have been hypnotized into an airhead. Being a bimbo isn&#39;t a determinant of whether or not someone is smart. Bimbos can learn things just as fast as anyone if intelligent enough. Bimbos just prefer to think about things like sex and clothes more than anything else.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Bimbo|Slave Description][$activeCharacter.title = &quot;Bimbo&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being hypnotized into being an airhead. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity.

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Bimboy&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Bimboy&quot; &quot;rank&quot;&gt;&gt; [[Bimboy|Slave Description][$activeCharacter.title = &quot;Bimboy&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely hypnotized into an airhead who only thinks of superficial things and has been trained to be a true masculine. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Bimbo Slut&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Bimbo Slut&quot; &quot;rank&quot;&gt;&gt; [[Bimbo Slut|Slave Description][$activeCharacter.title = &quot;Bimbo Slut&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely hypnotized into an airhead as well as trained to love and crave sex. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and brothel/slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Feminine Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Feminine Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Feminine Bimbo|Slave Description][$activeCharacter.title = &quot;Feminine Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely hypnotized into an airhead who only thinks of superficial things and has been trained to be a true feminine. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Muscle Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Muscle Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Muscle Bimbo|Slave Description][$activeCharacter.title = &quot;Muscle Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness, things that are materialistic in nature or something to do with sex. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability to stay physically fit.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sissy Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sissy Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Sissy Bimbo|Slave Description][$activeCharacter.title = &quot;Sissy Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely sissified as well as being hypnotized into an airhead. This title grants easier female transformations and a small boost to popularity.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Feminine Sissy Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Feminine Sissy Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Feminine Sissy Bimbo|Slave Description][$activeCharacter.title = &quot;Feminine Sissy Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who only thinks of superficial things and has been trained to think and be a completely feminine woman. This title grants easier female transformations, a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Masculine Muscle Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Masculine Muscle Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Masculine Muscle Bimbo|Slave Description][$activeCharacter.title = &quot;Masculine Muscle Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being completely hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness, things that are materialistic in nature or something to do with sex. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has also been trained to be a true masculine. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability to stay physically fit and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sissy Slut Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sissy Slut Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Sissy Slut Bimbo|Slave Description][$activeCharacter.title = &quot;Sissy Slut Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this rare title by being completely sissified, being transformed into a woman, being trained to be a slut as well as being hypnotized into an airhead. This title grants even easier female transformations, grants a small boost to popularity and a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Brody&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Brody Titles&lt;/h3&gt;
	Brody titles are earned by slaves who have been completely brodified. A brody can gain multiple titles by meeting numerous requirements but must stay completely brodified to keep all and any titles earned. Brodies use male pronouns and are more accepting of male transformations.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Brody&quot; &quot;rank&quot;&gt;&gt; [[Brody|Slave Description][$activeCharacter.title = &quot;Brody&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being completely brodified. This title grants easier male transformations.

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Drag King&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Drag King&quot; &quot;rank&quot;&gt;&gt; [[Drag King|Slave Description][$activeCharacter.title = &quot;Drag King&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being psychologically trained to think and be a completely masculine man. This title grants easier male transformations and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Transformed Brody&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Transformed Brody&quot; &quot;rank&quot;&gt;&gt; [[Transformed Brody|Slave Description][$activeCharacter.title = &quot;Transformed Brody&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely brodified as well as being transformed into a man. This title grants even easier male transformations.
	&lt;&lt;/if&gt;&gt;
	
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Breeding Slave&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Cattling Titles&lt;/h3&gt;
	Cattling titles are earned by slaves who have been trained to be breeding slaves. These slaves competely understand their role as a breeding slave and all the large and small dynamics that come with it.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Breeding Slave&quot; &quot;rank&quot;&gt;&gt; [[Breeding Slave|Slave Description][$activeCharacter.title = &quot;Breeding Slave&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being trained to be a breeding slave. This title increases a slave&#39;s fertility.
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Bull&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Bull&quot; &quot;rank&quot;&gt;&gt; [[Bull|Slave Description][$activeCharacter.title = &quot;Bull&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be a domesticated breeding animal. This title increases a slave&#39;s fertility and increases slave produce yield.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sow&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sow&quot; &quot;rank&quot;&gt;&gt; [[Sow|Slave Description][$activeCharacter.title = &quot;Sow&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be a domesticated breeding animal. This title increases a slave&#39;s fertility and increases slave produce yield.
	&lt;&lt;/if&gt;&gt;
	
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Cavalier&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Chivalry Titles&lt;/h3&gt;
	Chivalry titles are earned by slaves who have been trained to be chivalrous. These slaves hold themselves to a code of honor, but that doesn&#39;t mean they are necessarily obedient. They are as susceptible to bad behaviour as any other slave.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Cavalier&quot; &quot;rank&quot;&gt;&gt; [[Cavalier|Slave Description][$activeCharacter.title = &quot;Cavalier&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being trained to be chivalrous. This title increases a slave&#39;s sexual stamina.
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Cicisbeo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Cicisbeo&quot; &quot;rank&quot;&gt;&gt; [[Cicisbeo|Slave Description][$activeCharacter.title = &quot;Cicisbeo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be chivalrous and a true masculine. This title increases a slave&#39;s sexual stamina and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Cumsar&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Cum Titles&lt;/h3&gt;
	Cum titles are earned by slaves who have been hypnotized to love and crave cum. Cumsars worship and reverse cum and often make sure to not to waste any of it if possible.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Cumsar&quot; &quot;rank&quot;&gt;&gt; [[Cumsar|Slave Description][$activeCharacter.title = &quot;Cumsar&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being hypnotized to love and crave cum.

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Cumslut&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Cumslut&quot; &quot;rank&quot;&gt;&gt; [[Cumslut|Slave Description][$activeCharacter.title = &quot;Cumslut&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to love and crave sex as well as being hypnotized to love cum. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and lowers slave fatigue from being whored out.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Succubus&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Succubus&quot; &quot;rank&quot;&gt;&gt; [[Succubus|Slave Description][$activeCharacter.title = &quot;Succubus&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a sex loving slut who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and lowers slave fatigue from being whored out.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Incubus&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Incubus&quot; &quot;rank&quot;&gt;&gt; [[Incubus|Slave Description][$activeCharacter.title = &quot;Incubus&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a masculine who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Domesticated&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Domesticated Titles&lt;/h3&gt;
	Domesticated titles are earned by slaves who have been hypnotized to be a domesticated animal. Domesticated slaves naturally keep their toilet training and ability to socialize with humans, but otherwise be animals.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Domesticated&quot; &quot;rank&quot;&gt;&gt; [[Domesticated|Slave Description][$activeCharacter.title = &quot;Domesticated&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being hypnotized to be a domesticated animal. This title increases slave produce yield.
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Bull&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Bull&quot; &quot;rank&quot;&gt;&gt; [[Bull|Slave Description][$activeCharacter.title = &quot;Bull&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be a domesticated breeding animal. This title increases a slave&#39;s fertility and increases slave produce yield.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Domesticated Bitch&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Domesticated Bitch&quot; &quot;rank&quot;&gt;&gt; [[Domesticated Bitch|Slave Description][$activeCharacter.title = &quot;Domesticated Bitch&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being hypnotized into loving being treated, acting like a domesticated animal and trained to love sex. This title increases slave produce yield and a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sow&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sow&quot; &quot;rank&quot;&gt;&gt; [[Sow|Slave Description][$activeCharacter.title = &quot;Sow&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be a domesticated breeding animal. This title increases a slave&#39;s fertility and increases slave produce yield.
	&lt;&lt;/if&gt;&gt;
	
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Dominant&quot;) || $activeCharacter.titles.includes(&quot;Submissive&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;D/s Titles&lt;/h3&gt;
	Dominant and submissive titles are earned by slaves who have been trained to either be dominant or submissive. Unlike other training, slaves who have been taught these skills see them exactly as such; skills. They don’t generally affect how they may otherwise act, but do grant the knowledge on how to act out these roles during sexual intercourse or otherwise.

	&lt;/center&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Dominant&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Dominant&quot; &quot;rank&quot;&gt;&gt; [[Dominant|Slave Description][$activeCharacter.title = &quot;Dominant&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this common title by being trained to be dominant.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Submissive&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Submissive&quot; &quot;rank&quot;&gt;&gt; [[Submissive|Slave Description][$activeCharacter.title = &quot;Submissive&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this common title by being trained to be submissive. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Femme Sub&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Femme Sub&quot; &quot;rank&quot;&gt;&gt; [[Femme Sub|Slave Description][$activeCharacter.title = &quot;Femme Sub&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being taught to be a true feminine as well as a submissive. This title restores a small amount of fatigue at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Masculine Bottom&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Masculine Bottom&quot; &quot;rank&quot;&gt;&gt; [[Masculine Bottom|Slave Description][$activeCharacter.title = &quot;Masculine Bottom&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being taught the masculine role as well as how to be submissive. This title restores a small amount of health at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Masculine Top&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Masculine Top&quot; &quot;rank&quot;&gt;&gt; [[Masculine Top|Slave Description][$activeCharacter.title = &quot;Masculine Top&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being taught the masculine role as well as how to be dominant. This title restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sex Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sex Slave&quot; &quot;rank&quot;&gt;&gt; [[Sex Slave|Slave Description][$activeCharacter.title = &quot;Sex Slave&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being hypnotized to feel pain as pleasure as well as trained to play the submissive role during and outside of sexual intercourse. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized and pain/humiliation punishment is less detrimental to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Switch&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Switch&quot; &quot;rank&quot;&gt;&gt; [[Switch|Slave Description][$activeCharacter.title = &quot;Switch&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be both submissive and dominant. This title grants more successful hypnotism sessions.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Dominatrix&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Dominatrix&quot; &quot;rank&quot;&gt;&gt; [[Dominatrix|Slave Description][$activeCharacter.title = &quot;Dominatrix&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a dominant feminine who has been hypnotized to feel pleasure giving and seeing others in pain. This title restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Muscle Bitch&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Muscle Bitch&quot; &quot;rank&quot;&gt;&gt; [[Muscle Bitch|Slave Description][$activeCharacter.title = &quot;Muscle Bitch&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness and has been trained to be a true feminine as well as trained on how to be a proper submissive. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized, restores a small amount of fatigue at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to maintain &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical fitness.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Muscle Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Muscle Slave&quot; &quot;rank&quot;&gt;&gt; [[Muscle Slave|Slave Description][$activeCharacter.title = &quot;Muscle Slave&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness and trained to be a submissive masculine. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized, restores a small amount of health at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to maintain &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical fitness.
	&lt;&lt;/if&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Feminine&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Feminine Titles&lt;/h3&gt;
	Feminine titles are earned by slaves who have been taught the feminine role. These slaves have been taught how to act and look the part of someone described as &#39;feminine’.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Feminine&quot; &quot;rank&quot;&gt;&gt; [[Feminine|Slave Description][$activeCharacter.title = &quot;Feminine&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being taught the feminine role. This title restores a small amount of fatigue at the end of the week.
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Courtesan&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Courtesan&quot; &quot;rank&quot;&gt;&gt; [[Courtesan|Slave Description][$activeCharacter.title = &quot;Courtesan&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely trained to be a true feminine who loves and craves sex. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Feminine Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Feminine Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Feminine Bimbo|Slave Description][$activeCharacter.title = &quot;Feminine Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely hypnotized into an airhead who only thinks of superficial things and has been trained to be a true feminine. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Feminine Sissy&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Feminine Sissy&quot; &quot;rank&quot;&gt;&gt; [[Feminine Sissy|Slave Description][$activeCharacter.title = &quot;Feminine Sissy&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being psychologically trained to think and be a completely feminine woman. This title grants easier female transformations and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Femme Sub&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Femme Sub&quot; &quot;rank&quot;&gt;&gt; [[Femme Sub|Slave Description][$activeCharacter.title = &quot;Femme Sub&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being taught to be a true feminine as well as a submissive. This title restores a small amount of fatigue at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Dominatrix&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Dominatrix&quot; &quot;rank&quot;&gt;&gt; [[Dominatrix|Slave Description][$activeCharacter.title = &quot;Dominatrix&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a dominant feminine who has been hypnotized to feel pleasure giving and seeing others in pain. This title restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Feminine Sissy Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Feminine Sissy Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Feminine Sissy Bimbo|Slave Description][$activeCharacter.title = &quot;Feminine Sissy Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who only thinks of superficial things and has been trained to think and be a completely feminine woman. This title grants easier female transformations, a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Muscle Bitch&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Muscle Bitch&quot; &quot;rank&quot;&gt;&gt; [[Muscle Bitch|Slave Description][$activeCharacter.title = &quot;Muscle Bitch&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness and has been trained to be a true feminine as well as trained on how to be a proper submissive. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized, restores a small amount of fatigue at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to maintain &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical fitness.
	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Masculine&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Masculine Titles&lt;/h3&gt;
	Masculine titles are earned by slaves who have been taught the masculine role. These slaves have been taught how to act and look the part of someone described as &#39;masculine’.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Masculine&quot; &quot;rank&quot;&gt;&gt; [[Masculine|Slave Description][$activeCharacter.title = &quot;Masculine&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being taught the masculine role. This title restores a small amount of health at the end of the week.

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Bimboy&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Bimboy&quot; &quot;rank&quot;&gt;&gt; [[Bimboy|Slave Description][$activeCharacter.title = &quot;Bimboy&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely hypnotized into an airhead who only thinks of superficial things and has been trained to be a true masculine. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Cicisbeo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Cicisbeo&quot; &quot;rank&quot;&gt;&gt; [[Cicisbeo|Slave Description][$activeCharacter.title = &quot;Cicisbeo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be chivalrous and a true masculine. This title increases a slave&#39;s sexual stamina and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Drag King&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Drag King&quot; &quot;rank&quot;&gt;&gt; [[Drag King|Slave Description][$activeCharacter.title = &quot;Drag King&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being psychologically trained to think and be a completely masculine man. This title grants easier male transformations and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Gigolo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Gigolo&quot; &quot;rank&quot;&gt;&gt; [[Gigolo|Slave Description][$activeCharacter.title = &quot;Gigolo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be a masculine who thoroughly enjoys having sex. This title restores a small amount of health at the end of the week and a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Masculine Bottom&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Masculine Bottom&quot; &quot;rank&quot;&gt;&gt; [[Masculine Bottom|Slave Description][$activeCharacter.title = &quot;Masculine Bottom&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being taught the masculine role as well as how to be submissive. This title restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Masculine Top&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Masculine Top&quot; &quot;rank&quot;&gt;&gt; [[Masculine Top|Slave Description][$activeCharacter.title = &quot;Masculine Top&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being taught the masculine role as well as how to be dominant. This title restores  small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Incubus&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Incubus&quot; &quot;rank&quot;&gt;&gt; [[Incubus|Slave Description][$activeCharacter.title = &quot;Incubus&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a masculine who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Masculine Muscle Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Masculine Muscle Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Masculine Muscle Bimbo|Slave Description][$activeCharacter.title = &quot;Masculine Muscle Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being completely hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness, things that are materialistic in nature or something to do with sex. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has also been trained to be a true masculine. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability to stay physically fit and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Muscle Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Muscle Slave&quot; &quot;rank&quot;&gt;&gt; [[Muscle Slave|Slave Description][$activeCharacter.title = &quot;Muscle Slave&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness and trained to be a submissive masculine. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized, restores a small amount of health at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to maintain &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical fitness.
	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Masochist&quot;) || $activeCharacter.titles.includes(&quot;Sadist&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Sadomasochist Titles&lt;/h3&gt;
	Sadomasochist titles are earned by slaves who have been hypnotized to either feel pain as pleasure, or to feel pleasure giving pain. These traits don’t define a slave’s personality, they only represent what a slave might find pleasurable. They have no correlation with being dominant or submissive.
	&lt;/center&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Masochist&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Masochist&quot; &quot;rank&quot;&gt;&gt; [[Masochist|Slave Description][$activeCharacter.title = &quot;Masochist&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this common title by being hypnotized to feel pain as pleasure. Pain and humiliation punishment is less detrimental to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sadist&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sadist&quot; &quot;rank&quot;&gt;&gt; [[Sadist|Slave Description][$activeCharacter.title = &quot;Sadist&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this common title by being hypnotized to feel pleasure giving and seeing others in pain.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Man Eater&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Man Eater&quot; &quot;rank&quot;&gt;&gt; [[Man Eater|Slave Description][$activeCharacter.title = &quot;Man Eater&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be a sex loving slut who has been hypnotized to feel pleasure giving and seeing others in pain. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Painslut&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Painslut&quot; &quot;rank&quot;&gt;&gt; [[Painslut|Slave Description][$activeCharacter.title = &quot;Painslut&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to love and crave sex as well as being hypnotized to love pain. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price. Pain and humiliation punishment is less detrimental to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sex Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sex Slave&quot; &quot;rank&quot;&gt;&gt; [[Sex Slave|Slave Description][$activeCharacter.title = &quot;Sex Slave&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being hypnotized to feel pain as pleasure as well as trained to play the submissive role during and outside of sexual intercourse. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized and pain/humiliation punishment is less detrimental to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Dominatrix&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Dominatrix&quot; &quot;rank&quot;&gt;&gt; [[Dominatrix|Slave Description][$activeCharacter.title = &quot;Dominatrix&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a dominant feminine who has been hypnotized to feel pleasure giving and seeing others in pain. This title restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Incubus&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Incubus&quot; &quot;rank&quot;&gt;&gt; [[Incubus|Slave Description][$activeCharacter.title = &quot;Incubus&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a masculine who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Succubus&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Succubus&quot; &quot;rank&quot;&gt;&gt; [[Succubus|Slave Description][$activeCharacter.title = &quot;Succubus&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a sex loving slut who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and lowers slave fatigue from being whored out.
	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Sissy&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Sissy Titles&lt;/h3&gt;
	Sissy titles are earned by slaves who have been completely sissified. A sissy can gain multiple titles by meeting numerous requirements but must stay completely sissified to keep all and any titles earned. Sissies use female pronouns and are more accepting of female transformations.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Sissy&quot; &quot;rank&quot;&gt;&gt; [[Sissy|Slave Description][$activeCharacter.title = &quot;Sissy&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being completely sissified. This title grants easier female transformations.

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Feminine Sissy&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Feminine Sissy&quot; &quot;rank&quot;&gt;&gt; [[Feminine Sissy|Slave Description][$activeCharacter.title = &quot;Feminine Sissy&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being psychologically trained to think and be a completely feminine woman. This title grants easier female transformations and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sissy Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sissy Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Sissy Bimbo|Slave Description][$activeCharacter.title = &quot;Sissy Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely sissified as well as being hypnotized into an airhead. This title grants easier female transformations and a small boost to popularity.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Transformed Sissy&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Transformed Sissy&quot; &quot;rank&quot;&gt;&gt; [[Transformed Sissy|Slave Description][$activeCharacter.title = &quot;Transformed Sissy&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely sissified as well as being transformed into a woman. This title grants even easier female transformations.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Feminine Sissy Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Feminine Sissy Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Feminine Sissy Bimbo|Slave Description][$activeCharacter.title = &quot;Feminine Sissy Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who only thinks of superficial things and has been trained to think and be a completely feminine woman. This title grants easier female transformations, a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sissy Slut&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sissy Slut&quot; &quot;rank&quot;&gt;&gt; [[Sissy Slut|Slave Description][$activeCharacter.title = &quot;Sissy Slut&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being completely sissified, being transformed into a woman as well as being trained to be a slut. This title grants even easier female transformations and a boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sissy Slut Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sissy Slut Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Sissy Slut Bimbo|Slave Description][$activeCharacter.title = &quot;Sissy Slut Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this rare title by being completely sissified, being transformed into a woman, being trained to be a slut as well as being hypnotized into an airhead. This title grants even easier female transformations, grants a small boost to popularity and a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Sex Fiend&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Sex Fiend Titles&lt;/h3&gt;
	Sex fiend titles are earned by slaves who have been trained to be an expert on giving sexual pleasure. These slaves have extensive practical and theoretical knowledge about sex but aren&#39;t necessarily enthused about the act.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Sex Fiend&quot; &quot;rank&quot;&gt;&gt; [[Sex Fiend|Slave Description][$activeCharacter.title = &quot;Sex Fiend&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this uncommon title by being trained to be an expert on giving sexual pleasure. This title increases a slave&#39;s ability to give sexual pleasure.
	
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Slave&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Slave Titles&lt;/h3&gt;
	Apart from the common slave rank, slave titles are earned by slaves who have demonstrated that they are the cream of the crop in one area or another. Slave titles can grant boosts to basic slave stats.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Slave&quot; &quot;rank&quot;&gt;&gt; [[Slave|Slave Description][$activeCharacter.title = &quot;Slave&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being enslaved. This basic title grants no boosts.

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Confident Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Confident Slave&quot; &quot;rank&quot;&gt;&gt; [[Confident Slave|Slave Description][$activeCharacter.title = &quot;Confident Slave&quot;]]
		&lt;br&gt;
		This uncommon title was gained upon this slave reaching minimum fear. This title increases submission retention after a training session.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Loyal Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Loyal Slave&quot; &quot;rank&quot;&gt;&gt; [[Loyal Slave|Slave Description][$activeCharacter.title = &quot;Loyal Slave&quot;]]
		&lt;br&gt;
		This uncommon title was gained upon this slave reaching maximum obedience. This title grants a boost in submission for the first training session of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Trustful Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Trustful Slave&quot; &quot;rank&quot;&gt;&gt; [[Trustful Slave|Slave Description][$activeCharacter.title = &quot;Trustful Slave&quot;]]
		&lt;br&gt;
		This uncommon title was gained upon this slave reaching maximum trust. This title decreases the amount of will possessed for the first training session of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Perfect Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Perfect Slave&quot; &quot;rank&quot;&gt;&gt; [[Perfect Slave|Slave Description][$activeCharacter.title = &quot;Perfect Slave&quot;]]
		&lt;br&gt;
		This unique title was gained upon this slave reaching maximum obedience, trust and minimum fear. This title increases submission retention after a training session, a boost in submission for the first training session of the week and decreases the amount of will possessed for the first training session of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Slut&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Slut Titles&lt;/h3&gt;
	Slut titles are earned by slaves who have been properly trained in strumpetry. Sluts are trained to enjoy any type of sexual activity but can still be trained to enjoy certain acts more than others.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Slut&quot; &quot;rank&quot;&gt;&gt; [[Slut|Slave Description][$activeCharacter.title = &quot;Slut&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being thoroughly trained in strumpetry. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Bimbo Slut&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Bimbo Slut&quot; &quot;rank&quot;&gt;&gt; [[Bimbo Slut|Slave Description][$activeCharacter.title = &quot;Bimbo Slut&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely hypnotized into an airhead as well as trained to love and crave sex. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and brothel/slave produce price.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Courtesan&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Courtesan&quot; &quot;rank&quot;&gt;&gt; [[Courtesan|Slave Description][$activeCharacter.title = &quot;Courtesan&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely trained to be a true feminine who loves and craves sex. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and restores a small amount of fatigue at the end of the week.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Cumslut&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Cumslut&quot; &quot;rank&quot;&gt;&gt; [[Cumslut|Slave Description][$activeCharacter.title = &quot;Cumslut&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to love and crave sex as well as being hypnotized to love cum. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and lowers slave fatigue from being whored out.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Domesticated Bitch&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Domesticated Bitch&quot; &quot;rank&quot;&gt;&gt; [[Domesticated Bitch|Slave Description][$activeCharacter.title = &quot;Domesticated Bitch&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being hypnotized into loving being treated, acting like a domesticated animal and trained to love sex. This title increases slave produce yield and a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Man Eater&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Man Eater&quot; &quot;rank&quot;&gt;&gt; [[Man Eater|Slave Description][$activeCharacter.title = &quot;Man Eater&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to be a sex loving slut who has been hypnotized to feel pleasure giving and seeing others in pain. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Painslut&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Painslut&quot; &quot;rank&quot;&gt;&gt; [[Painslut|Slave Description][$activeCharacter.title = &quot;Painslut&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being trained to love and crave sex as well as being hypnotized to love pain. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price. Pain and humiliation punishment is less detrimental to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mood.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sissy Slut&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sissy Slut&quot; &quot;rank&quot;&gt;&gt; [[Sissy Slut|Slave Description][$activeCharacter.title = &quot;Sissy Slut&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being completely sissified, being transformed into a woman as well as being trained to be a slut. This title grants even easier female transformations and a boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Succubus&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Succubus&quot; &quot;rank&quot;&gt;&gt; [[Succubus|Slave Description][$activeCharacter.title = &quot;Succubus&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being trained to be a sex loving slut who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price and lowers slave fatigue from being whored out.
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.titles.includes(&quot;Sissy Slut Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Sissy Slut Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Sissy Slut Bimbo|Slave Description][$activeCharacter.title = &quot;Sissy Slut Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this rare title by being completely sissified, being transformed into a woman, being trained to be a slut as well as being hypnotized into an airhead. This title grants even easier female transformations, grants a small boost to popularity and a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; brothel and slave produce price.
	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.titles.includes(&quot;Superjock&quot;)&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Superjock Titles&lt;/h3&gt;
	Superjock titles are earned by slaves who have been hypnotized into an airhead who thinks about nothing but their own fitness. Superjock slaves aren&#39;t particularly smart, but they aren&#39;t stupid either. They only appear unintelligent due to being hypnotized into using all their brainpower for one thing and one thing only; their fitness.
	&lt;/center&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;displayTitle &quot;Superjock&quot; &quot;rank&quot;&gt;&gt; [[Superjock|Slave Description][$activeCharacter.title = &quot;Superjock&quot;]]
	&lt;br&gt;
	$activeCharacter.name gained this common title by being hypnotized into an airhead who thinks about nothing but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness. This title grants a natural boost to a slaves ability to stay physically fit.
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Muscle Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Muscle Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Muscle Bimbo|Slave Description][$activeCharacter.title = &quot;Muscle Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this uncommon title by being completely hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness, things that are materialistic in nature or something to do with sex. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability to stay physically fit.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Masculine Muscle Bimbo&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Masculine Muscle Bimbo&quot; &quot;rank&quot;&gt;&gt; [[Masculine Muscle Bimbo|Slave Description][$activeCharacter.title = &quot;Masculine Muscle Bimbo&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being completely hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness, things that are materialistic in nature or something to do with sex. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has also been trained to be a true masculine. This title grants a small boost to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability to stay physically fit and restores a small amount of health at the end of the week.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Muscle Bitch&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Muscle Bitch&quot; &quot;rank&quot;&gt;&gt; [[Muscle Bitch|Slave Description][$activeCharacter.title = &quot;Muscle Bitch&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness and has been trained to be a true feminine as well as trained on how to be a proper submissive. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized, restores a small amount of fatigue at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to maintain &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical fitness.
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $activeCharacter.titles.includes(&quot;Muscle Slave&quot;)&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;displayTitle &quot;Muscle Slave&quot; &quot;rank&quot;&gt;&gt; [[Muscle Slave|Slave Description][$activeCharacter.title = &quot;Muscle Slave&quot;]]
		&lt;br&gt;
		$activeCharacter.name gained this unique title by being hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own fitness and trained to be a submissive masculine. This title makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be hypnotized, restores a small amount of health at the end of the week and makes it easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to maintain &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical fitness.
	&lt;&lt;/if&gt;&gt;
	
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="126" name="Color Text Widget" tags="widget" position="1620,181" size="100,100">&lt;&lt;widget &quot;colortext&quot;&gt;&gt;
&lt;&lt;print &quot;@@color:&quot;+$args[0]+&quot;;&quot;+$args[1]+&quot;@@&quot;&gt;&gt;&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="127" name="Title Widget" tags="nobr widget" position="1620,311" size="100,100">&lt;&lt;widget &quot;displayTitle&quot;&gt;&gt;
&lt;&lt;include &quot;Titles&quot;&gt;&gt;

&lt;&lt;if $commontitles.includes($args[0])&gt;&gt;
	&lt;&lt;set _titlecolor = &quot;gray&quot;&gt;&gt;
	&lt;&lt;set _titletype = &quot;Common&quot;&gt;&gt;

&lt;&lt;elseif $uncommontitles.includes($args[0])&gt;&gt;
	&lt;&lt;set _titlecolor = &quot;forestgreen&quot;&gt;&gt;
	&lt;&lt;set _titletype = &quot;Uncommon&quot;&gt;&gt;

&lt;&lt;elseif $uniquetitles.includes($args[0])&gt;&gt;
	&lt;&lt;set _titlecolor = &quot;darkturquoise&quot;&gt;&gt;
	&lt;&lt;set _titletype = &quot;Unique&quot;&gt;&gt;

&lt;&lt;elseif $raretitles.includes($args[0])&gt;&gt;
	&lt;&lt;set _titlecolor = &quot;mediumslateblue&quot;&gt;&gt;
	&lt;&lt;set _titletype = &quot;Rare&quot;&gt;&gt;

&lt;&lt;elseif $specialtitles.includes($args[0])&gt;&gt;
	&lt;&lt;set _titlecolor = &quot;mediumvioletred&quot;&gt;&gt;
	&lt;&lt;set _titletype = &quot;Special&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $args[1] == &quot;rank&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_titlecolor+&quot;;[&quot;+_titletype+&quot;]@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;elseif $args[1] == &quot;title&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_titlecolor+&quot;;&quot;+$args[0]+&quot;@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;elseif $args[1] == &quot;Main Menu&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_titlecolor+&quot;;[&quot;+$args[0]+&quot;]@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;elseif $args[1] == &quot;text&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_titlecolor+&quot;;&quot;+$args[2]+&quot;@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;elseif $args[1] == &quot;name&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_titlecolor+&quot;;&quot;+$args[0]+&quot; &quot;+$args[2]+&quot;@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;else&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_titlecolor+&quot;;[&quot;+_titletype+&quot;] &quot;+$args[0]+&quot;@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="128" name="Femininity" tags="" position="2392,231" size="100,100">|chart|k
|&gt;|&gt;| !Femininity |
| !Basic Training | !Physical Training | !Mental Training |
| [[Posture|Results][$subtrainingtype = &quot;Feminine Posture&quot;]] | [[Dance|Results][$subtrainingtype = &quot;Dance&quot;]] | [[Empathy|Results][$subtrainingtype = &quot;Empathy&quot;]] |
| [[Mannerisms|Results][$subtrainingtype = &quot;Feminine Mannerisms&quot;]] | [[Arts|Results][$subtrainingtype = &quot;Arts&quot;]] | [[Patience|Results][$subtrainingtype = &quot;Patience&quot;]] |
| [[Hygiene|Results][$subtrainingtype = &quot;Hygiene&quot;]] | [[Yoga|Results][$subtrainingtype = &quot;Yoga&quot;]] | [[Feminine Identity|Results][$subtrainingtype = &quot;Feminine Identity&quot;]] |</tw-passagedata><tw-passagedata pid="129" name="Masculinity" tags="" position="2520,231" size="100,100">|chart|k
|&gt;|&gt;| !Masculinity |
| !Basic Training | !Physical Training | !Mental Training |
| [[Posture|Results][$subtrainingtype = &quot;Masculine Posture&quot;]] | [[Excersize|Results][$subtrainingtype = &quot;Excersize&quot;]] | [[Mentality Training|Results][$subtrainingtype = &quot;Mentality Training&quot;]] |
| [[Body Language Training|Results][$subtrainingtype = &quot;Body Language Training&quot;]] | [[Fight Training|Results][$subtrainingtype = &quot;Fight Training&quot;]] | [[Stoicism|Results][$subtrainingtype = &quot;Stoicism&quot;]] |
| [[Appearance Training|Results][$subtrainingtype = &quot;Appearance Training&quot;]] | [[Meditation|Results][$subtrainingtype = &quot;Meditation&quot;]] | [[Masculine Power|Results][$subtrainingtype = &quot;Masculine Power&quot;]] |</tw-passagedata><tw-passagedata pid="130" name="Strumpetry" tags="" position="2781,229" size="100,100">|chart|k
|&gt;|&gt;| !Strumpetry |
| !Basic Training | !Physical Training | !Mental Training |
| [[Display Training|Results][$subtrainingtype = &quot;Display Training&quot;]] | [[Sex Training|Results][$subtrainingtype = &quot;Sex Training&quot;]] | [[Free Use Indoctrination|Results][$subtrainingtype = &quot;Free Use Indoctrination&quot;]] |
| [[Exposure Training|Results][$subtrainingtype = &quot;Exposure Training&quot;]] | [[Stamina Training|Results][$subtrainingtype = &quot;Sexual Stamina Training&quot;]] | [[Sexual Aggression|Results][$subtrainingtype = &quot;Sexual Aggression&quot;]] |
| [[Wardrobe Training|Results][$subtrainingtype = &quot;Wardrobe Training&quot;]] | [[Orgasm Training|Results][$subtrainingtype = &quot;Orgasm Training&quot;]] | [[Strumpet Acceptance|Results][$subtrainingtype = &quot;Strumpet Acceptance&quot;]] |</tw-passagedata><tw-passagedata pid="131" name="D/s" tags="" position="2652,229" size="100,100">|chart|k
|&gt;|&gt;| !Dominant / Submissive |
| !Level | !Submissive Training | !Dominant Training |
| Basic | [[Positional Training|Results][$subtrainingtype = &quot;Positional Training&quot;]] | [[Voice Training|Results][$subtrainingtype = &quot;Voice Training&quot;]] |
| Intermediate | [[Speech Training|Results][$subtrainingtype = &quot;Speech Training&quot;]] | [[Implement Training|Results][$subtrainingtype = &quot;Implement Training&quot;]] |
|~| [[Subordinate Training|Results][$subtrainingtype = &quot;Subordinate Training&quot;]] | [[Confidence Training|Results][$subtrainingtype = &quot;Confidence Training&quot;]] |
| Advanced | [[Tolerance Training|Results][$subtrainingtype = &quot;Tolerance Training&quot;]] | [[Anger Management|Results][$subtrainingtype = &quot;Anger Management&quot;]] |</tw-passagedata><tw-passagedata pid="132" name="General Store" tags="nobr noreturn" position="136,2248" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Shops&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;
&lt;h3&gt;$Store.name&lt;/h3&gt;

$Store.welcome

&lt;&lt;if !$Store.focus&gt;&gt;
	&lt;&lt;set $Store.focus = &quot;General&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $boughtitem&gt;&gt;
	&lt;&lt;include &quot;Purchase Item&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;hr&gt;

&lt;table class=&#39;inventory&#39; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

&lt;&lt;if $Store.name == &quot;Olyssa&#39;s Atelier&quot;&gt;&gt;
	&lt;tr&gt;
		&lt;&lt;if $Store.focus == &quot;General&quot;&gt;&gt;
			&lt;th colspan = 16&gt;General&lt;/th&gt;
		&lt;&lt;else&gt;&gt;
			&lt;th colspan = 16&gt;[[General|General Store][$Store.focus = &quot;General&quot;]]&lt;/th&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if $Store.focus == &quot;Lesser Elixirs&quot;&gt;&gt;
			&lt;th colspan = 17&gt;Lesser Elixirs&lt;/th&gt;
		&lt;&lt;else&gt;&gt;
			&lt;th colspan = 17&gt;[[Lesser Elixirs|General Store][$Store.focus = &quot;Lesser Elixirs&quot;]]&lt;/th&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if $Store.focus == &quot;Elixirs&quot;&gt;&gt;
			&lt;th colspan = 16&gt;Elixirs&lt;/th&gt;
		&lt;&lt;else&gt;&gt;
			&lt;th colspan = 16&gt;[[Elixirs|General Store][$Store.focus = &quot;Elixirs&quot;]]&lt;/th&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if $Store.focus == &quot;Greater Elixirs&quot;&gt;&gt;
			&lt;th colspan = 17&gt;Greater Elixirs&lt;/th&gt;
		&lt;&lt;else&gt;&gt;
			&lt;th colspan = 17&gt;[[Greater Elixirs|General Store][$Store.focus = &quot;Greater Elixirs&quot;]]&lt;/th&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if $Store.focus == &quot;Grand Elixirs&quot;&gt;&gt;
			&lt;th colspan = 17&gt;Grand Elixirs&lt;/th&gt;
		&lt;&lt;else&gt;&gt;
			&lt;th colspan = 17&gt;[[Grand Elixirs|General Store][$Store.focus = &quot;Grand Elixirs&quot;]]&lt;/th&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if $Store.focus == &quot;Sovereign Elixirs&quot;&gt;&gt;
			&lt;th colspan = 17&gt;Sovereign Elixirs&lt;/th&gt;
		&lt;&lt;else&gt;&gt;
			&lt;th colspan = 17&gt;[[Sovereign Elixirs|General Store][$Store.focus = &quot;Sovereign Elixirs&quot;]]&lt;/th&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;/tr&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;tr&gt;
	&lt;th colspan = 30&gt;Name&lt;/th&gt;
	&lt;th colspan = 70&gt;Description&lt;/th&gt;
&lt;/tr&gt;

&lt;&lt;for _i = 0; _i &lt; $Store.inventory.length;_i++&gt;&gt;
	&lt;&lt;set _item = $Store.inventory[_i]&gt;&gt;
	&lt;&lt;set _price = commify(_item.price)&gt;&gt;
	
	&lt;&lt;if _item.category != $Store.focus&gt;&gt;
		&lt;&lt;continue&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.money &gt;= _item.price*25&gt;&gt;
		&lt;tr&gt;
			&lt;td colspan = 30&gt;&lt;b&gt;_item.name &lt;br&gt; @@color:lightgreen;💎_price@@ | &lt;&lt;print &quot;[[(1x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 1]]&quot;&gt;&gt; &lt;&lt;print &quot;[[(5x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 5]]&quot;&gt;&gt; &lt;&lt;print &quot;[[(10x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 10]]&quot;&gt;&gt; &lt;&lt;print &quot;[[(25x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 25]]&quot;&gt;&gt;&lt;/b&gt;&lt;/td&gt;
			&lt;td colspan = 70&gt;_item.description&lt;/td&gt;
		&lt;/tr&gt;

	&lt;&lt;elseif $PC.money &gt;= _item.price*10&gt;&gt;
		&lt;tr&gt;
			&lt;td colspan = 30&gt;&lt;b&gt;_item.name &lt;br&gt; @@color:lightgreen;💎_price@@ | &lt;&lt;print &quot;[[(1x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 1]]&quot;&gt;&gt; &lt;&lt;print &quot;[[(5x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 5]]&quot;&gt;&gt; &lt;&lt;print &quot;[[(10x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 10]]&quot;&gt;&gt;&lt;/b&gt;&lt;/td&gt;
			&lt;td colspan = 70&gt;_item.description&lt;/td&gt;
		&lt;/tr&gt;

	&lt;&lt;elseif $PC.money &gt;= _item.price*5&gt;&gt;
		&lt;tr&gt;
			&lt;td colspan = 30&gt;&lt;b&gt;_item.name &lt;br&gt; @@color:lightgreen;💎_price@@ | &lt;&lt;print &quot;[[(1x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 1]]&quot;&gt;&gt; &lt;&lt;print &quot;[[(5x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 5]]&quot;&gt;&gt;&lt;/b&gt;&lt;/td&gt;
			&lt;td colspan = 70&gt;_item.description&lt;/td&gt;
		&lt;/tr&gt;

	&lt;&lt;elseif $PC.money &gt;= _item.price&gt;&gt;
		&lt;tr&gt;
			&lt;td colspan = 30&gt;&lt;b&gt;_item.name &lt;br&gt; @@color:lightgreen;💎_price@@ | &lt;&lt;print &quot;[[(1x)|General Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;], $boughtitem.amount = 1]]&quot;&gt;&gt;&lt;/b&gt;&lt;/td&gt;
			&lt;td colspan = 70&gt;_item.description&lt;/td&gt;
		&lt;/tr&gt;

	&lt;&lt;else&gt;&gt;
		&lt;tr&gt;
			&lt;td colspan = 30&gt;&lt;b&gt;_item.name &lt;br&gt; @@color:lightgreen;💎_price@@&lt;/b&gt;&lt;/td&gt;
			&lt;td colspan = 70&gt;_item.description&lt;/td&gt;
		&lt;/tr&gt;

	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;
&lt;/table&gt;
&lt;/center&gt;</tw-passagedata><tw-passagedata pid="133" name="Shops" tags="nobr" position="11,2006" size="100,100">&lt;&lt;include &quot;Items&quot;&gt;&gt;

/* General Stores */
&lt;&lt;set $olyssaatelier = {name:&quot;&quot;, welcome:&quot;&quot;, inventory:&quot;&quot;}&gt;&gt;
&lt;&lt;set $olyssaatelier.name = &quot;Olyssa&#39;s Atelier&quot;&gt;&gt;
&lt;&lt;set $olyssaatelier.welcome = &quot;Olyssa: Welcome to my alchemist studio. Anything you see on the shelves is for sale!&quot;&gt;&gt;
&lt;&lt;set $olyssaatelier.inventory = [$LIP, $NIP, $LSI]&gt;&gt;

&lt;&lt;if $PC.guild.slaver.rank == 0&gt;&gt;

&lt;&lt;elseif [&quot;E-3&quot;, &quot;E-2&quot;, &quot;E-1&quot;].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
  &lt;&lt;set $olyssaatelier.inventory.push($LLGE, $LSGE, $LHGE, $LTOGE, $LLEGE, $LAGE, $LCLGE, $LCGGE, $LTGE, $LBGE, $LPGE, $LCGE)&gt;&gt;
  
&lt;&lt;elseif [&quot;D-3&quot;, &quot;D-2&quot;, &quot;D-1&quot;].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
  &lt;&lt;set $olyssaatelier.inventory.push($LLGE, $LSGE, $LHGE, $LTOGE, $LLEGE, $LAGE, $LCLGE, $LCGGE, $LTGE, $LBGE, $LPGE, $LCGE, $LGE, $SGE, $HGE, $TOGE, $LEGE, $AGE, $CLGE, $CGGE, $TGE, $BGE, $PGE, $CGE)&gt;&gt;

&lt;&lt;elseif [&quot;C-3&quot;, &quot;C-2&quot;, &quot;C-1&quot;].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
  &lt;&lt;set $olyssaatelier.inventory.push($LLGE, $LSGE, $LHGE, $LTOGE, $LLEGE, $LAGE, $LCLGE, $LCGGE, $LTGE, $LBGE, $LPGE, $LCGE, $LGE, $SGE, $HGE, $TOGE, $LEGE, $AGE, $CLGE, $CGGE, $TGE, $BGE, $PGE, $CGE, $GLGE, $GSGE, $GHGE, $GTOGE, $GLEGE, $GAGE, $GCLGE, $GCGGE, $GTGE, $GBGE, $GPGE, $GCGE)&gt;&gt;

&lt;&lt;elseif [&quot;B-3&quot;, &quot;B-2&quot;, &quot;B-1&quot;].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
  &lt;&lt;set $olyssaatelier.inventory.push($LLGE, $LSGE, $LHGE, $LTOGE, $LLEGE, $LAGE, $LCLGE, $LCGGE, $LTGE, $LBGE, $LPGE, $LCGE, $LGE, $SGE, $HGE, $TOGE, $LEGE, $AGE, $CLGE, $CGGE, $TGE, $BGE, $PGE, $CGE, $GLGE, $GSGE, $GHGE, $GTOGE, $GLEGE, $GAGE, $GCLGE, $GCGGE, $GTGE, $GBGE, $GPGE, $GCGE, $GRLGE, $GRSGE, $GRHGE, $GRTOGE, $GRLEGE, $GRAGE, $GRCLGE, $GRCGGE, $GRTGE, $GRBGE, $GRPGE, $GRCGE)&gt;&gt;

&lt;&lt;elseif [&quot;A-3&quot;, &quot;A-2&quot;, &quot;A-1&quot;, &quot;S&quot;].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
  &lt;&lt;set $olyssaatelier.inventory.push($LLGE, $LSGE, $LHGE, $LTOGE, $LLEGE, $LAGE, $LCLGE, $LCGGE, $LTGE, $LBGE, $LPGE, $LCGE, $LGE, $SGE, $HGE, $TOGE, $LEGE, $AGE, $CLGE, $CGGE, $TGE, $BGE, $PGE, $CGE, $GLGE, $GSGE, $GHGE, $GTOGE, $GLEGE, $GAGE, $GCLGE, $GCGGE, $GTGE, $GBGE, $GPGE, $GCGE, $GRLGE, $GRSGE, $GRHGE, $GRTOGE, $GRLEGE, $GRAGE, $GRCLGE, $GRCGGE, $GRTGE, $GRBGE, $GRPGE, $GRCGE, $SLGE, $SSGE, $SHGE, $STOGE, $SLEGE, $SAGE, $SCLGE, $SCGGE, $STGE, $SBGE, $SPGE, $SCGE)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $mayasbulkbarn = {name:&quot;&quot;, welcome:&quot;&quot;, inventory:&quot;&quot;, jewelry:1, clothes:1}&gt;&gt;
&lt;&lt;set $mayasbulkbarn.name = &quot;Maya&#39;s Bulk Barn&quot;&gt;&gt;
&lt;&lt;set $mayasbulkbarn.welcome = &quot;Maya: Please look around and buy any bulk item that you like!&quot;&gt;&gt;
&lt;&lt;set $mayasbulkbarn.inventory = [$SEJS, $SEES, $SENS, $SETS, $SELS, $SENiS, $SENaS, $SECS, $SEPS, $SSEJS, $SSEES, $SSENS, $SSETS, $SSELS, $SSENiS, $SSENaS, $SSECS, $SSEPS]&gt;&gt;

&lt;&lt;set $erinsexemporium = {name:&quot;&quot;, welcome:&quot;&quot;, inventory:&quot;&quot;, jewelry:1, clothes:1}&gt;&gt;
&lt;&lt;set $erinsexemporium.name = &quot;Erin&#39;s Sex Emporium&quot;&gt;&gt;
&lt;&lt;set $erinsexemporium.welcome = &quot;Erin: Welcome to my sex emporium, please feel free to look around and purchase at your leisure.&quot;&gt;&gt;
&lt;&lt;set $erinsexemporium.inventory = [$Dildo, $Blindfold, $Rope, $Whip]&gt;&gt;

&lt;&lt;set $studio = {name:&quot;Piercing Studio&quot;, type:&quot;Piercing&quot;, level: 1}&gt;&gt;

&lt;&lt;set $runepracticum = {name:&quot;Rune Practicum&quot;}&gt;&gt;

&lt;&lt;set $slaverslumshop = {name:&quot;&quot;, welcome:&quot;&quot;, inventory:&quot;&quot;}&gt;&gt;
&lt;&lt;set $slaverslumshop.name = &quot;Slavers Guild Shop&quot;&gt;&gt;
&lt;&lt;set $slaverslumshop.welcome = &quot;The guild’s shop has an assortment of advanced potions and incense for sale that can’t be purchased anywhere else in the slums.&quot;&gt;&gt;
&lt;&lt;set $slaverslumshop.inventory = [$GSI, $GAP, $LCLGE, $LBGE, $LCGGE, $LTGE, $LCGE, $LPGE]&gt;&gt;

&lt;&lt;set $villageshop = {name:&quot;&quot;, welcome:&quot;&quot;, inventory:&quot;&quot;}&gt;&gt;
&lt;&lt;set $villageshop.name = &quot;Caravan Shop&quot;&gt;&gt;
&lt;&lt;set $villageshop.welcome =&quot;This shop has an assortment of advanced potions and incense for sale that can’t be purchased anywhere else.&quot;&gt;&gt;
&lt;&lt;set $villageshop.inventory = [$GSI, $GAP, $LIP, $NIP]&gt;&gt;

/* General Stores */</tw-passagedata><tw-passagedata pid="134" name="Purchase Item" tags="nobr" position="266,2248" size="100,100">&lt;br&gt;&lt;br&gt;

&lt;b&gt;You bought $boughtitem.amount $boughtitem.name.&lt;/b&gt;

&lt;&lt;set $PC.money -= $boughtitem.price*$boughtitem.amount&gt;&gt;
&lt;&lt;run addItem($inventory, $boughtitem)&gt;&gt;
&lt;&lt;unset $boughtitem&gt;&gt;
&lt;&lt;unset _item&gt;&gt;
</tw-passagedata><tw-passagedata pid="135" name="Trans Items" tags="nobr" position="735,129" size="100,100">&lt;b&gt;Transformation Management&lt;/b&gt;
&lt;br&gt;

&lt;&lt;if $activeCharacter.transformation.item == &quot;None&quot;&gt;&gt;
	None
&lt;&lt;else&gt;&gt;
	[[None|Slave Description][$activeCharacter.transformation.item = &quot;None&quot;]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _transitems = 0&gt;&gt;

&lt;&lt;for _t = 1; _t &lt;= $inventory.amount; _t++&gt;&gt;
	&lt;&lt;set _item = $inventory[_t]&gt;&gt;
	
	&lt;&lt;if _item.type == &quot;Transformative&quot; &amp;&amp; _item.name != $activeCharacter.transformation.item &amp;&amp; _item.amount &gt;= 1&gt;&gt;
		| &lt;&lt;print &quot;[[_item.name|Slave Description][$activeCharacter.transformation.item = $inventory[&quot; + _t + &quot;].name]]&quot;&gt;&gt; (x_item.amount)
		&lt;&lt;set _transitems++&gt;&gt;
	&lt;&lt;elseif _item.name == $activeCharacter.transformation.item&gt;&gt;
		| _item.name (x_item.amount)
		
		&lt;&lt;set _itemname = _item.name&gt;&gt;
		&lt;&lt;set _itemdescription = _item.description&gt;&gt;
		&lt;&lt;set _transitems++&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if _item.name == $activeCharacter.transformation.circulating&gt;&gt;
		&lt;&lt;set _currentItem = _item&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
&lt;&lt;/for&gt;&gt;

&lt;&lt;if $activeCharacter.transformation.duration &gt; 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	_currentItem.name is currently circulating through $activeCharacter.name&#39;s body. You cannot give $activeCharacter.name any doses from a transformative tonic until the effects of the old tonic is completely flushed out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body. It will take $activeCharacter.transformation.duration weeks for its effects to fade.
	
&lt;&lt;elseif $activeCharacter.transformation.duration == 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	_currentItem.name is currently circulating through $activeCharacter.name&#39;s body. You cannot give $activeCharacter.name any doses from a transformative tonic until the effects of the old tonic is completely flushed out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body. The effects will fade after this week.

&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _itemname &amp;&amp; $activeCharacter.transformation.duration &lt;= 0&gt;&gt;
	This week you will be giving $activeCharacter.name doses of _itemname. _itemdescription
	
&lt;&lt;elseif _itemname &amp;&amp; $activeCharacter.transformation.duration &gt; 0&gt;&gt;
	You will give $activeCharacter.name doeses of _itemname when _currentItem.name is completely out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; system. _itemdescription
	
&lt;&lt;else&gt;&gt;
	This week you won&#39;t be giving $activeCharacter.name any doses from a transformative tonic.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_transitems&gt;&gt;
	You currently don&#39;t have any transformative items. You can purchase them from a general store in the [[slums|Slums]].
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="136" name="Slave Expense" tags="nobr" position="488,1028" size="100,100">&lt;&lt;if $tips.slaveexpense == 0&gt;&gt;
	&lt;b&gt;[[Slave Expense|Slave Description][$tips.slaveexpense = 1]]&lt;/b&gt;
	&lt;br&gt;
	This slave&#39;s weekly expnese is currently &lt;b&gt;@@color:red;💎$activeCharacter.expense@@.&lt;/b&gt;

&lt;&lt;elseif $tips.slaveexpense == 1&gt;&gt;
	&lt;b&gt;[[Slave Expense|Slave Description][$tips.slaveexpense = 0]]&lt;/b&gt;
	&lt;br&gt;
	This slave&#39;s weekly expnese is currently &lt;b&gt;@@color:red;💎$activeCharacter.expense@@.&lt;/b&gt;
	
	&lt;br&gt;&lt;br&gt;
	
	A slave&#39;s expense is determined by their diet and the curatives used on them. 
	
	&lt;br&gt;&lt;br&gt;
	
	A @@color:yellow;low calorie diet@@ costs 💎50 to maintain. &lt;br&gt;
	A @@color:yellow;normal calorie diet@@ costs 💎100 to maintain. &lt;br&gt;
	A @@color:yellow;high calorie diet@@ costs 💎200 to maintain. &lt;br&gt;
	
	&lt;br&gt;
	
	@@color:yellow;Remedies restore health@@, costing 💎100 per week. &lt;br&gt;
	@@color:forestgreen;Panaceas significantly restore health@@, costing 💎500 per week. &lt;br&gt;
	
	&lt;br&gt;
	
	@@color:yellow;Ethers restore fatigue@@, costing 💎100 per week. &lt;br&gt;
	@@color:forestgreen;Pasitheas significantly restore fatigue@@, costing 💎500 per week.
	
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="137" name="Post Week Slave Update" tags="nobr" position="1491,436" size="100,100">&lt;&lt;if _character.pregnancy.child.length || _character.pregnancy.recovery&gt;&gt;
	&lt;&lt;set _character.pregnancy.weeks++&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.pregnancy.recovery&gt;&gt;
	&lt;&lt;set _character.pregnancy.recovery--&gt;&gt;

	&lt;&lt;if !_character.pregnancy.recovery&gt;&gt;
		&lt;&lt;set _character.pregnancy.weeks = 0&gt;&gt;
		&lt;&lt;set _character.pregnancy.status = null&gt;&gt;
		&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot; recovered from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy.@@&lt;/b&gt;&quot;&gt;&gt;
		&lt;&lt;set _character.summary += &quot;&lt;br&gt;&quot; + _character.name + &quot;&#39;s body has completely recovered from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; previous pregnancy. &lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; can now get pregnant again.&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.pregnancy.weeks&gt;&gt;
	&lt;&lt;pregnancyStatus&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.pregnancy.impregnated &amp;&amp; _character.pregnancy.weeks == 1&gt;&gt;
  &lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;(&lt;&lt;print capitalize(&#39;&quot; + _character.pregnancy.type + &quot;&#39;)&gt;&gt;) &quot; + _character.name + &quot; has been impregnated.@@&lt;/b&gt;&quot;&gt;&gt;

  &lt;&lt;if _character.pregnancy.type == &quot;normal&quot;&gt;&gt;
    &lt;&lt;set $resources += 5000&gt;&gt;
    &lt;&lt;set _character.summary += &quot;&lt;br&gt;You had &quot; + _character.name + &quot; drink a standard pregnancy elixir, costing @@color:red;💎5,000@@. &lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy will last &quot; + _character.pregnancy.duration + &quot; weeks long and &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; recovery period will last for 4 weeks after that.&quot;&gt;&gt;

  &lt;&lt;elseif _character.pregnancy.type == &quot;multipregnancy&quot;&gt;&gt;
    &lt;&lt;set $resources += 10000&gt;&gt;
    &lt;&lt;set _character.summary += &quot;&lt;br&gt;You had &quot; + _character.name + &quot; drink a multipregnancy elixir, costing @@color:red;💎10,000@@. &lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy will last &quot; + _character.pregnancy.duration + &quot; weeks long and &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; recovery period will last for 4 weeks after that. &lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; can still be inseminated up to five more times, allowing &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; to birth six offspring with one pregnancy. Every offspring after the first will have a stronger deficieny in stats than the last.&quot;&gt;&gt;

  &lt;&lt;elseif _character.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
    &lt;&lt;set $resources += 20000&gt;&gt;
    &lt;&lt;set _character.summary += &quot;&lt;br&gt;You had &quot; + _character.name + &quot; drink a hyperpregnancy elixir, costing @@color:red;💎20,000@@. &lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy will last &quot; + _character.pregnancy.duration + &quot; weeks long and &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; recovery period will last for 4 weeks after that. &lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; offspring will be granted a small bonus to their stats due to the extra weeks spent maturing in the womb. Offspring with parents that have the highest stats will feel this effect the most.&quot;&gt;&gt;

  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.pregnancy.impregnated &amp;&amp; _character.pregnancy.child.length &gt; 1&gt;&gt;
  &lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot; has been inseminated while pregnant.@@&lt;/b&gt;&quot;&gt;&gt;
  &lt;&lt;set _character.summary += &quot;&lt;br&gt;&quot; + _character.name + &quot;&#39;s pregnancy has been extended to &quot; + _character.pregnancy.duration + &quot; weeks long and &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; recovery period will last for 4 weeks after that. &lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; currently has &quot; + _character.pregnancy.child.length + &quot; babies in &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; womb.&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _character.pregnancy.impregnated = 0&gt;&gt;

&lt;&lt;if _character.pregnancy.weeks &gt;= 4 &amp;&amp; !_character.pregnancy.lactating &amp;&amp; !_character.pregnancy.recovery&gt;&gt;
	&lt;&lt;set _character.pregnancy.lactating = 1&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot; has started to lactate this week.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&quot; + _character.name + &quot; has progressed far enough in &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy that &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body has finished the process of producing milk, and is now lactating.&quot;&gt;&gt;

&lt;&lt;elseif _character.pregnancy.weeks &gt;= _character.pregnancy.duration+2 &amp;&amp; _character.pregnancy.lactating&gt;&gt;
	&lt;&lt;set _character.pregnancy.lactating = 0&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot; has stopped lactating.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&quot; + _character.name + &quot;&#39;s body is no longer producing any milk, and as such &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body has stopped lactating naturally.&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.location == &quot;estate&quot; &amp;&amp; $estate.overcap&gt;&gt;
	&lt;&lt;set _pop++&gt;&gt;
	&lt;&lt;set _character.place = _pop&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;run resetBonus(_character)&gt;&gt;
&lt;&lt;run checkItems(_character)&gt;&gt;
&lt;&lt;run updateBodyHair(_character)&gt;&gt;
&lt;&lt;run decayMood(_character)&gt;&gt;
&lt;&lt;set _character.tempbehaviour = 0&gt;&gt;
&lt;&lt;set _character.submission = 0&gt;&gt;
&lt;&lt;set _character.cooldown.title = 0&gt;&gt;
&lt;&lt;set _character.fatigue.physical = _character.fatigue.max&gt;&gt;
&lt;&lt;set _character.fatigue.mental = _character.fatigue.max&gt;&gt;

&lt;&lt;if _character.info.endweek&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;if _femtranstitle &amp;&amp; $tempfemtransitems.includes(_character.transformation.item)&gt;&gt;
		&lt;&lt;set _character.summary += &quot;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has granted &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; a 20% boost to transformation gains.@@&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;elseif _femtranstitle &amp;&amp; $permfemtransitems.includes(_character.transformation.item) &amp;&amp; [&quot;female&quot;].contains(_character.sex)&gt;&gt;
		&lt;&lt;set _character.summary += &quot;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has granted &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; a 2x boost to this potion&#39;s duration.@@&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;set _character.summary += _character.info.endweek&gt;&gt;
	&lt;&lt;set _character.info.endweek = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cumtitles.includes(_character.title)&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has lessened &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; fatigue from working the brothel.@@&lt;/b&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;


&lt;&lt;if $fatiguetitles.includes(_character.title)&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has granted &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; a 20% boost to fatigue regen.@@&lt;/b&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $healthtitles.includes(_character.title)&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot;&#39;s title has granted &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; a 20% boost to health regen.@@&lt;/b&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.update.length &gt; 0&gt;&gt;

	&lt;&lt;for _u = 0; _u &lt; _character.update.length;_u++&gt;&gt;
		&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;

		&lt;&lt;set _character.summary += _character.update[_u]&gt;&gt;
	&lt;&lt;/for&gt;&gt;

	&lt;&lt;set _character.update = []&gt;&gt;
	&lt;&lt;saveSlave $activeCharacter&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.condition.progress &lt;= 0&gt;&gt;
	&lt;br&gt;&lt;b&gt;@@color:red;_character.name has passed away this week.@@&lt;/b&gt;
	&lt;&lt;include &quot;Move Slave&quot;&gt;&gt;

&lt;&lt;elseif _character.condition.progress &lt;= _healthreq &amp;&amp; _character.assignment != &quot;rest&quot;&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;@@color:orange;&quot; + _character.name + &quot; is too unhealthy to continue &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; &quot; + _character.assignment + &quot; assignment. &lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is resting now.@@&quot;&gt;&gt;

	&lt;&lt;set _character.renew = _character.assignment&gt;&gt;
	&lt;&lt;set _character.assignment = &quot;rest&quot;&gt;&gt;

&lt;&lt;elseif _character.fatigue.progress &gt; _fatiguereq &amp;&amp; _character.assignment != &quot;rest&quot;&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;@@color:orange;&quot; + _character.name + &quot; is too exhausted to continue &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; &quot; + _character.assignment + &quot; assignment. &lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is resting now.@@&quot;&gt;&gt;

	&lt;&lt;set _character.renew = _character.assignment&gt;&gt;
	&lt;&lt;set _character.assignment = &quot;rest&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.renew &amp;&amp; _character.fatigue.progress == 0 &amp;&amp; _character.condition.progress == 100 &amp;&amp; _character.assignment == &quot;rest&quot;&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;@@color:forestgreen;&quot; + _character.name + &quot; is fully rested and ready to continue &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; &quot; + _character.renew + &quot; assignment.@@&quot;&gt;&gt;

	&lt;&lt;set _character.assignment = _character.renew&gt;&gt;
	&lt;&lt;set _character.renew = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.pregnancy.weeks &gt;= _character.pregnancy.duration &amp;&amp; _character.pregnancy.child.length&gt;&gt;
	&lt;&lt;set _character.pregnancy.maturity++&gt;&gt;
	&lt;&lt;set _character.pregnancy.recovery = 4&gt;&gt;
	&lt;&lt;set _children = []&gt;&gt;

	&lt;&lt;for _p = 0; _p &lt; _character.pregnancy.child.length;_p++&gt;&gt;
		&lt;&lt;set _character.pregnancy.child[_p].justBirthed = 1&gt;&gt;
		&lt;&lt;set _children.push(_character.pregnancy.child[_p].name)&gt;&gt;
		&lt;&lt;run addSlave(_character.pregnancy.child[_p])&gt;&gt;
	&lt;&lt;/for&gt;&gt;

	&lt;&lt;namelist _children &quot;and&quot;&gt;&gt;

	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot; has given birth.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&quot; + _character.name + &quot; has given birth to &quot; + _character.pregnancy.child.length + &quot; offspring; &quot; + _namelist + &quot;.&quot;&gt;&gt;

	&lt;&lt;set _character.pregnancy.child = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.pregnancy.maturity &gt;= 5 &amp;&amp; [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex) &amp;&amp; _character.maturity &lt; 2&gt;&gt;
	&lt;&lt;set _character.maturity = 2&gt;&gt;
	&lt;&lt;set _character.pregnancy.maturity = 0&gt;&gt;

&lt;&lt;elseif _character.pregnancy.maturity &gt;= 15 &amp;&amp; [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex) &amp;&amp; _character.maturity &lt; 3&gt;&gt;
	&lt;&lt;set _character.maturity = 3&gt;&gt;
	&lt;&lt;set _character.pregnancy.maturity = 0&gt;&gt;

&lt;&lt;elseif _character.pregnancy.maturity &gt;= 10 &amp;&amp; [&quot;male&quot;, &quot;shemale&quot;].contains(_character.sex) &amp;&amp; _character.maturity &lt; 2&gt;&gt;
	&lt;&lt;set _character.maturity = 2&gt;&gt;
	&lt;&lt;set _character.pregnancy.maturity = 0&gt;&gt;

&lt;&lt;elseif _character.pregnancy.maturity &gt;= 20 &amp;&amp; [&quot;male&quot;, &quot;shemale&quot;].contains(_character.sex) &amp;&amp; _character.maturity &lt; 3&gt;&gt;
	&lt;&lt;set _character.maturity = 3&gt;&gt;
	&lt;&lt;set _character.pregnancy.maturity = 0&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.sold == &quot;Contract Completed&quot;&gt;&gt;
	&lt;&lt;set $soldSlaves.push(_character.ID)&gt;&gt;
	&lt;&lt;set _textexp = &quot;&lt;&lt;print Math.round10(&quot; + (_character.contract.exp / $PC.guild.slaver.maxexp) * 100 + &quot;, -2)&gt;&gt;%&quot;&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot; was returned to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; owner due to the contract being completed. You gained@@ @@color:lightgreen;💎&lt;&lt;print commify(_character.contract.reward)&gt;&gt;@@ @@color:forestgreen;and _textexp slaver EXP.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set $PC.money += _character.contract.reward&gt;&gt;
	&lt;&lt;set $requestIncome += _character.contract.reward&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.exp += _character.contract.exp&gt;&gt;
	&lt;&lt;set _character.sold = 1&gt;&gt;
	
&lt;&lt;elseif _character.sold == &quot;Contract End&quot;&gt;&gt;
	&lt;&lt;set $soldSlaves.push(_character.ID)&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:red;&quot; + _character.name + &quot; was returned to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; owner due to the contract ending. You payed the 💎&lt;&lt;print commify(_character.penalty)&gt;&gt; penalty out of pocket.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set $PC.money -= _character.penalty&gt;&gt;
	&lt;&lt;set $slaveExpense += _character.penalty&gt;&gt;
	&lt;&lt;set _character.sold = 1&gt;&gt;

&lt;&lt;elseif _character.place&gt;&gt;
	&lt;&lt;if _character.place &gt; $estate.cap &amp;&amp; !_character.justBirthed&gt;&gt;
		&lt;&lt;set _price = _character.ogprice * 0.75&gt;&gt;
		&lt;&lt;set _price = Math.round10(_price,1)&gt;&gt;
		&lt;&lt;set $slaveIncome += _price&gt;&gt;
		&lt;&lt;set $soldSlaves.push(_character.ID)&gt;&gt;

		&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:red;&quot; + _character.name + &quot; was sold for@@ @@color:lightgreen;💎&quot; + _price + &quot;@@@@color:red;.@@&lt;/b&gt;&quot;&gt;&gt;
		&lt;&lt;set _character.sold = 1&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.place = null&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.justBirthed&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;b&gt;@@color:forestgreen;&quot; + _character.name + &quot; was born this week.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set _character.summary += &quot;&lt;br&gt;&quot; + _character.name + &quot; was born into slavery as an young adult, and currently belongs to you.&quot;&gt;&gt;
	&lt;&lt;set _character.justBirthed = null&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="138" name="Items" tags="nobr" position="261,2008" size="100,100">&lt;&lt;set $tempfemtransitems = [&quot;Lesser Bust Growth Potion&quot;, &quot;Lesser Clit Growth Potion&quot;, &quot;Lesser Pussy Growth Potion&quot;]&gt;&gt;

&lt;&lt;set $permfemtransitems = [&quot;Lesser Bust Growth Elixir&quot;, &quot;Lesser Clit Growth Elixir&quot;, &quot;Lesser Pussy Growth Elixir&quot;]&gt;&gt;

&lt;&lt;include &quot;Jewelry&quot;&gt;&gt;

&lt;&lt;include &quot;Clothes&quot;&gt;&gt;

&lt;&lt;include &quot;Toys&quot;&gt;&gt;

&lt;&lt;set $CEP = {name: &quot;Cum Enhancement Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 500, description: &quot;This potion temporarily enhances the user&#39;s cum quality, quantity and taste for a period of two weeks&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $MEP = {name: &quot;Milk Enhancement Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 500, description: &quot;This potion temporarily enhances the user&#39;s milk quality, quantity and taste for a period of two weeks&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $NEP = {name: &quot;Nectar Enhancement Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 500, description: &quot;This potion temporarily enhances the user&#39;s nectar quality, quantity and taste for a period of two weeks&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $BHP = {name: &quot;Bust Hormonal Potion&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 500, description: &quot;This potion grows the user breasts temporarily for two weeks. Size of the breasts will vary due to genetics.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $CHP = {name: &quot;Cock Hormonal Potion&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 750, description: &quot;This potion grows the user a cock temporarily for two weeks. Size of the cock will vary due to genetics.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $NIE = {name: &quot;Nectar Induction Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 0, price: 10000, description: &quot;This potion induces females to produce nectar from their vagina permanently.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LIE = {name: &quot;Lactation Induction Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 0, price: 10000, description: &quot;This elixir permanently induces lactation in both males and females. Milk from males are only half the quality of milk from females.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LIP = {name: &quot;Lactation Induction Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 250, description: &quot;This potion induces lactation in both males and females for a couple weeks. Milk from males are only half the quality of milk from females.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $NIP = {name: &quot;Nectar Induction Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 250, description: &quot;This potion induces females to produce nectar from their vagina for a couple of weeks.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LCLGP = {name: &quot;Lesser Cock Length Growth Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 250, description: &quot;This lesser potion temporarily enlarges male cock length for a couple weeks.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LCGGP = {name: &quot;Lesser Cock Girth Growth Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 250, description: &quot;This lesser potion temporarily enlarges male cock girth for a couple weeks.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LTGP = {name: &quot;Lesser Testicle Growth Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 250, description: &quot;This lesser potion temporarily enlarges male testicle size for a couple weeks.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LBGP = {name: &quot;Lesser Bust Growth Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 250, description: &quot;This lesser potion temporarily enlarges female bust size for a couple weeks.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LCGP = {name: &quot;Lesser Clit Growth Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 250, description: &quot;This lesser potion temporarily enlarges female clit size for a couple weeks.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LPGP = {name: &quot;Lesser Pussy Growth Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 2, price: 250, description: &quot;This lesser potion temporarily enlarges female pussy size for a couple weeks.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LSI = {name: &quot;Lesser Slime Incense&quot;, rank: &quot;D&quot;, type: &quot;Incense&quot;, category: &quot;General&quot;, duration: 0, price: 1000, description: &quot;This lesser incense can be used for hypnotic purposes inside of an incense room. One stick of incense is only good for one hypnotic session. This incense is very weak.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LAP = {name: &quot;Lesser Alteration Potion&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 0, price: 2500, description: &quot;This lesser potion transforms someone from a common race to the opposite sex. This potion is ineffective and will require around a dozen doses for the transformation to be complete.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GSI = {name: &quot;Greater Slime Incense&quot;, rank: &quot;D&quot;, type: &quot;Incense&quot;, category: &quot;General&quot;, duration: 0, price: 3000, description: &quot;This greater incense can be used for hypnotic purposes inside of an incense room. One stick of incense is only good for one hypnotic session. This incense is weak.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GAP = {name: &quot;Greater Alteration Potion&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;General&quot;, duration: 0, price: 5000, description: &quot;This greater potion transforms someone from a common race to the opposite sex. This potion is effective but will require multiple doses for the transformation to be complete.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LLGE = {name: &quot;Lesser Lip Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges female lip size. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LSGE = {name: &quot;Lesser Shoulder Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges male shoulder width. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LHGE = {name: &quot;Lesser Hip Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges female hip width. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LTOGE = {name: &quot;Lesser Torso Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges male torso size. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LLEGE = {name: &quot;Lesser Leg Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently elongates leg size. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LAGE = {name: &quot;Lesser Ass Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges ass size. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LCLGE = {name: &quot;Lesser Cock Length Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges male cock length. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LCGGE = {name: &quot;Lesser Cock Girth Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges male cock girth. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LTGE = {name: &quot;Lesser Testicle Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges male testicle size. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LBGE = {name: &quot;Lesser Bust Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges female bust size. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LPGE = {name: &quot;Lesser Pussy Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges female pussy size. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LCGE = {name: &quot;Lesser Clit Growth Elixir&quot;, rank: &quot;E&quot;, type: &quot;Transformative&quot;, category: &quot;Lesser Elixirs&quot;, duration: 0, price: 5000, description: &quot;This lesser elixir permanently enlarges female clit size. Ineffective after one use.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LGE = {name: &quot;Lip Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges female lip size. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SGE = {name: &quot;Shoulder Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges male shoulder width. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $HGE = {name: &quot;Hip Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges female hip width. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $TOGE = {name: &quot;Torso Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges male torso size. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $LEGE = {name: &quot;Leg Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently elongates leg size. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $AGE = {name: &quot;Ass Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges ass size. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $CLGE = {name: &quot;Cock Length Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges male cock length. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $CGGE = {name: &quot;Cock Girth Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges male cock girth. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $TGE = {name: &quot;Testicle Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges male testicle size. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $BGE = {name: &quot;Bust Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges female bust size. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $PGE = {name: &quot;Pussy Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges female pussy size. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $CGE = {name: &quot;Clit Growth Elixir&quot;, rank: &quot;D&quot;, type: &quot;Transformative&quot;, category: &quot;Elixirs&quot;, duration: 0, price: 25000, description: &quot;This elixir permanently enlarges female clit size. Ineffective after one use and stronger than lesser elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GLGE = {name: &quot;Greater Lip Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges female lip size. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GSGE = {name: &quot;Greater Shoulder Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges male shoulder width. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GHGE = {name: &quot;Greater Hip Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges female hip width. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GTOGE = {name: &quot;Greater Torso Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges male torso size. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GLEGE = {name: &quot;Greater Leg Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently elongates leg size. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GAGE = {name: &quot;Greater Ass Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges ass size. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GCLGE = {name: &quot;Greater Cock Length Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges male cock length. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GCGGE = {name: &quot;Greater Cock Girth Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges male cock girth. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GTGE = {name: &quot;Greater Testicle Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges male testicle size. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GBGE = {name: &quot;Greater Bust Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges female bust size. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GPGE = {name: &quot;Greater Pussy Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges female pussy size. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GCGE = {name: &quot;Greater Clit Growth Elixir&quot;, rank: &quot;C&quot;, type: &quot;Transformative&quot;, category: &quot;Greater Elixirs&quot;, duration: 0, price: 100000, description: &quot;This greater elixir permanently enlarges female clit size. Ineffective after one use and stronger than ordinary elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRLGE = {name: &quot;Grand Lip Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges female lip size. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRSGE = {name: &quot;Grand Shoulder Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges male shoulder width. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRHGE = {name: &quot;Grand Hip Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges female hip width. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRTOGE = {name: &quot;Grand Torso Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges male torso size. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRLEGE = {name: &quot;Grand Leg Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently elongates leg size. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRAGE = {name: &quot;Grand Ass Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges ass size. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRCLGE = {name: &quot;Grand Cock Length Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges male cock length. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRCGGE = {name: &quot;Grand Cock Girth Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges male cock girth. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRTGE = {name: &quot;Grand Testicle Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges male testicle size. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRBGE = {name: &quot;Grand Bust Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges female bust size. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRPGE = {name: &quot;Grand Pussy Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges female pussy size. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $GRCGE = {name: &quot;Grand Clit Growth Elixir&quot;, rank: &quot;B&quot;, type: &quot;Transformative&quot;, category: &quot;Grand Elixirs&quot;, duration: 0, price: 500000, description: &quot;This grand elixir permanently enlarges female clit size. Ineffective after one use and stronger than greater elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SLGE = {name: &quot;Sovereign Lip Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges female lip size. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSGE = {name: &quot;Sovereign Shoulder Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges male shoulder width. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SHGE = {name: &quot;Sovereign Hip Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges female hip width. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $STOGE = {name: &quot;Sovereign Torso Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges male torso size. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SLEGE = {name: &quot;Sovereign Leg Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently elongates leg size. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SAGE = {name: &quot;Sovereign Ass Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges ass size. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SCLGE = {name: &quot;Sovereign Cock Length Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges male cock length. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SCGGE = {name: &quot;Sovereign Cock Girth Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges male cock girth. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $STGE = {name: &quot;Sovereign Testicle Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges male testicle size. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SBGE = {name: &quot;Sovereign Bust Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges female bust size. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SPGE = {name: &quot;Sovereign Pussy Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges female pussy size. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SCGE = {name: &quot;Sovereign Clit Growth Elixir&quot;, rank: &quot;A&quot;, type: &quot;Transformative&quot;, category: &quot;Sovereign Elixirs&quot;, duration: 0, price: 2000000, description: &quot;This sovereign elixir permanently enlarges female clit size. Ineffective after one use and stronger than grand elixirs. Elixirs do not stack, the strongest elixir&#39;s effect will take hold on the user.&quot;, amount: 0}&gt;&gt;</tw-passagedata><tw-passagedata pid="139" name="Slave Report" tags="nobr" position="1362,436" size="100,100">&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;
&lt;&lt;set $activeCharacter = _character&gt;&gt;
&lt;&lt;include &quot;Slave Income &amp; Expenses&quot;&gt;&gt;
&lt;&lt;include &quot;Post Week Slave Update&quot;&gt;&gt;
&lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;unset $activeCharacter&gt;&gt;
&lt;&lt;unset _character&gt;&gt;</tw-passagedata><tw-passagedata pid="140" name="Feminine Posture" tags="nobr" position="2392,361" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;feminine posture&quot;&gt;&gt;

Posture is a very basic but core skill displayed by feminines. Proper posture accentuates beauty and confidence subtlety without exuding an air of aggressiveness or easy availability. It also teaches how to enhance the status of others without drawing attention to oneself. Walking, sitting, standing and many other types of feminine posture is very easily taught but is hard to master completely.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	$activeCharacter.name’s posture is completely unfeminine. While it may not be outright whorish or uncouth, its easy to tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has had little to no practice with posture. 
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name has a basic understanding of feminine posture. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; knows the different kinds of postures but poorly executes performing them.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	$activeCharacter.name knows all the different kinds of feminine posture and can properly perform them. However, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; movements aren’t practiced and are almost robotic in nature.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	$activeCharacter.name not only knows everything there is to know about feminine posture, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has the ability to perform them without seeming stiff or unpracticed.
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name’s feminine posture is perfect. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; posture looks grandiose, completely natural and full of confidence.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="141" name="Feminine Mannerisms" tags="nobr" position="2391,491" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;feminine mannerisms&quot;&gt;&gt;

True feminines exude femininity through their mannerisms. Every movement should be purposed yet natural all while portraying oneself as a woman with class and maturity. All and any hand movements, tones of voice and gestures that can be more effeminate must be practiced relentlessly. On the other hand, mannerisms that aren’t effeminate must be completely purged from the mind until only the feminine mannerisms are left.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	$activeCharacter.name’s mannerisms are not unusually for a &lt;&lt;print $maturity[$activeCharacter.maturity]&gt;&gt; $activeCharacter.gender, but they’re abysmal for someone who is supposed to be a feminine.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name has quite a few hoydenish mannerisms and a few learned effeminate mannerisms. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still has a long way to go before her mannerisms can be considered feminine.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	Most of $activeCharacter.name’s hoydenish mannerisms have been completely unlearned. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; uses mostly effeminate mannerisms, but if someone were to interact with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; long enough they would start to see some of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; old mannerisms manifest.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	$activeCharacter.name has completely purged all of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hoydenish mannerisms from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has also learned all the feminine mannerisms that she could ever need.
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name’s mannerisms exudes femininity. Every step, touch or comment &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; portrays &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as the ideal feminine.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="142" name="Dance" tags="nobr" position="2392,751" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;dancing skills&quot;&gt;&gt;

Learning dance is an important part of becoming a feminine. Dances are a commonly held events in high society but more importantly, dancing teaches grace. All things done by feminines must be considered graceful, to the point that even &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; thoughts should be considered as such.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	Not only is $activeCharacter.name clumsy, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no aptitude to learn any type of dancing. At this point, it would be probably more effective to start with the feminine basics.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name can perform some dances but they are still clumsy. However you can tell that with enough practice, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will become a lot more graceful.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	$activeCharacter.name can perform a number of dances without error and while they are not clumsy, they lack the grace needed to pull them off. 
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	$activeCharacter.name can perform quite a number of dances gracefully without error, but there is nothing stunning nor special about the way she does it.
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name’s dances could be considered performance art. Not only is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; graceful, but the way she moves is so alluring and confident that it breaths femininity.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="143" name="Yoga" tags="nobr" position="2391,1011" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;yoga skills&quot;&gt;&gt;

Yoga is a meditative means of achieving the inner peace required of a true feminine. With regular practice yoga not only helps to release $activeCharacter.name from many types of mental anguish but it also improves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; flexibility. It will also help to increase &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; discipline and control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and body.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	While in shape, $activeCharacter.name doesn’t have the flexibility and grace required to do any poses other than the most basic ones.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name can do a few yoga poses but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still struggles to hold any of them for longer than a few seconds.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	$activeCharacter.name can do quite a number of yoga poses and has little to no problems holding said poses for elongated periods of time.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	Not only can $activeCharacter.name do pretty much any yoga pose, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can effortlessly transition between them with minimal effort.
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name can do yoga so well it could be considered a performance art. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moves with such grace, flexibility and practiced skill that it seems second nature for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="144" name="Hygiene" tags="nobr" position="2391,621" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;feminine hygiene&quot;&gt;&gt;

Feminine hygiene is easily learned but requires a lot of training before it becomes second-hand. To be considered a true feminine, $activeCharacter.name must look clean and smell attractive at all times. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; legs, arms and armpits must be properly shaved, as any hair on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body harms &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; image as a feminine. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; daily hygiene routine must be thoroughly practiced so it is not forgotten or performed incorrectly.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	$activeCharacter.name can barely complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hygiene routine. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is slow, has signs of hair still on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; reeks of perfume.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name has no problem remembering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hygiene routine, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has problems properly completing it.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	$activeCharacter.name not only remembers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hygiene routine but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can complete it within a reasonable time period without looking like a mess afterward.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	$activeCharacter.name can complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hygiene routine but sometimes may cut &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; with a razor or forget one minor thing.
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name can complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hygiene routine very quickly without any fault.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="145" name="Empathy" tags="nobr" position="2392,1141" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;empathy&quot;&gt;&gt;

Empathy is one of the most important principles for a feminine to learn, but also one of the hardest. A true feminine must always think of others, especially &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper. It takes time to teach a higher level of empathy and it takes even longer train &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; self importance to a lower level.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	Not only is $activeCharacter.name’s level of empathy completely unbefitting for someone training to become a true feminine, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; prioritizes &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; much too highly.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name’s level of empathy and selflessness is not anywhere near the level required of a true feminine.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	Through a series of tests $activeCharacter.name displays &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is both highly empathetic and unselfish.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	$activeCharacter.name is completely selfless and displays a very high degree of empathy for humans, animals and even monsters. 
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name has reached a level of empathy only a true feminine could achieve. You wonder at times if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; even has thoughts about &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; because of how giving &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="146" name="Patience" tags="nobr" position="2392,1271" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;patience&quot;&gt;&gt;

Having patience is a virtue. Teaching it on the other hand is a totally different different endeavor. True feminines must be patient at all times, as being anything other than serene at all times is the antithesis to the idea of femininity. Patience can be trained through many different means but the idea of waiting hand and foot on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper is generally not well received.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	$activeCharacter.name has no patience for the idea of sitting, standing, kneeling or waiting in general for orders &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; may or may not receive.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name understands the idea of waiting around for orders from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper and being serene at all times is important but fails to be patient enough to do so.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	$activeCharacter.name has built enough patience that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can wait upon someone for elongated periods of time but sometimes gets moody when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to wait too long.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	Not only does $activeCharacter.name have enough patience to wait upon orders for elongated periods of time, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can do so without being distracting in any capacity.
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name can easily wait hand and foot upon &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper for very long times, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is absolutely happy to do so.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="147" name="Feminine Identity" tags="nobr" position="2390,1401" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;understanding of the true feminine&quot;&gt;&gt;

Teaching $activeCharacter.name to understand &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feminine identity is one of the most important but difficult things aspects of feminine training. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; must not only understand what it means to be a true feminine but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must also wholeheartedly believe &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is nothing more than a high-class accessory for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	$activeCharacter.name doesn’t understand the idea behind being a true feminine and completely rejects the idea that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is nothing more than a high-class accessory for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name understands the idea behind being a true feminine but still rejects the idea that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is nothing more than a high-class accessory for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	$activeCharacter.name understands what it means to be a true feminine and is open to the idea that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is to be nothing more than a high-class accessory for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	$activeCharacter.name understands the meaning of being a true feminine and strives to become nothing more than a high-class accessory for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper.
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name is very passionate about being a true feminine and believes that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; one true purpose in life is to be nothing but a high-class accessory for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="148" name="Meditation" tags="nobr" position="2519,1011" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;meditation&quot;&gt;&gt;

For masculines meditation is a great way to bring their mental processes and physical body under firmer control. This is important because a masculine must be in control of themselves at all times. Masculines carry a stigma as uncouth brutes but a well trained masculine is anything but.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name can barely meditate for five minutes before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; loses concentration and gets frustrated.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name can fall into a meditative trance but gets frustrated whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; breaks concentration.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name is most at peace with &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is meditating. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; rarely ever loses concentration.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name can meditate with ease. Whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; breaks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; meditative trance it doesn’t take long for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to fall into it again.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	$activeCharacter.name meditates so naturally &lt;&lt;print $activeCharacter.gender]&gt;&gt; seemingly meditate anywhere or anytime. You can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is calm at all times because of it.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="149" name="Excersize" tags="nobr" position="2519,751" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;exercise routine&quot;&gt;&gt;

Exercise is something that can be shared between a masculine and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper. It helps to keep the masculine in shape and keepers of masculines often enjoy watching the show. Because of this masculines are often taught to exercise in was that shows off &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; muscles while still being effective.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name completely rejects the idea that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; routine should be a spectacle for a prospective keeper.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name understands that exercise is something to be shared between a masculine and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper but is very bad at actually executing the idea.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name’s workout routine is often gaudy during some parts and ineffective during others.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name’s workout routine manages to be uniform, effective and eye-catching without being ostentatious in nature.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	$activeCharacter.name’s workout routine is a performance from start to end.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="150" name="Masculine Posture" tags="nobr" position="2519,361" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;masculine posture&quot;&gt;&gt;

Posture is one of the few basics a masculine must understand and display at all times. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; posture allows &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to exude an aura that feels hostile yet calm, confident and powerful. As masculines are often kept standing near their keepers, the importance of posture cannot be understated enough.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name’s posture is terrible. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; looks lazy and uncaring at all times, completely unlike what is expected from a true masculine.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name has learned masculine postures but has a lot of issues reproducing them. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still requires a lot of training.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name’s posture is passable. While it looks accurate it still fails to create an proper aura. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt;’s playing the role of what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thinks a masculine should be instead of truly understanding masculine posture.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name’s posture is picture perfect and has a natural look and feel about it.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	$activeCharacter.name’s posture not only looks perfect, but the aura &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can produce is representative of a true masculine.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="151" name="Body Language Training" tags="nobr" position="2519,491" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;body language&quot;&gt;&gt;

Body language is a huge indicator of masculinity. A true masculine’s body language is confident and unfearing. Body language is easy enough to learn but requires an immense amount of training before it looks and feels natural instead of robotic. 

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name’s body language is very common for someone of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; age, but is terrible for a true masculine.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name has learned and understands masculine body language but has a hard time being able to reproduce it without prior thought.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name understanding of masculine body language is shown by how easily &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can reproduce it without prior thought, but it still doesn’t look natural.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name’s body language is completely masculine and natural. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body language is rarely ever uncouth or unfitting for a masculine.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	$activeCharacter.name’s body language is naturally masculine, so much so that you wonder if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was born knowing that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would become a masculine.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="152" name="Stoicism" tags="nobr" position="2520,1271" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;

&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;

&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;

&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;

&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;

&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;stoic behaviour&quot;&gt;&gt;

Stoicism is the general attitude expected of a true masculine. Silent, patient and completely apathetic to all issues not important to their keeper. Most things required of a stoic masculine conflict with each other but with enough practice &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should be able to find the right balance.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name has an extremely hard time trying to be apathetic to everything, including &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own issues.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name has a small amount of understanding of what it means to be a stoic. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to be silent, patient and apathetic but often fails.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name has some understanding and a little mastery of stoicism. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can execute on some of the lesser principles of stoicism, but fails otherwise.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name has a high understanding and mastery of stoicism. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; only requires a little more practice before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has the art completely mastered.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	$activeCharacter.name has mastered the art of having a stoic attitude. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is silent, patient and completely apathetic to all things not important to you.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 3, _roll)&gt;&gt;
</tw-passagedata><tw-passagedata pid="153" name="Display Training" tags="nobr" position="2781,359" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;display posture&quot;&gt;&gt;

For $activeCharacter.name to be a proper slut, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must go through display training. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will be taught how to properly display &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to others in a sexual manner. Whether in public or private, there are subtle and blatant ways &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can display &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; master or potential customers.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name doesn’t know any provocative poses and has absolutely no idea how to sell &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; as a sexual being.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name knows a few sexual poses but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; executes them poorly. They make &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; clumsy and unattractive more than anything.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name can display &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; sexually well enough to attract both people of the same and opposite sex.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name’s sexual displays are extremely provocative. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will have no problem attracting others provided that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical features are decent. If they aren’t, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can still use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skills to whore &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; out sexually to the lower class.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name has completely perfected &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability to display &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; sexually. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; poses are provocative yet natural, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to ooze sensuality.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="154" name="Exposure Training" tags="nobr" position="2781,489" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;exposure alacrity&quot;&gt;&gt;

In order for $activeCharacter.name to become a well trained slut, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; needs to be completely comfortable with being nude. As this includes both public and private settings, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; needs to have no misgivings about going nude at any time.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name completely shrivels into &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is in public spaces while naked.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name is not comfortable being naked in public spaces but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t attempt to cover &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; during those times either.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name is pretty comfortable with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nakedness. Whether in public or in private with complete strangers, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t fear getting naked.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name seems to be more comfortable naked than clothed. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; generally is more tense while clothed than not, most likely because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has accepted that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is nothing but a slut.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name is most calm while naked. Not only has &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; accepted &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; position as a slut, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; revels in it. 
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="155" name="Wardrobe Training" tags="nobr" position="2782,619" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;wardrobe training&quot;&gt;&gt;

Wardrobe training involves teaching a slut proper attire for someone of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; status, but also how to wear said clothes. Looking the part of a slut is one of the most fundamental parts of being one. If someone can’t tell that $activeCharacter.name is a slut just by looking at &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, then &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has failed on the most basic visual level.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name has no idea how fashion &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; clothes in a sluttish way and knows even less about proper slut attire.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name knows a little about slut fashion but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t have the ability to pull it off properly. 
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name has no problem with wearing slutty clothes and knows quite a bit about slut fashion. 
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name naturally gravitates to wearing slutty clothing. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; likes to show &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body off to others, so wearing clothes that allow &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; naturally are ideal.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name is a connoisseur of slut fashion. Not only does &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wear slutty clothing extremely well, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can make even the most modest clothing look completely obscene.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="156" name="Sex Training" tags="nobr" position="2782,749" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;sexual performance&quot;&gt;&gt;

Imagination plays a large role in sex and a well trained slut can and will use that to their advantage. While they may not be technically skilled in all sexual areas, being enthusiastic, wild and passionate during sexual encounters more than makes up for it. Someone who’s a dead fish in bed can’t be ever called a true slut.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name shows no passion during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual encounters.	 &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will require a lot of training before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can be considered a slut.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name shows a little of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; wild side during sex, but that is nothing unusual or special for a trained sex slave.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name isn’t afraid to be active during any sexual encounter, no matter how wild or passionate &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; may need to be to elicit a response from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name is very impassioned during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual encounters to the point that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partners could fall in love with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name is storm of raw emotion and love during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual encounters. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; sexual routiness could be considered performance art.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if [&quot;female&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;clit&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;

&lt;&lt;elseif [&quot;male&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.25)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  
&lt;&lt;elseif [&quot;futanari&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  
&lt;&lt;elseif [&quot;shemale&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="157" name="Free Use Indoctrination" tags="nobr" position="2781,1139" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;slutty temperament&quot;&gt;&gt;

A true slut must be able to understand that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body is always up for use. Whether it has to be payed for, free to use for all or for private use only, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should know that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can be called upon any time to serve anyone at any given time.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name struggles with the idea that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body is free for use at all times.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name understands that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body is free for use at all times but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fights against letting that type of mentality consume &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name has accepted both physically and mentally that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body is completely free for use at all times.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name has not only accepted that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body is free for use, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; flaunts the fact that it is.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name has completely accepted the fact that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body is free for use. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; revels in the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is so slutty that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t care who &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sleeps with or where.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="158" name="Positional Training" tags="nobr" position="2652,359" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.submissive &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.submissive &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.submissive &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.submissive &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.submissive &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;slave positions&quot;&gt;&gt;

Positional training is required for learning how to play the submissive role. While not all of $activeCharacter.name’s keepers will use the same positions or poses, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must be flexible enough to perform any position and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must be well trained enough to remember it to boot.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.submissive &lt; 25&gt;&gt;
	$activeCharacter.name can do very basic positions but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has a hard time remembering any of them.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 50&gt;&gt;
	$activeCharacter.name is flexible enough to perform some more complex positions but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t have the muscle memory to perform them on command.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 75&gt;&gt;
	$activeCharacter.name can perform an array of different positions and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t has very little trouble replicating them at later dates.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 100&gt;&gt;
	$activeCharacter.name’s positional ability is top-notch. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; requires little instruction to get in new positions and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; remembers them for quite a while.
&lt;&lt;elseif $activeCharacter.stats.submissive == 100&gt;&gt;
	$activeCharacter.name is able to replicate any position from the most basic instructions without any problems and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; remembers most if not all of the positions &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has learned.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSubmissive($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="159" name="Speech Training" tags="nobr" position="2651,489" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.submissive &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.submissive &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.submissive &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.submissive &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.submissive &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;speech proficiency&quot;&gt;&gt;

$activeCharacter.name must learn how to properly refer to &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; and others in the submissive role. Talking in the third person, being respectful and knowing when to speak are all important aspects of submissive speech training.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.submissive &lt; 25&gt;&gt;
	$activeCharacter.name has absolutely no speech proficiency. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; speaks out of turn and has problems speaking fluently in third person.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 50&gt;&gt;
	$activeCharacter.name has some speech proficiency. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn’t speak out of turn but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sometimes forgets to speak to others in a respectful tone.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 75&gt;&gt;
	$activeCharacter.name can speak in a respectful tone, understands that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must speak only when spoken to and has no problems referring to &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; in the third person.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 100&gt;&gt;
	$activeCharacter.name’s speech proficiency is very high. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; understands the submissive role very well, and what is required of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; speech wise.
&lt;&lt;elseif $activeCharacter.stats.submissive == 100&gt;&gt;
	$activeCharacter.name speech breaths submissiveness. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is always respectful, demure and naturally refers to &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; in the third person.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSubmissive($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="160" name="Subordinate Training" tags="nobr" position="2651,619" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.submissive &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.submissive &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.submissive &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.submissive &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.submissive &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;submissiveness&quot;&gt;&gt;

One of the hardest parts of learning the submissive role is learning how to be submissive. $activeCharacter.name must understand that as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is playing the submissive role &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; dominant is. 

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.submissive &lt; 25&gt;&gt;
	$activeCharacter.name struggles greatly with the idea of not being in control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body in any way shape or form while acting as a submissive.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 50&gt;&gt;
	$activeCharacter.name understands on a fundamental level that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; is not &lt;&lt;print $hishers[$activeCharacter.gender]&gt;&gt; to control but has trouble relinquishing control.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 75&gt;&gt;
	$activeCharacter.name can give control of &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to others with little to no problems.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 100&gt;&gt;
	$activeCharacter.name understands what it means to be a submissive. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can be controlled physically through verbal and physical commands by even the least dominant people.
&lt;&lt;elseif $activeCharacter.stats.submissive == 100&gt;&gt;
	$activeCharacter.name can relinquish control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body so easily some may wonder if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; ever had control of it in the first place.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSubmissive($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="161" name="Voice Training" tags="nobr" position="2651,879" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.dominant &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.dominant &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.dominant &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.dominant &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.dominant &gt;= 10&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;vocal performance&quot;&gt;&gt;

It is important that $activeCharacter.name’s voice be commanding, confident and controlled at all times. There should not be any weak tones to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; voice such as confusion, uncertainty or insecurity even if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is feeling that way. A dominants voice is one of the main and most often used tools to carry a scene and should be trained with that in mind.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.dominant &lt; 25&gt;&gt;
	$activeCharacter.name’s voice is very weak. It sounds small, insecure and has no business being used to carry any type of dom-esque scene.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 50&gt;&gt;
	$activeCharacter.name carries a little bit of strength to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; voice but nowhere near enough required for a dominant.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 75&gt;&gt;
	$activeCharacter.name voice is strong enough for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to play a dom role in any domination sexual play.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 100&gt;&gt;
	$activeCharacter.name has a very strong voice. It is more than good enough to carry any kind of dominant sexual play.
&lt;&lt;elseif $activeCharacter.stats.dominant == 100&gt;&gt;
	$activeCharacter.name’s voice is naturally dominant and doesn’t bare any frailty. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; voice is so dominant that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should have no problems influencing even the least submissive people.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseDominant($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="162" name="Orgasm Training" tags="nobr" position="2782,879" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;orgasm control&quot;&gt;&gt;

To become a seasoned slut $activeCharacter.name must learn how to control &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms. Not only is this useful for being able to last longer during sexual encounters, but allows &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to orgasm without the need for faking it. Most enjoy cumming with their partner, good orgasm control allows for this to happen more easily.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name has absolutely no control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name has some control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still loses control most of the time.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name has solid control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; has a hard time cumming on command.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name’s control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms is very high. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can hold &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms for elongated periods of time and cum on command with limited difficulty.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name has complete and total control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; orgasms. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can cum on command with no stimulation or &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can go finish long sexual encounters without orgasming once.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;if [&quot;female&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;clit&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;

&lt;&lt;elseif [&quot;male&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.25)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  
&lt;&lt;elseif [&quot;futanari&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  
&lt;&lt;elseif [&quot;shemale&quot;].contains($activeCharacter.sex) &amp;&amp; _roll &gt; 2&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, _roll)&gt;&gt;
	&lt;&lt;print increaseSensitivity(&quot;balls&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, _roll*0.5)&gt;&gt;
  &lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, _roll*0.5)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="163" name="Anger Management" tags="nobr" position="2650,1269" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.dominant == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.dominant &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.dominant &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.dominant &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.dominant &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;anger management&quot;&gt;&gt;

$activeCharacter.name must be in complete control of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anger to be able to dom effectively. If &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can’t continue the play without a clear head, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will risk harming &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner. While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can end the play early if required, curbing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anger is a better solution.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.dominant &lt; 25&gt;&gt;
	$activeCharacter.name has no control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anger and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gets frustrated easily.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 50&gt;&gt;
	$activeCharacter.name has some control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gets angry too often for someone training to be a dom.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 75&gt;&gt;
	$activeCharacter.name has control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anger and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seldom gets frustrated.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 100&gt;&gt;
	$activeCharacter.name has total control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anger.
&lt;&lt;elseif $activeCharacter.stats.dominant == 100&gt;&gt;
	$activeCharacter.name has completely mastered having control over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anger and is able to curb any frustrations before they become a problem.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseDominant($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="164" name="Implement Training" tags="nobr" position="2651,1009" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.dominant &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.dominant &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.dominant &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.dominant &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.dominant &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;skill with implements&quot;&gt;&gt;

As a dominant $activeCharacter.name will be using various implements on submissives during sexual play. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; must be skilled with many different types of implements if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t want to scar or seriously injure &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner. That said, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should be able to strike hard enough to excite &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner sexually.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.dominant &lt; 25&gt;&gt;
	$activeCharacter.name doesn’t know how to use any implement. If &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn’t putting too much power into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; strikes, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is barely using any strength in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; swings.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 50&gt;&gt;
	$activeCharacter.name is slightly familiar with the different types of implements. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has problems remember how much strength to put in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; strikes.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 75&gt;&gt;
	$activeCharacter.name understands and is familiar with the different types of implements. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has very little trouble using them to inflict enough pain to cause sexual arousal.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 100&gt;&gt;
	$activeCharacter.name shows that his understanding of how to use implements is at its peak. Lack of practice is the only thing preventing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from propelling into the next level.
&lt;&lt;elseif $activeCharacter.stats.dominant == 100&gt;&gt;
	$activeCharacter.name’s use of various types of implements is precise, practiced and powerful.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseDominant($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="165" name="Confidence Training" tags="nobr" position="2651,1139" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.dominant &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.dominant &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.dominant &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.dominant &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.dominant &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;confidence&quot;&gt;&gt;

A dominant must be confident in &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; at all times during any sexual play. Even if there is a moment of doubt or frustration, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should be in total control of the situation. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; partner should have no doubts about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; control of the scene.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.dominant &lt; 25&gt;&gt;
	$activeCharacter.name has a very hard time showing his confidence through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; actions.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 50&gt;&gt;
	$activeCharacter.name can force outwardly confidence but has problems acting with purpose during sexual play naturally.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 75&gt;&gt;
	$activeCharacter.name both has confidence in &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; and knows how to show it during any type of sexual play.
&lt;&lt;elseif $activeCharacter.stats.dominant &lt; 100&gt;&gt;
	$activeCharacter.name displays a firm grasp on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability to exude &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; confidence in a sexual setting.
&lt;&lt;elseif $activeCharacter.stats.dominant == 100&gt;&gt;
	$activeCharacter.name’s confidence comes naturally to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. No matter what type of sexual play, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; generates an aura of security for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partner to feed off of. 
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseDominant($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="166" name="Arts" tags="nobr" position="2391,881" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.femininity &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.femininity &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.femininity &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.femininity &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.femininity &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;art skills&quot;&gt;&gt;

Learning art is a good way for $activeCharacter.name to use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; creativity to express &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; femininity. Not only is it important for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be able to express &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; artistically, it is imperative that a true feminine understands how to interpret the art of others in a way that relates to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own femininity.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.femininity &lt; 25&gt;&gt;
	$activeCharacter.name has no artistic skill and the material that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does manage to create shows that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no idea what femininity is about.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 50&gt;&gt;
	$activeCharacter.name’s art shows that while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has passable art skills,  &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has basic understanding of what femininity means. 
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 75&gt;&gt;
	$activeCharacter.name’s art skills are passable. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can create works that display both &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mediocre skills and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; moderate knowledge on femininity.
&lt;&lt;elseif $activeCharacter.stats.femininity &lt; 100&gt;&gt;
	$activeCharacter.name’s art is high-quality. Not only &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; works display &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; good art skills, they show that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has a firm grasp on what femininity is.
&lt;&lt;elseif $activeCharacter.stats.femininity == 100&gt;&gt;
	$activeCharacter.name’s art displays her knowledge of femininity is faultless. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; actual artistic abilities are topnotch as well.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseFemininity($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="167" name="Mentality Training" tags="nobr" position="2520,1141" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;sense of mental balance&quot;&gt;&gt;

Being mentally strong is just as important as physical strength, if not more. A true masculine’s ability to endure some of the more pain heavy sexual play needs to be higher than the average slave. There is no point to spend the time training a slave to be a masculine if they become mind-broken after a few weeks, or even months. 

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name’s ability to endure pain without any sign of distress is comically low. 
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name can endure small doses of pain without showing any sign of distress but any elongated period of torment will send &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into a state of anguish. 
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name can endure pain for elongated periods of time.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name’s nerves have dulled the sensation of pain through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mental strength alone, allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to endure long sexual sessions that include pain.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	$activeCharacter.name’s mental strength is strong enough to endure long periods of torment without having to dull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; senses.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="168" name="Appearance Training" tags="nobr" position="2520,621" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity &gt;= 50&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 40&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 30&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 20&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 10&gt;&gt;

	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;appearance maintenance&quot;&gt;&gt;

Appearance training is required of most if not all masculines. Caring for hygiene and appearance are not usually seen as masculine traits but if $activeCharacter.name is to be a high-class accessory for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper, it is imperative that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; look presentable.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name sees no reason for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to partake in any kind of appearance training, and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t understand what it has to do with being a masculine either.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name understands why appearance training is important for a masculine but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t care for being one.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name is quite adept at &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; daily appearance routine.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name’s appearance routine is almost perfect. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can finish &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; routine within a dozen or so minutes.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	$activeCharacter.name completely understands the importance of appearance to a masculine and has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; routine well practiced. 
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 1, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="169" name="Fight Training" tags="nobr" position="2520,881" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;fighting skills&quot;&gt;&gt;

Masculines are mainly used as sex objects but often double as body guards. The ones that do often go through a much more vigorous training regiment set up by their keeper but having some knowledge about fighting helps the process along. Being able to handle oneself in a fight is also a big draw for a masculine’s attractiveness.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name has no fighting knowledge. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can in no way handle &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; in a fight.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name has a small amount of fighting knowledge but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does not have nearly enough practice to execute on the little &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; knows.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name has practiced enough that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can handle &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; in a fight against riffraff and thugs.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name is very good at fighting. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn’t a prodigy by any means, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; understands &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; limits and works well within them.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	$activeCharacter.name can fight as good as possible in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; current state. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will require advanced training if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is to have &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; abilities advanced.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="170" name="Masculine Power" tags="nobr" position="2520,1401" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.masculinity == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.masculinity &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.masculinity &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.masculinity &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.masculinity &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;understanding of the true masculine&quot;&gt;&gt;

Before $activeCharacter.name can become a true masculine, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must understand the concept of &#39;masculine power’. At &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; core, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is aggressive and dominant, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to learn how to reign those primal powers in and temper them for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; keeper. A true masculine is in tune with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; masculine self but is trained well enough to never bare &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fangs at &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; master.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.masculinity &lt; 25&gt;&gt;
	$activeCharacter.name is completely out of tune with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; masculine self. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; shows bouts of aggressiveness but its more out of fear than control.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 50&gt;&gt;
	$activeCharacter.name understands &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; masculine self, but has a hard time truly connect to that side of &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 75&gt;&gt;
	$activeCharacter.name can connect with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; masculine self but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is often very aggressive with you when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does in an attempt to gain dominance over you.
&lt;&lt;elseif $activeCharacter.stats.masculinity &lt; 100&gt;&gt;
	$activeCharacter.name is one with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; masculine self and has some form of control over it. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; seldom loses control, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; challenge you for dominance every once in a while.
&lt;&lt;elseif $activeCharacter.stats.masculinity == 100&gt;&gt;
	Not only is $activeCharacter.name one with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; masculine self, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has completely control over it.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseMasculinity($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="171" name="Sexual Stamina Training" tags="nobr" position="2782,1009" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry &gt;= 75&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 65&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 55&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 45&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 35&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;sexual stamina&quot;&gt;&gt;

Having a high sexual stamina is one of the few physical requirements of being a slut. Getting tired or raw after only a few encounters is unheard  of for a proper slut, instead &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should be wet, willing and ready at all times.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name’s sexual stamina is non-existent. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is a &#39;fuck once a week&#39; type of person.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name has very low sexual stamina, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can only fuck a couple times in a row at max without getting tired or raw.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name has decent sexual stamina. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can endure long sexual sessions without getting tired or raw.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name can pretty much fuck on command multiple times in a row without getting tired or raw.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name’s sexual stamina is insatiable. Not only is &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; ready for sex at all times, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can outlast any of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; partners. 
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 2, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="172" name="Tolerance Training" tags="nobr" position="2651,749" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.submissive == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.submissive &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.submissive &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.submissive &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.submissive &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;pain tolerance&quot;&gt;&gt;

Submissives must have a high tolerance to pain as they are often on the enduring end of very rough sexual play. $activeCharacter.name has to learn how to take pain from implements of varying strength with minimal mental disruption and while simultaneously selling the idea that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is in intense pain with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocals.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.submissive &lt; 25&gt;&gt;
	$activeCharacter.name’s ability to endure pain without mental distress is comically low. 
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 50&gt;&gt;
	$activeCharacter.name can endure small doses of pain without being in any real mental distress but any elongated period of torment will send &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into a state of anguish. 
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 75&gt;&gt;
	$activeCharacter.name can endure pain for elongated periods of time but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; vocal performance is subpar.
&lt;&lt;elseif $activeCharacter.stats.submissive &lt; 100&gt;&gt;
	$activeCharacter.name’s nerves have dulled the sensation of pain through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mental strength alone, allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to endure long sexual sessions that include pain.
&lt;&lt;elseif $activeCharacter.stats.submissive == 100&gt;&gt;
	$activeCharacter.name’s mental strength is strong enough to endure long periods of torment without having to dull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; senses, allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to give a realistic vocal performance.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseSubmissive($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="173" name="Sexual Aggression" tags="nobr" position="2781,1269" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;sexual aggression&quot;&gt;&gt;

A true slut is the aggressor in most, if not all sexual encounters. $activeCharacter.name must be confident in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ability to charm potential partners with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual wiles. Understanding this concept is one thing, but becoming proficient enough at being sexually aggressive takes a lot of practice.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name completely fails at being sexually aggressive. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can’t handle rejection well and doesn’t have enough practice or confidence to pull it off.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name understands the concept of being sexually aggressive. Sadly, that doesn’t translate into results. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has little success being sexually aggressive.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name has enough confidence to pull off being sexually aggressive but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; needs a lot more practice before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is truly proficient at it.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name is practiced enough at using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual aggression to charm potential partners.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name’s sexual aggression is both flawless and powerful. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has absolutely no problem charming potential partners.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="174" name="Strumpet Acceptance" tags="nobr" position="2781,1399" size="100,100">&lt;&lt;if $activeCharacter.submission == 100 || $activeCharacter.stats.strumpetry == 100&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0, 3:0, 4:0.2, 5:0.8})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 80 || $activeCharacter.stats.strumpetry &gt;= 90&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0, 2:0.0, 3:0.2, 4:0.3, 5:0.5})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 60 || $activeCharacter.stats.strumpetry &gt;= 80&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.1, 2:0.1, 3:0.2, 4:0.4, 5:0.2})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 40 || $activeCharacter.stats.strumpetry &gt;= 70&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.3, 2:0.2, 3:0.3, 4:0.1, 5:0.1})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 20 || $activeCharacter.stats.strumpetry &gt;= 60&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.4, 2:0.3, 3:0.2, 4:0.1, 5:0})&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.submission &gt;= 0&gt;&gt;
	&lt;&lt;set _weightedroll = weightedRoll({1:0.5, 2:0.4, 3:0.1, 4:0, 5:0})&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _roll = getRoll($activeCharacter, _weightedroll(), _weightedroll(), _weightedroll())&gt;&gt;

&lt;&lt;set _trainingname = &quot;acceptance of self&quot;&gt;&gt;

$activeCharacter.name must not only accept the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a slut that enjoys having sex no matter the circumstance but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must also feel no shame or guilt for being &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;. 

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.stats.strumpetry &lt; 25&gt;&gt;
	$activeCharacter.name vehemently denies being a slut and constantly insists that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will never be one.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 50&gt;&gt;
	$activeCharacter.name has a had time understanding that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a slut but deep down &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; understands that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 75&gt;&gt;
	$activeCharacter.name has accepted that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a slave but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; feels great shame for being one.
&lt;&lt;elseif $activeCharacter.stats.strumpetry &lt; 100&gt;&gt;
	$activeCharacter.name is very accepting of the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a slut to the point that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; feels guilty for enjoying &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; too much.
&lt;&lt;elseif $activeCharacter.stats.strumpetry == 100&gt;&gt;
	$activeCharacter.name has completely accepted the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a slut and has resolved not to feel guilty for loving sex, nor shame for being who &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Training Results&quot;&gt;&gt;

&lt;&lt;run updateBattleStats($activeCharacter, _roll, $difficulty, $estate)&gt;&gt;
&lt;&lt;run refreshBattleStats($activeCharacter, $LustCount)&gt;&gt;
&lt;&lt;run increaseStrumpetry($activeCharacter, 3, _roll)&gt;&gt;</tw-passagedata><tw-passagedata pid="175" name="Hypno Chart" tags="nobr" position="4334,99" size="100,100">&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;tr&gt;
  &lt;&lt;if $Hypnotism.page == &quot;Basic&quot;&gt;&gt;
    &lt;th class = &quot;listing&quot; colspan = 33&gt;Basic&lt;/th&gt;
  &lt;&lt;else&gt;&gt;
    &lt;th class = &quot;listing&quot; class = &quot;listing&quot; colspan = 33&gt;[[Basic|Hypnotic Battle][$Hypnotism.page = &quot;Basic&quot;]]&lt;/th&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Hypnotism.page == &quot;Intermediate&quot;&gt;&gt;
    &lt;th class = &quot;listing&quot; colspan = 33&gt;Intermediate&lt;/th&gt;
  &lt;&lt;else&gt;&gt;
    &lt;th class = &quot;listing&quot; colspan = 33&gt;[[Intermediate|Hypnotic Battle][$Hypnotism.page = &quot;Intermediate&quot;]]&lt;/th&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Hypnotism.page == &quot;Advanced&quot;&gt;&gt;
    &lt;th class = &quot;listing&quot; colspan = 34&gt;Advanced&lt;/th&gt;
  &lt;&lt;else&gt;&gt;
    &lt;th class = &quot;listing&quot; colspan = 34&gt;[[Advanced|Hypnotic Battle][$Hypnotism.page = &quot;Advanced&quot;]]&lt;/th&gt;
  &lt;&lt;/if&gt;&gt;
&lt;/tr&gt;

&lt;&lt;if $Hypnotism.page == &quot;Basic&quot;&gt;&gt;
  &lt;tr&gt;
    &lt;td class = &quot;nbleft&quot; colspan = 15&gt;[[Bimboism|Hypnotic Battle][$activeCharacter.fatigue.mental = Math.clamp($activeCharacter.fatigue.mental-1, 0, $activeCharacter.fatigue.max), $activeCharacter.hypno.bimbo = updateHypnoTrait($activeCharacter, $Hypnotism.incense, $activeCharacter.hypno.bimbo), $subtrainingtype = &quot;Bimboism&quot;]]&lt;/td&gt;
    &lt;td class = &quot;nbright&quot; colspan = 18&gt;&lt;&lt;statbar $activeCharacter.hypno.bimbo 100&gt;&gt;&lt;/td&gt;
    &lt;td class = &quot;nbleft&quot; colspan = 15&gt;[[Cum Mania|Hypnotic Battle][$activeCharacter.fatigue.mental = Math.clamp($activeCharacter.fatigue.mental-1, 0, $activeCharacter.fatigue.max), $activeCharacter.hypno.cum = updateHypnoTrait($activeCharacter, $Hypnotism.incense, $activeCharacter.hypno.cum), $subtrainingtype = &quot;Cum Mania&quot;]]&lt;/td&gt;
    &lt;td class = &quot;nbright&quot; colspan = 18&gt;&lt;&lt;statbar $activeCharacter.hypno.cum 100&gt;&gt;&lt;/td&gt;
    &lt;td class = &quot;nbleft&quot; colspan = 15&gt;[[Masochism|Hypnotic Battle][$activeCharacter.fatigue.mental = Math.clamp($activeCharacter.fatigue.mental-1, 0, $activeCharacter.fatigue.max), $activeCharacter.hypno.masochism = updateHypnoTrait($activeCharacter, $Hypnotism.incense, $activeCharacter.hypno.masochism), $subtrainingtype = &quot;Masochism&quot;]]&lt;/td&gt;
    &lt;td class = &quot;nbright&quot; colspan = 19&gt;&lt;&lt;statbar $activeCharacter.hypno.masochism 100&gt;&gt;&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
    &lt;td class = &quot;notop&quot; colspan = 33&gt;Hypnotize $activeCharacter.name into becoming an empty-headed sex object.&lt;/td&gt;
    &lt;td class = &quot;notop&quot; colspan = 33&gt;Hypnotize $activeCharacter.name into loving any kind of genital ejaculate.&lt;/td&gt;
    &lt;td class = &quot;notop&quot; colspan = 34&gt;Hypnotize $activeCharacter.name into feeling all kinds of pain as pleasure.&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
    &lt;td class = &quot;nbleft&quot; colspan = 15&gt;[[Sadism|Hypnotic Battle][$activeCharacter.fatigue.mental = Math.clamp($activeCharacter.fatigue.mental-1, 0, $activeCharacter.fatigue.max), $activeCharacter.hypno.sadism = updateHypnoTrait($activeCharacter, $Hypnotism.incense, $activeCharacter.hypno.sadism), $subtrainingtype = &quot;Sadism&quot;]]&lt;/td&gt;
    &lt;td class = &quot;nbright&quot; colspan = 18&gt;&lt;&lt;statbar $activeCharacter.hypno.sadism 100&gt;&gt;&lt;/td&gt;
    &lt;td class = &quot;nbleft&quot; colspan = 15&gt;[[Muscle Minded|Hypnotic Battle][$activeCharacter.fatigue.mental = Math.clamp($activeCharacter.fatigue.mental-1, 0, $activeCharacter.fatigue.max), $activeCharacter.hypno.muscle = updateHypnoTrait($activeCharacter, $Hypnotism.incense, $activeCharacter.hypno.muscle), $subtrainingtype = &quot;Muscle Minded&quot;]]&lt;/td&gt;
    &lt;td class = &quot;nbright&quot; colspan = 18&gt;&lt;&lt;statbar $activeCharacter.hypno.muscle 100&gt;&gt;&lt;/td&gt;
    &lt;td class = &quot;nbleft&quot; colspan = 15&gt;[[Autozoophilia|Hypnotic Battle][$activeCharacter.fatigue.mental = Math.clamp($activeCharacter.fatigue.mental-1, 0, $activeCharacter.fatigue.max), $activeCharacter.hypno.domesticated = updateHypnoTrait($activeCharacter, $Hypnotism.incense, $activeCharacter.hypno.domesticated), $subtrainingtype = &quot;Autozoophilia&quot;]]&lt;/td&gt;
    &lt;td class = &quot;nbright&quot; colspan = 19&gt;&lt;&lt;statbar $activeCharacter.hypno.domesticated 100&gt;&gt;&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
    &lt;td class = &quot;notop&quot; colspan = 33&gt;Hypnotize $activeCharacter.name into loving inflicting pain on others.&lt;/td&gt;
    &lt;td class = &quot;notop&quot; colspan = 33&gt;Hypnotize $activeCharacter.name into becoming an empty-headed gym rat.&lt;/td&gt;
    &lt;td class = &quot;notop&quot; colspan = 34&gt;Hypnotize $activeCharacter.name into being aroused when acting like an animal.&lt;/td&gt;
  &lt;/tr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Hypnotism.page == &quot;Intermediate&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Hypnotism.page == &quot;Advanced&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="176" name="Slave Update" tags="nobr" position="358,1163" size="100,100">&lt;&lt;if !$endweek&gt;&gt;
	&lt;center&gt;&lt;h3&gt;Slave Update&lt;/h3&gt;&lt;/center&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;for _u = 0; _u &lt; $activeCharacter.update.length;_u++&gt;&gt;
	&lt;&lt;if _u != 0&gt;&gt;
		&lt;br&gt;&lt;br&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;print $activeCharacter.update[_u]&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;set $activeCharacter.update = []&gt;&gt;
&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="177" name="auction" tags="" position="800,1673" size="100,100">sell slave to aucitoning, require deposit, 1000
slave is take, auction price decided
price reflected by brand popularity, shown by audience reaction
auction will happen in 4 weeks, end of turn
random amount of players chosen for auction, all random bidding highs
1 char has slave auction bidding high
once bidding high reached for a player (going once, going 2)</tw-passagedata><tw-passagedata pid="178" name="HypnoCheck" tags="nobr" position="4594,98" size="100,100">&lt;center&gt;&lt;h3&gt;Hypnosis Summary - $subtrainingtype&lt;/h3&gt;&lt;/center&gt;&lt;br&gt;

&lt;&lt;if $subtitles.includes($activeCharacter.title)&gt;&gt;
	&lt;b&gt;@@color:forestgreen;$activeCharacter.name&#39;s title has granted &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a 20% boost to hypnosis gains.@@&lt;/b&gt;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

You burn a stick of $Hypnotism.incense.name, putting $activeCharacter.name into a deep hypnotic sleep. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; subconscious thoughts are now under your guidance. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wakes up, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will have no recollection of what happened while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was asleep but all suggestions and training will have a lasting affect on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; consciousness, especially over multiple sessions.</tw-passagedata><tw-passagedata pid="179" name="Masochist Check" tags="nobr" position="3879,99" size="100,100">&lt;&lt;if $masochisttitles.includes($activeCharacter.title)&gt;&gt;
	&lt;&lt;set _mood--&gt;&gt;
	&lt;b&gt;@@color:forestgreen;$activeCharacter.name&#39;s title has lessened the effect this punishment will have on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; mood.@@&lt;/b&gt;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="180" name="Hypnotism Results" tags="nobr" position="4464,99" size="100,100">&lt;&lt;if _trait &lt; 25&gt;&gt;
	&#39;&#39;@@color:red;$activeCharacter.name is visibly resistant to your hypnotic suggestions. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; bucks and writhes in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chair, shaking &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head in denial at your hypnotic suggestions.@@&#39;&#39;

&lt;&lt;elseif _trait &lt; 50&gt;&gt;
	&#39;&#39;@@color:orange;$activeCharacter.name whimpers small protests against your hypnotic suggestions even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is in a trance. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; hasn’t been hypnotized enough to subscribe to that train of thought.@@&#39;&#39;

&lt;&lt;elseif _trait &lt; 75&gt;&gt;
	&#39;&#39;@@color:yellow;$activeCharacter.name doesn’t seem to fight your hypnotic suggestions but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn’t receptive to them either. Nevertheless, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is still being affected by your suggestions.@@&#39;&#39;

&lt;&lt;elseif _trait &lt; 100&gt;&gt;
	&#39;&#39;@@color:greenyellow;$activeCharacter.name is calmed by your hypnotic suggestions. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; calmly listens to your hypnotic suggestions, &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;ing affirmatively throughout the session.@@&#39;&#39;

&lt;&lt;elseif _trait == 100&gt;&gt;
	&#39;&#39;@@color:forestgreen;$activeCharacter.name falls into a state of serenity from hearing your hypnotic suggestions, as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; resonates deeply with your words.@@&#39;&#39;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="181" name="Slaver Guild" tags="nobr noreturn" position="137,2378" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Guilds&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;unset $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set $regfee = 10000&gt;&gt;

&lt;center&gt;&lt;h2&gt;Slavers Guild&lt;/h2&gt;&lt;/center&gt;

You walk into the heavily guarded guild building. There are a couple guild assistants standing at the counter ready to help people. To the left of the counter is a large billboard with various contracts for trained slaves. To the right there is a few people sitting around in the guild’s lounge.

&lt;&lt;if $PC.guild.slaver.rankup&gt;&gt;
	&lt;&lt;set $PC.money -= $rankupFee&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.exp -= $PC.guild.slaver.maxexp&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.rank++&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.grade = $newGrade&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.maxexp = $GuildEXP[$PC.guild.slaver.rank]&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.exp += $PC.guild.slaver.excess&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.contractmax = $newCap&gt;&gt;
	&lt;&lt;set $rankupFee = null&gt;&gt;
	&lt;&lt;set $newGrade = null&gt;&gt;
	&lt;&lt;set $newCap = null&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.rankup = 0&gt;&gt;
	&lt;&lt;set _an = AvsAn.query($PC.guild.slaver.grade)&gt;&gt;
	&lt;&lt;set $Guilds.Slaver.Slums.Week = 0&gt;&gt;
	
	&lt;&lt;include &quot;Guilds&quot;&gt;&gt;
	
	&lt;br&gt;&lt;br&gt;
	@@color:forestgreen;&#39;&#39;You have been registered as _an $PC.guild.slaver.grade rank slaver in the 
	Slavers Guild. You can now take up to $PC.guild.slaver.contractmax contracts at a time instead of &lt;&lt;print $PC.guild.slaver.contractmax-1&gt;&gt;.&#39;&#39;@@
	
	&lt;&lt;switch $PC.guild.slaver.grade&gt;&gt;
		&lt;&lt;case &quot;D&quot;&gt;&gt;
			@@color:forestgreen;&#39;&#39;You can now purchase Elixirs from Olyssa&#39;s Atelier.&#39;&#39;@@
		
		&lt;&lt;case &quot;C&quot;&gt;&gt;
			@@color:forestgreen;&#39;&#39;You can now purchase Greater Elixirs from Olyssa&#39;s Atelier.&#39;&#39;@@
		
		&lt;&lt;case &quot;B&quot;&gt;&gt;
			@@color:forestgreen;&#39;&#39;You can now purchase Grand Elixirs from Olyssa&#39;s Atelier.&#39;&#39;@@
		
		&lt;&lt;case &quot;A&quot;&gt;&gt;
			@@color:forestgreen;&#39;&#39;You can now purchase Sovereign Elixirs from Olyssa&#39;s Atelier.&#39;&#39;@@
		
		&lt;&lt;case &quot;S&quot;&gt;&gt;
			@@color:forestgreen;&#39;&#39;&#39;&#39;@@
	
	&lt;&lt;/switch&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $completedContract&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;set $PC.money += $completedContract.reward&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.exp += $completedContract.exp&gt;&gt;
	&lt;&lt;set _textexp = &quot;&lt;&lt;print Math.round10(&quot; + ($completedContract.exp / $PC.guild.slaver.maxexp) * 100 + &quot;, -2)&gt;&gt;%&quot;&gt;&gt;
	@@color:forestgreen;You have completed a $completedContract.difficulty $PC.guild.slaver.grade-rank contract, earning you @@&lt;b&gt;@@color:lightgreen;💎&lt;&lt;print commify($completedContract.reward)&gt;&gt;@@&lt;/b&gt;@@color:forestgreen; and &lt;b&gt;_textexp EXP&lt;/b&gt;.@@
	&lt;&lt;unset $completedContract&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.guild.slaver.exp &gt;= $PC.guild.slaver.maxexp&gt;&gt;
	&lt;&lt;set _startingRank = $PC.guild.slaver.rank&gt;&gt;
	&lt;&lt;set _reward = 0&gt;&gt;
	
	&lt;&lt;for $PC.guild.slaver.exp &gt;= $PC.guild.slaver.maxexp&gt;&gt;
		&lt;&lt;if [&quot;E-1&quot;, &quot;D-1&quot;, &quot;C-1&quot;, &quot;B-1&quot;, &quot;A-1&quot;].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
			&lt;&lt;set $PC.guild.slaver.excess += $PC.guild.slaver.exp - $PC.guild.slaver.maxexp&gt;&gt;
			&lt;&lt;set $PC.guild.slaver.exp = $PC.guild.slaver.maxexp&gt;&gt;
			&lt;&lt;break&gt;&gt;
		
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set $PC.guild.slaver.exp -= $PC.guild.slaver.maxexp&gt;&gt;
			&lt;&lt;set $PC.guild.slaver.rank++&gt;&gt;
			&lt;&lt;set $PC.guild.slaver.maxexp = $GuildEXP[$PC.guild.slaver.rank]&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
	
	&lt;&lt;set _anOne = AvsAn.query($GuildRankings[_startingRank])&gt;&gt;
	&lt;&lt;set _anTwo = AvsAn.query($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
	
	&lt;&lt;if $GuildRankings[_startingRank] != $GuildRankings[$PC.guild.slaver.rank]&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		@@color:forestgreen;&#39;&#39;You have ranked up from _anOne &lt;&lt;print $GuildRankings[_startingRank]&gt;&gt; slaver to _anTwo &lt;&lt;print $GuildRankings[$PC.guild.slaver.rank]&gt;&gt; slaver.&#39;&#39;@@
		
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $contractSlave&gt;&gt;
	&lt;&lt;set $activeCharacter = $contractSlave&gt;&gt;
	&lt;&lt;include &quot;Move Slave&quot;&gt;&gt;
	&lt;&lt;unset $contractSlave&gt;&gt;
	&lt;&lt;unset $activeCharacter&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $Registration&gt;&gt;
	&lt;&lt;set $Registration = null&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.rank = 1&gt;&gt;
	&lt;&lt;set $PC.money -= $regfee&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	@@color:forestgreen;&#39;&#39;You have registered as an Rank E-3 Slaver in the 
	Slavers Guild. You can now purchase Lesser Elixirs from Olyssa&#39;s Atelier.&#39;&#39;@@

&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.guild.slaver.rank&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;include &quot;Slaver Registration&quot;&gt;&gt;

&lt;&lt;elseif $PC.guild.slaver.exp == $PC.guild.slaver.maxexp&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;include &quot;Slaver Rankup&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.guild.slaver.contract.length&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;include &quot;Slaver Contracts&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.guild.slaver.rank&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;include &quot;Slaver Posting&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="182" name="Guilds" tags="nobr" position="136,2008" size="100,100">&lt;&lt;if !$Guilds&gt;&gt;
	&lt;&lt;set $Guild = {type:null, loc:null}&gt;&gt;
	&lt;&lt;set $Guilds = {Slaver:&quot;&quot;}&gt;&gt;
	&lt;&lt;set $Guilds.Slaver = {Slums:&quot;&quot;}&gt;&gt;
	&lt;&lt;set $Guilds.Slaver.Slums = {Requests:&quot;&quot;, Week:0}&gt;&gt;
	&lt;&lt;set $Guilds.Slaver.Slums.Requests = {}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $eRankTitles = [&quot;Cumsar&quot;, &quot;Domesticated&quot;, &quot;Dominant&quot;, &quot;Feminine&quot;, &quot;Masculine&quot;, &quot;Masochist&quot;, &quot;Sadist&quot;, &quot;Sissy&quot;, &quot;Slut&quot;, &quot;Submissive&quot;, &quot;Superjock&quot;, &quot;Slut&quot;]&gt;&gt;

&lt;&lt;set $dRankTitles = [&quot;Cumsar&quot;, &quot;Domesticated&quot;, &quot;Dominant&quot;, &quot;Feminine&quot;, &quot;Masculine&quot;, &quot;Masochist&quot;, &quot;Sadist&quot;, &quot;Sissy&quot;, &quot;Slut&quot;, &quot;Submissive&quot;, &quot;Superjock&quot;, &quot;Slut&quot;]&gt;&gt;

&lt;&lt;set $cRankTitles = [&quot;Bimboy&quot;, &quot;Confident Slave&quot;, &quot;Domesticated Bitch&quot;, &quot;Feminine Bimbo&quot;, &quot;Feminine Sissy&quot;, &quot;Femme Sub&quot;, &quot;Gigolo&quot;, &quot;Loyal Slave&quot;, &quot;Man Eater&quot;, &quot;Masculine Bottom&quot;, &quot;Masculine Top&quot;, &quot;Muscle Bimbo&quot;, &quot;Trustful Slave&quot;, &quot;Sex Slave&quot;, &quot;Switch&quot;]&gt;&gt;

&lt;&lt;set $bRankTitles = [&quot;Dominatrix&quot;, &quot;Feminine Sissy Bimbo&quot;, &quot;Incubus&quot;, &quot;Masculine Muscle Bimbo&quot;, &quot;Muscle Bitch&quot;, &quot;Perfect Slave&quot;, &quot;Sissy Slut&quot;, &quot;Succubus&quot;]&gt;&gt;

&lt;&lt;set $aRankTitles = [&quot;Sissy Slut Bimbo&quot;]&gt;&gt;

&lt;&lt;set $sRankTitles = []&gt;&gt;

&lt;&lt;set $SlaverGuildRewards = [null, 0, 25000, 50000, &quot;D-3&quot;, 50000, 100000, &quot;C-3&quot;, 100000, 200000, &quot;B-3&quot;, 200000, 400000, &quot;A-3&quot;, 400000, 800000, &quot;S&quot;]&gt;&gt;

&lt;&lt;set $GuildEXP = [null, &quot;100&quot;, &quot;150&quot;, &quot;200&quot;, &quot;400&quot;, &quot;600&quot;, &quot;800&quot;, &quot;1100&quot;, &quot;1425&quot;, &quot;1800&quot;, &quot;2220&quot;, &quot;2680&quot;, &quot;3200&quot;, &quot;3800&quot;, &quot;4400&quot;, &quot;5000&quot;]&gt;&gt;

&lt;&lt;set $GuildRankings = [null, &quot;E-3&quot;, &quot;E-2&quot;, &quot;E-1&quot;, &quot;D-3&quot;, &quot;D-2&quot;, &quot;D-1&quot;, &quot;C-3&quot;, &quot;C-2&quot;, &quot;C-1&quot;, &quot;B-3&quot;, &quot;B-2&quot;, &quot;B-1&quot;, &quot;A-3&quot;, &quot;A-2&quot;, &quot;A-1&quot;, &quot;S&quot;]&gt;&gt;

&lt;&lt;if $Guild.loc == &quot;Slums&quot; &amp;&amp; $Guild.type == &quot;Slaver&quot; &amp;&amp; $Guilds.Slaver.Slums.Week != $weekcount&gt;&gt;
	&lt;&lt;include &quot;Spawn Slaver Requests&quot;&gt;&gt;
	&lt;&lt;set $Guilds.Slaver.Slums.Requests = []&gt;&gt;
  &lt;&lt;set $Guilds.Slaver.Slums.Requests = _requests.slice(0)&gt;&gt;
	&lt;&lt;set $Guilds.Slaver.Slums.Week = $weekcount&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="183" name="Spawn Slaver Requests" tags="nobr" position="397,2378" size="100,100">&lt;&lt;set _requests = []&gt;&gt;
&lt;&lt;set _request = {}&gt;&gt;
  
&lt;&lt;set _basegrade = 0&gt;&gt;
&lt;&lt;set _easyrequests = 0&gt;&gt;
&lt;&lt;set _mediumrequests = 0&gt;&gt;
&lt;&lt;set _hardrequests = 0&gt;&gt;
&lt;&lt;set _virtue = 0&gt;&gt;
&lt;&lt;set _titlelist = null&gt;&gt;

&lt;&lt;switch $PC.guild.slaver.grade&gt;&gt;
  &lt;&lt;case &quot;E&quot;&gt;&gt;
    &lt;&lt;set _titlelist = $eRankTitles&gt;&gt;
    &lt;&lt;set _basegrade = 1&gt;&gt;
    &lt;&lt;set _virtue = 20&gt;&gt;
    
  &lt;&lt;case &quot;D&quot;&gt;&gt;
    &lt;&lt;set _titlelist = $dRankTitles&gt;&gt;
    &lt;&lt;set _basegrade = 2&gt;&gt;
    &lt;&lt;set _virtue = 40&gt;&gt;
  
  &lt;&lt;case &quot;C&quot;&gt;&gt;
    &lt;&lt;set _titlelist = $cRankTitles&gt;&gt;
    &lt;&lt;set _basegrade = 3&gt;&gt;
    &lt;&lt;set _virtue = 40&gt;&gt;
  
  &lt;&lt;case &quot;B&quot;&gt;&gt;
    &lt;&lt;set _titlelist = $bRankTitles&gt;&gt;
    &lt;&lt;set _basegrade = 4&gt;&gt;
    &lt;&lt;set _virtue = 60&gt;&gt;
  
  &lt;&lt;case &quot;A&quot;&gt;&gt;
    &lt;&lt;set _titlelist = $aRankTitles&gt;&gt;
    &lt;&lt;set _basegrade = 5&gt;&gt;
    &lt;&lt;set _virtue = 60&gt;&gt;
  
  &lt;&lt;case &quot;S&quot;&gt;&gt;
    &lt;&lt;set _titlelist = $sRankTitles&gt;&gt;
    &lt;&lt;set _basegrade = 6&gt;&gt;
    &lt;&lt;set _virtue = 80&gt;&gt;
  
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if [&quot;E-3&quot;, &quot;D-3&quot;, &quot;C-3&quot;, &quot;B-3&quot;, &quot;A-3&quot;, null].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
  &lt;&lt;set _easyrequests = 9&gt;&gt;
  &lt;&lt;set _mediumrequests = 6&gt;&gt;
  &lt;&lt;set _hardrequests = 3&gt;&gt;

&lt;&lt;elseif [&quot;E-2&quot;, &quot;D-2&quot;, &quot;C-2&quot;, &quot;A-2&quot;, &quot;S&quot;].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
  &lt;&lt;set _easyrequests = 6&gt;&gt;
  &lt;&lt;set _mediumrequests = 6&gt;&gt;
  &lt;&lt;set _hardrequests = 6&gt;&gt;
  
&lt;&lt;elseif [&quot;E-1&quot;, &quot;D-1&quot;, &quot;C-1&quot;, &quot;B-1&quot;, &quot;A-1&quot;].contains($GuildRankings[$PC.guild.slaver.rank])&gt;&gt;
  &lt;&lt;set _easyrequests = 3&gt;&gt;
  &lt;&lt;set _mediumrequests = 6&gt;&gt;
  &lt;&lt;set _hardrequests = 9&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;for _r = 0; _r &lt; 18;_r++&gt;&gt;
  &lt;&lt;if _easyrequests&gt;&gt;
    &lt;&lt;set _easyrequests--&gt;&gt;
    &lt;&lt;set _request.difficulty = &quot;Easy&quot;&gt;&gt;
  
  &lt;&lt;elseif _mediumrequests&gt;&gt;
    &lt;&lt;set _mediumrequests--&gt;&gt;
    &lt;&lt;set _request.difficulty = &quot;Medium&quot;&gt;&gt;
    
  &lt;&lt;elseif _hardrequests&gt;&gt;
    &lt;&lt;set _hardrequests--&gt;&gt;
    &lt;&lt;set _request.difficulty = &quot;Hard&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
	&lt;&lt;if _request.difficulty == &quot;Easy&quot;&gt;&gt;
		&lt;&lt;set _request.time = 20&gt;&gt;
		&lt;&lt;set _request.reward = 25000&gt;&gt;
		&lt;&lt;set _request.exp = 100&gt;&gt;

	&lt;&lt;elseif _request.difficulty == &quot;Medium&quot;&gt;&gt;
		&lt;&lt;set _request.time = 15&gt;&gt;
		&lt;&lt;set _request.reward = 50000&gt;&gt;
		&lt;&lt;set _request.exp = 150&gt;&gt;

	&lt;&lt;elseif _request.difficulty == &quot;Hard&quot;&gt;&gt;
		&lt;&lt;set _request.time = 10&gt;&gt;
		&lt;&lt;set _request.reward = 75000&gt;&gt;
		&lt;&lt;set _request.exp = 200&gt;&gt;

	&lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set $slavetemplate = $PC.guild.slaver.grade&gt;&gt;
  &lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
  &lt;&lt;set _request.slave = _character&gt;&gt;
  &lt;&lt;set _request.slave.contract = &quot;Slaver Guild&quot;&gt;&gt;
  
  &lt;&lt;set _request.race = either(&quot;hume&quot;, &quot;elf&quot;, &quot;beastman&quot;)&gt;&gt;
  
  &lt;&lt;if _request.race == &quot;elf&quot;&gt;&gt;
    &lt;&lt;set _request.name = either($elffemalenames, $elfmalenames)&gt;&gt;
  
  &lt;&lt;elseif _request.race == &quot;hume&quot; || _request.race == &quot;beastman&quot;&gt;&gt;
    &lt;&lt;set _request.name = either($femalenames, $malenames)&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _request.time *= (0.5 + (3 * (_basegrade / 6)))&gt;&gt;
  &lt;&lt;set _request.time = Math.round10(_request.time)&gt;&gt;
  &lt;&lt;set _request.reward *= _basegrade&gt;&gt;
  &lt;&lt;set _request.exp *= _basegrade&gt;&gt;
  &lt;&lt;set _request.reward = Math.round10(_request.reward, 2)&gt;&gt;
  &lt;&lt;set _request.grade = $PC.guild.slaver.grade&gt;&gt;
  &lt;&lt;set _request.virtue = _virtue&gt;&gt;
  
  &lt;&lt;set _maletitles = $sissytitles.slice(0)&gt;&gt;
  &lt;&lt;set _maletitles.push($healthtitles.slice(0))&gt;&gt;
  
  &lt;&lt;set _femaletitles = $pricetitles.slice(0)&gt;&gt;
  &lt;&lt;set _femaletitles.push($fatiguetitles.slice(0))&gt;&gt;
  
  &lt;&lt;for _request.title == null&gt;&gt;
    &lt;&lt;set _request.title = _titlelist.random()&gt;&gt;
    &lt;&lt;if (_maletitles.contains(_request.title) &amp;&amp; _request.slave.sex == &quot;female&quot;) || (_femaletitles.contains(_request.title) &amp;&amp; _request.slave.sex == &quot;male&quot;)&gt;&gt;
      &lt;&lt;set _index = null&gt;&gt;
      &lt;&lt;set _index = _titlelist.indexOf(_request.title)&gt;&gt;
      &lt;&lt;set _titlelist.splice(_index, 1)&gt;&gt;
      &lt;&lt;set _request.title = null&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/for&gt;&gt;

	&lt;&lt;set _requests.push(_request)&gt;&gt;
	&lt;&lt;set _request = {}&gt;&gt;
&lt;&lt;/for&gt;&gt;</tw-passagedata><tw-passagedata pid="184" name="Slaver Posting" tags="nobr" position="527,2377" size="100,100">&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
  &lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 2&gt;&lt;h3&gt;~Request Board~&lt;/h3&gt;&lt;/th&gt;&lt;/tr&gt;
  &lt;&lt;for _r=0;_r &lt; $Guilds.Slaver.Slums.Requests.length;_r++&gt;&gt;
    &lt;&lt;set _request = $Guilds.Slaver.Slums.Requests[_r]&gt;&gt;
    &lt;&lt;set _color = null&gt;&gt;
    
    &lt;&lt;if _request.difficulty == &quot;Easy&quot;&gt;&gt;
      &lt;&lt;set _color = &quot;forestgreen&quot;&gt;&gt;
    
    &lt;&lt;elseif _request.difficulty == &quot;Medium&quot;&gt;&gt;
      &lt;&lt;set _color = &quot;yellow&quot;&gt;&gt;
    
    &lt;&lt;elseif _request.difficulty == &quot;Hard&quot;&gt;&gt;
      &lt;&lt;set _color = &quot;red&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _textexp = &quot;&lt;&lt;print Math.round10(&quot; + (_request.exp / $PC.guild.slaver.maxexp) * 100 + &quot;, -2)&gt;&gt;%&quot;&gt;&gt;
    
    &lt;tr&gt;&lt;td class = &quot;contract&quot; colspan = 2&gt;
    &lt;&lt;if $PC.guild.slaver.contract.length &gt;= $PC.guild.slaver.contractmax&gt;&gt;
      &lt;b&gt;Aquire Contract @@color:red;[Max Contracts Taken]@@&lt;/b&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Difficulty:&lt;/b&gt; _request.difficulty@@&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Time Limit:&lt;/b&gt; _request.time Weeks&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;EXP:&lt;/b&gt; _textexp&quot;&gt;&gt; | @@color:lightgreen;&lt;b&gt;Reward:&lt;/b&gt; 💎&lt;&lt;print commify(_request.reward)&gt;&gt;@@
      
    &lt;&lt;elseif $estate.pop &gt;= $estate.cap&gt;&gt;
      &lt;b&gt;Aquire Contract @@color:red;[Estate Capacity Full]@@&lt;b&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Difficulty:&lt;/b&gt; _request.difficulty@@&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Time Limit:&lt;/b&gt; _request.time Weeks&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;EXP:&lt;/b&gt; _textexp&quot;&gt;&gt; | @@color:lightgreen;&lt;b&gt;Reward:&lt;/b&gt; 💎&lt;&lt;print commify(_request.reward)&gt;&gt;@@
      
    &lt;&lt;else&gt;&gt;
      &lt;b&gt;&lt;&lt;print &quot;[[Acquire Contract|Slaver Guild][_character = $Guilds.Slaver.Slums.Requests[&quot; + _r + &quot;].slave, addSlave(_character), $PC.guild.slaver.contract.push($Guilds.Slaver.Slums.Requests[&quot; + _r + &quot;]), $Guilds.Slaver.Slums.Requests.splice(&quot; + _r + &quot;, 1)]]&quot;&gt;&gt;&lt;/b&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Difficulty:&lt;/b&gt; _request.difficulty@@&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Time Limit:&lt;/b&gt; _request.time Weeks&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;EXP:&lt;/b&gt; _textexp&quot;&gt;&gt; | @@color:lightgreen;&lt;b&gt;Reward:&lt;/b&gt; 💎&lt;&lt;print commify(_request.reward)&gt;&gt;@@
    
    &lt;&lt;/if&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    _request.name the _request.race has put up a request for someone to train &lt;&lt;print &quot;[[_request.slave.name|Slaver Slave Description][$activeCharacter = $Guilds.Slaver.Slums.Requests[&quot; + _r + &quot;].slave]]&quot;&gt;&gt; to become a &lt;&lt;displayTitle _request.title &quot;title&quot;&gt;&gt; titled slave who is no less than &lt;&lt;print getObedience(_request.virtue)&gt;&gt;, &lt;&lt;print getTrust(_request.virtue)&gt;&gt; and &lt;&lt;print getFear(100-_request.virtue)&gt;&gt;.
    &lt;br&gt;
    &lt;&lt;print &quot;[[_request.slave.name|Slaver Slave Description][$activeCharacter = $Guilds.Slaver.Slums.Requests[&quot; + _r + &quot;].slave]]&quot;&gt;&gt; &lt;&lt;gender _request.slave.sex _request.slave.gender&gt;&gt; is a &lt;&lt;print $maturity[_request.slave.maturity]&gt;&gt; &lt;&lt;race _request.slave.tribe &quot;Description&quot;&gt;&gt; slave who is &lt;&lt;print getObedience(_request.slave.obedience.current)&gt;&gt;, &lt;&lt;print getTrust(_request.slave.trust.current)&gt;&gt; and &lt;&lt;print getFear(_request.slave.fear.current)&gt;&gt;.
    &lt;/td&gt;&lt;/tr&gt;
  &lt;&lt;/for&gt;&gt;

&lt;/table&gt;</tw-passagedata><tw-passagedata pid="185" name="Modernize Slave" tags="nobr" position="488,1158" size="100,100">&lt;&lt;if !_character.combat&gt;&gt;
	&lt;&lt;set _character.combat = {stamina:null, arousal:null, libido:null, text:{}, stimulation:0}&gt;&gt;
	&lt;&lt;set _character.combat.stamina = {current:0, max:0}&gt;&gt;
	&lt;&lt;set _character.combat.arousal = {current:0, max:0}&gt;&gt;
	&lt;&lt;set _character.combat.libido = {current:0, max:0}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;Manual Sex&quot;, &quot;Oral Sex&quot;, &quot;Mammary Sex&quot;, &quot;Vanilla Sex&quot;, &quot;Anal Sex&quot;].includes(_character.training.discipline)&gt;&gt;
	&lt;&lt;set _character.training.discipline = &quot;Sex Education&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.stats.masculinization&gt;&gt;
	&lt;&lt;set _character.stats.masculinization = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.stats.chivalry&gt;&gt;
	&lt;&lt;set _character.stats.chivalry = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.stats.breeding&gt;&gt;
	&lt;&lt;set _character.stats.breeding = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.training&gt;&gt;
	&lt;&lt;set _character.training = {trainer:null, discipline:null, reward:{}, punishment:{}}&gt;&gt;
	&lt;&lt;set _character.training.reward = {small:null, normal:null, large:null}&gt;&gt;
	&lt;&lt;set _character.training.punishment = {small:null, normal:null, large:null}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.stats.oral == null&gt;&gt;
	&lt;&lt;set _character.stats.oral = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.stats.manual == null&gt;&gt;
	&lt;&lt;set _character.stats.manual = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.stats.mammary == null&gt;&gt;
	&lt;&lt;set _character.stats.mammary = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.stats.vanilla == null&gt;&gt;
	&lt;&lt;set _character.stats.vanilla = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.stats.anal == null&gt;&gt;
	&lt;&lt;set _character.stats.anal = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run modernizeSexSkills(_character)&gt;&gt;

&lt;&lt;if _character.location == &quot;unassigned&quot;&gt;&gt;
	&lt;&lt;set _character.location = &quot;estate&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.haircolor&gt;&gt;
	&lt;&lt;set _haircolors = [&quot;black&quot;, &quot;brown&quot;, &quot;red&quot;, &quot;blonde&quot;, &quot;pink&quot;, &quot;purple&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;silver&quot;, &quot;white&quot;]&gt;&gt;
	&lt;&lt;set _character.haircolor = _haircolors.random()&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.race == &quot;elf&quot; &amp;&amp; !_character.virgin&gt;&gt;
	&lt;&lt;set _character.nectaring.permanent = 1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.tribe == &quot;minotaur&quot; &amp;&amp; [&quot;female&quot;, &quot;futanari&quot;].contains(_character.combat)&gt;&gt;
	&lt;&lt;set _character.tribe = &quot;holstaur&quot;&gt;&gt;
	
&lt;&lt;elseif _character.tribe == &quot;holstaur&quot; &amp;&amp; [&quot;male&quot;, &quot;shemale&quot;].contains(_character.combat)&gt;&gt;
	&lt;&lt;set _character.tribe = &quot;minotaur&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.assignment == &quot;whore&quot;&gt;&gt;
	&lt;&lt;set _character.assignment = &quot;brothel&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.occupation == &quot;never a free person&quot; &amp;&amp; _character.origin != &quot;$activeCharacter.name&#39;s parents were both slaves to you when they gave birth to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;&gt;&gt;
	&lt;&lt;set _character.origin = &quot;$activeCharacter.name&#39;s parents were both slaves to you when they gave birth to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.trust&gt;&gt;
	&lt;&lt;set _character.trust = {current:_character.pride.current, base:_character.pride.base, mood:_character.pride.mood, bonus:_character.pride.bonus, multi:_character.pride.multi}&gt;&gt;
	&lt;&lt;set _character.pride = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.skills&gt;&gt;
	&lt;&lt;set _character.skills = {}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.position &amp;&amp; _character.location == &quot;brothel&quot;&gt;&gt;
	&lt;&lt;if [&quot;Open&quot;, null].contains($estate.brothel.style)&gt;&gt;
		&lt;&lt;set _character.position = &quot;Prostitute&quot;&gt;&gt;

	&lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
		&lt;&lt;set _character.position = &quot;Attendant&quot;&gt;&gt;

	&lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
		&lt;&lt;set _character.position = &quot;Host&quot;&gt;&gt;

	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.history&gt;&gt;
	&lt;&lt;set _character.history = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.eventlog&gt;&gt;
	&lt;&lt;set _character.eventlog = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$compendium.races.contains(_character.tribe) &amp;&amp; _character.origin&gt;&gt;
	&lt;&lt;run addRacePage(_character)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$compendium.natures.contains(_character.nature) &amp;&amp; _character.origin&gt;&gt;
	&lt;&lt;run addNaturePage(_character)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if Number.isInteger(_character.hypno.masochism.current) || Number.isInteger(_character.hypno.cum.current) || Number.isInteger(_character.hypno.bimbo.current)&gt;&gt;
	&lt;&lt;set _character.hypno = {bimbo:_character.hypno.bimbo.current, cum:_character.hypno.cum.current, masochism:_character.hypno.masochism.current, sadism:0, muscle:0, domesticated:0}&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.legs&gt;&gt;
	&lt;&lt;set _character.legs = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;moon rabbit&quot;, &quot;high elf&quot;, &quot;dark elf&quot;, &quot;pantheran&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.legs.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;forest elf&quot;, &quot;neko&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.legs.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;goblin&quot;, &quot;dwarf&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.legs.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.legs.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.legs.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set _character.legs.base = _character.legs.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.torso&gt;&gt;
	&lt;&lt;set _character.torso = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;dwarf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;, &quot;orc&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.torso.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;canus&quot;, &quot;dark elf&quot;, &quot;giant&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.torso.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;neko&quot;, &quot;forest elf&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.torso.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;pantheran&quot;, &quot;gnome&quot;, &quot;high elf&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.torso.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.torso.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set _character.torso.base = _character.torso.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.hips&gt;&gt;
	&lt;&lt;set _character.hips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;holstaur&quot;, &quot;dark elf&quot;, &quot;pantheran&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.hips.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;orc&quot;, &quot;neko&quot;, &quot;gnome&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.hips.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;canus&quot;, &quot;forest elf&quot;, &quot;dwarf&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.hips.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;high elf&quot;, &quot;mongrel&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.hips.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.hips.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set _character.hips.base = _character.hips.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.shoulders&gt;&gt;
	&lt;&lt;set _character.shoulders = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;, &quot;dwarf&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;mongrel&quot;, &quot;goblin&quot;, &quot;canus&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;forest elf&quot;, &quot;dark elf&quot;, &quot;high elf&quot;, &quot;neko&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;pantheran&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.shoulders.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set _character.shoulders.base = _character.shoulders.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_character.lips&gt;&gt;
	&lt;&lt;set _character.lips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;dark elf&quot;, &quot;orc&quot;, &quot;holstaur&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.lips.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;canus&quot;, &quot;mongrel&quot;, &quot;giant&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.lips.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;, &quot;neko&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.lips.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;pantheran&quot;, &quot;goblin&quot;].contains(_character.tribe)&gt;&gt;
		&lt;&lt;set _character.lips.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _character.lips.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set _character.lips.base = _character.lips.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.obedience.base == null || _character.trust.base == null || _character.fear.base == null&gt;&gt;
	&lt;&lt;set _tempObedience = _character.obedience&gt;&gt;
	&lt;&lt;set _tempTrust = _character.trust&gt;&gt;
	&lt;&lt;set _tempFear = _character.fear&gt;&gt;
	
	&lt;&lt;set _character.obedience = {current:0, base: _tempObedience, mood:0, bonus:0, multi:1}&gt;&gt;
	&lt;&lt;set _character.trust = {current:0, base: _tempTrust, mood:0, bonus:0, multi:1}&gt;&gt;
	&lt;&lt;set _character.fear = {current:100, base: _tempFear, mood:0, bonus:0, multi:1}&gt;&gt;
	
	&lt;&lt;run refreshObedience(_character)&gt;&gt;
	&lt;&lt;run refreshTrust(_character)&gt;&gt;
	&lt;&lt;run refreshFear(_character)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.traits.list == null&gt;&gt;
	&lt;&lt;set _character.traits.list = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.mood.scale == null || _character.mood.current == null&gt;&gt;
	&lt;&lt;set _character.mood = {scale:&quot;Happiness&quot;, current:50}&gt;&gt;
	&lt;&lt;run updateMood(_character)&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="186" name="Request Widget" tags="widget nobr" position="1620,571" size="100,100">&lt;&lt;widget &quot;Request&quot;&gt;&gt;

&lt;&lt;if $args[0] == &quot;E&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;gray&quot;&gt;&gt;
	
&lt;&lt;elseif $args[0] == &quot;D&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;green&quot;&gt;&gt;
	
&lt;&lt;elseif $args[0] == &quot;C&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;#3333ff&quot;&gt;&gt;
	
&lt;&lt;elseif $args[0] == &quot;B&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;#6600cc&quot;&gt;&gt;
	
&lt;&lt;elseif $args[0] == &quot;A&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;#EEE8AA&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;$args[0]-Rank@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;if $args[1] == &quot;Easy&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;green&quot;&gt;&gt;
	
&lt;&lt;elseif $args[1] == &quot;Medium&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;yellow&quot;&gt;&gt;
	
&lt;&lt;elseif $args[1] == &quot;Hard&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

| &lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;$args[1] Difficulty@@&quot;&gt;&gt;&lt;/b&gt;

| &lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;$args[2] Weeks@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;set _color = &quot;lightgreen&quot;&gt;&gt;

| &lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;💎$args[3] Reward@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="187" name="Modernize PC" tags="nobr" position="745,1375" size="100,100">&lt;&lt;if $version != &quot;0.5.16.0&quot;&gt;&gt;
	&lt;&lt;set $version = &quot;0.5.16.0&quot;&gt;&gt;
	&lt;&lt;include &quot;Titles&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.combat&gt;&gt;
	&lt;&lt;set $PC.combat = {stamina:null, arousal:null, libido:null, text:{}, stimulation:0}&gt;&gt;
	&lt;&lt;set $PC.combat.stamina = {current:0, max:0}&gt;&gt;
	&lt;&lt;set $PC.combat.arousal = {current:0, max:0}&gt;&gt;
	&lt;&lt;set $PC.combat.libido = {current:0, max:0}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.stats.oral != 100&gt;&gt;
	&lt;&lt;set $PC.stats.oral = 100&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.stats.manual != 100&gt;&gt;
	&lt;&lt;set $PC.stats.manual = 100&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.stats.mammary != 100&gt;&gt;
	&lt;&lt;set $PC.stats.mammary = 100&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.stats.vanilla != 100&gt;&gt;
	&lt;&lt;set $PC.stats.vanilla = 100&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.stats.anal != 100&gt;&gt;
	&lt;&lt;set $PC.stats.anal = 100&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.stats.masculinization&gt;&gt;
	&lt;&lt;set $PC.stats.masculinization = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.stats.chivalry&gt;&gt;
	&lt;&lt;set $PC.stats.chivalry = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.stats.breeding&gt;&gt;
	&lt;&lt;set $PC.stats.breeding = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if ![&quot;Overview&quot;, &quot;Facilities&quot;, &quot;Discipline&quot;].contains($estate.page)&gt;&gt;
	&lt;&lt;set $main = {page:null}&gt;&gt;
	&lt;&lt;set $main.page = $estate.page&gt;&gt;
	&lt;&lt;set $estate.page = &quot;Overview&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$estate.facilities&gt;&gt;
	&lt;&lt;set $estate.facilities = {page:null, trainingroom:0, dungeon:0, training:null, hypnotherapy:null}&gt;&gt;
	&lt;&lt;set $estate.facilities.training = {implements:0, bedding:0, permit:0, rooms:1, trainers:[], trainer:null}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$compendium.combates&gt;&gt;
	&lt;&lt;set $compendium.combates = [&quot;Male&quot;, &quot;Female&quot;, &quot;Shemale&quot;, &quot;Futanari&quot;, &quot;Transgender&quot;]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $compendium.attributes != [&quot;Obedience&quot;, &quot;Trust&quot;, &quot;Fear&quot;]&gt;&gt;
	&lt;&lt;set $compendium.attributes = [&quot;Obedience&quot;, &quot;Trust&quot;, &quot;Fear&quot;]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $compendium.ages != [&quot;Young Adult&quot;, &quot;Adult&quot;, &quot;Mature&quot;]&gt;&gt;
	&lt;&lt;set $compendium.ages = [&quot;Young Adult&quot;, &quot;Adult&quot;, &quot;Mature&quot;]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$compendium.titles&gt;&gt;
	&lt;&lt;set $compendium.titles = [&quot;Common&quot;, &quot;Uncommon&quot;, &quot;Unique&quot;, &quot;Rare&quot;, &quot;Special&quot;]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.estateInfo == null&gt;&gt;
	&lt;&lt;set $summary.estateInfo = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.estateCap == null&gt;&gt;
	&lt;&lt;set $summary.estateCap = 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.location == &quot;unassigned&quot;&gt;&gt;
	&lt;&lt;set $PC.location = &quot;estate&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$GuildEXP&gt;&gt;
	&lt;&lt;include &quot;Guilds&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.guild.slaver.maxexp != $GuildEXP[$PC.guild.slaver.rank] &amp;&amp; $PC.guild.slaver.rank&gt;&gt;
	&lt;&lt;set $PC.guild.slaver.maxexp = $GuildEXP[$PC.guild.slaver.rank]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.focus == &quot;Brothel&quot;&gt;&gt;
	&lt;&lt;set $PC.location = &quot;brothel&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.location == &quot;brothel&quot;&gt;&gt;
	&lt;&lt;if [&quot;Open&quot;, null].contains($estate.brothel.style)&gt;&gt;
		&lt;&lt;if ![&quot;Procurer&quot;, &quot;Prostitute&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
			&lt;&lt;set $PC.position = &quot;Prostitute&quot;&gt;&gt;
			&lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
		&lt;&lt;if ![&quot;Procurer&quot;, &quot;Attendant&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
			&lt;&lt;set $PC.position = &quot;Attendant&quot;&gt;&gt;
			&lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
		&lt;&lt;if ![&quot;Procurer&quot;, &quot;Host&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
			&lt;&lt;set $PC.position = &quot;Host&quot;&gt;&gt;
			&lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.ID&gt;&gt;
	&lt;&lt;set $PC.ID = &quot;PLAYER&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.condition.progress == null&gt;&gt;
	&lt;&lt;set $PC.condition.progress = 100&gt;&gt;
	&lt;&lt;set $PC.health = 4&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$cheats&gt;&gt;
	&lt;&lt;set $cheats = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.tribe == &quot;minotaur&quot; &amp;&amp; [&quot;female&quot;, &quot;futanari&quot;].contains($PC.combat)&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;holstaur&quot;&gt;&gt;
	
&lt;&lt;elseif $PC.tribe == &quot;holstaur&quot; &amp;&amp; [&quot;male&quot;, &quot;shemale&quot;].contains($PC.combat)&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;minotaur&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$remainder&gt;&gt;
	&lt;&lt;set $remainder = {total:0, name:null, color:null}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $maintenance.total == null&gt;&gt;
	&lt;&lt;set $maintenance = {personal:0, estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $revenue.total == null &amp;&amp; $revenue &gt; 0&gt;&gt;
	&lt;&lt;set _num = $revenue&gt;&gt;
	&lt;&lt;set $revenue = {estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
	&lt;&lt;set $revenue.total = _num&gt;&gt;
&lt;&lt;/if&gt;&gt;
	
&lt;&lt;if $expenses.total == null &amp;&amp; $expenses &gt; 0&gt;&gt;
	&lt;&lt;set _num = $expenses&gt;&gt;
	&lt;&lt;set $expenses = {estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
	&lt;&lt;set $expenses.total = _num&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$summary.income&gt;&gt;
	&lt;&lt;set $summary.income = {estate:0, brothel:0, ranch:0, chattel:0}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$estate.brothel.report&gt;&gt;
	&lt;&lt;set $estate.brothel.report = {text:null, brothelscore:0, guardscore:0}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$estate.ranch.report&gt;&gt;
	&lt;&lt;set $estate.ranch.report = {text:null}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if Number.isInteger($estate.brothel.popularity)&gt;&gt;
	&lt;&lt;set _popularity = $estate.brothel.popularity&gt;&gt;
	&lt;&lt;set $estate.brothel.popularity = {level:&quot;Local&quot;, total:_popularity}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$estate.brothel.takedowns&gt;&gt;
	&lt;&lt;set $estate.brothel.takedowns = {local:0, regional:0, national:0}&gt;&gt;
	
	&lt;&lt;if $estate.brothel.popularity.total &gt; 25&gt;&gt;
		&lt;&lt;set $estate.brothel.popularity.total = 25&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.active &amp;&amp; !$estate.brothel.competition&gt;&gt;
	&lt;&lt;set $estate.brothel.competition = {}&gt;&gt;
	
	&lt;&lt;BrothelCompetition&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.trust&gt;&gt;
	&lt;&lt;set $PC.trust = {current:$PC.pride.current, base:$PC.pride.base, mood:$PC.pride.mood, bonus:$PC.pride.bonus, multi:$PC.pride.multi}&gt;&gt;
	&lt;&lt;set $PC.pride = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$tabs&gt;&gt;
	&lt;&lt;set $tabs = {skills:null}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.skills&gt;&gt;
	&lt;&lt;set $PC.skills = {}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$estate.brothel.levels&gt;&gt;
	&lt;&lt;set $estate.brothel.levels = {soliciting:&quot;Min&quot;, managing:&quot;Min&quot;, guarding:&quot;Min&quot;, hosting:&quot;Min&quot;, attending:&quot;Min&quot;, teaching:&quot;Min&quot;, consorting:&quot;Min&quot;}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$estate.brothel.exceptions&gt;&gt;
	&lt;&lt;set $estate.brothel.exceptions = {pSoliciting:&quot;No&quot;, pConsorting:&quot;No&quot;, gSoliciting:&quot;No&quot;, gConsorting:&quot;No&quot;}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.page == null&gt;&gt;
	&lt;&lt;set $estate.brothel.page = &quot;Overview&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.brothelpopularity == null&gt;&gt;
	&lt;&lt;set $summary.brothelpopularity = 0&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$summary.brothelpopularitydesc&gt;&gt;
	&lt;&lt;set $summary.brothelpopularitydesc = 1&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.brothelfocus == null&gt;&gt;
	&lt;&lt;set $summary.brothelfocus = 0&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.brothelcapacity == null&gt;&gt;
	&lt;&lt;set $summary.brothelcapacity = 0&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.slaveinfo == null&gt;&gt;
	&lt;&lt;set $summary.slaveinfo = 0&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.skills == null&gt;&gt;
	&lt;&lt;set $summary.skills = 0&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.history == null&gt;&gt;
	&lt;&lt;set $summary.history = 0&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.history&gt;&gt;
	&lt;&lt;set $PC.history = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.eventlog&gt;&gt;
	&lt;&lt;set $PC.eventlog = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$compendium&gt;&gt;
	&lt;&lt;set $compendium = {page:null, leaf:null, races:[], natures:[], codes:[], moods:[&quot;Anxiety&quot;, &quot;Happiness&quot;, &quot;Sanity&quot;, &quot;Serenity&quot;], ages:[&quot;Young Adult&quot;, &quot;Adult&quot;, &quot;Mature&quot;], attributes:[&quot;Obedience&quot;, &quot;Trust&quot;, &quot;Fear&quot;], combates:[&quot;Male&quot;, &quot;Female&quot;, &quot;Shemale&quot;, &quot;Futanari&quot;], titles:[&quot;Common&quot;, &quot;Uncommon&quot;, &quot;Unique&quot;, &quot;Rare&quot;, &quot;Special&quot;]}&gt;&gt;
	&lt;&lt;set $updates.compendium = &quot;&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$compendium.natures || !$compendium.codes || !$compendium.moods&gt;&gt;
	&lt;&lt;set $compendium.page = null&gt;&gt;
	&lt;&lt;set $compendium.leaf = null&gt;&gt;
	&lt;&lt;set $compendium.natures = []&gt;&gt;
	&lt;&lt;set $compendium.codes = []&gt;&gt;
	&lt;&lt;set $compendium.moods = [&quot;Anxiety&quot;, &quot;Happiness&quot;, &quot;Sanity&quot;, &quot;Serenity&quot;]&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$compendium.races.contains($PC.tribe)&gt;&gt;
	&lt;&lt;run addRacePage($PC)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.guild.slaver.contractmax&gt;&gt;
	&lt;&lt;set $PC.guild.slaver = {rank:0, level:3, grade:&quot;E&quot;, exp:0, maxexp:100, contract:[], contractmax:1, excess:0, rankup:0, reward:0}&gt;&gt;
	
	&lt;&lt;if $Guilds&gt;&gt;
		&lt;&lt;set $Guilds.Slaver.Slums.Week = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;include &quot;Guilds&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.legs&gt;&gt;
	&lt;&lt;set $PC.legs = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;moon rabbit&quot;, &quot;high elf&quot;, &quot;dark elf&quot;, &quot;pantheran&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.legs.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;forest elf&quot;, &quot;neko&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.legs.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;goblin&quot;, &quot;dwarf&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.legs.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;gnome&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.legs.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $PC.legs.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $PC.legs.base = $PC.legs.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.torso&gt;&gt;
	&lt;&lt;set $PC.torso = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;dwarf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;, &quot;orc&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.torso.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;canus&quot;, &quot;dark elf&quot;, &quot;giant&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.torso.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;neko&quot;, &quot;forest elf&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.torso.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;pantheran&quot;, &quot;gnome&quot;, &quot;high elf&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.torso.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $PC.torso.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $PC.torso.base = $PC.torso.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.hips&gt;&gt;
	&lt;&lt;set $PC.hips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;holstaur&quot;, &quot;dark elf&quot;, &quot;pantheran&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.hips.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;orc&quot;, &quot;neko&quot;, &quot;gnome&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.hips.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;canus&quot;, &quot;forest elf&quot;, &quot;dwarf&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.hips.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;high elf&quot;, &quot;mongrel&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.hips.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $PC.hips.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $PC.hips.base = $PC.hips.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.shoulders&gt;&gt;
	&lt;&lt;set $PC.shoulders = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;, &quot;dwarf&quot;, &quot;minotaur&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.shoulders.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;mongrel&quot;, &quot;goblin&quot;, &quot;canus&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.shoulders.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;forest elf&quot;, &quot;dark elf&quot;, &quot;high elf&quot;, &quot;neko&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.shoulders.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;pantheran&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.shoulders.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $PC.shoulders.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $PC.shoulders.base = $PC.shoulders.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.lips&gt;&gt;
	&lt;&lt;set $PC.lips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
	
	&lt;&lt;if [&quot;dark elf&quot;, &quot;orc&quot;, &quot;holstaur&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.lips.mod = weightedRand({1:0.05, 2:0.1, 3:0.15, 4:0.2, 5:0.5})&gt;&gt;
	
	&lt;&lt;elseif [&quot;canus&quot;, &quot;mongrel&quot;, &quot;giant&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.lips.mod = weightedRand({1:0.05, 2:0.1, 3:0.2, 4:0.5, 5:0.15})&gt;&gt;
	
	&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;, &quot;neko&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.lips.mod = weightedRand({1:0.15, 2:0.5, 3:0.2, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;elseif [&quot;pantheran&quot;, &quot;goblin&quot;].contains($PC.tribe)&gt;&gt;
		&lt;&lt;set $PC.lips.mod = weightedRand({1:0.5, 2:0.2, 3:0.15, 4:0.1, 5:0.05})&gt;&gt;
	
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $PC.lips.mod = weightedRand({1:0.1, 2:0.15, 3:0.5, 4:0.15, 5:0.1})&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $PC.lips.base = $PC.lips.mod&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.height &gt; $racestats.heightmax || $PC.height &lt; $racestats.heightmin&gt;&gt;
	&lt;&lt;set $PC.height = Math.clamp($PC.height, $racestats.heightmin, $racestats.heightmax)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.traits.list == null&gt;&gt;
	&lt;&lt;set $PC.traits.list = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$events&gt;&gt;
	&lt;&lt;set $events = {choice:null, scenes:[], scene:null}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.mood.scale == null || $PC.mood.current == null&gt;&gt;
	&lt;&lt;set $PC.mood = {scale:&quot;Happiness&quot;, current:50}&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="188" name="Contracts" tags="nobr" position="967,8" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Main&quot;&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $PC.guild.slaver.contract.length&gt;&gt;
  &lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
    &lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 2&gt;&lt;h3&gt;~Slaver Contracts~&lt;/h3&gt;&lt;/th&gt;&lt;/tr&gt;
    &lt;&lt;for _c=0;_c &lt; $PC.guild.slaver.contract.length;_c++&gt;&gt;
      &lt;&lt;set _contract = $PC.guild.slaver.contract[_c]&gt;&gt;
      &lt;&lt;set _color = null&gt;&gt;
      &lt;&lt;set _penalty = Math.round10(_contract.reward*0.25, 2)&gt;&gt;
      
      &lt;&lt;for _s=1; _s &lt;= $slaves.amount;_s++&gt;&gt;
        &lt;&lt;if _contract.slave.ID == $slaves[_s].ID&gt;&gt;
          &lt;&lt;set _character = $slaves[_s]&gt;&gt;
          &lt;&lt;break&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/for&gt;&gt;
      
      &lt;&lt;if _contract.difficulty == &quot;Easy&quot;&gt;&gt;
        &lt;&lt;set _color = &quot;forestgreen&quot;&gt;&gt;
      
      &lt;&lt;elseif _contract.difficulty == &quot;Medium&quot;&gt;&gt;
        &lt;&lt;set _color = &quot;yellow&quot;&gt;&gt;
      
      &lt;&lt;elseif _contract.difficulty == &quot;Hard&quot;&gt;&gt;
        &lt;&lt;set _color = &quot;red&quot;&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if (_character.obedience.current &gt;= _contract.virtue) &amp;&amp; (_character.trust.current &gt;= _contract.virtue) &amp;&amp; ((100-_character.fear.current) &gt;= _contract.virtue) &amp;&amp; (_character.titles.includes(_contract.title))&gt;&gt;
        &lt;&lt;set _contract.completed = 1&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _contract.completed = 0&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _textexp = &quot;&lt;&lt;print Math.round10(&quot; + (_contract.exp / $PC.guild.slaver.maxexp) * 100 + &quot;, -2)&gt;&gt;%&quot;&gt;&gt;
      
      &lt;tr&gt;&lt;td class = &quot;contract&quot; colspan = 2&gt;
      &lt;&lt;if _contract.completed&gt;&gt;
        &lt;b&gt;&lt;&lt;print &quot;[[Complete Contract|Slaver Guild][$completedContract = _contract, $contractSlave = $slaves[&quot; + _s + &quot;], $PC.guild.slaver.contract.splice(&quot; + _c + &quot;, 1)]]&quot;&gt;&gt;&lt;/b&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;if $PC.guild.slaver.contract.length &gt; 1&gt;&gt;
          &lt;b&gt;&lt;&lt;print &quot;[[Abandon Contract|Contracts][$PC.money -= _penalty, $contractSlave = $slaves[&quot; + _s + &quot;], $PC.guild.slaver.contract.splice(&quot; + _c + &quot;, 1)]]&quot;&gt;&gt; [@@color:red;💎&lt;&lt;print commify(_penalty)&gt;&gt;@@] [@@color:red;💎&lt;&lt;print commify(_penalty)&gt;&gt; Penalty@@]&lt;/b&gt;
        
        &lt;&lt;else&gt;&gt;
          &lt;b&gt;&lt;&lt;print &quot;[[Abandon Contract|Main Menu][$PC.money -= _penalty, $contractSlave = $slaves[&quot; + _s + &quot;], $PC.guild.slaver.contract.splice(&quot; + _c + &quot;, 1)]]&quot;&gt;&gt; [@@color:red;💎&lt;&lt;print commify(_penalty)&gt;&gt;@@] [@@color:red;💎&lt;&lt;print commify(_penalty)&gt;&gt; Penalty@@]&lt;/b&gt;
          
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Difficulty:&lt;/b&gt; _contract.difficulty@@&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Time Limit:&lt;/b&gt; _contract.time Weeks&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;EXP:&lt;/b&gt; _textexp&quot;&gt;&gt; | @@color:lightgreen;&lt;b&gt;Reward:&lt;/b&gt; 💎&lt;&lt;print commify(_contract.reward)&gt;&gt;@@

      &lt;br&gt;&lt;br&gt;
      _contract.name the _contract.race has put up a request for someone to train &lt;&lt;print &quot;[[_character.name|Slave Description][$activeCharacter = $slaves[&quot; + _s + &quot;]]]&quot;&gt;&gt; to become a &lt;&lt;displayTitle _contract.title &quot;title&quot;&gt;&gt; titled slave no less than &lt;&lt;print getObedience(_contract.virtue)&gt;&gt;, &lt;&lt;print getTrust(_contract.virtue)&gt;&gt; and &lt;&lt;print getFear(100-_contract.virtue)&gt;&gt;.
      &lt;br&gt;
      &lt;&lt;print &quot;[[_character.name|Slave Description][$activeCharacter = $slaves[&quot; + _s + &quot;]]]&quot;&gt;&gt; &lt;&lt;gender _character.sex _character.gender&gt;&gt; is a &lt;&lt;print $maturity[_character.maturity]&gt;&gt; &lt;&lt;race _character.tribe &quot;Description&quot;&gt;&gt; slave who is &lt;&lt;print getObedience(_character.obedience.current)&gt;&gt;, &lt;&lt;print getTrust(_character.trust.current)&gt;&gt; and &lt;&lt;print getFear(_character.fear.current)&gt;&gt;.
      
      &lt;br&gt;&lt;br&gt;
      &lt;&lt;if _character.titles.includes(_contract.title)&gt;&gt;
        @@color:forestgreen;_character.name has obtained the &lt;&lt;displayTitle _contract.title &quot;title&quot;&gt;&gt; title.@@
        
      &lt;&lt;else&gt;&gt;
        @@color:red;_character.name has yet to obtain the &lt;&lt;displayTitle _contract.title &quot;title&quot;&gt;&gt; title.@@
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;br&gt;
      &lt;&lt;if _character.obedience.current &gt;= _contract.virtue&gt;&gt;
        @@color:forestgreen;_character.name&#39;s obedience meets the contract requirement, &lt;&lt;print getObedience(_contract.virtue)&gt;&gt;.@@
        
      &lt;&lt;else&gt;&gt;
        @@color:red;_character.name&#39;s obedience has not met the contract requirement, &lt;&lt;print getObedience(_contract.virtue)&gt;&gt;.@@
      
      &lt;&lt;/if&gt;&gt;
      
      &lt;br&gt;
      &lt;&lt;if _character.trust.current &gt;= _contract.virtue&gt;&gt;
        @@color:forestgreen;_character.name&#39;s trust meets the contract requirement, &lt;&lt;print getTrust(_character.trust.current)&gt;&gt;.@@
        
      &lt;&lt;else&gt;&gt;
        @@color:red;_character.name&#39;s trust has not met the contract requirement, &lt;&lt;print getTrust(_character.trust.current)&gt;&gt;.@@
      
      &lt;&lt;/if&gt;&gt;
      
      &lt;br&gt;
      &lt;&lt;if (100-_character.fear.current) &gt;= _contract.virtue&gt;&gt;
        @@color:forestgreen;_character.name&#39;s fear meets the contract requirement, &lt;&lt;print getFear(100-_contract.virtue)&gt;&gt;.@@
        
      &lt;&lt;else&gt;&gt;
        @@color:red;_character.name&#39;s fear has not met the contract requirement, &lt;&lt;print getFear(100-_contract.virtue)&gt;&gt;.@@
      
      &lt;&lt;/if&gt;&gt;
      &lt;/td&gt;&lt;/tr&gt;
    &lt;&lt;/for&gt;&gt;

  &lt;/table&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="189" name="Sexual Training" tags="" position="1231,826" size="100,100">|chart|k
|&gt;|&gt;|&gt;|&gt;|&gt;|&gt;|&gt;|&gt;|&gt;|&gt;|&gt;| !Sexual Training |
|&gt;| !Oral Training | |&gt;| !Manual Training | |&gt;| !Mammary Training | |&gt;| !Sex Training |
| _kissing | _kissingD | | _masturbation | _masturbationD | | _breastplay | _breastplayD | | _vaginal | _vaginalD |
| _fellatio | _fellatioD | | _handjob | _handjobD | | _breastfeeding | _breastfeedingD | | _anal | _analD |
| _cunnilingus | _cunnilingusD | | _fingering | _fingeringD | | _intercourse | _intercourseD | |  |  |
| _analingus | _analingusD | | _fisting | _fistingD | | | |  |  |  |
| &lt;&lt;print _caption&gt;&gt; |c</tw-passagedata><tw-passagedata pid="190" name="STV" tags="nobr" position="1231,956" size="100,100">&lt;&lt;set _kissingD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.oral.kissing))&gt;&gt;
&lt;&lt;set _fellatioD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.oral.fellatio))&gt;&gt;
&lt;&lt;set _cunnilingusD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.oral.cunnilingus))&gt;&gt;
&lt;&lt;set _analingusD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.oral.analingus))&gt;&gt;


&lt;&lt;if $activeCharacter.sexualskill.oral.kissing &gt;= 100&gt;&gt;
	&lt;&lt;set _kissing = &quot;Kissing&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _kissing = &quot;[[Kissing|Results][$subtrainingtype = &#39;Kissing&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.oral.fellatio &gt;= 100&gt;&gt;
	&lt;&lt;set _fellatio = &quot;Fellatio&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _fellatio = &quot;[[Fellatio|Results][$subtrainingtype = &#39;Fellatio&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.oral.cunnilingus &gt;= 100&gt;&gt;
	&lt;&lt;set _cunnilingus = &quot;Cunnilingus&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cunnilingus = &quot;[[Cunnilingus|Results][$subtrainingtype = &#39;Cunnilingus&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.oral.analingus &gt;= 100&gt;&gt;
	&lt;&lt;set _analingus = &quot;Analingus&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _analingus = &quot;[[Analingus|Results][$subtrainingtype = &#39;Analingus&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _masturbationD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.manual.masturbation))&gt;&gt;
&lt;&lt;set _handjobD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.manual.handjob))&gt;&gt;
&lt;&lt;set _fingeringD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.manual.fingering))&gt;&gt;
&lt;&lt;set _fistingD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.manual.fisting))&gt;&gt;


&lt;&lt;if $activeCharacter.sexualskill.manual.masturbation &gt;= 100&gt;&gt;
	&lt;&lt;set _masturbation = &quot;Masturbation&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _masturbation = &quot;[[Masturbation|Results][$subtrainingtype = &#39;Masturbation&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.manual.handjob &gt;= 100&gt;&gt;
	&lt;&lt;set _handjob = &quot;Handjob&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _handjob = &quot;[[Handjob|Results][$subtrainingtype = &#39;Handjob&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.manual.fingering &gt;= 100&gt;&gt;
	&lt;&lt;set _fingering = &quot;Fingering&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _fingering = &quot;[[Fingering|Results][$subtrainingtype = &#39;Fingering&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.manual.fisting &gt;= 100&gt;&gt;
	&lt;&lt;set _fisting = &quot;Fisting&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _fisting = &quot;[[Fisting|Results][$subtrainingtype = &#39;Fisting&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _breastplayD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.mammary.breastplay))&gt;&gt;
&lt;&lt;set _breastfeedingD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.mammary.breastfeeding))&gt;&gt;
&lt;&lt;set _intercourseD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.mammary.intercourse))&gt;&gt;


&lt;&lt;if $activeCharacter.sexualskill.mammary.breastplay &gt;= 100&gt;&gt;
	&lt;&lt;set _breastplay = &quot;Breastplay&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _breastplay = &quot;[[Breastplay|Results][$subtrainingtype = &#39;Breastplay&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.mammary.breastfeeding &gt;= 100 || (!$activeCharacter.lactating.permanent &amp;&amp; !$activeCharacter.lactating.temporary)&gt;&gt;
	&lt;&lt;set _breastfeeding = &quot;Breastfeeding&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _breastfeeding = &quot;[[Breastfeeding|Results][$subtrainingtype = &#39;Breastfeeding&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.mammary.intercourse &gt;= 100 || $activeCharacter.bust.current &lt; 4&gt;&gt;
	&lt;&lt;set _intercourse = &quot;Intercourse&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _intercourse = &quot;[[Mammary Intercourse|Results][$subtrainingtype = &#39;Mammary Intercourse&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _vaginalD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.intercourse.vaginal))&gt;&gt;
&lt;&lt;set _analD = capitalizecolor(getSexSkill($activeCharacter.sexualskill.intercourse.anal))&gt;&gt;


&lt;&lt;if $activeCharacter.sexualskill.intercourse.vaginal &gt;= 100&gt;&gt;
	&lt;&lt;set _vaginal = &quot;Sex&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;shemale&quot;].contains($activeCharacter.sex)&gt;&gt;
		&lt;&lt;set _vaginal = &quot;[[Sex|Results][$subtrainingtype = &#39;Male Sex&#39;]]&quot;&gt;&gt;
	&lt;&lt;elseif [&quot;female&quot;].contains($activeCharacter.sex)&gt;&gt;
		&lt;&lt;set _vaginal = &quot;[[Sex|Results][$subtrainingtype = &#39;Female Sex&#39;]]&quot;&gt;&gt;
	&lt;&lt;elseif [&quot;futanari&quot;].contains($activeCharacter.sex)&gt;&gt;
		&lt;&lt;set _vaginal = &quot;[[Sex|Results][$subtrainingtype = &#39;Futa Sex&#39;]]&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.sexualskill.intercourse.anal &gt;= 100&gt;&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;shemale&quot;].contains($activeCharacter.sex)&gt;&gt;
		&lt;&lt;set _anal = &quot;Catching&quot;&gt;&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains($activeCharacter.sex)&gt;&gt;
		&lt;&lt;set _anal = &quot;Anal&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;shemale&quot;].contains($activeCharacter.sex)&gt;&gt;
		&lt;&lt;set _anal = &quot;[[Catching|Results][$subtrainingtype = &#39;Anal Sex&#39;]]&quot;&gt;&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains($activeCharacter.sex)&gt;&gt;
		&lt;&lt;set _anal = &quot;[[Anal|Results][$subtrainingtype = &#39;Anal Sex&#39;]]&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _caption = &quot;&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.bust.current &lt; 4&gt;&gt;
	&lt;&lt;set _caption += &quot;&lt;b&gt;$activeCharacter.name must have a bust size of &lt;&lt;print $UCbust[4]&gt;&gt; or bigger to train &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mammary intercourse skills.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$activeCharacter.lactating.permanent &amp;&amp; !$activeCharacter.lactating.temporary&gt;&gt;
	&lt;&lt;set _caption += &quot;&lt;b&gt;$activeCharacter.name must be lactating to train &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breastfeeding skills.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="191" name="Feminization Training" tags="" position="1231,436" size="100,100">|chart|k
|&gt;|&gt;| !Feminization |
| !Basic Training | !Intermediate Training | !Advanced Training |
| _shaving | [[Cross-Dressing|Results][$subtrainingtype = &quot;Cross-Dressing&quot;]] | [[Anal Masturbation|Results][$subtrainingtype = &quot;Anal Masturbation&quot;]] |
| [[Gender Training|Results][$subtrainingtype = &quot;Gender Training&quot;]] | [[Butt-Plug|Results][$subtrainingtype = &quot;Butt-Plug&quot;]] | _analtraining |
| [[Social Training|Results][$subtrainingtype = &quot;Social Training&quot;]] | [[Chastity Cage|Results][$subtrainingtype = &quot;Chastity Cage&quot;]] |  |</tw-passagedata><tw-passagedata pid="192" name="FTV" tags="nobr" position="1231,566" size="100,100">&lt;&lt;if $activeCharacter.shaved &lt; 3&gt;&gt;
	&lt;&lt;set _shaving = &quot;[[Shaving|Results][$subtrainingtype = &#39;Shaving&#39;]]&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _shaving = &quot;Shaving&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.cock.current &amp;&amp; $PC.girth.current&gt;&gt;
	&lt;&lt;set _analtraining = &quot;[[Anal Training|Results][$subtrainingtype = &#39;Anal Training&#39;]]&quot;&gt;&gt;
&lt;&lt;elseif $PC.pussy.current&gt;&gt;
	&lt;&lt;set _analtraining = &quot;[[Anal Training|Results][$subtrainingtype = &#39;Pegged&#39;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="193" name="Results" tags="nobr" position="2001,231" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set _character = $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;
&lt;&lt;set $activeCharacter = _character&gt;&gt;
&lt;&lt;set $Training = 1&gt;&gt;
&lt;&lt;set _trainingtitle = capitalize($subtrainingtype)&gt;&gt;

&lt;&lt;if $activeCharacter.fatigue.physical &gt; 1&gt;&gt;
	&lt;&lt;set $Continue = &quot;Training Battle&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $Continue = &quot;End Training&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $subtrainingtype &amp;&amp; $subtrainingtype != &quot;Standby&quot;&gt;&gt;
	&lt;center&gt;&lt;h3&gt;Training Summary - _trainingtitle&lt;/h3&gt;&lt;/center&gt;&lt;br&gt;
	&lt;&lt;include $subtrainingtype&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.update.length &gt;= 1&gt;&gt;
	&lt;&lt;include &quot;Slave Update&quot;&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;center&gt;&lt;h3&gt;$activeCharacter.name&#39;s Status&lt;/h3&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;include &quot;Mood&quot;&gt;&gt;
&lt;br&gt;&lt;br&gt;
&lt;&lt;include &quot;Lust&quot;&gt;&gt;

&lt;hr&gt;

&lt;&lt;if $subtrainingtype&gt;&gt;
	&lt;&lt;set $subtrainingtype = &quot;Standby&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="194" name="Submit Request" tags="nobr noreturn notruereturn" position="650,2375" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;set _request = $PC.guild.slaver.request&gt;&gt;
&lt;&lt;set _characters = 0&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Submit Request&lt;/h3&gt;

Please select the slave you would like to transfer ownership of over to the guild to complete the quest. The guild will compensate you for 75% of the slave’s cost on top of the reward you will earn for completing the request. Slaves transfered over to the guild can&#39;t be transfered back after this week is over.

&lt;/center&gt;

&lt;br&gt;

&lt;&lt;if !$slaves.amount&gt;&gt;
	&lt;b&gt;@@color:red;You have no slaves to present to the guild for this request.@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
	&lt;&lt;set _character = $slaves[_i]&gt;&gt;
	&lt;&lt;set _pass = 0&gt;&gt;
	&lt;&lt;include &quot;Check Slave&quot;&gt;&gt;

	&lt;&lt;if _pass&gt;&gt;
		&lt;&lt;displayTitle _character.title &quot;title&quot;&gt;&gt; _character.name | &lt;&lt;print &quot;[[Transfer Slave|Transfer Slave][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt;
		&lt;br&gt;
		_info
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;if _characters == 0&gt;&gt;
	&lt;b&gt;@@color:red;None of the slaves in your possession meets the requirements for the request you have accepted.@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="195" name="Check Slave" tags="nobr" position="787,2377" size="100,100">&lt;&lt;if _request.part == &quot;pussy&quot;&gt;&gt;
	&lt;&lt;set _part = $pussy[_request.partreq]&gt;&gt;
	&lt;&lt;set _characterpart = _character.pussy.current&gt;&gt;
	&lt;&lt;set _spt = $pussy[_characterpart]&gt;&gt;

&lt;&lt;elseif _request.part == &quot;breasts&quot;&gt;&gt;
	&lt;&lt;set _part = $bust[_request.partreq]&gt;&gt;
	&lt;&lt;set _characterpart = _character.bust.current&gt;&gt;
	&lt;&lt;set _spt = $bust[_characterpart]&gt;&gt;

&lt;&lt;elseif _request.part == &quot;clit&quot;&gt;&gt;
	&lt;&lt;set _part = $clitoris[_request.partreq]&gt;&gt;
	&lt;&lt;set _characterpart = _character.clit.current&gt;&gt;
	&lt;&lt;set _spt = $clitoris[_characterpart]&gt;&gt;

&lt;&lt;elseif _request.part == &quot;cock&quot;&gt;&gt;
	&lt;&lt;set _part = $cock[_request.partreq]&gt;&gt;
	&lt;&lt;set _characterpart = _character.cock.current&gt;&gt;
	&lt;&lt;set _spt = $cock[_characterpart]&gt;&gt;

&lt;&lt;elseif _request.part == &quot;girth&quot;&gt;&gt;
	&lt;&lt;set _part = $girth[_request.partreq]&gt;&gt;
	&lt;&lt;set _characterpart = _character.girth.current&gt;&gt;
	&lt;&lt;set _spt = $girth[_characterpart]&gt;&gt;

&lt;&lt;elseif _request.part == &quot;balls&quot;&gt;&gt;
	&lt;&lt;set _part = $balls[_request.partreq]&gt;&gt;
	&lt;&lt;set _characterpart = _character.balls.current&gt;&gt;
	&lt;&lt;set _spt = $balls[_characterpart]&gt;&gt;
&lt;&lt;/if&gt;&gt;


&lt;&lt;if _request.difficulty == &quot;Easy&quot;&gt;&gt;
	&lt;&lt;if _character.titles.includes(_request.title)&gt;&gt;
		&lt;&lt;set _pass = 1&gt;&gt;
		&lt;&lt;set _characters += 1&gt;&gt;

		&lt;&lt;set _info = &quot;_character.name has the title &lt;&lt;displayTitle _request.title &#39;title&#39;&gt;&gt; unlocked and is eligible for transfer to the guild to complete this request.&quot;&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
		
&lt;&lt;elseif _request.difficulty == &quot;Medium&quot; || _request.difficulty == &quot;Hard&quot;&gt;&gt;
	&lt;&lt;if _character.titles.includes(_request.title) &amp;&amp; _characterpart &gt;= _request.partreq&gt;&gt;
		&lt;&lt;set _pass = 1&gt;&gt;
		&lt;&lt;set _characters += 1&gt;&gt;

		&lt;&lt;set _info = &quot;_character.name has the title &lt;&lt;displayTitle _request.title &#39;title&#39;&gt;&gt; unlocked and &lt;&lt;print $hisher[_character.gender]&gt;&gt; _spt _request.part meets the requirement of being at least _part. &lt;&lt;print $HeShe[_character.gender]&gt;&gt; is eligible for transfer to the guild to complete this request.&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
		
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _characters &gt; 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="196" name="Transfer Slave" tags="nobr noreturn notruereturn" position="917,2377" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;set _request = $PC.guild.slaver.request&gt;&gt;
&lt;&lt;set _comp = Math.round10($activeCharacter.ogprice * 0.75,1)&gt;&gt;
&lt;&lt;set _reward = _request.reward&gt;&gt;
&lt;&lt;set _totalnum = _comp + _reward&gt;&gt;
&lt;&lt;set _comp = commify(_comp)&gt;&gt;
&lt;&lt;set _reward = commify(_reward)&gt;&gt;
&lt;&lt;set _total = commify(_totalnum)&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Slave Transfered&lt;/h3&gt;

&lt;b&gt;@@color:forestgreen;Congrats! You have completed _request.client&#39;s _request.rank-Rank request!@@&lt;/b&gt;
&lt;br&gt;
You have transfered over $activeCharacter.name over to the guild. Your compensation for your slave is @@color:lightgreen;💎_comp@@ and your reward is @@color:lightgreen;💎_reward@@. In total you have earned @@color:lightgreen;💎_total@@ from completing _request.client&#39;s _request.rank-Rank request.

&lt;/center&gt;
&lt;hr&gt;

&lt;&lt;set $PC.guild.slaver.reward = _totalnum&gt;&gt;
&lt;&lt;set $PC.guild.slaver.oldrequest = _request&gt;&gt;
&lt;&lt;set $PC.guild.slaver.request = null&gt;&gt;
&lt;&lt;set $PC.guild.slaver.transfer = $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Move Slave&quot;&gt;&gt;
&lt;&lt;unset $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="197" name="End Week Update" tags="nobr" position="1362,306" size="100,100">&lt;&lt;set $slaveIncome = 0&gt;&gt;
&lt;&lt;set $requestIncome = 0&gt;&gt;
&lt;&lt;set $resources = 0&gt;&gt;
&lt;&lt;set $maintenance = {personal:0, estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
&lt;&lt;set $slaveExpense = 0&gt;&gt;
&lt;&lt;set $expenses = {estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
&lt;&lt;set $revenue = {estate:0, brothel:0, ranch:0, chattel:0, total:0}&gt;&gt;
&lt;&lt;set $remainder = {total:0, name:null, color:null}&gt;&gt;
&lt;&lt;set $brothelearnings = 0&gt;&gt;
&lt;&lt;set $brothelexpense = 0&gt;&gt;
&lt;&lt;set $ranchearnings = 0&gt;&gt;
&lt;&lt;set $totalcustomers = 0&gt;&gt;
&lt;&lt;set $totallitres = 0&gt;&gt;
&lt;&lt;set $brothelslaves = {amount:0, popularity:0}&gt;&gt;
&lt;&lt;set $ranchslaves = {amount:0, popularity:0}&gt;&gt;
&lt;&lt;set $estate.brothel.report = {text:null, brothelscore:0, guardscore:0, procurerscore:0}&gt;&gt;
&lt;&lt;set $estate.ranch.report = {text:null}&gt;&gt;

&lt;&lt;if $estate.brothel.pop&gt;&gt;
	&lt;&lt;set _ratio = 0&gt;&gt;
	&lt;&lt;set _bscore = 0&gt;&gt;
	&lt;&lt;set _characters = 0&gt;&gt;

	&lt;&lt;for _s = 1; _s &lt;= $slaves.amount; _s++&gt;&gt;
		&lt;&lt;set _character = $slaves[_s]&gt;&gt;
		&lt;&lt;include &quot;Modernize Slave&quot;&gt;&gt;

		&lt;&lt;if _character.location == &quot;brothel&quot; &amp;&amp; _character.assignment != &quot;rest&quot; &amp;&amp; !($estate.brothel.exceptions.pConsorting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gConsorting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Guard&quot;)&gt;&gt;
			&lt;&lt;set _ratio += getFocusRatio(_character, $estate)&gt;&gt;
			&lt;&lt;set _bscore += getBrothelScore(_character)&gt;&gt;
			&lt;&lt;set _characters++&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
	
	&lt;&lt;set _ratio = Math.round(_ratio / _characters / 2)&gt;&gt;
	&lt;&lt;set _bscore = Math.round(_bscore)&gt;&gt;
	&lt;&lt;set $estate.brothel.report.brothelscore = Math.clamp(_ratio + _bscore, 0, 100)&gt;&gt;
	&lt;&lt;unset _character&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.guild.slaver.request || $PC.guild.slaver.oldrequest&gt;&gt;
	&lt;&lt;if $PC.guild.slaver.request&gt;&gt;
		&lt;&lt;set $PC.guild.slaver.request.time -= 1&gt;&gt;
		&lt;&lt;set _request = $PC.guild.slaver.request&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.guild.slaver.oldrequest&gt;&gt;
		&lt;&lt;set _oldrequest = $PC.guild.slaver.oldrequest&gt;&gt;
		&lt;&lt;set _reward = commify($PC.guild.slaver.reward)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;center&gt;&lt;h3&gt;Slaver’s Guild Request Update&lt;/h3&gt;&lt;/center&gt;

	&lt;&lt;if _oldrequest&gt;&gt;
		$PC.guild.slaver.transfer.name has been successfully transfered to _oldrequest.client. The guild has sent you the reward money for completing your quest.

		&lt;br&gt;&lt;br&gt;

		&lt;&lt;set _percentage = Math.round10($PC.guild.slaver.oldrequest.exp / $PC.guild.slaver.maxexp * 100,-2)&gt;&gt;

		&lt;b&gt;@@color:forestgreen;You have completed _oldrequest.client’s request in the alloted time. You have received@@ @@color:lightgreen;💎_reward@@ @@color:forestgreen;and _percentage% rank EXP.@@&lt;/b&gt;

		&lt;&lt;set $PC.guild.slaver.exp = Math.clamp($PC.guild.slaver.exp+$PC.guild.slaver.oldrequest.exp, 0, $PC.guild.slaver.maxexp)&gt;&gt;
		&lt;&lt;set $requestIncome += $PC.guild.slaver.reward&gt;&gt;

	&lt;&lt;elseif _request.time &gt; 1&gt;&gt;
		You currently have _request.time weeks left to complete _request.client’s request. If you do not transfer a slave to the guild that meets the requirements of the request by the indicated time limit, the request will be canceled but you will not be penalized.

	&lt;&lt;elseif _request.time == 1&gt;&gt;
		This is the last week you have left to complete _request.client’s request. If you do not transfer a slave to the guild that meets the requirements of the request by the end of this week, the request will be canceled but you will not be penalized.

	&lt;&lt;elseif _request.time &lt; 1&gt;&gt;
		&lt;b&gt;@@color:red;The time limit for _request.client’s request has been reached! This request will be canceled but you will not be penalized for not completing this quest. Go to the Slaver’s Guild at any time to get a new quest more suited for your level.@@&lt;/b&gt;
		&lt;&lt;set $PC.guild.slaver.request = null&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="198" name="Slaver Rankup" tags="nobr" position="1047,2377" size="100,100">&lt;&lt;set _currentRank = $PC.guild.slaver.rank&gt;&gt;
&lt;&lt;set _newRank = $PC.guild.slaver.rank+1&gt;&gt;
&lt;&lt;set _an = AvsAn.query($GuildRankings[_newRank])&gt;&gt;

&lt;&lt;switch $GuildRankings[_currentRank]&gt;&gt;
  &lt;&lt;case &quot;E-1&quot;&gt;&gt;
    &lt;&lt;set $rankupFee = 50000&gt;&gt;
    &lt;&lt;set $newGrade = &quot;D&quot;&gt;&gt;
    &lt;&lt;set $newCap = 2&gt;&gt;
  
  &lt;&lt;case &quot;D-1&quot;&gt;&gt;
    &lt;&lt;set $rankupFee = 150000&gt;&gt;
    &lt;&lt;set $newGrade = &quot;C&quot;&gt;&gt;
    &lt;&lt;set $newCap = 3&gt;&gt;
  
  &lt;&lt;case &quot;C-1&quot;&gt;&gt;
    &lt;&lt;set $rankupFee = 300000&gt;&gt;
    &lt;&lt;set $newGrade = &quot;B&quot;&gt;&gt;
    &lt;&lt;set $newCap = 4&gt;&gt;
  
  &lt;&lt;case &quot;B-1&quot;&gt;&gt;
    &lt;&lt;set $rankupFee = 500000&gt;&gt;
    &lt;&lt;set $newGrade = &quot;A&quot;&gt;&gt;
    &lt;&lt;set $newCap = 5&gt;&gt;
  
  &lt;&lt;case &quot;A-1&quot;&gt;&gt;
    &lt;&lt;set $rankupFee = 1000000&gt;&gt;
    &lt;&lt;set $newGrade = &quot;S&quot;&gt;&gt;
    &lt;&lt;set $newCap = 6&gt;&gt;
    
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $PC.money &gt;= $rankupFee&gt;&gt;
	&lt;b&gt;[[Rankup|Slaver Guild][$PC.guild.slaver.rankup = 1]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify($rankupFee)&gt;&gt; Rankup Fee@@ | By paying the rankup fee you can become _an &lt;b&gt;&lt;&lt;print $GuildRankings[_newRank]&gt;&gt;&lt;/b&gt; ranked slaver. You will be able to take &lt;b&gt;&lt;&lt;print $GuildRankings[_newRank]&gt;&gt;&lt;/b&gt; contracts from the request board and complete them for money and you will also be able to access new items in the general store.
  
&lt;&lt;else&gt;&gt;
	&lt;b&gt;Rankup&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify($rankupFee)&gt;&gt; Rankup Fee@@ | By paying the rankup fee you can become _an &lt;b&gt;&lt;&lt;print $GuildRankings[_newRank]&gt;&gt;&lt;/b&gt; ranked slaver. You will be able to take &lt;b&gt;&lt;&lt;print $GuildRankings[_newRank]&gt;&gt;&lt;/b&gt; contracts from the request board and complete them for money and you will also be able to access new items in the general store.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="199" name="Slaver Registration" tags="nobr" position="267,2378" size="100,100">&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

&lt;&lt;if $PC.money &gt;= $regfee&gt;&gt;
  &lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 2&gt;&lt;b&gt;[[Register|Slaver Guild][$Registration = 1]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify($regfee)&gt;&gt; Registration Fee@@&lt;/th&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 2&gt;The Slaver Guild is the most popular guild in all of Waiross. In recent times many residents don&#39;t have the time to buy and train slaves for their own use, raising the demand for skilled slavers drastically. The guild works as a middle-man for resident-slaver interactions, providing many advantages to both sides. Lower ranked and unknown slavers are able to get requests that would otherwise go to proven slavers and residents can get their slaves trained for a good price. The guild reimburses residents if their slaver isn&#39;t trained to their specification and the slaver has to pay a penalty for it, but can otherwise continue to collect requests without having their name ruined. 
  
  &lt;br&gt;&lt;br&gt;
  
  Signing up to become a slaver in the guild only requires a one time fee of @@color:lightgreen;💎&lt;&lt;print commify($regfee)&gt;&gt; Registration Fee@@, after which you only have to pay a fee when you rank up a grade letter. Your rank can be raised by completing requests, earning you higher commission (and difficulty) requests and more items in the general shop.&lt;/td&gt;&lt;/tr&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 2&gt;&lt;b&gt;&lt;b&gt;Register&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify($regfee)&gt;&gt; Registration Fee@@&lt;/th&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 2&gt;The Slaver Guild is the most popular guild in all of Waiross. In recent times many residents don&#39;t have the time to buy and train slaves for their own use, raising the demand for skilled slavers drastically. The guild works as a middle-man for resident-slaver interactions, providing many advantages to both sides. Lower ranked and unknown slavers are able to get requests that would otherwise go to proven slavers and residents can get their slaves trained for a good price. The guild reimburses residents if their slaver isn&#39;t trained to their specification and the slaver has to pay a penalty for it, but can otherwise continue to collect requests without having their name ruined. 
  
  &lt;br&gt;&lt;br&gt;
  
  Signing up to become a slaver in the guild only requires a one time fee of @@color:red;💎&lt;&lt;print commify($regfee)&gt;&gt; Registration Fee@@, after which you only have to pay a fee when you rank up a grade letter. Your rank can be raised by completing requests, earning you higher commission (and difficulty) requests and more items in the general shop.&lt;/td&gt;&lt;/tr&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;/table&gt;</tw-passagedata><tw-passagedata pid="200" name="Piercing Studio" tags="nobr noreturn" position="137,2508" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Shops&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;$Store.name&lt;/h3&gt;&lt;/center&gt;

Choose one of your slaves to make an appointment to get a piercing done.

&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
	&lt;&lt;set _character = $slaves[_i]&gt;&gt;

	&lt;br&gt;&lt;br&gt;
	&lt;&lt;if _character.appointment.type == null&gt;&gt;
		&lt;&lt;displayTitle _character.title &quot;title&quot;&gt;&gt; _character.name | &lt;&lt;print &quot;[[Piercing][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;hr&gt;</tw-passagedata><tw-passagedata pid="201" name="Piercing" tags="nobr noreturn" position="267,2508" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;&lt;&lt;displayTitle $activeCharacter.title &quot;title&quot;&gt;&gt; $activeCharacter.name | Piercings&lt;/h3&gt;&lt;/center&gt;

&lt;&lt;if !$activeCharacter.piercing.ear.type&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 500&gt;&gt;
		&lt;b&gt;[[Basic Ear Piercing I|Piercing][$PC.money -= 500, $activeCharacter.piercing.ear.type = 1, $activeCharacter.piercing.ear.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Ear Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s earlobes pierced. This is a single, most basic piercing you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ear.

&lt;&lt;elseif $activeCharacter.piercing.ear.type == 1&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 1500&gt;&gt;
		&lt;b&gt;[[Basic Ear Piercing II|Piercing][$PC.money -= 1500, $activeCharacter.piercing.ear.type = 2, $activeCharacter.piercing.ear.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(1500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Ear Piercing II&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(1500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s ear cartilage pierced. This is known as the helix piercing, and is usually used for some of the more stylish types of ear piercings.

&lt;&lt;elseif $Store.level == 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s ear piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if !$activeCharacter.piercing.eyebrow.type&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 500&gt;&gt;
		&lt;b&gt;[[Basic Eyebrow Piercing I|Piercing][$PC.money -= 500, $activeCharacter.piercing.eyebrow.type = 1, $activeCharacter.piercing.eyebrow.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Eyebrow Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s eyebrows pierced. This is a single, most basic piercing you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyebrows.

&lt;&lt;elseif $activeCharacter.piercing.eyebrow.type == 1&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 2000&gt;&gt;
		&lt;b&gt;[[Basic Eyebrow Piercing II|Piercing][$PC.money -= 2000, $activeCharacter.piercing.eyebrow.type = 2, $activeCharacter.piercing.eyebrow.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(2000)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Eyebrow Piercing II&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(2000)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s eyebrows pierced multiple times. As these piercings are meant to decorate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyebrows, having a row of eyebrow piercings helps to accentuate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; exoticism.

&lt;&lt;elseif $Store.level == 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s eyebrow piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if !$activeCharacter.piercing.nose.type&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 500&gt;&gt;
		&lt;b&gt;[[Basic Nose Piercing I|Piercing][$PC.money -= 500, $activeCharacter.piercing.nose.type = 1, $activeCharacter.piercing.nose.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Nose Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have one of $activeCharacter.name&#39;s nostrils pierced. This is a single, most basic piercing you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nose.

&lt;&lt;elseif $Store.level == 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s nose piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if !$activeCharacter.piercing.tongue.type&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 500&gt;&gt;
		&lt;b&gt;[[Basic Tongue Piercing I|Piercing][$PC.money -= 500, $activeCharacter.piercing.tongue.type = 1, $activeCharacter.piercing.tongue.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Tongue Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s tongue pierced. This is a single, most basic piercing you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue.

&lt;&lt;elseif $Store.level == 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s tongue piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if !$activeCharacter.piercing.lip.type&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 500&gt;&gt;
		&lt;b&gt;[[Basic Lip Piercing I|Piercing][$PC.money -= 500, $activeCharacter.piercing.lip.type = 1, $activeCharacter.piercing.lip.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Lip Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s bottom lip pierced. This is a single, most basic piercing you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lips.

&lt;&lt;elseif $Store.level == 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s lip piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if !$activeCharacter.piercing.nipple.type&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 1000&gt;&gt;
		&lt;b&gt;[[Basic Nipple Piercing I|Piercing][$PC.money -= 1000, $activeCharacter.piercing.nipple.type = 1, $activeCharacter.piercing.nipple.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(1000)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Nipple Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(1000)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s nipples pierced. This is a single, most basic piercing you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nipples.

&lt;&lt;elseif $Store.level == 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s nipple piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if !$activeCharacter.piercing.navel.type&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 500&gt;&gt;
		&lt;b&gt;[[Basic Navel Piercing I|Piercing][$PC.money -= 500, $activeCharacter.piercing.navel.type = 1, $activeCharacter.piercing.navel.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Navel Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s navel pierced. This is a single, most basic piercing you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; navel.

&lt;&lt;elseif $Store.level == 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s navel piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.cock.current &gt;= 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$activeCharacter.piercing.cock.type &amp;&amp; $activeCharacter.cock.current &gt;= 1&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 1500&gt;&gt;
		&lt;b&gt;[[Basic Cock Piercing I|Piercing][$PC.money -= 1500, $activeCharacter.piercing.cock.type = 1, $activeCharacter.piercing.cock.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(1500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Cock Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(1500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s cock pierced with a frenum piercing. This is a single, most basic piercing you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cock.

&lt;&lt;elseif $activeCharacter.piercing.cock.type == 1 &amp;&amp; $activeCharacter.cock.current &gt;= 1&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 4000&gt;&gt;
		&lt;b&gt;[[Basic Cock Piercing II|Piercing][$PC.money -= 4000, $activeCharacter.piercing.cock.type = 2, $activeCharacter.piercing.cock.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(4000)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Cock Piercing II&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(4000)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s cock further pierced with an ampallang piercing, which is a vertical piercing straight through the cockhead. It usually doesn&#39;t add any pleasure to the user or their partners and is mainly just for aesthetic purposes.

&lt;&lt;elseif $Store.level == 1 &amp;&amp; $activeCharacter.cock.current &gt;= 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s cock piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.pussy.current &gt;= 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$activeCharacter.piercing.pussy.type &amp;&amp; $activeCharacter.pussy.current &gt;= 1&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 1500&gt;&gt;
		&lt;b&gt;[[Basic Pussy Piercing I|Piercing][$PC.money -= 1500, $activeCharacter.piercing.pussy.type = 1, $activeCharacter.piercing.pussy.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(1500)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Pussy Piercing I&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(1500)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s pussy pierced with a pair of inner and outer labia piercings. This is the single, most basic piercings you can get for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before you can get more advanced piercings for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pussy.

&lt;&lt;elseif $activeCharacter.piercing.pussy.type == 1 &amp;&amp; $activeCharacter.pussy.current &gt;= 1&gt;&gt;
	&lt;&lt;if $PC.money &gt;= 4000&gt;&gt;
		&lt;b&gt;[[Basic Pussy Piercing II|Piercing][$PC.money -= 4000, $activeCharacter.piercing.pussy.type = 2, $activeCharacter.piercing.pussy.jewelry = 0]]&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(4000)&gt;&gt;@@
	&lt;&lt;else&gt;&gt;
		&lt;b&gt;Basic Pussy Piercing II&lt;/b&gt; | @@color:red;💎&lt;&lt;print commify(4000)&gt;&gt;@@
	&lt;&lt;/if&gt;&gt;
	&lt;br&gt;
	Have $activeCharacter.name&#39;s pussy further pierced with a vertical clitoral hood piercing. This pericing is usually very sexually stimulating as opposed to the inner and outer labia piercings, which are usually only done for aesthetic purposes.

&lt;&lt;elseif $Store.level == 1 &amp;&amp; $activeCharacter.pussy.current &gt;= 1&gt;&gt;
	&lt;b&gt;$activeCharacter.name&#39;s pussy piercings are too advanced for anyone in $Store.name to work &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; piercings. &lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="202" name="Piercing Description" tags="nobr noreturn notruereturn" position="851,393" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $playerStatus&gt;&gt;
	&lt;center&gt;&lt;h3&gt;Your Piercings&lt;/h3&gt;&lt;/center&gt;
	&lt;&lt;set _name = &quot;You&quot;&gt;&gt;
	&lt;&lt;set _namep = &quot;You&quot;&gt;&gt;
	&lt;&lt;set _Their = &quot;Your&quot;&gt;&gt;
	&lt;&lt;set _their = &quot;your&quot;&gt;&gt;
	&lt;&lt;set _They = &quot;You&quot;&gt;&gt;
	&lt;&lt;set _has = &quot;have&quot;&gt;&gt;
	&lt;&lt;set _piercingslave = $PC&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;if $identifySlave&gt;&gt;
		&lt;&lt;set _piercingslave = $identifySlave&gt;&gt;

	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _piercingslave = $activeCharacter&gt;&gt;

	&lt;&lt;/if&gt;&gt;
	
	&lt;center&gt;&lt;h3&gt;_piercingslave.name&#39;s Piercings&lt;/h3&gt;&lt;/center&gt;
	&lt;&lt;set _name = _piercingslave.name&gt;&gt;
	&lt;&lt;set _namep = _piercingslave.name + &quot;&#39;s&quot;&gt;&gt;
	&lt;&lt;set _Their = $HisHer[_piercingslave.gender]&gt;&gt;
	&lt;&lt;set _their = $hisher[_piercingslave.gender]&gt;&gt;
	&lt;&lt;set _They =  $HeShe[_piercingslave.gender]&gt;&gt;
	&lt;&lt;set _has = &quot;has&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;piercing _piercingslave.piercing.ear.type _piercingslave.piercing.ear.jewelry &quot;Ear Piercings&quot;&gt;&gt;
&lt;br&gt;

&lt;&lt;if !_piercingslave.piercing.ear.type&gt;&gt;
	&lt;&lt;set _piercingslave.piercing.ear.jewelry == 0&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;jewelry &quot;Ear&quot;&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_piercingslave.piercing.ear.type&gt;&gt;
	_name currently _has no ear piercings.

&lt;&lt;elseif _piercingslave.piercing.ear.jewelry == 0&gt;&gt;
	_name _has ear piercings but currently doesn&#39;t have any jewelry in them.

&lt;&lt;elseif _piercingslave.piercing.ear.type == 1&gt;&gt;
	_namep earlobes are pierced and are fitted with &lt;&lt;print $Jewelry[_piercingslave.piercing.ear.jewelry]&gt;&gt; studs.

&lt;&lt;elseif _piercingslave.piercing.ear.type == 2&gt;&gt;
	_namep earlobes are pierced and are fitted with &lt;&lt;print $Jewelry[_piercingslave.piercing.ear.jewelry]&gt;&gt; studs. _They also _has helix (cartilage) piercings on both ears which are fitted &lt;&lt;print $Jewelry[_piercingslave.piercing.ear.jewelry]&gt;&gt; earrings.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;piercing _piercingslave.piercing.eyebrow.type _piercingslave.piercing.eyebrow.jewelry &quot;Eyebrow Piercings&quot;&gt;&gt;
&lt;br&gt;

&lt;&lt;if !_piercingslave.piercing.eyebrow.type&gt;&gt;
	&lt;&lt;set _piercingslave.piercing.eyebrow.jewelry == 0&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;jewelry &quot;Eyebrow&quot;&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_piercingslave.piercing.eyebrow.type&gt;&gt;
	_name currently _has no eyebrow piercings.

&lt;&lt;elseif _piercingslave.piercing.eyebrow.jewelry == 0&gt;&gt;
	_name _has eyebrow piercings but currently doesn&#39;t have any jewelry in them.

&lt;&lt;elseif _piercingslave.piercing.eyebrow.type == 1&gt;&gt;
	_namep eyebrows are pierced and fitted with &lt;&lt;print $Jewelry[_piercingslave.piercing.eyebrow.jewelry]&gt;&gt; eyebrow rings.

&lt;&lt;elseif _piercingslave.piercing.eyebrow.type == 2&gt;&gt;
	_name _has a row of eyebrow piercings on both of _their eyebrows fitted with &lt;&lt;print $Jewelry[_piercingslave.piercing.eyebrow.jewelry]&gt;&gt; eyebrow rings.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;piercing _piercingslave.piercing.nose.type _piercingslave.piercing.nose.jewelry &quot;Nose Piercings&quot;&gt;&gt;
&lt;br&gt;

&lt;&lt;if !_piercingslave.piercing.nose.type&gt;&gt;
	&lt;&lt;set _piercingslave.piercing.nose.jewelry == 0&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;jewelry &quot;Nose&quot;&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_piercingslave.piercing.nose.type&gt;&gt;
	_name currently _has no nose piercings.

&lt;&lt;elseif _piercingslave.piercing.nose.jewelry == 0&gt;&gt;
	_name _has nose piercings but currently doesn&#39;t have any jewelry in them.

&lt;&lt;elseif _piercingslave.piercing.nose.type == 1&gt;&gt;
	One of _namep nostrils are pierced and fitted with a &lt;&lt;print $Jewelry[_piercingslave.piercing.nose.jewelry]&gt;&gt; stud.

&lt;&lt;elseif _piercingslave.piercing.nose.type == 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;piercing _piercingslave.piercing.tongue.type _piercingslave.piercing.tongue.jewelry &quot;Tongue Piercings&quot;&gt;&gt;
&lt;br&gt;

&lt;&lt;if !_piercingslave.piercing.tongue.type&gt;&gt;
	&lt;&lt;set _piercingslave.piercing.tongue.jewelry == 0&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;jewelry &quot;Tongue&quot;&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_piercingslave.piercing.tongue.type&gt;&gt;
	_name currently _has no tongue piercings.

&lt;&lt;elseif _piercingslave.piercing.tongue.jewelry == 0&gt;&gt;
	_name _has tongue piercings but currently doesn&#39;t have any jewelry in them.

&lt;&lt;elseif _piercingslave.piercing.tongue.type == 1&gt;&gt;
	_namep tongue is pierced and fitted with a &lt;&lt;print $Jewelry[_piercingslave.piercing.tongue.jewelry]&gt;&gt; stud.

&lt;&lt;elseif _piercingslave.piercing.tongue.type == 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;piercing _piercingslave.piercing.lip.type _piercingslave.piercing.lip.jewelry &quot;Lip Piercings&quot;&gt;&gt;
&lt;br&gt;

&lt;&lt;if !_piercingslave.piercing.lip.type&gt;&gt;
	&lt;&lt;set _piercingslave.piercing.lip.jewelry == 0&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;jewelry &quot;Lip&quot;&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_piercingslave.piercing.lip.type&gt;&gt;
	_name currently _has no lip piercings.

&lt;&lt;elseif _piercingslave.piercing.lip.jewelry == 0&gt;&gt;
	_name _has lip piercings but currently doesn&#39;t have any jewelry in them.

&lt;&lt;elseif _piercingslave.piercing.lip.type == 1&gt;&gt;
	_namep bottom lip is pierced and fitted with a &lt;&lt;print $Jewelry[_piercingslave.piercing.lip.jewelry]&gt;&gt; stud.

&lt;&lt;elseif _piercingslave.piercing.lip.type == 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;piercing _piercingslave.piercing.nipple.type _piercingslave.piercing.nipple.jewelry &quot;Nipple Piercings&quot;&gt;&gt;
&lt;br&gt;

&lt;&lt;if !_piercingslave.piercing.nipple.type&gt;&gt;
	&lt;&lt;set _piercingslave.piercing.nipple.jewelry == 0&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;jewelry &quot;Nipple&quot;&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_piercingslave.piercing.nipple.type&gt;&gt;
	_name currently _has no nipple piercings.

&lt;&lt;elseif _piercingslave.piercing.nipple.jewelry == 0&gt;&gt;
	_name _has nipple piercings but currently doesn&#39;t have any jewelry in them.

&lt;&lt;elseif _piercingslave.piercing.nipple.type == 1&gt;&gt;
	_namep nipples are pierced and fitted with &lt;&lt;print $Jewelry[_piercingslave.piercing.nipple.jewelry]&gt;&gt; nipple rings.

&lt;&lt;elseif _piercingslave.piercing.nipple.type == 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;piercing _piercingslave.piercing.navel.type _piercingslave.piercing.navel.jewelry &quot;Navel Piercings&quot;&gt;&gt;
&lt;br&gt;

&lt;&lt;if !_piercingslave.piercing.navel.type&gt;&gt;
	&lt;&lt;set _piercingslave.piercing.navel.jewelry == 0&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;jewelry &quot;Navel&quot;&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_piercingslave.piercing.navel.type&gt;&gt;
	_name currently _has no navel piercings.

&lt;&lt;elseif _piercingslave.piercing.navel.jewelry == 0&gt;&gt;
	_name _has navel piercings but currently doesn&#39;t have any jewelry in them.

&lt;&lt;elseif _piercingslave.piercing.navel.type == 1&gt;&gt;
	_namep navel is pierced and fitted with a &lt;&lt;print $Jewelry[_piercingslave.piercing.navel.jewelry]&gt;&gt; stud.

&lt;&lt;elseif _piercingslave.piercing.navel.type == 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _piercingslave.cock.current &gt;= 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;piercing _piercingslave.piercing.cock.type _piercingslave.piercing.cock.jewelry &quot;Cock Piercings&quot;&gt;&gt;
	&lt;br&gt;
	
	&lt;&lt;if !_piercingslave.piercing.cock.type&gt;&gt;
		&lt;&lt;set _piercingslave.piercing.cock.jewelry == 0&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;jewelry &quot;Cock&quot;&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !_piercingslave.piercing.cock.type&gt;&gt;
		_name currently _has no cock piercings.

	&lt;&lt;elseif _piercingslave.piercing.cock.jewelry == 0&gt;&gt;
		_name _has cock piercings but currently doesn&#39;t have any jewelry in them.

	&lt;&lt;elseif _piercingslave.piercing.cock.type == 1&gt;&gt;
		_namep frelenum is pierced and fitted with a &lt;&lt;print $Jewelry[_piercingslave.piercing.cock.jewelry]&gt;&gt; barbell stud.

	&lt;&lt;elseif _piercingslave.piercing.cock.type == 2&gt;&gt;
		_namep frelenum is pierced and fitted with a &lt;&lt;print $Jewelry[_piercingslave.piercing.cock.jewelry]&gt;&gt; barbell stud. _Their cockhead also has a vertical &lt;&lt;print $Jewelry[_piercingslave.piercing.cock.jewelry]&gt;&gt; barbell stud going through it as well.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _piercingslave.pussy.current &gt;= 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;

	&lt;&lt;piercing _piercingslave.piercing.pussy.type _piercingslave.piercing.pussy.jewelry &quot;Pussy Piercings&quot;&gt;&gt;
	&lt;br&gt;
	
	&lt;&lt;if !_piercingslave.piercing.pussy.type&gt;&gt;
		&lt;&lt;set _piercingslave.piercing.pussy.jewelry == 0&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;jewelry &quot;Pussy&quot;&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !_piercingslave.piercing.pussy.type&gt;&gt;
		_name currently _has no pussy piercings.

	&lt;&lt;elseif _piercingslave.piercing.pussy.jewelry == 0&gt;&gt;
		_name _has pussy piercings but currently doesn&#39;t have any jewelry in them.

	&lt;&lt;elseif _piercingslave.piercing.pussy.type == 1&gt;&gt;
		_name _has both _their inner and outer labia pierced with a pair of &lt;&lt;print $Jewelry[_piercingslave.piercing.pussy.jewelry]&gt;&gt; labia rings.

	&lt;&lt;elseif _piercingslave.piercing.pussy.type == 2&gt;&gt;
		_name _has both _their inner and outer labia pierced with a pair of &lt;&lt;print $Jewelry[_piercingslave.piercing.pussy.jewelry]&gt;&gt; labia rings. _They also _has _their a vertical clitoral hood piercing fitted with a &lt;&lt;print $Jewelry[_piercingslave.piercing.pussy.jewelry]&gt;&gt; ring.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="203" name="Piercing Widget" tags="nobr widget" position="851,523" size="100,100">&lt;&lt;widget &quot;piercing&quot;&gt;&gt;

&lt;&lt;set _exoticism = 0&gt;&gt;

&lt;&lt;if $args[1] != 0&gt;&gt;
	&lt;&lt;set _exoticism = $args[0] + $args[1]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _exoticism &lt; 2&gt;&gt;
	&lt;&lt;set _color = &quot;red&quot;&gt;&gt;
&lt;&lt;elseif _exoticism &lt; 4&gt;&gt;
	&lt;&lt;set _color = &quot;orange&quot;&gt;&gt;
&lt;&lt;elseif _exoticism &lt; 8&gt;&gt;
	&lt;&lt;set _color = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _exoticism &lt; 12&gt;&gt;
	&lt;&lt;set _color = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _exoticism &lt; 16&gt;&gt;
	&lt;&lt;set _color = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _color = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;&quot;+$args[2]+&quot;@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="204" name="Jewelry" tags="nobr" position="386,2008" size="100,100">&lt;&lt;set $Jewelry = {0: &quot;None&quot;, 1: &quot;stone&quot;, 2: &quot;slime stone&quot;}&gt;&gt;

&lt;&lt;set $SEJS = {name: &quot;Stone Ear Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Ear&quot;, price: 5000, description: &quot;A large set of assorted stone ear jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SEES = {name: &quot;Stone Eyebrow Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Eyebrow&quot;, price: 5000, description: &quot;A large set of assorted stone eyebrow jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SENS = {name: &quot;Stone Nose Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Nose&quot;, price: 5000, description: &quot;A large set of assorted stone nose jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SETS = {name: &quot;Stone Tongue Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Tongue&quot;, price: 5000, description: &quot;A large set of assorted stone tongue jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SELS = {name: &quot;Stone Lip Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Lip&quot;, price: 5000, description: &quot;A large set of assorted stone lip jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SENiS = {name: &quot;Stone Nipples Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Nipple&quot;, price: 5000, description: &quot;A large set of assorted stone nipple jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SENaS = {name: &quot;Stone Navel Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Navel&quot;, price: 5000, description: &quot;A large set of assorted stone navel jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SECS = {name: &quot;Stone Cock Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Cock&quot;, price: 5000, description: &quot;A large set of assorted stone cock jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SEPS = {name: &quot;Stone Pussy Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 1, style: &quot;Pussy&quot;, price: 5000, description: &quot;A large set of assorted stone pussy jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSEJS = {name: &quot;Slime Stone Ear Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Ear&quot;, price: 15000, description: &quot;A large set of assorted slime stone ear jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSEES = {name: &quot;Slime Stone Eyebrow Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Eyebrow&quot;, price: 15000, description: &quot;A large set of assorted slime stone eyebrow jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSENS = {name: &quot;Slime Stone Nose Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Nose&quot;, price: 15000, description: &quot;A large set of assorted slime stone nose jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSETS = {name: &quot;Slime Stone Tongue Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Tongue&quot;, price: 15000, description: &quot;A large set of assorted slime stone tongue jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSELS = {name: &quot;Slime Stone Lip Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Lip&quot;, price: 15000, description: &quot;A large set of assorted slime stone lip jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSENiS = {name: &quot;Slime Stone Nipples Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Nipple&quot;, price: 15000, description: &quot;A large set of assorted slime stone nipple jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSENaS = {name: &quot;Slime Stone Navel Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Navel&quot;, price: 15000, description: &quot;A large set of assorted slime stone navel jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSECS = {name: &quot;Slime Stone Cock Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Cock&quot;, price: 15000, description: &quot;A large set of assorted slime stone cock jewelry of various colors.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $SSEPS = {name: &quot;Slime Stone Pussy Jewelry Set&quot;, rank: &quot;D&quot;, type: &quot;Jewelry&quot;, cut: 2, style: &quot;Pussy&quot;, price: 15000, description: &quot;A large set of assorted slime stone pussy jewelry of various colors.&quot;, amount: 0}&gt;&gt;</tw-passagedata><tw-passagedata pid="205" name="Bulk Store" tags="nobr noreturn" position="136,2638" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Shops&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;$Store.name&lt;/h3&gt;&lt;/center&gt;
&lt;br&gt;

$Store.welcome

&lt;&lt;if $boughtitem&gt;&gt;
	&lt;&lt;include &quot;Purchase Bulk&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _bulk = 0&gt;&gt;

&lt;hr&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;tr&gt;
	&lt;th style=&#39;width: 30%;&#39;&gt;Name&lt;/th&gt;
	&lt;th style=&#39;width: 10%;&#39;&gt;Price&lt;/th&gt;
	&lt;th style=&#39;width: 60%;&#39;&gt;Description&lt;/th&gt;
&lt;/tr&gt;

&lt;&lt;for _i = 0; _i &lt; $Store.inventory.length;_i++&gt;&gt;
	&lt;&lt;set _item = $Store.inventory[_i]&gt;&gt;

	&lt;&lt;set _price = commify(_item.price)&gt;&gt;

	&lt;&lt;if checkBulk($bulk, _item)&gt;&gt;
		&lt;&lt;continue&gt;&gt;
	&lt;&lt;elseif $PC.money &gt;= _item.price&gt;&gt;
		&lt;tr&gt;
			&lt;td&gt;&lt;&lt;print &quot;[[_item.name|Bulk Store][$boughtitem = $Store.inventory[&quot; + _i + &quot;]]]&quot;&gt;&gt;&lt;/td&gt;
			&lt;td&gt;@@color:lightgreen;💎_price@@&lt;/td&gt;
			&lt;td&gt;_item.description&lt;/td&gt;
		&lt;/tr&gt;

		&lt;&lt;set _bulk++&gt;&gt;

	&lt;&lt;else&gt;&gt;
		&lt;tr&gt;
			&lt;td&gt;&lt;b&gt;_item.name&lt;/b&gt;&lt;/td&gt;
			&lt;td&gt;@@color:lightgreen;💎_price@@&lt;/td&gt;
			&lt;td&gt;_item.description&lt;/td&gt;
		&lt;/tr&gt;

		&lt;&lt;set _bulk++&gt;&gt;

	&lt;&lt;/if&gt;&gt;

&lt;&lt;/for&gt;&gt;

&lt;&lt;if _bulk == 0&gt;&gt;
	&lt;tr&gt;&lt;td colspan=3&gt;&lt;b&gt;You have already bought all of this store&#39;s items.&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;&lt;/if&gt;&gt;
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="206" name="Purchase Bulk" tags="nobr" position="266,2639" size="100,100">&lt;br&gt;&lt;br&gt;

&lt;b&gt;You bought the $boughtitem.name.&lt;/b&gt;

&lt;&lt;set $PC.money -= $boughtitem.price&gt;&gt;
&lt;&lt;set $bulk.push($boughtitem)&gt;&gt;	
&lt;&lt;unset $boughtitem&gt;&gt;
&lt;&lt;unset _item&gt;&gt;</tw-passagedata><tw-passagedata pid="207" name="Item Widget" tags="widget nobr" position="1620,701" size="100,100">&lt;&lt;widget &quot;Item&quot;&gt;&gt;

&lt;&lt;if $args[0] == &quot;D&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;gray&quot;&gt;&gt;
	
&lt;&lt;elseif $args[0] == &quot;C&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;green&quot;&gt;&gt;
	
&lt;&lt;elseif $args[0] == &quot;B&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;#3333ff&quot;&gt;&gt;
	
&lt;&lt;elseif $args[0] == &quot;A&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;#6600cc&quot;&gt;&gt;
	
&lt;&lt;elseif $args[0] == &quot;S&quot;&gt;&gt;
	&lt;&lt;set _color = &quot;#EEE8AA&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $args[1] == &quot;Bulk&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;&quot;+$args[2]+&quot; | Rank &quot;+$args[0]+&quot;@@&quot;&gt;&gt;&lt;/b&gt;
	&lt;br&gt;
	&lt;&lt;print $args[3]&gt;&gt; This is a bulk item. It can be used by an unlimited amount of slaves, an unlimited amount of times without running out.
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="208" name="Jewelry Widget" tags="widget nobr" position="851,653" size="100,100">&lt;&lt;widget &quot;jewelry&quot;&gt;&gt;

&lt;&lt;set _style = lowercase($args[0])&gt;&gt;

&lt;&lt;if !$activeCharacter.piercing[_style][&quot;jewelry&quot;]&gt;&gt;
	None
&lt;&lt;else&gt;&gt;
	&lt;&lt;print &quot;[[None|Piercing Description][$activeCharacter.piercing.&quot; + _style + &quot;[&#39;jewelry&#39;] = 0]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;for _j = 0; _j &lt; $bulk.length; _j++&gt;&gt;
	&lt;&lt;set _jewelry = $bulk[_j]&gt;&gt;
	&lt;&lt;if _jewelry.style == $args[0]&gt;&gt;
		&lt;&lt;if _jewelry.cut == $activeCharacter.piercing[_style][&#39;jewelry&#39;]&gt;&gt;
			| _jewelry.name
		&lt;&lt;else&gt;&gt;
			| &lt;&lt;print &quot;[[_jewelry.name|Piercing Description][$activeCharacter.piercing.&quot; + _style + &quot;[&#39;jewelry&#39;] = &quot; + _jewelry.cut + &quot;]]&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="209" name="Wardrobe Widget" tags="nobr widget" position="852,133" size="100,100">&lt;&lt;widget &quot;wardrobe&quot;&gt;&gt;

&lt;&lt;if $args[2] == &quot;Jewelry&quot;&gt;&gt;
	&lt;b&gt;$args[0] Jewelry&lt;/b&gt;
	&lt;br&gt;

	&lt;&lt;if $args[1] == null&gt;&gt;
		None
	&lt;&lt;else&gt;&gt;
		&lt;&lt;print &quot;[[None|Wardrobe][$&quot; + $args[0] + &quot; = null]]&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;set _chosenjewel = null&gt;&gt;

	&lt;&lt;for _j = 0; _j &lt; $bulk.length; _j++&gt;&gt;
		&lt;&lt;set _jewelry = $bulk[_j]&gt;&gt;
		&lt;&lt;if _jewelry.style == $args[0]&gt;&gt;
			&lt;&lt;if _jewelry.name == $args[1]&gt;&gt;
				| _jewelry.name
				
				&lt;&lt;set _chosenjewelry = _jewelry&gt;&gt;
			&lt;&lt;else&gt;&gt;
				| &lt;&lt;print &quot;[[_jewelry.name|Wardrobe][$&quot; + $args[0] + &quot; = &#39;&quot; + _jewelry.name + &quot;&#39;]]&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
	
	&lt;&lt;if $args[1] != null&gt;&gt;
		&lt;br&gt;&lt;br&gt;
		&lt;&lt;Item _chosenjewelry.rank &quot;Bulk&quot; _chosenjewelry.name _chosenjewelry.description&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="210" name="Unset Wardrobe" tags="nobr" position="851,263" size="100,100">&lt;&lt;unset $Ear&gt;&gt;
&lt;&lt;unset $Eyebrow&gt;&gt;
&lt;&lt;unset $Nose&gt;&gt;
&lt;&lt;unset $Tongue&gt;&gt;
&lt;&lt;unset $Lip&gt;&gt;
&lt;&lt;unset $Nipple&gt;&gt;
&lt;&lt;unset $Navel&gt;&gt;
&lt;&lt;unset $Cock&gt;&gt;
&lt;&lt;unset $Pussy&gt;&gt;</tw-passagedata><tw-passagedata pid="211" name="Clothes" tags="nobr" position="511,2008" size="100,100">&lt;&lt;set $shift = {name: &quot;Shift&quot;, rank: &quot;D&quot;, type: &quot;Clothes&quot;, cut: 1, style: &quot;outfit&quot;, price: 0, description: &quot;A short sleeved gray shift large enough to cover from a slave&#39;s neck down to their knees.&quot;, amount: 0}&gt;&gt;</tw-passagedata><tw-passagedata pid="212" name="Gender Widget" tags="nobr widget" position="1621,831" size="100,100">&lt;&lt;widget &quot;gender&quot;&gt;&gt;

&lt;&lt;if $args[0] == &quot;Compendium&quot;&gt;&gt;
	&lt;&lt;switch $args[1]&gt;&gt;
		&lt;&lt;case &quot;Male&quot;&gt;&gt;
			@@color:#3A82FF;Male (♂)@@
			
		&lt;&lt;case &quot;Female&quot;&gt;&gt;
			@@color:#FD81CA;Female (♀)@@
			
		&lt;&lt;case &quot;Shemale&quot;&gt;&gt;
			@@color:#9A63FF;Shemale (⚦)@@
		
		&lt;&lt;case &quot;Futanari&quot;&gt;&gt;
			@@color:#9A63FF;Futanari (⚥)@@
			
		&lt;&lt;case &quot;Transgender&quot;&gt;&gt;
			@@color:#9A63FF;Transgender (⚧)@@
			
		&lt;&lt;/switch&gt;&gt;
			
&lt;&lt;elseif $args[0] == &quot;futanari&quot;&gt;&gt;
	(@@color:#9A63FF;⚥@@)
&lt;&lt;elseif $args[0] == &quot;shemale&quot;&gt;&gt;
	(@@color:#9A63FF;⚦@@)
&lt;&lt;elseif $args[0] != $args[1]&gt;&gt;
	(@@color:#9A63FF;⚧@@)
&lt;&lt;elseif $args[1] == &quot;female&quot;&gt;&gt;
	(@@color:#FD81CA;♀@@)
&lt;&lt;elseif $args[1] == &quot;male&quot;&gt;&gt;
	(@@color:#3A82FF;♂@@)
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="213" name="Estate Capacity" tags="nobr" position="616,133" size="100,100">&lt;b&gt;Estate Capacity&lt;/b&gt;&lt;br&gt;
Your estate can currently accommodate up to $estate.cap slaves at a time.

&lt;&lt;set _cost = 0&gt;&gt;

&lt;&lt;if $estate.cap == 4&gt;&gt;
	&lt;&lt;set _newcap = 6&gt;&gt;
	&lt;&lt;set _cost = 10000&gt;&gt;

&lt;&lt;elseif $estate.cap == 6&gt;&gt;
	&lt;&lt;set _newcap = 8&gt;&gt;
	&lt;&lt;set _cost = 25000&gt;&gt;

&lt;&lt;elseif $estate.cap == 8&gt;&gt;
	&lt;&lt;set _newcap = 10&gt;&gt;
	&lt;&lt;set _cost = 50000&gt;&gt;

&lt;&lt;elseif $estate.cap == 10&gt;&gt;
	&lt;&lt;set _newcap = 12&gt;&gt;
	&lt;&lt;set _cost = 100000&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _fee = commify(_cost)&gt;&gt;

&lt;br&gt;

&lt;&lt;if $estate.cap &gt;= 12&gt;&gt;
	&lt;b&gt;You have upgraded your estate to maximum capacity.&lt;/b&gt;
&lt;&lt;elseif $PC.money &gt;= _cost&gt;&gt;
	&lt;&lt;print &quot;[[Upgrade Estate&#39;s Slave Capacity|Estate][$PC.money -= _cost, $estate.cap = _newcap]]&quot;&gt;&gt; | @@color:lightgreen;💎_fee@@ | _newcap Slave Capacity
&lt;&lt;else&gt;&gt;
	You need @@color:lightgreen;💎_cost@@ to upgrade your estate&#39;s slave capacity.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="214" name="Estate Residence" tags="nobr" position="616,263" size="100,100">&lt;b&gt;Estate Residences&lt;/b&gt;&lt;br&gt;

Your estate currently has &lt;b&gt;$estate.rooms.amount&lt;/b&gt; residences on its plot, and &lt;b&gt;$estate.rooms.used&lt;/b&gt; residences are currently being used.

&lt;&lt;set _estatecost = 0&gt;&gt;

&lt;&lt;if $estate.rooms.amount == 1&gt;&gt;
	&lt;&lt;set _estatenewcap = 2&gt;&gt;
	&lt;&lt;set _estatecost = 20000&gt;&gt;

&lt;&lt;elseif $estate.rooms.amount == 2&gt;&gt;
	&lt;&lt;set _estatenewcap = 3&gt;&gt;
	&lt;&lt;set _estatecost = 40000&gt;&gt;

&lt;&lt;elseif $estate.rooms.amount == 3&gt;&gt;
	&lt;&lt;set _estatenewcap = 4&gt;&gt;
	&lt;&lt;set _estatecost = 80000&gt;&gt;

&lt;&lt;elseif $estate.rooms.amount == 4&gt;&gt;
	&lt;&lt;set _estatenewcap = 5&gt;&gt;
	&lt;&lt;set _estatecost = 120000&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _estatefee = commify(_estatecost)&gt;&gt;

&lt;br&gt;

&lt;&lt;if $estate.rooms.amount &gt;= 3&gt;&gt;
	&lt;b&gt;You have upgraded your estate to have the maxmimum amount of residences.&lt;/b&gt;
&lt;&lt;elseif $PC.money &gt;= _cost&gt;&gt;
	&lt;&lt;print &quot;[[Build New Residence Plot|Estate][$PC.money -= _estatecost, $estate.rooms.amount = _estatenewcap]]&quot;&gt;&gt; | @@color:lightgreen;💎_estatefee@@ | _estatenewcap Residence Plots
&lt;&lt;else&gt;&gt;
	You need @@color:lightgreen;💎_estatefee@@ to upgrade the amount of residences your estate can hold.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	&lt;&lt;set _brothelfee = commify(15000)&gt;&gt;
	&lt;&lt;set _ranchfee = commify(20000)&gt;&gt;
	&lt;&lt;set _chattelfee = commify(30000)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.rooms.amount &gt; $estate.rooms.used&gt;&gt;
	&lt;&lt;if !$estate.brothel.active&gt;&gt;
		&lt;br&gt;
		[[Build Brothel|Brothel Beginnings]] | @@color:lightgreen;💎_brothelfee@@
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$estate.ranch.active&gt;&gt;
		&lt;br&gt;
		[[Build Ranch|Rising Ranch]] | @@color:lightgreen;💎_ranchfee@@
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$estate.chattel.active&gt;&gt;
		&lt;br&gt;
		[[Build Chattel|Chattel Commencement]] | @@color:lightgreen;💎_chattelfee@@
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="215" name="Brothel Beginnings" tags="nobr noreturn notruereturn" position="616,393" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Brothel Beginnings&lt;/h3&gt;&lt;/center&gt;

You have chosen to build a brothel on the outskirts of your estate. The brothel&#39;s type, decor, focus and amount of slaves working will all affect the amount of traction and popularity that a brothel has. Brothel popularity usually takes a while to build and is very reliant on the popularity of the slaves working in it but a successful brothel can be very profitable.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	&lt;&lt;set _brothelfee = commify(15000)&gt;&gt;
	&lt;&lt;set _fee = 15000&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;center&gt;&lt;b&gt;Do you want to build a brothel?&lt;/b&gt;
&lt;&lt;if $PC.money &gt;= _fee&gt;&gt;
	 | @@color:lightgreen;💎_brothelfee@@&lt;br&gt;
	[[Yes|Brothel][$PC.money -= _fee, $buyBrothel = 1, $estate.brothel.active = 1, $estate.rooms.used += 1, $estate.brothel.cap = 4]] |
&lt;&lt;else&gt;&gt;
	 | @@color:red;💎_brothelfee@@&lt;br&gt;
&lt;&lt;/if&gt;&gt;

[[No|Estate]]

&lt;/center&gt;</tw-passagedata><tw-passagedata pid="216" name="Brothel" tags="nobr noreturn" position="618,524" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Main&quot;&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;set $Brothel = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Brothel | $estate.brothel.name&lt;/h3&gt;&lt;/center&gt;

&lt;&lt;if $buyBrothel&gt;&gt;
	&lt;b&gt;@@color:forestgreen;You have built a brothel on your estate!@@&lt;/b&gt;&lt;br&gt;
	You have built a small brothel on the outskirts of your estate. It can hold up to a maximum of 4 slaves, but can be upgraded.
	&lt;&lt;set $buyBrothel = 0&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	
	&lt;&lt;set $estate.brothel.competition = {}&gt;&gt;
	
	&lt;&lt;BrothelCompetition&gt;&gt;
&lt;&lt;/if&gt;&gt;

/*
&lt;&lt;if $estate.brothel.style&gt;&gt;
	&lt;&lt;set _brothelstyle = lowercase($estate.brothel.style) + &quot;-style&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _brothelstyle = &quot;normal&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	Your brothel is _brothelstyle and is lcoated at the edge of you estate, allowing customers access to it without having to have them travel deeper into your estate.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $slaves.amount &gt;= 1 &amp;&amp; $estate.brothel.focus != &quot;Variety&quot;&gt;&gt;
	&lt;&lt;set _ratio = 0&gt;&gt;
	&lt;&lt;set _characters = 0&gt;&gt;

	&lt;&lt;for _s = 1; _s &lt;= $slaves.amount; _s++&gt;&gt;
		&lt;&lt;set _character = $slaves[_s]&gt;&gt;

		&lt;&lt;if _character.location == &quot;brothel&quot;&gt;&gt;
			&lt;&lt;set _ratio += getFocusRatio(_character, $estate)&gt;&gt;
			&lt;&lt;set _characters++&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;

	&lt;&lt;set _ratio = _ratio / _characters&gt;&gt;
	&lt;&lt;set _paraphilia = lowercase($estate.brothel.focus)&gt;&gt;

	&lt;&lt;if _ratio &lt; 25&gt;&gt;
		@@color:red;&#39;&#39;Your slaves will be shunned by those with the _paraphilia paraphilia.&#39;&#39;@@
		&lt;br&gt;
		The slaves you do have working your brothel do not match its focus in the slightest. You may as well not have any slaves working here. Either groom your slaves to cater to people with the _paraphilia paraphilia, get slaves that do, or completely change your brothel&#39;s focus.

	&lt;&lt;elseif _ratio &lt; 50&gt;&gt;
		@@color:orange;&#39;&#39;Your slaves will have a very hard time catering to those with the _paraphilia paraphilia.&#39;&#39;@@
		&lt;br&gt;
		Your slaves do not meet the requirements to cater to those with the _paraphilia paraphilia, and will have a very hard time gaining customers working for your brothel. It would be wise to change the brothel&#39;s focus or groom your slaves so they can better serve their customers.

	&lt;&lt;elseif _ratio &lt; 75&gt;&gt;
		@@color:yellow;&#39;&#39;Your slaves meet the requirements to cater to those with the _paraphilia paraphilia.&#39;&#39;@@
		&lt;br&gt;
		Your slaves won&#39;t be losing any customers for not meeting the brothel&#39;s focus requirements, but they probably won&#39;t gain any either. Overall, your slaves should bring in neither a net gain or a net loss for catering to customers with a _paraphilia paraphilia.

	&lt;&lt;elseif _ratio &lt; 100&gt;&gt;
		@@color:greenyellow;&#39;&#39;Your slaves exceed the requirements to cater to those with the _paraphilia paraphilia.&#39;&#39;@@
		&lt;br&gt;
		People with the _paraphilia paraphilia will be very pleased with the selection of slaves you have inside of your brothel. Your slaves should bring a net gain of customers and gold, as well as popularity.

	&lt;&lt;elseif _ratio &gt;= 100&gt;&gt;
		@@color:forestgreen;&#39;&#39;Your brothel is a sexual haven for those with the _paraphilia paraphilia.&#39;&#39;@@
		&lt;br&gt;
		People with the _paraphilia paraphilia only dream of slaves you have working inside of your brothel. The quality of the slaves you have meet, and sometimes exceed the expectations customers have set for the brothel. Your slaves should bring in a large net gain of customers, gold and popularity.

	&lt;&lt;/if&gt;&gt;

	&lt;br&gt;&lt;br&gt;
&lt;&lt;/if&gt;&gt;

Do you want to change this brothel&#39;s name? &lt;&lt;textbox &quot;$estate.brothel.name&quot; $estate.brothel.name &quot;Brothel&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Brothel Upgrades&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Brothel Capacity&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Brothel Style&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Brothel Focus&quot;&gt;&gt;

&lt;hr&gt;
*/</tw-passagedata><tw-passagedata pid="217" name="Brothel Capacity" tags="nobr" position="616,653" size="100,100">&lt;b&gt;Brothel Capacity&lt;/b&gt;&lt;br&gt;
Your brothel can currently accommodate up to $estate.brothel.cap slaves at a time.

&lt;&lt;set _cost = 0&gt;&gt;

&lt;&lt;if $estate.brothel.cap == 4&gt;&gt;
	&lt;&lt;set _newcap = 6&gt;&gt;
	&lt;&lt;set _cost = 10000&gt;&gt;

&lt;&lt;elseif $estate.brothel.cap == 6&gt;&gt;
	&lt;&lt;set _newcap = 8&gt;&gt;
	&lt;&lt;set _cost = 30000&gt;&gt;
	
&lt;&lt;elseif $estate.brothel.cap == 8&gt;&gt;
	&lt;&lt;set _newcap = 10&gt;&gt;
	&lt;&lt;set _cost = 60000&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _fee = commify(_cost)&gt;&gt;

&lt;br&gt;

&lt;&lt;if $estate.brothel.cap &gt;= 10&gt;&gt;
	&lt;b&gt;You have upgraded your brothel to maximum capacity.&lt;/b&gt;
&lt;&lt;elseif $PC.money &gt;= _cost&gt;&gt;
	&lt;&lt;print &quot;[[Upgrade Brothel&#39;s Slave Capacity|Brothel][$PC.money -= _cost, $estate.brothel.cap = _newcap]]&quot;&gt;&gt; | @@color:lightgreen;💎_fee@@ | _newcap Slave Capacity
&lt;&lt;else&gt;&gt;
	You need @@color:lightgreen;💎_cost@@ to upgrade your brothel&#39;s slave capacity.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="218" name="Brothel Style" tags="nobr" position="616,783" size="100,100">&lt;b&gt;Brothel Style&lt;/b&gt; |

&lt;&lt;if $estate.brothel.style == null&gt;&gt;
	&lt;b&gt;$estate.brothel.name currently doesn&#39;t have a designated style.&lt;/b&gt;
	&lt;br&gt;
	Customer volume and pricing are both a little bit under average. Slaves working this brothel will be more fatigued and marred than the average brothel worker. While there aren&#39;t any inherent disadvantages to owning a styleless brothel, it is much more profitable to run a brothel with a style. 

&lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
	&lt;b&gt;$estate.brothel.name is a theater-style brothel.&lt;/b&gt;
	&lt;br&gt;
	Theater-style brothels serve customers food and drinks. They also provide visual and sexual services. Slaves work as bartenders, servers, dancers and prostitutes. They take shifts so they can perform each job at least once a day, causing them to be much more fatigued than the usual brothel worker. These brothels cost the most to run and have middling popularity but can they can be insanely profitable depending on the talent working them. 
	
&lt;&lt;elseif $estate.brothel.style == &quot;Open&quot;&gt;&gt;
	&lt;b&gt;$estate.brothel.name is an open-style brothel.&lt;/b&gt;
	&lt;br&gt;
	Open-style brothels are extremely popular, low maintenance businesses. Slaves working in these brothels are bound so their movement is constricted while allowing customers to use any parts of their bodies. These slaves don&#39;t get fatigued but they do get maltreated due to the high volume of cheap customers. The value of the talent working in these brothels is very small; quality slaves are much more suited for theater-style or closed-style brothels.
	
&lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
	&lt;b&gt;$estate.brothel.style is a closed-style brothel.&lt;/b&gt;
	&lt;br&gt;
	Closed-style brothels are the most popular style of brothels but attract the least amount of customers. These brothels are very private, the slaves working these places have a clientele built off of months of hard sexual work. These brothels are great for catering to niche fetishes and the value of the talent is much higher than any other type of brothel. Health and fatigue isn&#39;t as much of an issue as they are for slaves working in open-style and theater-style brothels.
	
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	&lt;&lt;set _styleprice = commify(20000)&gt;&gt;
	&lt;&lt;set _stylefee = 20000&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style != null&gt;&gt;
	[[None|Brothel][$style = null]]
&lt;&lt;else&gt;&gt;
	None
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style != &quot;Theater&quot; &amp;&amp; $estate.brothel.style != &quot;Theater&quot;&gt;&gt;
	| [[Theater|Brothel][$style = &quot;Theater&quot;]]
&lt;&lt;elseif $style == &quot;Theater&quot;&gt;&gt;
	| Theater
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style != &quot;Open&quot; &amp;&amp; $estate.brothel.style != &quot;Open&quot;&gt;&gt;
	| [[Open|Brothel][$style = &quot;Open&quot;]]
&lt;&lt;elseif $style == &quot;Open&quot;&gt;&gt;
	| Open
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style != &quot;Closed&quot; &amp;&amp; $estate.brothel.style != &quot;Closed&quot;&gt;&gt;
	| [[Closed|Brothel][$style = &quot;Closed&quot;]]
&lt;&lt;elseif $style == &quot;Closed&quot;&gt;&gt;
	| Closed
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style == &quot;Theater&quot;&gt;&gt;
	&lt;br&gt;
	Theater-style brothels serve customers food and drinks. They also provide visual and sexual services. Slaves work as bartenders, servers, dancers and prostitutes. They take shifts so they can perform each job at least once a day, causing them to be much more fatigued than the usual brothel worker. These brothels cost the most to run and have middling popularity but can they can be insanely profitable depending on the talent working them. 
&lt;&lt;elseif $style == &quot;Open&quot;&gt;&gt;
	&lt;br&gt;
	Open-style brothels are extremely popular, low maintenance businesses. Slaves working in these brothels are bound so their movement is constricted while allowing customers to use any parts of their bodies. These slaves don&#39;t get fatigued but they do get maltreated due to the high volume of cheap customers. The value of the talent working in these brothels is very small; quality slaves are much more suited for theater-style or closed-style brothels.
&lt;&lt;elseif $style == &quot;Closed&quot;&gt;&gt;
	&lt;br&gt;
	Closed-style brothels are the most popular style of brothels but attract the least amount of customers. These brothels are very private, the slaves working these places have a clientele built off of months of hard sexual work. These brothels are great for catering to niche fetishes and the value of the talent is much higher than any other type of brothel. Health and fatigue isn&#39;t as much of an issue as they are for slaves working in open-style and theater-style brothels.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style &amp;&amp; $estate.brothel.style&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;if $PC.money &gt;= _stylefee&gt;&gt;
		[[Change Brothel Style|Brothel][$estate.brothel.style = $style, $style = null, $PC.money -= _stylefee]] | @@color:lightgreen;💎_styleprice@@
	&lt;&lt;else&gt;&gt;
		@@color:red;You need@@ @@color:lightgreen;💎_styleprice@@ @@color:red;to change your brothel&#39;s style.@@
	&lt;&lt;/if&gt;&gt;
&lt;&lt;elseif $style&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;if $PC.money &gt;= _stylefee&gt;&gt;
		[[Adopt Brothel Style|Brothel][$estate.brothel.style = $style, $style = null, $PC.money -= _stylefee]] | @@color:lightgreen;💎_styleprice@@
	&lt;&lt;else&gt;&gt;
		@@color:red;You need@@ @@color:lightgreen;💎_styleprice@@ @@color:red;to adopt a brothel style.@@
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="219" name="Business Report" tags="nobr" position="1491,696" size="100,100">&lt;&lt;if $PC.focus == &quot;Brothel&quot;&gt;&gt;
	&lt;&lt;set $brothelearnings *= 1.25&gt;&gt;
	&lt;&lt;set $brothelearnings = Math.round($brothelearnings)&gt;&gt;

&lt;&lt;elseif $PC.focus == &quot;Ranch&quot;&gt;&gt;
	&lt;&lt;set $ranchearnings *= 1.25&gt;&gt;
	&lt;&lt;set $ranchearnings = Math.round($ranchearnings)&gt;&gt;

&lt;&lt;elseif $PC.focus == &quot;Estate&quot;&gt;&gt;
	&lt;&lt;set $slaveExpense *= .50&gt;&gt;
	&lt;&lt;set $slaveExpense = Math.round($slaveExpense)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $brothelslaves.amount &gt;= 1&gt;&gt;
	&lt;center&gt;&lt;h3&gt;Weekly Brothel Report&lt;/h3&gt;

	&lt;&lt;set _brothelearnings = commify($brothelearnings)&gt;&gt;

	This week $estate.brothel.name served &lt;b&gt;$totalcustomers&lt;/b&gt;, earning you a total of @@color:lightgreen;💎_brothelearnings@@.
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;include &quot;Brothel Summary&quot;&gt;&gt;
	&lt;hr&gt;
	&lt;/center&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $ranchslaves.amount &gt;= 1&gt;&gt;
	&lt;center&gt;&lt;h3&gt;Weekly Ranch Report&lt;/h3&gt;

	&lt;&lt;set _ranchearnings = commify($ranchearnings)&gt;&gt;

	&lt;&lt;run getRanchPopularity($estate, $ranchslaves.amount, $ranchslaves.popularity)&gt;&gt;

	This week $estate.ranch.name produced &lt;b&gt;$totallitres&lt;/b&gt; litres of slave produce, earning you a total of @@color:lightgreen;💎_ranchearnings@@.
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;include &quot;Ranch Summary&quot;&gt;&gt;
	&lt;hr&gt;
	&lt;/center&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="220" name="Business Reports" tags="nobr" position="1491,566" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;End Week Expenses&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;include &quot;Business Report&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="221" name="Brothel Focus" tags="nobr" position="615,913" size="100,100">&lt;b&gt;Brothel Focus&lt;/b&gt;
&lt;br&gt;

&lt;&lt;if $estate.brothel.focus == &quot;Variety&quot;&gt;&gt;
	Variety
&lt;&lt;else&gt;&gt;
	[[Variety|Brothel][$estate.brothel.focus = &quot;Variety&quot;]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.research.popular&gt;&gt;
	&lt;&lt;if $estate.brothel.focus == &quot;Megalophilia&quot;&gt;&gt;
		| Megalophilia
	&lt;&lt;else&gt;&gt;
		| [[Megalophilia|Brothel][$estate.brothel.focus = &quot;Megalophilia&quot;]]
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $estate.brothel.focus == &quot;Caligynephilia&quot;&gt;&gt;
		| Caligynephilia
	&lt;&lt;else&gt;&gt;
		| [[Caligynephilia|Brothel][$estate.brothel.focus = &quot;Caligynephilia&quot;]]
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $estate.brothel.focus == &quot;Musculophilia&quot;&gt;&gt;
		| Musculophilia
	&lt;&lt;else&gt;&gt;
		| [[Musculophilia|Brothel][$estate.brothel.focus = &quot;Musculophilia&quot;]]
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.research.common&gt;&gt;
	&lt;&lt;if $estate.brothel.focus == &quot;Androphilia&quot;&gt;&gt;
		| Androphilia
	&lt;&lt;else&gt;&gt;
		| [[Androphilia|Brothel][$estate.brothel.focus = &quot;Androphilia&quot;]]
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $estate.brothel.focus == &quot;Gynephilia&quot;&gt;&gt;
		| Gynephilia
	&lt;&lt;else&gt;&gt;
		| [[Gynephilia|Brothel][$estate.brothel.focus = &quot;Gynephilia&quot;]]
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $estate.brothel.focus == &quot;Dominance&quot;&gt;&gt;
		| Dominance
	&lt;&lt;else&gt;&gt;
		| [[Dominance|Brothel][$estate.brothel.focus = &quot;Dominance&quot;]]
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $estate.brothel.focus == &quot;Submission&quot;&gt;&gt;
		| Submission
	&lt;&lt;else&gt;&gt;
		| [[Submission|Brothel][$estate.brothel.focus = &quot;Submission&quot;]]
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.research.niche&gt;&gt;
	&lt;&lt;if $estate.brothel.focus == &quot;Gynemimetophilia&quot;&gt;&gt;
		| Gynemimetophilia
	&lt;&lt;else&gt;&gt;
		| [[Gynemimetophilia|Brothel][$estate.brothel.focus = &quot;Gynemimetophilia&quot;]]
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $estate.brothel.focus == &quot;Genophilia&quot;&gt;&gt;
		| Genophilia
	&lt;&lt;else&gt;&gt;
		| [[Genophilia|Brothel][$estate.brothel.focus = &quot;Genophilia&quot;]]
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $estate.brothel.focus == &quot;Variety&quot;&gt;&gt;
	$estate.brothel.name will provide slaves that cater to a variety of visual fetishes.
	
&lt;&lt;elseif $estate.brothel.focus == &quot;Megalophilia&quot;&gt;&gt;
	$estate.brothel.name will provide slaves that cater to customers who have a fetish for large erotic organs. Megalophilia in and of itself is not an attraction to people who are heavy in size but it is an attraction to large asses, balls, breasts, clits, cocks and pussy. Slaves with a large primary erotic organ(breasts &amp; cocks) are twice as attractive to those with a large secondary erotic organ(asses, balls, clits &amp; pussy). Since megalophilia is a visual fetish, having large breasts is much more attractive than having a tight, yet deep pussy.
	
&lt;&lt;elseif $estate.brothel.focus == &quot;Caligynephilia&quot;&gt;&gt;
	$estate.brothel.name will provide slaves that cater to customers who have a fetish for beautiful women. An attraction to beautiful women isn&#39;t a fetish in and of itself but caligynephilic people are so attracted to beautiful women that all other visual traits are secondary, if not completely unimportant. Slaves whose only good traits are her looks do very well in brothels that cater to people with caligynephilia. If a slave&#39;s best trait is her beauty but still has other good traits, she will fair even better.
	
&lt;&lt;elseif $estate.brothel.focus == &quot;Musculophilia&quot;&gt;&gt;
	$estate.brothel.name will provide slave that cater to customers who have a fetish for masculine bodies. This is a very popular fetish among women and a few men. This fetish is more visual than anything, the behaviour of muscled slaves aren&#39;t required to be masculine at all. As long as a slave has a somewhat toned body, those with musculophilia will be more than happy to have their sexual needs met by any of the slaves availible inside of the brothel. Slaves will less than desirable, or feminine bodies will be harshly rejected.
	
&lt;&lt;elseif $estate.brothel.focus == &quot;Androphilia&quot;&gt;&gt;
	$estate.brothel.name will provide slave that cater to customers who have a fetish for masculinity. While having a masculine body type is considered masculine, people with androphilia are more attracted to men who conform to the ideal masculine behaviour. Still, having a masculine body is very helpful as someone less than desirable will appear less masculine to his slave peers on first glance. Those who are the peak of masculinity both physically and mentally will get a lot of customers that cater androphilic customers.

&lt;&lt;elseif $estate.brothel.focus == &quot;Gynephilia&quot;&gt;&gt;
	$estate.brothel.name will provide slave that cater to customers who have a fetish for femininity. Gynephilic customers are attracted to women who are the peak of femininity in both appearance and temperament. Since it is a brothel it is still imparative that slaves understand how to service their customers sexually. As long as the slaves have a strong understanding in femininity they will be able to service customers without breaking the illusion that they are nothing but the height of femininity. Slaves who have good figures and are well versed in femininity will fair well in brothels catering to gynephilics.

&lt;&lt;elseif $estate.brothel.focus == &quot;Dominance&quot;&gt;&gt;
	$estate.brothel.name will provide slave that cater to customers who have a fetish for being dominant. Submissives are the best type of slaves to cater to dominants. Dominants that visit brothels aren&#39;t looking for slaves to bend to their will, but willing partners that can perform the role of a submissive during sexual play. Sexual skill and all visual traits are still very important, if not required quantities that customers will look for. However if they are not submissive, dominants will not be pleased with just the quality of the slave alone.

&lt;&lt;elseif $estate.brothel.focus == &quot;Submission&quot;&gt;&gt;
	$estate.brothel.name will provide slave that cater to customers who have a fetish for being submissive. Dominants are the best type of slaves to cater to submissives. Submissives that visit brothels aren&#39;t looking for slaves to bend them to their will, but willing partners that can perform the role of a dominant during sexual play. Sexual skill and all visual traits are still very important, if not required quantities that customers will look for. However if they are not dominant, submissives will not be pleased with just the quality of the slave alone.

&lt;&lt;elseif $estate.brothel.focus == &quot;Gynemimetophilia&quot;&gt;&gt;
	$estate.brothel.name will provide slave that cater to customers who have a fetish for sissies. Gynemimetophilics are attracted to both males who have transitioned into being females and men who identify and act like women. Sissies who who have transitioned and identify as women are highly desired amoung gynemimetophilics, but require a lot of training and money to pay for the potions to make the transition. 

&lt;&lt;elseif $estate.brothel.focus == &quot;Genophilia&quot;&gt;&gt;
	$estate.brothel.name will provide slave that cater to customers who have an addiction to sex. Female slaves with high-quality sexual skills to sate genophilics are highly recommended. Men often have a refractionary period between orgasms, where as women can perform sexually for as long as they have some stamina. Slaves properly trained in strumpetry who have strong sexual skills not only can sate their customers physically, but have the ability to sell themselves as a sexual being.
	
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="222" name="Brothel Upgrades" tags="nobr" position="616,1043" size="100,100">&lt;b&gt;Brothel Research&lt;/b&gt; &lt;br&gt;

&lt;&lt;if !$estate.brothel.research.popular &amp;&amp; $PC.money &gt;= 10000&gt;&gt;
	[[Research Popular Fetishes|Brothel][$PC.money -= 10000, $estate.brothel.research.popular = 1]] | @@color:lightgreen;💎10,000@@ | Spend some gold to get some research done to find out popular fetishes you can focus on. The most popular fetishes are usually the most visual, making them the most easy to cater to. Popular fetishes grants a large boost to the number of customers a slave can bring in.
	
&lt;&lt;elseif $PC.money &lt; 10000&gt;&gt;
	Research Popular Fetishes | @@color:red;💎10,000@@ | Spend some gold to get some research done to find out popular fetishes you can focus on. The most popular fetishes are usually the most visual, making them the most easy to cater to. Popular fetishes grants a large boost to the number of customers a slave can bring in.
	
&lt;&lt;else&gt;&gt;
	You have researched popular fetishes adding Megalophilia, Caligynephilia, and Musculophilia to your brothel focus list.

&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if !$estate.brothel.research.common &amp;&amp; $PC.money &gt;= 10000&gt;&gt;
	[[Research Common Fetishes|Brothel][$PC.money -= 10000, $estate.brothel.research.common = 1]] | @@color:lightgreen;💎10,000@@ | Spend some gold to get some research done to find out common fetishes you can focus on. Common fetishes will require slaves with some level of training as they usually focus on behavioral tendencies. Common fetishes grants a moderate boost to both an individual slave&#39;s popularity gain and to the number of customers a slave can bring in.
	
&lt;&lt;elseif $PC.money &lt; 10000&gt;&gt;
	Research Common Fetishes | @@color:red;💎10,000@@ | Spend some gold to get some research done to find out common fetishes you can focus on. Common fetishes will require slaves with some level of training as they usually focus on behavioral tendencies. Common fetishes grants a moderate boost to both an individual slave&#39;s popularity gain and to the number of customers a slave can bring in.
&lt;&lt;else&gt;&gt;
	You have researched common fetishes adding Androphilia, Gynephilia, Dominance and Submission to your brothel focus list.

&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if !$estate.brothel.research.niche &amp;&amp; $PC.money &gt;= 10000&gt;&gt;
	[[Research Niche Fetishes|Brothel][$PC.money -= 10000, $estate.brothel.research.niche = 1]] | @@color:lightgreen;💎10,000@@ | Spend some gold to get some research done to find out niche fetishes you can focus on. Niche fetishes will require slaves with a high level of training to cater to their clientele. Niche fetishes grants a large boost to an individual slave&#39;s popularity gain and a small boost to the number of customers a slave can bring in.
	
&lt;&lt;elseif $PC.money &lt; 10000&gt;&gt;
	Research Niche Fetishes | @@color:red;💎10,000@@ | Spend some gold to get some research done to find out niche fetishes you can focus on. Niche fetishes will require slaves with a high level of training to cater to their clientele. Niche fetishes grants a large boost to an individual slave&#39;s popularity gain and a small boost to the number of customers a slave can bring in.
	
&lt;&lt;else&gt;&gt;
	You have researched niche fetishes adding Gynemimetophilia and Genophilia to your brothel focus list.

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="223" name="Training Room" tags="nobr" position="616,1173" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Main&quot;&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Training Room | $estate.brothel.name&lt;/h3&gt;

&lt;&lt;if $estate.training.implements == 1&gt;&gt;
	@@color:red;&#39;&#39;Your training room is old and broken down.&#39;&#39;@@
	&lt;br&gt;
	There is a small bed, some worn out disciplinary tools and restraints but for the most part the room is in very bad shape. It will be very hard to train any slaves in this room as the poor condition of your tools and the rooms atmosphere will greatly hinder the effectiveness of your training. 
	
&lt;&lt;elseif $estate.training.implements == 2&gt;&gt;
	@@color:orangered;&#39;&#39;Your training room is dull but it gets the job done.&#39;&#39;@@
	&lt;br&gt;
	You have a decent sized bed and your disciplinary tools and restraints are in relatively good shape. It will be hard to train any slaves in this room but the condition of your tools and the rooms atmosphere won&#39;t hinder the effectiveness of your training too much.

&lt;&lt;elseif $estate.training.implements == 3&gt;&gt;
	@@color:orange;&#39;&#39;Your training room is ordinary.&#39;&#39;@@
	&lt;br&gt;
	Its stocked with a large bed and slaver standard disciplinary tools and restraints. It will not be difficult to train any slaves in this room as the condition of your tools and the atompshere of the room is normal. They won&#39;t hinder the effectiveness of your training at all.
	
&lt;&lt;elseif $estate.training.implements == 4&gt;&gt;
	@@color:yellow;&#39;&#39;Your training room is upscale and much more extravagant than it needs to be.&#39;&#39;@@
	&lt;br&gt;
	It has a fancy bed and personally crafter disciplinary tools and restraints. Training slaves should be very easy inside of this room as the condition of your tools and the atmosphere of the room is very good. They will only help the effectiveness of your training.

&lt;&lt;/if&gt;&gt;

&lt;/center&gt;&lt;br&gt;

&lt;&lt;set _cost = 0&gt;&gt;

&lt;&lt;if $estate.training.implements == 1&gt;&gt;
	&lt;&lt;set _cost = 30000&gt;&gt;

&lt;&lt;elseif $estate.training.implements == 2&gt;&gt;
	&lt;&lt;set _cost = 60000&gt;&gt;
	
&lt;&lt;elseif $estate.training.implements == 3&gt;&gt;
	&lt;&lt;set _cost = 90000&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _fee = commify(_cost)&gt;&gt;

&lt;&lt;if $estate.training.implements &gt;= 4&gt;&gt;
	&lt;b&gt;You have upgraded the training room to the maximum level.&lt;/b&gt;
&lt;&lt;elseif $PC.money &gt;= _cost&gt;&gt;
	&lt;&lt;print &quot;[[Upgrade The Training Room|Training Room][$PC.money -=&quot; + _cost + &quot;, $estate.training.implements++]]&quot;&gt;&gt; | @@color:lightgreen;💎_fee@@ | Upgrading the training room will upgrade the implements and the atmosphere of the room, allowing you to train slaves more easily than before.
&lt;&lt;else&gt;&gt;
	Upgrade The Training Room | @@color:red;💎_fee@@ | Upgrading the training room will upgrade the implements and the atmosphere of the room, allowing you to train slaves more easily than before.
&lt;&lt;/if&gt;&gt;

&lt;hr&gt;

&lt;center&gt;&lt;h3&gt;Incense Room | $estate.brothel.name&lt;/h3&gt;

&lt;&lt;if !$estate.training.incense&gt;&gt;
	@@color:red;&#39;&#39;The atmosphere of the incense room is non-existent.&#39;&#39;@@
	&lt;br&gt;
	Any incense burned in here will completely tire out slaves after only one session, making it very hard to hypnotize any slaves inside here within a short period of time.
	
&lt;&lt;elseif $estate.training.incense == 1&gt;&gt;
	@@color:orangered;&#39;&#39;The atmosphere of the incense room is bad.&#39;&#39;@@
	&lt;br&gt;
	Any incense burned in here will will leave slaves very tired for the next session, making it difficult to hypnotize any slaves inside here within a short period of time. 

&lt;&lt;elseif $estate.training.incense == 2&gt;&gt;
	@@color:orange;&#39;&#39;The atmosphere of the incense room is decent.&#39;&#39;@@
	&lt;br&gt;
	Any incense burned in here will leave slaves tired for the next session, allowing you to make use of multiple sessions per week to hypnotize a slave within a couple weeks time.

&lt;&lt;elseif $estate.training.incense == 3&gt;&gt;
	@@color:yellow;&#39;&#39;The atmosphere of the incense room is extravagant.&#39;&#39;@@
	&lt;br&gt;
	Any incense burned in here will leave slaves slightly tired for the next session, allowing you to make use of multiple sessions per week to hypnotize a slave within a short period of time.

&lt;&lt;/if&gt;&gt;

&lt;/center&gt;&lt;br&gt;

&lt;&lt;set _cost = 0&gt;&gt;

&lt;&lt;if $estate.training.incense == 0&gt;&gt;
	&lt;&lt;set _cost = 20000&gt;&gt;

&lt;&lt;elseif $estate.training.incense == 1&gt;&gt;
	&lt;&lt;set _cost = 40000&gt;&gt;
	
&lt;&lt;elseif $estate.training.incense == 2&gt;&gt;
	&lt;&lt;set _cost = 60000&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _fee = commify(_cost)&gt;&gt;

&lt;&lt;if $estate.training.incense &gt;= 3&gt;&gt;
	&lt;b&gt;You have upgraded your incense room to the maximum level.&lt;/b&gt;

&lt;&lt;elseif $PC.money &gt;= _cost&gt;&gt;
	&lt;&lt;print &quot;[[Upgrade The Incense Room|Training Room][$PC.money -=&quot; + _cost + &quot;, $estate.training.incense++]]&quot;&gt;&gt; | @@color:lightgreen;💎_fee@@ | Upgrading the incense room will allow slaves to maintain some level of mental fatigue after being trained through hypnotism.
&lt;&lt;else&gt;&gt;
	Upgrade The Incense Room | @@color:red;💎_fee@@ | Upgrading the incense room will allow slaves to maintain some level of mental fatigue after being trained through hypnotism.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="224" name="Descriptors" tags="nobr" position="15,512" size="100,100">/* Slave Stats */
&lt;&lt;set $race = {&quot;pale&quot;: &quot;pale&quot;, &quot;light-skinned&quot;: &quot;white&quot;, &quot;tan&quot;: &quot;tan&quot;, &quot;dark-skinned&quot;: &quot;black&quot;, &quot;green-skinned&quot;: &quot;green&quot;, &quot;brown-skinned&quot;: &quot;brown&quot;}&gt;&gt;

&lt;&lt;set $quality = {1: &quot;@@color:red;watery@@&quot;, 2: &quot;@@color:orange;thin@@&quot;, 3: &quot;@@color:yellow;plain@@&quot;, 4: &quot;@@color:greenyellow;thick@@&quot;, 5: &quot;@@color:forestgreen;creamy@@&quot;, 6: &quot;@@color:darkturquoise;syrupy@@&quot;}&gt;&gt;

&lt;&lt;set $quantity = {1: &quot;@@color:red;minuscule@@&quot;, 2: &quot;@@color:orange;small@@&quot;, 3: &quot;@@color:yellow;normal@@&quot;, 4: &quot;@@color:greenyellow;large@@&quot;, 5: &quot;@@color:forestgreen;copious@@&quot;, 6: &quot;@@color:darkturquoise;bounteous@@&quot;}&gt;&gt;

&lt;&lt;set $taste = {cum:&quot;&quot;, milk:&quot;&quot;, nectar:&quot;&quot;}&gt;&gt;
&lt;&lt;set $taste.cum = {1: &quot;@@color:red;vinegary@@&quot;, 2: &quot;@@color:orange;bitter@@&quot;, 3: &quot;@@color:yellow;salty@@&quot;, 4: &quot;@@color:greenyellow;sweet-and-salty@@&quot;, 5: &quot;@@color:forestgreen;sweet@@&quot;, 6: &quot;@@color:darkturquoise;sugary@@&quot;}&gt;&gt;
&lt;&lt;set $taste.milk = {1: &quot;@@color:red;sour@@&quot;, 2: &quot;@@color:orange;sweet-and-sour@@&quot;, 3: &quot;@@color:yellow;fresh@@&quot;, 4: &quot;@@color:greenyellow;milky@@&quot;, 5: &quot;@@color:forestgreen;sweetened@@&quot;, 6: &quot;@@color:darkturquoise;saccharine@@&quot;}&gt;&gt;
&lt;&lt;set $taste.nectar = {1: &quot;@@color:red;sour@@&quot;, 2: &quot;@@color:orange;spicy@@&quot;, 3: &quot;@@color:yellow;savory@@&quot;, 4: &quot;@@color:greenyellow;sweet@@&quot;, 5: &quot;@@color:forestgreen;honeyed@@&quot;, 6: &quot;@@color:darkturquoise;nectarous@@&quot;}&gt;&gt;

&lt;&lt;set $fertility to {1: &quot;@@color:red;Poor@@&quot;, 2: &quot;@@color:orange;Limited@@&quot;, 3: &quot;@@color:yellow;Moderate@@&quot;, 4: &quot;@@color:greenyellow;High@@&quot;, 5: &quot;@@color:forestgreen;Supernatural@@&quot;}&gt;&gt;

&lt;&lt;set $libido to {1: &quot;@@color:red;Nonexistent@@&quot;, 2: &quot;@@color:orange;Weak@@&quot;, 3: &quot;@@color:yellow;Healthy@@&quot;, 4: &quot;@@color:greenyellow;Active@@&quot;, 5: &quot;@@color:forestgreen;Strong@@&quot;, 6: &quot;@@color:darkturquoise;Overactive@@&quot;, 7: &quot;@@color:mediumslateblue;Excessive@@&quot;}&gt;&gt;

&lt;&lt;set $fbutt to {1: &quot;&#39;&#39;@@color:gray;flat [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;petite [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;tight [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;plump [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;fleshy [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;full [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;curvaceous [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;thick [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;massive [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;gigantic [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $mbutt to {1: &quot;&#39;&#39;@@color:gray;boney [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;flat [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;average [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;round [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;sculpted [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;full [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;curvaceous [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;thick [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;massive [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;gigantic [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $butt to {male: $mbutt, female: $fbutt}&gt;&gt;

&lt;&lt;set $lips = {1: &quot;&#39;&#39;@@color:gray;narrow [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;thin [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;wide [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;plush [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;plump [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;fleshy [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;large, full [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;luscious [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;voluptuous [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;beauteous [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $shoulders = {1: &quot;&#39;&#39;@@color:gray;slender [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;slim [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;taut [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;sturdy [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;broad [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;brawny [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;bulky [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;beefy [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;powerful looking [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;massively large [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $hips = {1: &quot;&#39;&#39;@@color:gray;narrow [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;flat [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;well-rounded [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;prominent [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;wide [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;luscious [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;curvaceous [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;voluptuous [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;enormous [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;wide and massive [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $torso = {1: &quot;&#39;&#39;@@color:gray;feminine [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;underdeveloped [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;normal [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;bulky [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;broad [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;defined [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;lithe [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;sinuous [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;smoothly muscular [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;overwhelmingly perfect [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $legs = {1: &quot;&#39;&#39;@@color:gray;stumpy [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;short [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;normal [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;proportioned [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;slender [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;athletic [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;graceful [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;lithe [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;serpentine [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;perfectly proportioned [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $bust to {1: &quot;non-existent&quot;, 2: &quot;&#39;&#39;@@color:gray;A [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;B [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;C [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;D [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;DD [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;E [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;F [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;FF [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;G [10]@@&#39;&#39;&quot;, 11: &quot;&#39;&#39;@@color:gray;GG [11]@@&#39;&#39;&quot;, 12: &quot;&#39;&#39;@@color:gray;H [12]@@&#39;&#39;&quot;, 13: &quot;&#39;&#39;@@color:gray;HH [13]@@&#39;&#39;&quot;, 14: &quot;&#39;&#39;@@color:gray;J [14]@@&#39;&#39;&quot;, 15:&quot;&#39;&#39;@@color:gray;JJ [15]@@&#39;&#39;&quot;, 16:&quot;&#39;&#39;@@color:gray;K [16]@@&#39;&#39;&quot;, 17:&quot;&#39;&#39;@@color:gray;L [17]@@&#39;&#39;&quot;, 18:&quot;&#39;&#39;@@color:gray;M [18]@@&#39;&#39;&quot;, 19:&quot;&#39;&#39;@@color:gray;N [19]@@&#39;&#39;&quot;, 20:&quot;&#39;&#39;@@color:gray;O [20]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $inverted to {0: &quot;protruding&quot;, 1: &quot;&#39;&#39;@@color:gray;inverted@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $clitoris to {1: &quot;&#39;&#39;@@color:gray;tiny [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;small [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;normal [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;big [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;prominent [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;huge [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;bulging [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;enormous [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;trunk-like [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;phallic [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $pussy to {1: &quot;&#39;&#39;@@color:gray;infirm [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;loose [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;of average tightness [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;accommodating [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;tight [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;taut [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;flexile [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;constrictive [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;exquisitely tight [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;serpentine [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $hooded to {0: &quot;naked&quot;, 1: &quot;hooded&quot;}&gt;&gt;

&lt;&lt;set $girth to {1: &quot;&#39;&#39;@@color:gray;skinny [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;thin [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;average [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;thick [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;fat [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;bulky [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;huge [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;massive [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;colossally wide [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;monstrous [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $balls to {1: &quot;&#39;&#39;@@color:gray;tiny [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;small [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;medium-sized [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;big [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;huge [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;swollen [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;bloated [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;enormous [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;gargantuan [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;basketball sized [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $cock to {1: &quot;&#39;&#39;@@color:gray;1 inch [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;2 inch [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;3 inch [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;4 inch [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;5 inch [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;6 inch [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;7 inch [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;8 inch [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;9 inch [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;10 inch [10]@@&#39;&#39;&quot;, 11: &quot;&#39;&#39;@@color:gray;11 inch [11]@@&#39;&#39;&quot;, 12: &quot;&#39;&#39;@@color:gray;12 inch [12]@@&#39;&#39;&quot;, 13: &quot;&#39;&#39;@@color:gray;13 inch [13]@@&#39;&#39;&quot;, 14: &quot;&#39;&#39;@@color:gray;14 inch [14]@@&#39;&#39;&quot;, 15:&quot;&#39;&#39;@@color:gray;15 inch [15]@@&#39;&#39;&quot;, 16:&quot;&#39;&#39;@@color:gray;16 inch [16]@@&#39;&#39;&quot;, 17:&quot;&#39;&#39;@@color:gray;17 inch [17]@@&#39;&#39;&quot;, 18:&quot;&#39;&#39;@@color:gray;18 inch [18]@@&#39;&#39;&quot;, 19:&quot;&#39;&#39;@@color:gray;19 inch [19]@@&#39;&#39;&quot;, 20:&quot;&#39;&#39;@@color:gray;20 inch [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $circumcised to {0: &quot;uncircumcised&quot;, 1: &quot;circumcised&quot;}&gt;&gt;

&lt;&lt;set $intelligence = {1: &quot;@@color:red;dense@@&quot;, 2: &quot;@@color:orange;dumb@@&quot;, 3: &quot;@@color:yellow;of average intelligence@@&quot;, 4: &quot;@@color:greenyellow;intelligent@@&quot;, 5: &quot;@@color:forestgreen;intellectually gifted@@&quot;}&gt;&gt;

&lt;&lt;set $beauty = {1: &quot;@@color:red;hideous@@&quot;, 2: &quot;@@color:red;ugly@@&quot;, 3: &quot;@@color:orange;unattractive@@&quot;, 4: &quot;@@color:orange;plain@@&quot;, 5: &quot;@@color:yellow;average looking@@&quot;, 6: &quot;@@color:yellow;cute@@&quot;, 7: &quot;@@color:greenyellow;attractive@@&quot;, 8: &quot;@@color:greenyellow;gorgeous@@&quot;, 9: &quot;@@color:forestgreen;beautiful@@&quot;, 10: &quot;@@color:forestgreen;stunningly good looking@@&quot;}&gt;&gt;

&lt;&lt;set $health = {1: &quot;@@color:red;dying@@&quot;, 2: &quot;@@color:orange;unhealthy@@&quot;, 3: &quot;@@color:greenyellow;healthy@@&quot;, 4: &quot;@@color:forestgreen;very healthy@@&quot;}&gt;&gt;

&lt;&lt;set $Chealth = {1: &quot;@@color:red;Dying@@&quot;, 2: &quot;@@color:orange;Unhealthy@@&quot;, 3: &quot;@@color:greenyellow;Healthy@@&quot;, 4: &quot;@@color:forestgreen;Very Healthy@@&quot;}&gt;&gt;

&lt;&lt;set $maturity = {3: &quot;@@color:red;mature@@&quot;, 2: &quot;@@color:yellow;adult@@&quot;, 1: &quot;@@color:forestgreen;young, adult@@&quot;}&gt;&gt;

&lt;&lt;set $weight = {1: &quot;@@color:red;obese@@&quot;, 2: &quot;@@color:red;emaciated@@&quot;, 3: &quot;@@color:orange;overweight@@&quot;, 4: &quot;@@color:orange;underweight@@&quot;, 5: &quot;@@color:yellow;of normal weight@@&quot;, 6: &quot;@@color:greenyellow;fit@@&quot;, 7: &quot;@@color:forestgreen;in perfect shape@@&quot;}&gt;&gt;
/* Slave Stats */

/* Color Free Slave Stats */
&lt;&lt;set $CFclit to {1: &quot;skinny&quot;, 2: &quot;thin&quot;, 3: &quot;normal&quot;, 4: &quot;thick&quot;, 5: &quot;fat&quot;}&gt;&gt;
/* Color Free Slave Stats */

/* Uppercase Slave Stats */
&lt;&lt;set $UCfbutt to {1: &quot;&#39;&#39;@@color:gray;Flat [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;Petite [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;Average [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;Plump [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;Thick [5]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $UCmbutt to {1: &quot;&#39;&#39;@@color:gray;Boney [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;Flat [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;Average [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;Round [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;Sculpted [5]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $UCbutt to {male: $UCmbutt, female: $UCfbutt}&gt;&gt;

&lt;&lt;set $UCbust to {1: &quot;Non-Existent&quot;, 2: &quot;&#39;&#39;@@color:gray;A [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;B [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;C [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;D [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;DD [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;E [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;F [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;FF [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;G [10]@@&#39;&#39;&quot;, 11: &quot;&#39;&#39;@@color:gray;GG [11]@@&#39;&#39;&quot;, 12: &quot;&#39;&#39;@@color:gray;H [12]@@&#39;&#39;&quot;, 13: &quot;&#39;&#39;@@color:gray;HH [13]@@&#39;&#39;&quot;, 14: &quot;&#39;&#39;@@color:gray;J [14]@@&#39;&#39;&quot;, 15:&quot;&#39;&#39;@@color:gray;JJ [15]@@&#39;&#39;&quot;, 16:&quot;&#39;&#39;@@color:gray;K [16]@@&#39;&#39;&quot;, 17:&quot;&#39;&#39;@@color:gray;L [17]@@&#39;&#39;&quot;, 18:&quot;&#39;&#39;@@color:gray;M [18]@@&#39;&#39;&quot;, 19:&quot;&#39;&#39;@@color:gray;N [19]@@&#39;&#39;&quot;, 20:&quot;&#39;&#39;@@color:gray;O [20]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $UCinverted to {0: &quot;Protruding&quot;, 1: &quot;&#39;&#39;@@color:gray;Inverted@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $UCclit to {1: &quot;&#39;&#39;@@color:gray;Tiny [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;Small [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;Normal [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;Big [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;Prominent [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;Huge [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;Bulging [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;Enormous [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;Trunk-like [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;Phallic [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $UCpussy to {1: &quot;&#39;&#39;@@color:gray;Infirm [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;Loose [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;Of Average Tightness [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;Accommodating [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;Tight [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;Taut [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;Flexile [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;Constrictive [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;Exquisitely Tight [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;Serpentine [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $UChooded to {0: &quot;Naked&quot;, 1: &quot;Hooded&quot;}&gt;&gt;

&lt;&lt;set $UCgirth to {1: &quot;&#39;&#39;@@color:gray;Skinny [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;Thin [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;Average [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;Thick [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;Fat [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;Bulky [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;Huge [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;Massive [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;Colossally Wide [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;Monstrous [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $UCballs to {1: &quot;&#39;&#39;@@color:gray;Tiny [1]@@&#39;&#39;&quot;, 2: &quot;&#39;&#39;@@color:gray;Small [2]@@&#39;&#39;&quot;, 3: &quot;&#39;&#39;@@color:gray;Medium-sized [3]@@&#39;&#39;&quot;, 4: &quot;&#39;&#39;@@color:gray;Big [4]@@&#39;&#39;&quot;, 5: &quot;&#39;&#39;@@color:gray;Huge [5]@@&#39;&#39;&quot;, 6: &quot;&#39;&#39;@@color:gray;Enormous [6]@@&#39;&#39;&quot;, 7: &quot;&#39;&#39;@@color:gray;Massively Large [7]@@&#39;&#39;&quot;, 8: &quot;&#39;&#39;@@color:gray;Enormous [8]@@&#39;&#39;&quot;, 9: &quot;&#39;&#39;@@color:gray;Gargantuan [9]@@&#39;&#39;&quot;, 10: &quot;&#39;&#39;@@color:gray;Basketball Sized [10]@@&#39;&#39;&quot;}&gt;&gt;

&lt;&lt;set $UCcircumcised to {0: &quot;Uncircumcised&quot;, 1: &quot;circumcised&quot;}&gt;&gt;

&lt;&lt;set $UCintelligence = {1: &quot;@@color:red;Dense@@&quot;, 2: &quot;@@color:orange;Dumb@@&quot;, 3: &quot;@@color:yellow;Of Average Intelligence@@&quot;, 4: &quot;@@color:greenyellow;Intelligent@@&quot;, 5: &quot;@@color:forestgreen;Intellectually Gifted@@&quot;}&gt;&gt;

&lt;&lt;set $UCbeauty = {1: &quot;@@color:red;Hideous@@&quot;, 2: &quot;@@color:red;Ugly@@&quot;, 3: &quot;@@color:orange;Unattractive@@&quot;, 4: &quot;@@color:orange;Plain@@&quot;, 5: &quot;@@color:yellow;Average Looking@@&quot;, 6: &quot;@@color:yellow;Cute@@&quot;, 7: &quot;@@color:greenyellow;Attractive@@&quot;, 8: &quot;@@color:greenyellow;Gorgeous@@&quot;, 9: &quot;@@color:forestgreen;Beautiful@@&quot;, 10: &quot;@@color:forestgreen;Stunningly Good Looking@@&quot;}&gt;&gt;

&lt;&lt;set $UCweight = {1: &quot;@@color:red;Obese@@&quot;, 2: &quot;@@color:red;Emaciated@@&quot;, 3: &quot;@@color:orange;Overweight@@&quot;, 4: &quot;@@color:orange;Underweight@@&quot;, 5: &quot;@@color:yellow;Average@@&quot;, 6: &quot;@@color:greenyellow;Fit@@&quot;, 7: &quot;@@color:forestgreen;Athletic@@&quot;}&gt;&gt;

&lt;&lt;set $UChealth = {1: &quot;@@color:red;Dying@@&quot;, 2: &quot;@@color:yellow;Unhealthy@@&quot;, 3: &quot;@@color:greenyellow;Healthy@@&quot;, 4: &quot;@@color:forestgreen;Vigorous@@&quot;}&gt;&gt;

&lt;&lt;set $UCage = {1: &quot;@@color:forestgreen;Young, Adult@@&quot;, 2: &quot;@@color:yellow;Adult@@&quot;, 3: &quot;@@color:red;Mature@@&quot;}&gt;&gt;
/* Uppercase Slave Stats */</tw-passagedata><tw-passagedata pid="225" name="Rising Ranch" tags="nobr noreturn notruereturn" position="736,262" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Rising Ranch&lt;/h3&gt;&lt;/center&gt;

You have chosen to build a ranch on the outskirts of your estate. The ranch&#39;s style and the quality of the slaves working on the ranch will all affect the amount of traction and popularity the ranch. The popularity of a ranch is very reliant on the quality of the milk, cum and nectar its slaves produce but if successful it can be very profitable.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	&lt;&lt;set _ranchfee = commify(20000)&gt;&gt;
	&lt;&lt;set _fee = 20000&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;center&gt;&lt;b&gt;Do you want to build a Ranch?&lt;/b&gt;
&lt;&lt;if $PC.money &gt;= _fee&gt;&gt;
	 | @@color:lightgreen;💎_ranchfee@@&lt;br&gt;
	[[Yes|Ranch][$PC.money -= _fee, $buyRanch = 1, $estate.ranch.active = 1, $estate.rooms.used += 1, $estate.ranch.cap = 4]] |
&lt;&lt;else&gt;&gt;
	 | @@color:red;💎_ranchfee@@&lt;br&gt;
&lt;&lt;/if&gt;&gt;

[[No|Estate]]

&lt;/center&gt;</tw-passagedata><tw-passagedata pid="226" name="Ranch" tags="nobr noreturn" position="738,392" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Main&quot;&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;set $Ranch = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Ranch | $estate.ranch.name&lt;/h3&gt;&lt;/center&gt;

&lt;&lt;if $buyRanch&gt;&gt;
	&lt;b&gt;@@color:forestgreen;You have built a ranch on your estate!@@&lt;/b&gt;&lt;br&gt;
	You have built a small ranch on the outskirts of your estate. It can hold up to a maximum of 4 slaves, but can be upgraded.
	&lt;&lt;set $buyRanch = 0&gt;&gt;
	&lt;br&gt;&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.ranch.style&gt;&gt;
	&lt;&lt;set _ranchstyle = lowercase($estate.ranch.style) + &quot;-style&quot;&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _ranchstyle = &quot;normal&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	Your ranch is _ranchstyle and is lcoated at the edge of you estate, allowing customers access to it without having to have them travel deeper into your estate.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $estate.ranch.pop &gt;= 1&gt;&gt;
	&lt;&lt;set _ratio = 0&gt;&gt;
	&lt;&lt;set _characters = 0&gt;&gt;

	&lt;&lt;for _s = 1; _s &lt;= $slaves.amount; _s++&gt;&gt;
		&lt;&lt;set _character = $slaves[_s]&gt;&gt;
		
		&lt;&lt;if _character.location == &quot;ranch&quot;&gt;&gt;
			&lt;&lt;set _ratio += getRanchRatio(_character, $estate)&gt;&gt;
			&lt;&lt;set _characters++&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;

	&lt;&lt;set _ratio = _ratio / _characters&gt;&gt;

	&lt;&lt;if _ratio &lt; 25&gt;&gt;
		@@color:red;&#39;&#39;The produce of the slaves milked here are far too poor for a _ranchstyle ranch.&#39;&#39;@@
		&lt;br&gt;
		The attributes of the produce from the slaves being milked here are abysmall. You might as well not have any slaves working here, as they may bring in a little bit of money but they sully the name of your ranch. Either change the ranch&#39;s style, or milk slaves with better produce.

	&lt;&lt;elseif _ratio &lt; 50&gt;&gt;
		@@color:orange;&#39;&#39;The produce of the slaves milked here are not good enough for a _ranchstyle ranch.&#39;&#39;@@
		&lt;br&gt;
		The attributes of the produce from the slaves being milked here isn&#39;t completely terrible, but they aren&#39;t good either. You will have a hard time trying to build any popualrity for your ranch with produce of this quality. Either change the ranch&#39;s style, or milk slaves with better produce.

	&lt;&lt;elseif _ratio &lt; 75&gt;&gt;
		@@color:yellow;&#39;&#39;The produce of the slaves milked here are good enough for a _ranchstyle ranch.&#39;&#39;@@
		&lt;br&gt;
		The attributes of the produce from the slaves being milked here are decent. You won&#39;t have to worry about losing any customers due to the quality of your produce, but you won&#39;t create a large following either. Overall your slave&#39;s produce should bring in neither a net gain or a net loss.

	&lt;&lt;elseif _ratio &lt; 100&gt;&gt;
		@@color:greenyellow;&#39;&#39;The produce of the slaves milked here are very good for a _ranchstyle ranch.&#39;&#39;@@
		&lt;br&gt;
		The attributes of the produce from the slaves being milked here are of high-quality. You will not only gain a large amount of customers for the produce of the slaves milked here but you should be able to gain a large amount of profit from your business as well.

	&lt;&lt;elseif _ratio &gt;= 100&gt;&gt;
		@@color:forestgreen;&#39;&#39;The produce of the slaves working here set a very high standard for a _ranchstyle ranch.&#39;&#39;@@
		&lt;br&gt;	
		The attributes of the produce from the slaves being milked here is second to none. You meet a standard of quality so high that your ranch&#39;s popularity should skyrocket if it is low, and should only take a few weeks to a month to reach its maximum potential if it is high.
		
	&lt;&lt;/if&gt;&gt;
	
	&lt;br&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;

Do you want to change this ranch&#39;s name? &lt;&lt;textbox &quot;$estate.ranch.name&quot; $estate.ranch.name &quot;Ranch&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Ranch Capacity&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Ranch Style&quot;&gt;&gt;

&lt;hr&gt;</tw-passagedata><tw-passagedata pid="227" name="Ranch Capacity" tags="nobr" position="750,525" size="100,100">&lt;b&gt;Ranch Capacity&lt;/b&gt;&lt;br&gt;
Your ranch can currently accommodate up to $estate.ranch.cap slaves at a time.

&lt;&lt;set _cost = 0&gt;&gt;

&lt;&lt;if $estate.ranch.cap == 4&gt;&gt;
	&lt;&lt;set _newcap = 6&gt;&gt;
	&lt;&lt;set _cost = 10000&gt;&gt;

&lt;&lt;elseif $estate.ranch.cap == 6&gt;&gt;
	&lt;&lt;set _newcap = 8&gt;&gt;
	&lt;&lt;set _cost = 30000&gt;&gt;
	
&lt;&lt;elseif $estate.ranch.cap == 8&gt;&gt;
	&lt;&lt;set _newcap = 10&gt;&gt;
	&lt;&lt;set _cost = 60000&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _fee = commify(_cost)&gt;&gt;

&lt;br&gt;

&lt;&lt;if $estate.ranch.cap &gt;= 10&gt;&gt;
	&lt;b&gt;You have upgraded your ranch to maximum capacity.&lt;/b&gt;
&lt;&lt;elseif $PC.money &gt;= _cost&gt;&gt;
	&lt;&lt;print &quot;[[Upgrade Ranch&#39;s Slave Capacity|Ranch][$PC.money -= _cost, $estate.ranch.cap = _newcap]]&quot;&gt;&gt; | @@color:lightgreen;💎_fee@@ | _newcap Slave Capacity
&lt;&lt;else&gt;&gt;
	You need @@color:lightgreen;💎_cost@@ to upgrade your ranch&#39;s slave capacity.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="228" name="Ranch Style" tags="nobr" position="738,652" size="100,100">&lt;b&gt;Ranch Style&lt;/b&gt; |

&lt;&lt;if $estate.ranch.style == null&gt;&gt;
	&lt;b&gt;$estate.ranch.name currently doesn&#39;t have a designated style.&lt;/b&gt;
	&lt;br&gt;
	Style-less ranches don&#39;t have any specialization. Customers will visit your ranch for all sorts of purposes, but slave produce with strong attributes in any area will not do better than if they were in a specialized ranch.
	
&lt;&lt;elseif $estate.ranch.style == &quot;Commercial&quot;&gt;&gt;
	&lt;b&gt;$estate.ranch.name is a commercial-style ranch.&lt;/b&gt;
	&lt;br&gt;
	Commercial-style ranches popularize their ranch by promoting goods made by the products produced by the slaves working the ranch. The most important attribute for these type of ranches is the taste of the product. The second is the quality, and lastly the quality. Customers will get food and drinks made from your slaves products, so they must be taste and quality products. Quantity is not important, but you can always milk your slaves for more products when necessary behind the scenes.
	
&lt;&lt;elseif $estate.ranch.style == &quot;Open&quot;&gt;&gt;
	&lt;b&gt;$estate.ranch.name is an open-style ranch.&lt;/b&gt;
	&lt;br&gt;
	Open-style ranches allows customers to come and milk slaves for their products themselves. This is mostly a fetish or a novelty occurrence as people are just looking to get the experience, making the quantity the most desired attribute for these types of ranch. Taste is secondary as customers often like to taste what they&#39;ve collected. The quality is often ignored completely by customers. 
	
&lt;&lt;elseif $estate.ranch.style == &quot;Industrial&quot;&gt;&gt;
	&lt;b&gt;$estate.ranch.style is an industrial-style ranch.&lt;/b&gt;
	&lt;br&gt;
	Industrial-style ranches provide slave products to people who plan to use it either for themselves, or for commercial purposes. The quality of slave products is the most important attribute for these types of ranches. Quantity is important as well, allowing for even more product to be sold. While some people may use slave products for food purposes, a majority is used for things such as potions and merchandise so taste is mostly negligible. 
	
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	&lt;&lt;set _styleprice = commify(20000)&gt;&gt;
	&lt;&lt;set _stylefee = 20000&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style != null&gt;&gt;
	[[None|Ranch][$style = null]]
&lt;&lt;else&gt;&gt;
	None
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style != &quot;Commercial&quot; &amp;&amp; $estate.ranch.style != &quot;Commercial&quot;&gt;&gt;
	| [[Commercial|Ranch][$style = &quot;Commercial&quot;]]
&lt;&lt;elseif $style == &quot;Commercial&quot;&gt;&gt;
	| Commercial
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style != &quot;Open&quot; &amp;&amp; $estate.ranch.style != &quot;Open&quot;&gt;&gt;
	| [[Open|Ranch][$style = &quot;Open&quot;]]
&lt;&lt;elseif $style == &quot;Open&quot;&gt;&gt;
	| Open
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style != &quot;Industrial&quot; &amp;&amp; $estate.ranch.style != &quot;Industrial&quot;&gt;&gt;
	| [[Industrial|Ranch][$style = &quot;Industrial&quot;]]
&lt;&lt;elseif $style == &quot;Industrial&quot;&gt;&gt;
	| Industrial
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style == &quot;Commercial&quot;&gt;&gt;
	&lt;br&gt;
	Commercial-style ranches popularize their ranch by promoting goods made by the products produced by the slaves working the ranch. The most important attribute for these type of ranches is the taste of the product. The second is the quality, and lastly the quality. Customers will get food and drinks made from your slaves products, so they must be taste and quality products. Quantity is still important, but you can always milk your slaves for more products when necessary behind the scenes.
&lt;&lt;elseif $style == &quot;Open&quot;&gt;&gt;
	&lt;br&gt;
	Open-style ranches allows customers to come and milk slaves for their products themselves. This is mostly a fetish or a novelty occurrence as people are just looking to get the experience, making the quantity the most desired attribute for these types of ranch. Taste is secondary as customers often like to taste what they&#39;ve collected. The quality is often ignored completely by customers. 
&lt;&lt;elseif $style == &quot;Industrial&quot;&gt;&gt;
	&lt;br&gt;
	Industrial-style ranches provide slave products to people who plan to use it either for themselves, or for commercial purposes. The quality of slave products is the most important attribute for these types of ranches. Quantity is important as well, allowing for even more product to be sold. While some people may use slave products for food purposes, a majority is used for things such as potions and merchandise so taste is mostly negligible. 
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $style &amp;&amp; $estate.ranch.style&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;if $PC.money &gt;= _stylefee&gt;&gt;
		[[Change Ranch Style|Ranch][$estate.ranch.style = $style, $style = null, $PC.money -= _stylefee]] | @@color:lightgreen;💎_styleprice@@
	&lt;&lt;else&gt;&gt;
		@@color:red;You need@@ @@color:lightgreen;💎_styleprice@@ @@color:red;to change your ranch&#39;s style.@@
	&lt;&lt;/if&gt;&gt;
&lt;&lt;elseif $style&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;&lt;if $PC.money &gt;= _stylefee&gt;&gt;
		[[Adopt Ranch Style|Ranch][$estate.ranch.style = $style, $style = null, $PC.money -= _stylefee]] | @@color:lightgreen;💎_styleprice@@
	&lt;&lt;else&gt;&gt;
		@@color:red;You need@@ @@color:lightgreen;💎_styleprice@@ @@color:red;to adopt a ranch style.@@
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="229" name="Ranch Summary" tags="" position="1491,956" size="100,100">|stats|k
|&gt;| !$estate.ranch.name Summary |
| Total Money Earned | @@color:lightgreen;💎_ranchearnings@@ |
| Litres Milked | $totallitres |</tw-passagedata><tw-passagedata pid="230" name="Job Scenes" tags="nobr" position="1750,441" size="100,100">&lt;&lt;if _character.ID != &quot;PLAYER&quot;&gt;&gt;
	&lt;&lt;set _gender = _character.gender&gt;&gt;
	&lt;&lt;set _char = &quot;$slaves[&quot; + _i + &quot;]&quot;&gt;&gt;
	&lt;&lt;set _name = _character.name&gt;&gt;
	&lt;&lt;set _names = _character.name + &quot;&#39;s&quot;&gt;&gt;
	&lt;&lt;set _was = &quot;was&quot;&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _gender = &quot;player&quot;&gt;&gt;
	&lt;&lt;set _char = &quot;$PC&quot;&gt;&gt;
	&lt;&lt;set _name = &quot;you&quot;&gt;&gt;
	&lt;&lt;set _names = &quot;your&quot;&gt;&gt;
	&lt;&lt;set _was = &quot;were&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _solicitingScenes = [&quot;Oral&quot;, &quot;Manual&quot;, &quot;Masturbation&quot;, &quot;Mammary&quot;, &quot;Sex&quot;, &quot;Rough Sex&quot;, &quot;Anal Sex&quot;, &quot;Rough Anal Sex&quot;]&gt;&gt;
&lt;&lt;set _hostScenes = [&quot;Masturbation Performance&quot;, &quot;Bartender Sex&quot;, &quot;Server Sex&quot;, &quot;Nyotaimori&quot;]&gt;&gt;
&lt;&lt;set _prostituteScenes = [&quot;Gangbang&quot;, &quot;Wall Bondage&quot;, &quot;Overused&quot;]&gt;&gt;
&lt;&lt;set _attendantScenes = [&quot;Vent Sex&quot;, &quot;Loving Sex&quot;, &quot;Toys Sex&quot;]&gt;&gt;
&lt;&lt;set _procurerScenes = []&gt;&gt;
&lt;&lt;set _guardScenes = []&gt;&gt;

&lt;&lt;set _normalbrothelcustomers = [&quot;old man&quot;, &quot;old woman&quot;, &quot;young man&quot;, &quot;young woman&quot;, &quot;homeless man&quot;, &quot;homeless woman&quot;, &quot;male bandit&quot;, &quot;female bandit&quot;]&gt;&gt;
&lt;&lt;set _theaterbrothelcustomers = [&quot;old man&quot;, &quot;old woman&quot;, &quot;young man&quot;, &quot;young woman&quot;, &quot;young master&quot;, &quot;young mistress&quot;, &quot;rich man&quot;, &quot;rich woman&quot;]&gt;&gt;
&lt;&lt;set _openbrothelcustomers = [&quot;old man&quot;, &quot;old woman&quot;, &quot;young man&quot;, &quot;young woman&quot;, &quot;homeless man&quot;, &quot;homeless woman&quot;, &quot;male bandit&quot;, &quot;female bandit&quot;]&gt;&gt;
&lt;&lt;set _closedbrothelcustomers = [&quot;old man&quot;, &quot;old woman&quot;, &quot;young master&quot;, &quot;young mistress&quot;, &quot;rich man&quot;, &quot;rich woman&quot;, &quot;male bandit Leader&quot;, &quot;female bandit Leader&quot;]&gt;&gt;

&lt;&lt;set _normalranch = [&quot;First Timer&quot;, &quot;Regular&quot;, &quot;&quot;]&gt;&gt;
&lt;&lt;set _commercialranch = [&quot;Taste Test&quot;, &quot;Family Outing&quot;, &quot;New Item&quot;, &quot;Check Product&quot;, &quot;&quot;]&gt;&gt;
&lt;&lt;set _industrialranch = [&quot;Relentlessly Milked&quot;, &quot;Struggle Milking&quot;, &quot;Sneak In&quot;, &quot;Pick Up&quot;, &quot;Bulk Buy&quot;]&gt;&gt;
&lt;&lt;set _openranch = [&quot;Birthday&quot;, &quot;Sexual Deviant&quot;, &quot;Tourist&quot;]&gt;&gt;

&lt;&lt;set _malecustomers = [&quot;old man&quot;, &quot;young man&quot;, &quot;young master&quot;, &quot;homeless man&quot;, &quot;rich man&quot;, &quot;male bandit&quot;, &quot;male bandit leader&quot;]&gt;&gt;
&lt;&lt;set _femalecustomers = [&quot;old woman&quot;, &quot;young woman&quot;, &quot;young mistress&quot;, &quot;homeless woman&quot;, &quot;rich woman&quot;, &quot;female bandit&quot;, &quot;female bandit leader&quot;]&gt;&gt;

&lt;&lt;set _scenelist = []&gt;&gt;
&lt;&lt;set _scene = null&gt;&gt;
&lt;&lt;set _customer = null&gt;&gt;
&lt;&lt;set _rand = null&gt;&gt;
&lt;&lt;set _opening = null&gt;&gt;
&lt;&lt;set _virginity = null&gt;&gt;
&lt;&lt;set _analvirginity = null&gt;&gt;

&lt;&lt;if _character.ID == &quot;PLAYER&quot;&gt;&gt;
	&lt;&lt;set _opening = &quot;You enthusiastically&quot;&gt;&gt;
	
&lt;&lt;elseif _character.obedience.current &lt; 40&gt;&gt;
	&lt;&lt;set _opening = _name + &quot; unwillingly&quot;&gt;&gt;

&lt;&lt;elseif _character.obedience.current &lt; 60&gt;&gt;
	&lt;&lt;set _opening = _name + &quot; reluctantly&quot;&gt;&gt;

&lt;&lt;elseif _character.obedience.current &lt;= 100&gt;&gt;
	&lt;&lt;set _opening = _name + &quot; obediently&quot;&gt;&gt;

&lt;&lt;elseif _character.obedience.current &lt;= 140&gt;&gt;
	&lt;&lt;set _opening = _name + &quot; enthusiastically&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;


&lt;&lt;if _character.assignment == &quot;brothel&quot;&gt;&gt;
	&lt;&lt;if !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Guard&quot;)&gt;&gt;
		&lt;&lt;set _scenelist.push.apply(_scenelist, _solicitingScenes)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if $estate.brothel.style == &quot;Open&quot;&gt;&gt;
		&lt;&lt;set _customer = _openbrothelcustomers.random()&gt;&gt;

	&lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
		&lt;&lt;set _customer = _closedbrothelcustomers.random()&gt;&gt;

	&lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
		&lt;&lt;set _customer = _theaterbrothelcustomers.random()&gt;&gt;

	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _customer = _normalbrothelcustomers.random()&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $estate.brothel.style == &quot;Open&quot; &amp;&amp; !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Guard&quot;)&gt;&gt;
		&lt;&lt;set _scenelist.push.apply(_scenelist, _prostituteScenes)&gt;&gt;
		&lt;&lt;set _scene = _scenelist.random()&gt;&gt;
		
		&lt;&lt;set $activeCharacter.summary += &quot; &lt;&lt;print capitalize(&#39;&quot; + _name + &quot;&#39;)&gt;&gt; recieved &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers inside the brothel wherever they took &lt;&lt;print $himher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt;.&quot;&gt;&gt;

	&lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot; &amp;&amp; !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Guard&quot;)&gt;&gt;
		&lt;&lt;set _scenelist.push.apply(_scenelist, _attendantScenes)&gt;&gt;
		&lt;&lt;set _scene = _scenelist.random()&gt;&gt;
		
		&lt;&lt;set $activeCharacter.summary += &quot; &lt;&lt;print capitalize(&#39;&quot; + _name + &quot;&#39;)&gt;&gt; recieved &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers in a large, extravagant room with a king-sized four poster bed.&quot;&gt;&gt;
		
	&lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot; &amp;&amp; !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Guard&quot;)&gt;&gt;
		&lt;&lt;set _scenelist.push.apply(_scenelist, _hostScenes)&gt;&gt;
		&lt;&lt;set _scene = _scenelist.random()&gt;&gt;
		
		&lt;&lt;set $activeCharacter.summary += &quot; &lt;&lt;print capitalize(&#39;&quot; + _name + &quot;&#39;)&gt;&gt; served &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers in a private booth.&quot;&gt;&gt;
	
	&lt;&lt;elseif _character.position == &quot;Prostitute&quot; &amp;&amp; !($estate.brothel.exceptions.pSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Procurer&quot;) &amp;&amp; !($estate.brothel.exceptions.gSoliciting == &quot;Yes&quot; &amp;&amp; _character.position == &quot;Guard&quot;)&gt;&gt;
		&lt;&lt;set _scene = _scenelist.random()&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; &lt;&lt;print capitalize(&#39;&quot; + _name + &quot;&#39;)&gt;&gt; recieved &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers in a small, dull room with a bed.&quot;&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
		
	/*
	&lt;&lt;if _character.position == &quot;Guard&quot;&gt;&gt;
		&lt;&lt;set _scenelist.push.apply(_scenelist, _guardScenes)&gt;&gt;
		&lt;&lt;set _scene = _scenelist.random()&gt;&gt;
	
	&lt;&lt;elseif _character.position == &quot;Procurer&quot;&gt;&gt;
		&lt;&lt;set _scenelist.push.apply(_scenelist, _procurerScenes)&gt;&gt;
		&lt;&lt;set _scene = _scenelist.random()&gt;&gt;

	&lt;&lt;/if&gt;&gt;
	*/
	
	/*&lt;&lt;set _scene = &quot;&quot;&gt;&gt;*/

	&lt;&lt;set _an = AvsAn.query(extractWord(_customer))&gt;&gt;

	&lt;&lt;switch _customer&gt;&gt;
		&lt;&lt;case &quot;old man&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was a creepy old man with withered gray hair and a strangely abled body.&quot;&gt;&gt;

		&lt;&lt;case &quot;old woman&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was a decrepit old woman with withered gray hair and a strangely abled body.&quot;&gt;&gt;

		&lt;&lt;case &quot;young man&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was an ordinary young man looking for some pleasure after a days hard work.&quot;&gt;&gt;

		&lt;&lt;case &quot;young woman&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was an unremarkable young woman looking to spend the night indulging in her carnal pleasures.&quot;&gt;&gt;

		&lt;&lt;case &quot;young master&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was a stylish young man looking for expensive pleasures.&quot;&gt;&gt;

		&lt;&lt;case &quot;young mistress&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was an elegant young woman looking for expensive pleasures.&quot;&gt;&gt;

		&lt;&lt;case &quot;homeless man&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was a ragged, unclean homeless man who has somehow scrounged up enough money to buy some time with one of your whores.&quot;&gt;&gt;

		&lt;&lt;case &quot;homeless woman&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was a nasty, foul-smelling homeless woman who has somehow scrounged up enough money to buy some time with one of your whores.&quot;&gt;&gt;

		&lt;&lt;case &quot;rich man&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was an expensively dressed man looking to de-stress by being comforted by your brothel whores.&quot;&gt;&gt;

		&lt;&lt;case &quot;rich woman&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was an expensively dressed woman looking to de-stress by being comforted by your brothel whores.&quot;&gt;&gt;

		&lt;&lt;case &quot;male bandit&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was a scary looking male bandit looking to spend some of his &#39;hard earned&#39; money on one of your whores.&quot;&gt;&gt;

		&lt;&lt;case &quot;female bandit&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers was a menacing looking female bandit looking to spend some of her &#39;hard earned&#39; money on one of your whores.&quot;&gt;&gt;

		&lt;&lt;case &quot;male bandit leader&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers a man known to be a leader of one of the local bandit groups, which anyone could tell from the scars and scabs all over his body.&quot;&gt;&gt;

		&lt;&lt;case &quot;female bandit leader&quot;&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; One of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; customers a woman known to be a leader of one of the local bandit groups, which anyone could tell from the scars and scabs all over her face.&quot;&gt;&gt;

	&lt;&lt;/switch&gt;&gt;

&lt;&lt;elseif _character.assignment == &quot;husbandry&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;switch _scene&gt;&gt;
	&lt;&lt;case &quot;Oral&quot;&gt;&gt;
		&lt;&lt;if _malecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; sucked and slobbered all over the &quot; + _customer + &quot;&#39;s cock. The &quot; + _customer + &quot; came multiple times inside of &quot; + _names + &quot; mouth, thoroughly enjoying &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; oral attentions.&quot;&gt;&gt;

		&lt;&lt;elseif _femalecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; sucked and lavished the &quot; + _customer + &quot;&#39;s cunt with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; mouth. The &quot; + _customer + &quot; received multiple orgasms from &quot; + _names + &quot; oral attentions.&quot;&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;

	&lt;&lt;case &quot;Manual&quot;&gt;&gt;
		&lt;&lt;if _malecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; caress and stroked the &quot; + _customer + &quot;&#39;s cock, causing him to cum multiple times all over &quot; + _names + &quot; hand and body. The &quot; + _customer + &quot; made &quot; + _name + &quot; clean up the mess with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; tongue.&quot;&gt;&gt;

		&lt;&lt;elseif _femalecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; massaged the &quot; + _customer + &quot;&#39;s clit and labia before fingering her to multiple orgasms. The &quot; + _customer + &quot; made &quot; + _name + &quot; clean up the mess with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; tongue.&quot;&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, 1, &quot;summary&quot;)&gt;&gt;

	&lt;&lt;case &quot;Masturbation&quot;&gt;&gt;
		&lt;&lt;if _character.cock.current &gt; 0 &amp;&amp; _character.girth.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; stroked &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cock&#39;&gt;&gt; to multiple orgasms in front of the &quot; + _customer + &quot;, spurting rope after rope of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; cum all over the customer.&quot;&gt;&gt;

			&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;

		&lt;&lt;elseif _character.pussy.current &gt; 0 &amp;&amp; _character.clit.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; fucked &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;pussy&#39;&gt;&gt; with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; fingers while tweaking &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; clit, causing &lt;&lt;print $himher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; to orgasm multiple times in front of the &quot; + _customer + &quot;.&quot;&gt;&gt;

			&lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;
			&lt;&lt;print increaseSensitivity(&quot;clit&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;


	&lt;&lt;case &quot;Mammary&quot;&gt;&gt;
		&lt;&lt;if _malecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;if _character.bust.current &gt;= 3&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; pressed &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;breasts&#39;&gt;&gt; together and allowed the &quot; + _customer + &quot; to thrust his cock between them, causing him to cum all over &quot; + _names + &quot; breasts and face.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;breasts&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;
			&lt;&lt;else&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; suckled on the &quot; + _customer + &quot;&#39;s nipples while jerking him off since &quot; + _names + &quot; bust was much too small to service the &quot; + _customer + &quot; with them.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _femalecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; sucked, caressed and lavished the &quot; + _customer + &quot;&#39;s breasts and nipples with physical attention causing the customer to experience multiple bust induced orgasms.&quot;&gt;&gt;

			&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, 1, &quot;summary&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;


	&lt;&lt;case &quot;Sex&quot;&gt;&gt;
		&lt;&lt;if _malecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;if _character.pussy.current &gt; 0&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; allowed the &quot; + _customer + &quot; to fuck and use &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;body&#39;&gt;&gt; until he is completely satisfied and &quot; + _names + &quot; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;pussy&#39;&gt;&gt; is completely filled with his semen.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;
				&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;
				
			&lt;&lt;else&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; sucked and slobbered all over the &quot; + _customer + &quot;&#39;s cock. The &quot; + _customer + &quot; came multiple times inside of &quot; + _names + &quot; mouth, thoroughly enjoying &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; oral attentions.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _femalecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;if _character.cock.current &gt; 0 &amp;&amp; _character.girth.current &gt; 0&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; allowed the &quot; + _customer + &quot; to fuck and use &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cock&#39;&gt;&gt; as she pleases, bringing herself to multiple orgasms while  &quot; + _name + &quot; filled her cunt with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cum&#39;&gt;&gt;.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;
				&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; sucked and lavished the &quot; + _customer + &quot;&#39;s cunt with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; mouth. The &quot; + _customer + &quot; received multiple orgasms from &quot; + _names + &quot; oral attentions.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Rough Sex&quot;&gt;&gt;
		&lt;&lt;if _malecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;if _character.pussy.current &gt; 0&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &lt;&lt;print capitalize(&#39;&quot; + _name + &quot;&#39;)&gt;&gt; was pinned under the &quot; + _customer + &quot;&#39;s body as he roughly plowed into &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;pussy&#39;&gt;&gt; with reckless abandon, filling it with his cum.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;pussy&quot;, $activeCharacter, 5, &quot;summary&quot;)&gt;&gt;
				&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; caress and stroked the &quot; + _customer + &quot;&#39;s cock, causing him to cum multiple times all over &quot; + _names + &quot; hand and body. The &quot; + _customer + &quot; made &quot; + _name + &quot; clean up the mess with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; tongue.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, 1, &quot;summary&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _femalecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;if _character.cock.current &gt; 0 &amp;&amp; _character.girth.current &gt; 0&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &lt;&lt;print capitalize(&#39;&quot; + _name + &quot;&#39;)&gt;&gt; was pinned under the &quot; + _customer + &quot;&#39;s body as she rode &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cock&#39;&gt;&gt; to multiple orgasms, continuing even after &quot; + _name + &quot; &quot; + _was + &quot; too exhausted.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;cock&quot;, $activeCharacter, 5, &quot;summary&quot;)&gt;&gt;
				&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; massaged the &quot; + _customer + &quot;&#39;s clit and labia before fingering her to multiple orgasms. The &quot; + _customer + &quot; made &quot; + _name + &quot; clean up the mess with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; tongue.&quot;&gt;&gt;

				&lt;&lt;print increaseSensitivity(&quot;mouth&quot;, $activeCharacter, 1, &quot;summary&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Anal Sex&quot;&gt;&gt;
		&lt;&lt;if _malecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; bent over and let the &quot; + _customer + &quot; ream &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; lubed, &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt;. After finishing the &quot; + _customer + &quot; had &quot; + _name + &quot; clean his cock with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; mouth.&quot;&gt;&gt;

		&lt;&lt;elseif _femalecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; bent over and let the &quot; + _customer + &quot; ream &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; lubed, &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt; with a strap-on. After finishing the &quot; + _customer + &quot; had &quot; + _name + &quot; clean the strap-on with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; mouth.&quot;&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;print increaseSensitivity(&quot;anus&quot;, $activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;
		&lt;&lt;print increaseGape($activeCharacter, 2.5, &quot;summary&quot;)&gt;&gt;
		&lt;&lt;set _analvirginity = checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

	&lt;&lt;case &quot;Rough Anal Sex&quot;&gt;&gt;
		&lt;&lt;if _malecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; The &quot; + _customer + &quot; wrestled &quot; + _name + &quot; onto &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; back and rammed his cock into &quot; + _names + &quot; unlubed, &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt;. After finishing inside of &quot; + _names + &quot; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt;, the &quot; + _customer + &quot; turned &quot; + _name + &quot; over and forced &lt;&lt;print $himher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; to clean his cock.&quot;&gt;&gt;

		&lt;&lt;elseif _femalecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; The &quot; + _customer + &quot; wrestled &quot; + _name + &quot; onto &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; back and rammed her strap-on into &quot; + _names + &quot; unlubed, &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt;. After enjoying herself, the &quot; + _customer + &quot; turned &quot; + _name + &quot; over and forced &lt;&lt;print $himher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; to clean the strap-on with &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; mouth.&quot;&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;print increaseSensitivity(&quot;anus&quot;, $activeCharacter, 5, &quot;summary&quot;)&gt;&gt;
		&lt;&lt;print increaseGape($activeCharacter, 5, &quot;summary&quot;)&gt;&gt;
		&lt;&lt;set _analvirginity = checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

	&lt;&lt;case &quot;Masturbation Performance&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; The &quot; + _customer + &quot; had &quot; + _opening + &quot; spread &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; legs and masturbate &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &quot;&gt;&gt;
		
		&lt;&lt;if _character.cock.current &gt; 0 &amp;&amp; _character.girth.current &gt; 0 &amp;&amp; _character.pussy.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cock&#39;&gt;&gt; and &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;pussy&#39;&gt;&gt;&quot;&gt;&gt;
			
		&lt;&lt;elseif _character.cock.current &gt; 0 &amp;&amp; _character.girth.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cock&#39;&gt;&gt;&quot;&gt;&gt;
			
		&lt;&lt;elseif _character.pussy.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;pussy&#39;&gt;&gt;&quot;&gt;&gt;
		
		&lt;&lt;elseif _character.bust.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;breasts&#39;&gt;&gt;&quot;&gt;&gt;
			
		&lt;&lt;else&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt;&quot;&gt;&gt;
		
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;set $activeCharacter.summary += &quot; erotically to multiple orgasms for their own enjoyment.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;host&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;host&quot;, $activeCharacter, 5, $estate.brothel.levels.hosting)&gt;&gt;

	&lt;&lt;case &quot;Bartender Sex&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; While &quot; + _name + &quot; &quot; + _was + &quot; serving drinks from the bar the &quot; + _customer + &quot; payed to have &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; as a server. Instead of bringing &lt;&lt;print $himher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; to a private booth the &quot; + _customer + &quot; &quot;&gt;&gt;
		
		&lt;&lt;if _malecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;bent &quot; + _name + &quot; over the bar and ravaged &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt;&quot;&gt;&gt;
			
			&lt;&lt;if _character.pussy.current &gt; 0&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;pussy&#39;&gt;&gt; and finished by spurting deep inside &lt;&lt;print $himher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt;.&quot;&gt;&gt;
				
				&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;
			
			&lt;&lt;else&gt;&gt;
				&lt;&lt;set $activeCharacter.summary += &quot; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt; and finished by spurting deep inside &lt;&lt;print $himher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt;.&quot;&gt;&gt;
				
				&lt;&lt;set _analvirginity = checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;
			
			&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;elseif _femalecustomers.includes(_customer)&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot; laid &quot; + _name + &quot; across the bar and &quot;&gt;&gt;
			
		 &lt;&lt;if _character.cock.current &gt; 0 &amp;&amp; _character.girth.current &gt; 0&gt;&gt;
 			&lt;&lt;set $activeCharacter.summary += &quot;rode &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cock&#39;&gt;&gt; until their climax.&quot;&gt;&gt;
			
			&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;
 			
 		&lt;&lt;else&gt;&gt;
 			&lt;&lt;set $activeCharacter.summary += &quot;sat on &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; face, using &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;lips&#39;&gt;&gt; lips to pleasure their cunt.&quot;&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;host&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;host&quot;, $activeCharacter, 5, $estate.brothel.levels.hosting)&gt;&gt;

	&lt;&lt;case &quot;Server Sex&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; crawled under the table and orally pleasured the &quot; + _customer + &quot; while they relaxed and finished their meal, only coming up when called upon to get more food or drinks.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;host&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;host&quot;, $activeCharacter, 5, $estate.brothel.levels.hosting)&gt;&gt;

	&lt;&lt;case &quot;Nyotaimori&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; laid across the table, using &lt;&lt;print $himselfherself[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; as a plate as the &quot; + _customer + &quot;&#39;s order was served all over &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; body.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;host&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;host&quot;, $activeCharacter, 5, $estate.brothel.levels.hosting)&gt;&gt;

	&lt;&lt;case &quot;Gangbang&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; took part in multiple gangbangs. The &quot; + _customer + &quot; paid for them and their friends to take turns making use of every appendage, hole and genital on &quot; + _names + &quot; body. When they were done &lt;&lt;print $heshe[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &quot; + _was + &quot; left in a puddle of body fluids.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;solicitor&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;solicitor&quot;, $activeCharacter, 5, $estate.brothel.levels.soliciting)&gt;&gt;
		
		&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;
		&lt;&lt;set _analvirginity = checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

	&lt;&lt;case &quot;Wall Bondage&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; &quot; + _opening + &quot; secured themselves to a bondage wall, displaying &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &quot;&gt;&gt;
		
		&lt;&lt;if _character.cock.current &gt; 0 &amp;&amp; _character.girth.current &gt; 0 &amp;&amp; _character.pussy.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cock&#39;&gt;&gt;, &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;pussy&#39;&gt;&gt; and &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt;&quot;&gt;&gt;
			
		&lt;&lt;elseif _character.cock.current &gt; 0 &amp;&amp; _character.girth.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;cock&#39;&gt;&gt; and &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt;&quot;&gt;&gt;
			
		&lt;&lt;elseif _character.pussy.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;pussy&#39;&gt;&gt; and &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;anus&#39;&gt;&gt;&quot;&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;set $activeCharacter.summary += &quot; for use on one side and &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; &quot;&gt;&gt;
		
		&lt;&lt;if _character.bust.current &gt; 0&gt;&gt;
			&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;breasts&#39;&gt;&gt; &quot;&gt;&gt;
			
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;set $activeCharacter.summary += &quot;and &lt;&lt;descriptor &quot; + _char + &quot; 80 &#39;lips&#39;&gt;&gt; lips on the other for the &quot; + _customer + &quot; to use.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;solicitor&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;solicitor&quot;, $activeCharacter, 5, $estate.brothel.levels.soliciting)&gt;&gt;
		
		&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;
		&lt;&lt;set _analvirginity = checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

	&lt;&lt;case &quot;Overused&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; The &quot; + _customer + &quot; found &quot; + _name + &quot; exhausted laying in a puddle of &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; own juices mixed with the bodily fluids from many other customers. Instead of turning the &quot; + _customer + &quot; off, it only built their lust to the point they ended up using &quot; + _name + &quot; in &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; exhausted state for over an hour to sate their sexual needs.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;solicitor&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;solicitor&quot;, $activeCharacter, 5, $estate.brothel.levels.soliciting)&gt;&gt;
		
		&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;
		&lt;&lt;set _analvirginity = checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

	&lt;&lt;case &quot;Vent Sex&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; The &quot; + _customer + &quot; was furious when they walked into the brothel due to external circumstances and paid to use &quot; + _name + &quot; for a long while. &quot; + _opening + &quot; allowed them to vent their fustrations all over &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; body multiple times during &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; serving period. The customer left feeling relaxed and rested.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;attendant&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;attendant&quot;, $activeCharacter, 5, $estate.brothel.levels.attending)&gt;&gt;
		
		&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

	&lt;&lt;case &quot;Loving Sex&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; The &quot; + _customer + &quot; booked a lengthy amount of &quot; + _names + &quot; time in advance. &quot; + _opening + &quot; serviced the &quot; + _customer + &quot; lovingly for the entire duration of their time.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;attendant&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;attendant&quot;, $activeCharacter, 5, $estate.brothel.levels.attending)&gt;&gt;
		
		&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;
		
	&lt;&lt;case &quot;Toys Sex&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot; The &quot; + _customer + &quot; payed for the use of a large arrangement of toys to use during their time in your brothel. &quot; + _opening + &quot; allowed the &quot; + _customer + &quot; to use the toys in and on &lt;&lt;print $hisher[&#39;&quot; + _gender + &quot;&#39;]&gt;&gt; body however they pleased.&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;br&gt;&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.summary += &quot;&lt;&lt;skillsum &quot; + _char + &quot; &#39;attendant&#39; &#39;job&#39;&gt;&gt;&quot;&gt;&gt;
		&lt;&lt;run increaseSkillLvl(&quot;attendant&quot;, $activeCharacter, 5, $estate.brothel.levels.attending)&gt;&gt;
		
		&lt;&lt;set _virginity = checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;
		&lt;&lt;set _analvirginity = checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

	&lt;&lt;case &quot;First Timer&quot;&gt;&gt;

	&lt;&lt;case &quot;Regular&quot;&gt;&gt;

&lt;&lt;/switch&gt;&gt;

&lt;&lt;if _virginity&gt;&gt;
	&lt;&lt;set $activeCharacter.summary += _virginity&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _analvirginity&gt;&gt;
	&lt;&lt;set $activeCharacter.summary += _analvirginity&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="231" name="Names" tags="nobr" position="15,642" size="100,100">&lt;&lt;set $femalenames = [&quot;Aisha&quot;, &quot;Agatha&quot;, &quot;Ageha&quot;, &quot;Agnes&quot;, &quot;Ahra&quot;, &quot;Ahura&quot;, &quot;Akiye&quot;, &quot;Alanna&quot;, &quot;Alessia&quot;, &quot;Alexandria&quot;, &quot;Alice&quot;, &quot;Alisa&quot;, &quot;Alfira&quot;, &quot;Allysandre&quot;, &quot;Alora&quot;, &quot;Alsina&quot;, &quot;Alyssa&quot;, &quot;Amelia&quot;, &quot;Amelie&quot;, &quot;Amia&quot;, &quot;Amina&quot;, &quot;Anastasia&quot;, &quot;Andrea&quot;, &quot;Anele&quot;, &quot;Angela&quot;, &quot;Ania&quot;, &quot;Anise&quot;, &quot;Anissa&quot;, &quot;Anja&quot;, &quot;Anna&quot;, &quot;Anne&quot;, &quot;Anya&quot;, &quot;Aphia&quot;, &quot;Arabelle&quot;, &quot;Arayna&quot;, &quot;Arden&quot;, &quot;Aria&quot;, &quot;Ariadne&quot;, &quot;Arielle&quot;, &quot;Aruna&quot;, &quot;Ary&quot;, &quot;Aryae&quot;, &quot;Arya&quot;, &quot;Ashe&quot;, &quot;Asra&quot;, &quot;Astrid&quot;, &quot;Aurora&quot;, &quot;Ava&quot;, &quot;Avery&quot;, &quot;Ayana&quot;, &quot;Ayda&quot;, &quot;Bahria&quot;, &quot;Bala&quot;, &quot;Bella&quot;, &quot;Bruna&quot;, &quot;Caera&quot;, &quot;Caila&quot;, &quot;Calara&quot;, &quot;Calla&quot;, &quot;Camille&quot;, &quot;Candela&quot;, &quot;Candice&quot;, &quot;Cara&quot;, &quot;Carrera&quot;, &quot;Caspian&quot;, &quot;Cassidy&quot;, &quot;Cecile&quot;, &quot;Cecilia&quot;, &quot;Celest&quot;, &quot;Celestine&quot;, &quot;Celia&quot;, &quot;Celina&quot;, &quot;Celine&quot;, &quot;Cercei&quot;, &quot;Chalissa&quot;, &quot;Charlotte&quot;, &quot;Cici&quot;, &quot;Cienna&quot;, &quot;Claire&quot;, &quot;Clara&quot;, &quot;Clare&quot;, &quot;Clea&quot;, &quot;Cleo&quot;, &quot;Colette&quot;, &quot;Cora&quot;, &quot;Corinne&quot;, &quot;Correia&quot;, &quot;Cressida&quot;, &quot;Crystal&quot;, &quot;Daisy&quot;, &quot;Dawn&quot;, &quot;Diana&quot;, &quot;Diane&quot;, &quot;Diedra&quot;, &quot;Deidre&quot;, &quot;Dragana&quot;, &quot;Edith&quot;, &quot;Edna&quot;, &quot;Edwina&quot;, &quot;Eimi&quot;, &quot;Eleanor&quot;, &quot;Elena&quot;, &quot;Eleonora&quot;, &quot;Elia&quot;, &quot;Elicia&quot;, &quot;Elise&quot;, &quot;Elissa&quot;, &quot;Elissandra&quot;, &quot;Eliza&quot;, &quot;Elizabeth&quot;, &quot;Ella&quot;, &quot;Elle&quot;, &quot;Eloa&quot;, &quot;Elsa&quot;, &quot;Elva&quot;, &quot;Emile&quot;, &quot;Emilia&quot;, &quot;Emily&quot;, &quot;Emma&quot;, &quot;Erah&quot;, &quot;Erin&quot;, &quot;Eris&quot;, &quot;Estella&quot;, &quot;Ethel&quot;, &quot;Eva&quot;, &quot;Evelyn&quot;, &quot;Evie&quot;, &quot;Ezra&quot;, &quot;Fae&quot;, &quot;Fauna&quot;, &quot;Faye&quot;, &quot;Fianna&quot;, &quot;Fiona&quot;, &quot;Flora&quot;, &quot;Frederica&quot;, &quot;Frey&quot;, &quot;Freya&quot;, &quot;Giselle&quot;, &quot;Hanna&quot;, &quot;Hannibel&quot;, &quot;Hatha&quot;, &quot;Haya&quot;, &quot;Hazel&quot;, &quot;Holly&quot;, &quot;Iberis&quot;, &quot;Ina&quot;, &quot;Inga&quot;, &quot;Ingrid&quot;, &quot;Irena&quot;, &quot;Iris&quot;, &quot;Isabel&quot;, &quot;Isabella&quot;, &quot;Issa&quot;, &quot;Ivette&quot;, &quot;Ivy&quot;, &quot;Jada&quot;, &quot;Jade&quot;, &quot;Janna&quot;, &quot;Jayne&quot;, &quot;Jazel&quot;, &quot;Joseline&quot;, &quot;Josias&quot;, &quot;Kalissy&quot;, &quot;Kamila&quot;, &quot;Kanna&quot;, &quot;Kathia&quot;, &quot;Kenira&quot;, &quot;Kenna&quot;, &quot;Khaleesi&quot;, &quot;Kiara&quot;, &quot;Kiera&quot;, &quot;Kiki&quot;, &quot;Kira&quot;, &quot;Kitana&quot;, &quot;Korina&quot;, &quot;Kyla&quot;, &quot;Lana&quot;, &quot;Lara&quot;, &quot;Latis&quot;, &quot;Layla&quot;, &quot;Leah&quot;, &quot;Lebelle&quot;, &quot;Leiri&quot;, &quot;Lena&quot;, &quot;Lenae&quot;, &quot;Leona&quot;, &quot;Leone&quot;, &quot;Leonora&quot;, &quot;Leticia&quot;, &quot;Lilah&quot;, &quot;Lilia&quot;, &quot;Lilian&quot;, &quot;Lilika&quot;, &quot;Lilith&quot;, &quot;Lillis&quot;, &quot;Lily&quot;, &quot;Linda&quot;, &quot;Livia&quot;, &quot;Liza&quot;, &quot;Lorelei&quot;, &quot;Loretta&quot;, &quot;Lotte&quot;, &quot;Lovia&quot;, &quot;Lucia&quot;, &quot;Lumi&quot;, &quot;Luna&quot;, &quot;Lunette&quot;, &quot;Luvelia&quot;, &quot;Lydia&quot;, &quot;Lyra&quot;, &quot;Maela&quot;, &quot;Maelynn&quot;, &quot;Maeve&quot;, &quot;Maggie&quot;, &quot;Maja&quot;, &quot;Mana&quot;, &quot;Marceline&quot;, &quot;Mardella&quot;, &quot;Maria&quot;, &quot;Maribelle&quot;, &quot;Marie&quot;, &quot;Mariel&quot;, &quot;Marietta&quot;, &quot;Marina&quot;, &quot;Mavis&quot;, &quot;Maya&quot;, &quot;Maye&quot;, &quot;Meredith&quot;, &quot;Mia&quot;, &quot;Mila&quot;, &quot;Minerva&quot;, &quot;Mira&quot;, &quot;Moka&quot;, &quot;Mona&quot;, &quot;Morgan&quot;, &quot;Morgana&quot;, &quot;Muse&quot;, &quot;Myah&quot;, &quot;Myra&quot;, &quot;Naia&quot;, &quot;Nala&quot;, &quot;Nami&quot;, &quot;Naomi&quot;, &quot;Natalie&quot;, &quot;Nelba&quot;, &quot;Nier&quot;, &quot;Nigulla&quot;, &quot;Niserie&quot;, &quot;Nina&quot;, &quot;Noelle&quot;, &quot;Noire&quot;, &quot;Nona&quot;, &quot;Nora&quot;, &quot;Nova&quot;, &quot;Numa&quot;, &quot;Nur&quot;, &quot;Nyla&quot;, &quot;Nyra&quot;, &quot;Oana&quot;, &quot;Olisya&quot;, &quot;Olivia&quot;, &quot;Olyssa&quot;, &quot;Ophelia&quot;, &quot;Orisa&quot;, &quot;Palla&quot;, &quot;Patessa&quot;, &quot;Patra&quot;, &quot;Percibelle&quot;, &quot;Phedre&quot;, &quot;Philia&quot;, &quot;Rakka&quot;, &quot;Ranata&quot;, &quot;Raven&quot;, &quot;Raya&quot;, &quot;Raylin&quot;, &quot;Reena&quot;, &quot;Reia&quot;, &quot;Reina&quot;, &quot;Rene&quot;, &quot;Rela&quot;, &quot;Ria&quot;, &quot;Rin&quot;, &quot;Rina&quot;, &quot;Rosa&quot;, &quot;Rosalind&quot;, &quot;Rose&quot;, &quot;Rosetta&quot;, &quot;Rumi&quot;, &quot;Sanna&quot;, &quot;Saran&quot;, &quot;Sasha&quot;, &quot;Savana&quot;, &quot;Selara&quot;, &quot;Sena&quot;, &quot;Sera&quot;, &quot;Serafina&quot;, &quot;Serena&quot;, &quot;Sharna&quot;, &quot;Sharnis&quot;, &quot;Shasa&quot;, &quot;Shauna&quot;, &quot;Sheyl&quot;, &quot;Shona&quot;, &quot;Skylar&quot;, &quot;Sierra&quot;, &quot;Silaria&quot;, &quot;Silva&quot;, &quot;Silvia&quot;, &quot;Shoko&quot;, &quot;Sofy&quot;, &quot;Sophia&quot;, &quot;Sophie&quot;, &quot;Stella&quot;, &quot;Suraya&quot;, &quot;Suriel&quot;, &quot;Sylvie&quot;, &quot;Talia&quot;, &quot;Tanith&quot;, &quot;Tera&quot;, &quot;Ursula&quot;, &quot;Uryah&quot;, &quot;Vana&quot;, &quot;Vera&quot;, &quot;Viola&quot;, &quot;Violet&quot;, &quot;Vira&quot;, &quot;Willow&quot;, &quot;Xianna&quot;, &quot;Yara&quot;, &quot;Yael&quot;, &quot;Yona&quot;, &quot;Ysenia&quot;, &quot;Yvonne&quot;, &quot;Yuisis&quot;, &quot;Yumi&quot;, &quot;Zhara&quot;, &quot;Zosia&quot;]&gt;&gt;

&lt;&lt;set $malenames = [&quot;Aadram&quot;, &quot;Abel&quot;, &quot;Adnis&quot;, &quot;Aenwyn&quot;, &quot;Aesir&quot;, &quot;Aiden&quot;, &quot;Aiowen&quot;, &quot;Agos&quot;, &quot;Albus&quot;, &quot;Alden&quot;, &quot;Alexander&quot;, &quot;Alfred&quot;, &quot;Algar&quot;, &quot;Alix&quot;, &quot;Amadeus&quot;, &quot;Amaro&quot;, &quot;Amauri&quot;, &quot;Ando&quot;, &quot;Andre&quot;, &quot;Aras&quot;, &quot;Aries&quot;, &quot;Armond&quot;, &quot;Arrian&quot;, &quot;Arune&quot;, &quot;Azel&quot;, &quot;Azemaur&quot;, &quot;Bahren&quot;, &quot;Barrett&quot;, &quot;Bellamy&quot;, &quot;Benjamin&quot;, &quot;Bertram&quot;, &quot;Bishop&quot;, &quot;Blair&quot;, &quot;Boris&quot;, &quot;Brache&quot;, &quot;Bran&quot;, &quot;Brewyn&quot;, &quot;Caden&quot;, &quot;Cale&quot;, &quot;Caliban&quot;, &quot;Calvert&quot;, &quot;Cassian&quot;, &quot;Ceadric&quot;, &quot;Cecil&quot;, &quot;Celda&quot;, &quot;Cephus&quot;, &quot;Cero&quot;, &quot;Chapuys&quot;, &quot;Christole&quot;, &quot;Claus&quot;, &quot;Collem&quot;, &quot;Coln&quot;, &quot;Conall&quot;, &quot;Conan&quot;, &quot;Covu&quot;, &quot;Cyne&quot;, &quot;Cyrus&quot;, &quot;Daemon&quot;, &quot;Daemeon&quot;, &quot;Dansen&quot;, &quot;Dumas&quot;, &quot;Eacelm&quot;, &quot;Eamon&quot;, &quot;Ehran&quot;, &quot;Einar&quot;, &quot;Elan&quot;, &quot;Eli&quot;, &quot;Elijah&quot;, &quot;Ellis&quot;, &quot;Elsen&quot;, &quot;Emin&quot;, &quot;Enzo&quot;, &quot;Eogan&quot;, &quot;Erith&quot;, &quot;Esdras&quot;, &quot;Estan&quot;, &quot;Evan&quot;, &quot;Ferand&quot;, &quot;Frederick&quot;, &quot;Gagadr&quot;, &quot;Gail&quot;, &quot;Gaios&quot;, &quot;Garas&quot;, &quot;Gareth&quot;, &quot;Garret&quot;, &quot;Gileon&quot;, &quot;Giles&quot;, &quot;Graham&quot;, &quot;Haden&quot;, &quot;Hahn&quot;, &quot;Hans&quot;, &quot;Helmund&quot;, &quot;Helmut&quot;, &quot;Hiten&quot;, &quot;Hoak&quot;, &quot;Hughes&quot;, &quot;Iair&quot;, &quot;Ichol&quot;, &quot;Ikaros&quot;, &quot;Ilbus&quot;, &quot;Illan&quot;, &quot;Inago&quot;, &quot;Isaac&quot;, &quot;Ised&quot;, &quot;Isaiah&quot;, &quot;Ivan&quot;, &quot;Ivram&quot;, &quot;Iwan&quot;, &quot;Izem&quot;, &quot;Jochias&quot;, &quot;Judas&quot;, &quot;Julius&quot;, &quot;Juno&quot;, &quot;Kaias&quot;, &quot;Kall&quot;, &quot;Kassin&quot;, &quot;Khol&quot;, &quot;Kahn&quot;, &quot;Kane&quot;, &quot;Kasdum&quot;, &quot;Keiran&quot;, &quot;Kerian&quot;, &quot;Khaleas&quot;, &quot;Kito&quot;, &quot;Klaus&quot;, &quot;Koios&quot;, &quot;Kohn&quot;, &quot;Kouga&quot;, &quot;Kyrias&quot;, &quot;Kyros&quot;, &quot;Kyvre&quot;, &quot;Lance&quot;, &quot;Lant&quot;, &quot;Laven&quot;, &quot;Leon&quot;, &quot;Liamath&quot;, &quot;Lilard&quot;, &quot;Lir&quot;, &quot;Leland&quot;, &quot;Locke&quot;, &quot;Lombard&quot;, &quot;Lorren&quot;, &quot;Lucas&quot;, &quot;Lumen&quot;, &quot;Lyle&quot;, &quot;Malen&quot;, &quot;Malik&quot;, &quot;Marco&quot;, &quot;Maren&quot;, &quot;Mathias&quot;, &quot;Matteo&quot;, &quot;Micheal&quot;, &quot;Milo&quot;, &quot;Neale&quot;, &quot;Neas&quot;, &quot;Niall&quot;, &quot;Nodeius&quot;, &quot;Nolan&quot;, &quot;Norton&quot;, &quot;Odom&quot;, &quot;Okhos&quot;, &quot;Olsen&quot;, &quot;Onni&quot;, &quot;Ornn&quot;, &quot;Oswaldo&quot;, &quot;Owen&quot;, &quot;Otto&quot;, &quot;Palim&quot;, &quot;Pluto&quot;, &quot;Pteri&quot;, &quot;Rader&quot;, &quot;Rae&quot;, &quot;Rafi&quot;, &quot;Ral&quot;, &quot;Ralphye&quot;, &quot;Ramiel&quot;, &quot;Ramsay&quot;, &quot;Ramua&quot;, &quot;Randall&quot;, &quot;Raphael&quot;, &quot;Raun&quot;, &quot;Rawlin&quot;, &quot;Raynard&quot;, &quot;Reed&quot;, &quot;Reeves&quot;, &quot;Remus&quot;, &quot;Ren&quot;, &quot;Renart&quot;, &quot;Reto&quot;, &quot;Rette&quot;, &quot;Rewilh&quot;, &quot;Rey&quot;, &quot;Rheon&quot;, &quot;Rhistel&quot;, &quot;Roahl&quot;, &quot;Roban&quot;, &quot;Rocco&quot;, &quot;Rohl&quot;, &quot;Rohri&quot;, &quot;Rolan&quot;, &quot;Roland&quot;, &quot;Rommel&quot;, &quot;Romy&quot;, &quot;Rook&quot;, &quot;Rory&quot;, &quot;Rowan&quot;, &quot;Roy&quot;, &quot;Rubin&quot;, &quot;Rumin&quot;, &quot;Ryzand&quot;, &quot;Sabine&quot;, &quot;Salem&quot;, &quot;Sallnes&quot;, &quot;Saphos&quot;, &quot;Selah&quot;, &quot;Seraph&quot;, &quot;Seryan&quot;, &quot;Silva&quot;, &quot;Simon&quot;, &quot;Siward&quot;, &quot;Slane&quot;, &quot;Sloan&quot;, &quot;Soros&quot;, &quot;Theodore&quot;, &quot;Thomas&quot;, &quot;Thorne&quot;, &quot;Torres&quot;, &quot;Towan&quot;, &quot;Tybalt&quot;, &quot;Tyr&quot;, &quot;Urs&quot;, &quot;Vairus&quot;, &quot;Vallem&quot;, &quot;Valrick&quot;, &quot;Vaughn&quot;, &quot;Vern&quot;, &quot;Vitus&quot;, &quot;Wilhelm&quot;, &quot;Wren&quot;, &quot;Wulfe&quot;, &quot;Xander&quot;, &quot;Yasin&quot;, &quot;Yevon&quot;, &quot;Yildrim&quot;, &quot;Ymir&quot;, &quot;Zakir&quot;, &quot;Zane&quot;, &quot;Zaos&quot;, &quot;Zeilel&quot;, &quot;Zhirayr&quot;, &quot;Zion&quot;]&gt;&gt;

&lt;&lt;set $names = {male: $malenames, female: $femalenames}&gt;&gt;

&lt;&lt;set $elfmalenames = [&quot;Abadda&quot;, &quot;Abarat&quot;, &quot;Adamar&quot;, &quot;Adorellan&quot;, &quot;Adresin&quot;, &quot;Aduce&quot;, &quot;Aelrindel&quot;, &quot;Aerendyl&quot;, &quot;Aermhar&quot;, &quot;Aesar&quot;, &quot;Aeson&quot;, &quot;Afamrail&quot;, &quot;Agis&quot;, &quot;Aglanthol&quot;, &quot;Ainésilver&quot;, &quot;Aithlin&quot;, &quot;Ajaar&quot;, &quot;Akhelbhen&quot;, &quot;Akkar&quot;, &quot;Alabyran&quot;, &quot;Albondiel&quot;, &quot;Alinar&quot;, &quot;Allain&quot;, &quot;Alok&quot;, &quot;Alosrin&quot;, &quot;Althidon&quot;, &quot;Amrynn&quot;, &quot;Anarallath&quot;, &quot;Andaerean&quot;, &quot;Andrathath&quot;, &quot;Anfalen&quot;, &quot;Anlyth&quot;, &quot;Aolis&quot;, &quot;Aquilan&quot;, &quot;Araevin&quot;, &quot;Arandron&quot;, &quot;Aravilar&quot;, &quot;Arbane&quot;, &quot;Ardreth&quot;, &quot;Ardryll&quot;, &quot;Argus&quot;, &quot;Arkhun&quot;, &quot;Arkiem&quot;, &quot;Arl&quot;, &quot;Arlen&quot;, &quot;Arun&quot;, &quot;Ascal&quot;, &quot;Athtar&quot;, &quot;Aubric&quot;, &quot;Aubron&quot;, &quot;Aulathar&quot;, &quot;Aulauthar&quot;, &quot;Aumanas&quot;, &quot;Aumrauth&quot;, &quot;Avourel&quot;, &quot;Baerdelcoam&quot;, &quot;Baerithryn&quot;, &quot;Belanor&quot;, &quot;Beldroth&quot;, &quot;Bellas&quot;, &quot;Belstram&quot;, &quot;Beluar&quot;, &quot;Bhyrindaar&quot;, &quot;Biafyndar&quot;, &quot;Bialaer&quot;, &quot;Braern&quot;, &quot;Brindarry&quot;, &quot;Buttorwyr&quot;, &quot;Cameron&quot;, &quot;Chaalmyth&quot;, &quot;Chathanglas&quot;, &quot;Cheyrth&quot;, &quot;Chozzaster&quot;, &quot;Chylnoth&quot;, &quot;Cluhurach&quot;, &quot;Cluym&quot;, &quot;Cohnal&quot;, &quot;Conall&quot;, &quot;Connak&quot;, &quot;Cornaith&quot;, &quot;Corym&quot;, &quot;Cymbiir&quot;, &quot;Cystenn&quot;, &quot;Dakath&quot;, &quot;Dalyor&quot;, &quot;Dannyd&quot;, &quot;Daratrine&quot;, &quot;Darcassan&quot;, &quot;Darfin&quot;, &quot;Darthoridan&quot;, &quot;Deldrach&quot;, &quot;Delmuth&quot;, &quot;Delsaran&quot;, &quot;Dhoelath&quot;, &quot;Divisav&quot;, &quot;Drannor&quot;, &quot;Droth&quot;, &quot;Druindar&quot;, &quot;Durlan&quot;, &quot;Durothil&quot;, &quot;Dyffros&quot;, &quot;Earynspieir&quot;, &quot;Edansyr&quot;, &quot;Edicûve&quot;, &quot;Edwyrd&quot;, &quot;Edyrm&quot;, &quot;Ehlark&quot;, &quot;Ehrendil&quot;, &quot;Eilauver&quot;, &quot;Elaethan&quot;, &quot;Elaith&quot;, &quot;Elandorr&quot;, &quot;Elanjar&quot;, &quot;Elashor&quot;, &quot;Elbauthin&quot;, &quot;Elbereth&quot;, &quot;Eldaernth&quot;, &quot;Eldar&quot;, &quot;Eldrin&quot;, &quot;Elenshaer&quot;, &quot;Elephon&quot;, &quot;Elhieardacil&quot;, &quot;Elidyr&quot;, &quot;Elion&quot;, &quot;Elkhazel&quot;, &quot;Ellisar&quot;, &quot;Elorfindar&quot;, &quot;Elorshin&quot;, &quot;Elpaerae&quot;, &quot;Eltaor&quot;, &quot;Eltargrim&quot;, &quot;Elénaril&quot;, &quot;Emmyth&quot;, &quot;Entrydal&quot;, &quot;Erendriel&quot;, &quot;Erglareo&quot;, &quot;Eriladar&quot;, &quot;Erlan&quot;, &quot;Erlathan&quot;, &quot;Eroan&quot;, &quot;Erolith&quot;, &quot;Eschallus&quot;, &quot;Estelar&quot;, &quot;Ethlando&quot;, &quot;Ettrian&quot;, &quot;Euchoé&quot;, &quot;Evindal&quot;, &quot;Eyrynnhv&quot;, &quot;Faahresc&quot;, &quot;Faelar&quot;, &quot;Faelyn&quot;, &quot;Faeranduil&quot;, &quot;Falael&quot;, &quot;Faoraar&quot;, &quot;Felaern&quot;, &quot;Fenian&quot;, &quot;Fflar&quot;, &quot;Fhaornik&quot;, &quot;Fhociin&quot;, &quot;Filarion&quot;, &quot;Filvendor&quot;, &quot;Filverel&quot;, &quot;Finufaranell&quot;, &quot;Flardryn&quot;, &quot;Flinar&quot;, &quot;Foxfire&quot;, &quot;Fylson&quot;, &quot;Gaeleath&quot;, &quot;Gaelin&quot;, &quot;Galaeron&quot;, &quot;Galan&quot;, &quot;Galather&quot;, &quot;Ganamede&quot;, &quot;Gantar&quot;, &quot;Garrik&quot;, &quot;Garynnon&quot;, &quot;Giilvas&quot;, &quot;Giullio&quot;, &quot;Glarald&quot;, &quot;Glorandal&quot;, &quot;Goronyyv&quot;, &quot;Grathgor&quot;, &quot;Haalaari&quot;, &quot;Hachaam&quot;, &quot;Haemir&quot;, &quot;Haladavar&quot;, &quot;Halafarin&quot;, &quot;Halamar&quot;, &quot;Haldreithen&quot;, &quot;Halflar&quot;, &quot;Halgondas&quot;, &quot;Halpaeril&quot;, &quot;Halueth&quot;, &quot;Halueve&quot;, &quot;Haryk&quot;, &quot;Hastos&quot;, &quot;Hatharal&quot;, &quot;Hiflanyl&quot;, &quot;Hoccar&quot;, &quot;Horith&quot;, &quot;Hubyr&quot;, &quot;Iefyr&quot;, &quot;Ievos&quot;, &quot;Ihimbraskar&quot;, &quot;Ilbryn&quot;, &quot;Ilimitar&quot;, &quot;Iliphar&quot;, &quot;Ilitharath&quot;, &quot;Illianaro&quot;, &quot;Illithor&quot;, &quot;Illitran&quot;, &quot;Ilphas&quot;, &quot;Ilrune&quot;, &quot;Ilthuryn&quot;, &quot;Ilyndrathyl&quot;, &quot;Inchel&quot;, &quot;Inialos&quot;, &quot;Injros&quot;, &quot;Intevar&quot;, &quot;Iolas&quot;, &quot;Iolrath&quot;, &quot;Itham&quot;, &quot;Ithraides&quot;, &quot;Ivlisar&quot;, &quot;Ivran&quot;, &quot;Ivósaar&quot;, &quot;Iymbryl&quot;, &quot;Iyrandrar&quot;, &quot;Iyriklaunavan&quot;, &quot;Jandar&quot;, &quot;Jannalor&quot;, &quot;Jaonos&quot;, &quot;Jassin&quot;, &quot;Jhaan&quot;, &quot;Jhaartael&quot;, &quot;Jhaeros&quot;, &quot;Jharak&quot;, &quot;Jharym&quot;, &quot;Jhuvik&quot;, &quot;Jonas&quot;, &quot;Jonik&quot;, &quot;Jorildyn&quot;, &quot;Josidiah&quot;, &quot;Juppar&quot;, &quot;Kahvoerm&quot;, &quot;Kalaerede&quot;, &quot;Katar&quot;, &quot;Katyr&quot;, &quot;Keletheryl&quot;, &quot;Kelvhan&quot;, &quot;Kendel&quot;, &quot;Kerym&quot;, &quot;Keryth&quot;, &quot;Kesefehon&quot;, &quot;Khaalindaan&quot;, &quot;Kharis&quot;, &quot;Khatar&quot;, &quot;Khidell&quot;, &quot;Khiiral&quot;, &quot;Khilseith&quot;, &quot;Khuumal&quot;, &quot;Khyrmn&quot;, &quot;Khyssoun&quot;, &quot;Kindroth&quot;, &quot;Kivessin&quot;, &quot;Kiyuigh&quot;, &quot;Klaern&quot;, &quot;Kolvar&quot;, &quot;Korrigash&quot;, &quot;Kroloth&quot;, &quot;Kuornos&quot;, &quot;Kuskyn&quot;, &quot;Kuskyn&quot;, &quot;Kymil&quot;, &quot;Kyrtaar&quot;, &quot;Laeroth&quot;, &quot;Lafarallin&quot;, &quot;Lamruil&quot;, &quot;Laosx&quot;, &quot;Larongar&quot;, &quot;Larrel&quot;, &quot;Lashul&quot;, &quot;Lathai&quot;, &quot;Lathlaeril&quot;, &quot;Leayonadas&quot;, &quot;Leojym&quot;, &quot;Lhombaerth&quot;, &quot;Lhoris&quot;, &quot;Lianthorn&quot;, &quot;Llarm&quot;, &quot;Llewellenar&quot;, &quot;Llombaerth&quot;, &quot;Lorsan&quot;, &quot;Luirlan&quot;, &quot;Luthais&quot;, &quot;Luvon&quot;, &quot;Lyari&quot;, &quot;Lyklor&quot;, &quot;Lysanthir&quot;, &quot;Maasli&quot;, &quot;Maendellyn&quot;, &quot;Maeraddyth&quot;, &quot;Maeral&quot;, &quot;Maiele&quot;, &quot;Malgath&quot;, &quot;Mardeiym&quot;, &quot;Marikoth&quot;, &quot;Marlevaur&quot;, &quot;Melandrach&quot;, &quot;Melisander&quot;, &quot;Merellien&quot;, &quot;Merith&quot;, &quot;Methild&quot;, &quot;Mhaenal&quot;, &quot;Mihangyl&quot;, &quot;Miilaethorn&quot;, &quot;Miirphys&quot;, &quot;Mirthal&quot;, &quot;Mirthal&quot;, &quot;Mi’tilarro&quot;, &quot;Mlartlar&quot;, &quot;Mlossae&quot;, &quot;Molonym&quot;, &quot;Molostroi&quot;, &quot;Montagor&quot;, &quot;Morgan&quot;, &quot;Morthil&quot;, &quot;Mothrys&quot;, &quot;Mourn&quot;, &quot;Myrddin&quot;, &quot;Myriil&quot;, &quot;Myrin&quot;, &quot;Myronthilar&quot;, &quot;Mythanthar&quot;, &quot;Naertho&quot;, &quot;Naeryndam&quot;, &quot;Napraeleon&quot;, &quot;Narbeth&quot;, &quot;Nardual&quot;, &quot;Nelaeryn&quot;, &quot;Nelaeryn&quot;, &quot;Neldor&quot;, &quot;Neldor&quot;, &quot;Nesterin&quot;, &quot;Nevarth&quot;, &quot;Nhamashal&quot;, &quot;Nieven&quot;, &quot;Nindrol&quot;, &quot;Ninthalor&quot;, &quot;Nlossae&quot;, &quot;Nopos&quot;, &quot;Norlorn&quot;, &quot;Nremyn&quot;, &quot;Nuvian&quot;, &quot;Nyaalsir&quot;, &quot;Nylian&quot;, &quot;Nym&quot;, &quot;Nyvorlas&quot;, &quot;Oacenth&quot;, &quot;Oenel&quot;, &quot;Ohmbryn&quot;, &quot;Olaurae&quot;, &quot;Olinsivver&quot;, &quot;Olithir&quot;, &quot;Onas&quot;, &quot;Oncith&quot;, &quot;Ondabrar&quot;, &quot;Ondroth&quot;, &quot;Onvyr&quot;, &quot;Orist&quot;, &quot;Orlpar&quot;, &quot;Orndacil&quot;, &quot;Ornthalas&quot;, &quot;Ornthalas&quot;, &quot;Ortauré&quot;, &quot;Orym&quot;, &quot;Oslarelar&quot;, &quot;Otaehryn&quot;, &quot;Otaerhyn&quot;, &quot;Othorion&quot;, &quot;Paeral&quot;, &quot;Paeris&quot;, &quot;Passilorris&quot;, &quot;Paulorin&quot;, &quot;Phaendar&quot;, &quot;Pharom&quot;, &quot;Phraan&quot;, &quot;Pirphal&quot;, &quot;Pleufan&quot;, &quot;Purtham&quot;, &quot;Pyrder&quot;, &quot;Pyrravym&quot;, &quot;Pywaln&quot;, &quot;Pyxaanthal&quot;, &quot;Qildor&quot;, &quot;Quastarte&quot;, &quot;Quynn&quot;, &quot;Raeranthur&quot;, &quot;Raibyr&quot;, &quot;Ralikanthae&quot;, &quot;Ralnor&quot;, &quot;Rathal&quot;, &quot;Raunaeril&quot;, &quot;Rauthomyr&quot;, &quot;Rauvelore&quot;, &quot;Reluraun&quot;, &quot;Reluvethel&quot;, &quot;Rennyn&quot;, &quot;Reptar&quot;, &quot;Respen&quot;, &quot;Rhaac&#39;var&quot;, &quot;Rhalyf&quot;, &quot;Rhangyl&quot;, &quot;Rhenalyrr&quot;, &quot;Rhespen&quot;, &quot;Rhistel&quot;, &quot;Rhothomir&quot;, &quot;Rhys&quot;, &quot;Rilitar&quot;, &quot;Riluaneth&quot;, &quot;Rolim&quot;, &quot;Rotheloe&quot;, &quot;Rothilion&quot;, &quot;Ruardh&quot;, &quot;Ruehar&quot;, &quot;Ruith&quot;, &quot;Rumathil&quot;, &quot;Ruvaen&quot;, &quot;Ruven&quot;, &quot;Ruvyn&quot;, &quot;Rychell&quot;, &quot;Ryfon&quot;, &quot;Ryul&quot;, &quot;Ryvvik&quot;, &quot;Sadalymn&quot;, &quot;Saelethil&quot;, &quot;Saevel&quot;, &quot;Saevel&quot;, &quot;Sakrattars&quot;, &quot;Sakrattars&quot;, &quot;Samblar&quot;, &quot;Sandevv&quot;, &quot;Seanchai&quot;, &quot;Seith&quot;, &quot;Seiveril&quot;, &quot;Selanlar&quot;, &quot;Selgauth&quot;, &quot;Shael&quot;, &quot;Shammath&quot;, &quot;Sharian&quot;, &quot;Sharian&quot;, &quot;Sharlario&quot;, &quot;Shaundyl&quot;, &quot;Shevarash&quot;, &quot;Shonassir&quot;, &quot;Shyrrik&quot;, &quot;Siirist&quot;, &quot;Silvyr&quot;, &quot;Simimar&quot;, &quot;Sinaht&quot;, &quot;Sinaht&quot;, &quot;Skalanis&quot;, &quot;Skalanis&quot;, &quot;Sontar&quot;, &quot;Srindin&quot;, &quot;Strohm&quot;, &quot;Sudryl&quot;, &quot;Sudryl&quot;, &quot;Sundamar&quot;, &quot;Sylvar&quot;, &quot;Symkalr&quot;, &quot;Sythaeryn&quot;, &quot;Sythaeryn&quot;, &quot;Taanyth&quot;, &quot;Taegen&quot;, &quot;Taeglyn&quot;, &quot;Taenaran&quot;, &quot;Taeral&quot;, &quot;Taerntym&quot;, &quot;Taleisin&quot;, &quot;Tammson&quot;, &quot;Tamnaeuth&quot;, &quot;Tamnaeuth&quot;, &quot;Tamsin&quot;, &quot;Tanithil&quot;, &quot;Tannivh&quot;, &quot;Tannivh&quot;, &quot;Tannyll&quot;, &quot;Tanseril&quot;, &quot;Tanyl&quot;, &quot;Tanyl&quot;, &quot;Taranath&quot;, &quot;Tarathiel&quot;, &quot;Tarathiel&quot;, &quot;Taredd&quot;, &quot;Tarosspur&quot;, &quot;Tarron&quot;, &quot;Tasar&quot;, &quot;Tassarion&quot;, &quot;Tathaln&quot;, &quot;Tehlmar&quot;, &quot;Teirist&quot;, &quot;Tenyajn&quot;, &quot;Tethir&quot;, &quot;Thalanil&quot;, &quot;Thallan&quot;, &quot;Thatoryl&quot;, &quot;Thiilthan&quot;, &quot;Thurdan&quot;, &quot;Thurruvyn&quot;, &quot;Tiarshus&quot;, &quot;Tlannatar&quot;, &quot;Tolthe&quot;, &quot;Tolthe&quot;, &quot;Tordynnar&quot;, &quot;Toross&quot;, &quot;Traeliorn&quot;, &quot;Traeliorn&quot;, &quot;Travaran&quot;, &quot;Triandal&quot;, &quot;Triktappic&quot;, &quot;Tsaer&quot;, &quot;Tsiilmas&quot;, &quot;Tyvollus&quot;, &quot;T’karon&quot;, &quot;Ualair&quot;, &quot;Uevareth&quot;, &quot;Uldreiyn&quot;, &quot;Uldreiyn&quot;, &quot;Urddusk&quot;, &quot;Usunaar&quot;, &quot;Uthorim&quot;, &quot;Vaalyun&quot;, &quot;Vaeril&quot;, &quot;Valmaxian&quot;, &quot;Vander&quot;, &quot;Vartan&quot;, &quot;Velethuil&quot;, &quot;Venali&quot;, &quot;Vesperr&quot;, &quot;Vesryn&quot;, &quot;Vesstan&quot;, &quot;Vhoadan&quot;, &quot;Vhoorhin&quot;, &quot;Vhoori&quot;, &quot;Volodar&quot;, &quot;Voron&quot;, &quot;Waernas&quot;, &quot;Wistari&quot;, &quot;Wylchyr&quot;, &quot;Wylym&quot;, &quot;Wyn&quot;, &quot;Wyndelleu&quot;, &quot;Wyqhael&quot;, &quot;Wyrran&quot;, &quot;Xalph&quot;, &quot;Xanotter&quot;, &quot;Xhalh&quot;, &quot;Xhalth&quot;, &quot;Xharlion&quot;, &quot;Yalathanil&quot;, &quot;Yeschant&quot;, &quot;Yhendorn&quot;, &quot;Ylyndar&quot;, &quot;Ynloeth&quot;, &quot;Zabbas&quot;, &quot;Zaltarish&quot;, &quot;Zandro&quot;, &quot;Zaor&quot;, &quot;Zaos&quot;, &quot;Zelphar&quot;, &quot;Zhoron&quot;, &quot;Zulae&quot;]&gt;&gt;

&lt;&lt;set $elffemalenames = [&quot;Aelieyeeva&quot;, &quot;Aelrue&quot;, &quot;Aelynthi&quot;, &quot;Aerilaya&quot;, &quot;Ahrendaaria&quot;, &quot;Ahrendue&quot;, &quot;Ahskahala&quot;, &quot;Ajhalanda&quot;, &quot;Alaglossa&quot;, &quot;Alais&quot;, &quot;Alauthshaee&quot;, &quot;Alavara&quot;, &quot;Alea&quot;, &quot;Alerathla&quot;, &quot;Allannia&quot;, &quot;Allisa&quot;, &quot;Alloralla&quot;, &quot;Allynna&quot;, &quot;Almithara&quot;, &quot;Aloevan&quot;, &quot;Alvaerele&quot;, &quot;Aluendalee&quot;, &quot;Alyndra&quot;, &quot;Amara&quot;, &quot;Amaranthae&quot;, &quot;Amkissra&quot;, &quot;Amlaruil&quot;, &quot;Amnestria&quot;, &quot;Amra&quot;, &quot;Anaharae&quot;, &quot;Anarzee&quot;, &quot;Aneirin&quot;, &quot;Anhaern&quot;, &quot;Anyllan&quot;, &quot;Ara&quot;, &quot;Araushnee&quot;, &quot;Aravae&quot;, &quot;Arcaena&quot;, &quot;Arielimnda&quot;, &quot;Arlayna&quot;, &quot;Arnarra&quot;, &quot;Artin&quot;, &quot;Ashemmi&quot;, &quot;Aubaudameira&quot;, &quot;Auluua&quot;, &quot;Aurae&quot;, &quot;Ava&quot;, &quot;Axilya&quot;, &quot;Ayaeqlarune&quot;, &quot;Azariah&quot;, &quot;Bhuraelea&quot;, &quot;Blythswana&quot;, &quot;Bonnalurie&quot;, &quot;Braerindra&quot;, &quot;Caerthynna&quot;, &quot;Calarel&quot;, &quot;Cauladra&quot;, &quot;Chaenath&quot;, &quot;Chalsarda&quot;, &quot;Chandrelle&quot;, &quot;Chasianna&quot;, &quot;Chichlandra&quot;, &quot;Chin’nesstre&quot;, &quot;Chomylla&quot;, &quot;Cilivren&quot;, &quot;Ciyradyl&quot;, &quot;Claire&quot;, &quot;Csharynn&quot;, &quot;Daenalaia&quot;, &quot;Daratrine&quot;, &quot;Darshee&quot;, &quot;Dasyra&quot;, &quot;Dathlue&quot;, &quot;Dathlue&quot;, &quot;Dathlue&quot;, &quot;Delimbiyra&quot;, &quot;Delshandra&quot;, &quot;Deularla&quot;, &quot;Duilya&quot;, &quot;Eallyrl&quot;, &quot;Ecaeris&quot;, &quot;Edraele&quot;, &quot;Elanalue&quot;, &quot;Elanil&quot;, &quot;Elasha&quot;, &quot;Eldratha&quot;, &quot;Elénaril&quot;, &quot;Eletha&quot;, &quot;Ellarian&quot;, &quot;Ellifain&quot;, &quot;Eloen&quot;, &quot;Elora&quot;, &quot;Elvandaruil&quot;, &quot;Embrae&quot;, &quot;Emvorele&quot;, &quot;Enajharas&quot;, &quot;Eshenesra&quot;, &quot;Essaerae&quot;, &quot;Esta&quot;, &quot;Ester&quot;, &quot;Esyae&quot;, &quot;Faranni&quot;, &quot;Faunalyn&quot;, &quot;Fhaertala&quot;, &quot;Fieryat&quot;, &quot;Filaurel&quot;, &quot;Filauria&quot;, &quot;Fildaerae&quot;, &quot;Fox-at-Twilight&quot;, &quot;Francessca&quot;, &quot;Gaelira&quot;, &quot;Gaerradh&quot;, &quot;Gaylia&quot;, &quot;Gemstarzah&quot;, &quot;Ghilanna&quot;, &quot;Glynnii&quot;, &quot;Gweyr&quot;, &quot;Gwynnestri&quot;, &quot;Gylledha&quot;, &quot;Haalija&quot;, &quot;Hacathra&quot;, &quot;Halaema&quot;, &quot;Halama&quot;, &quot;Halaema&quot;, &quot;Halanaestra&quot;, &quot;Hamalitia&quot;, &quot;Haramara&quot;, &quot;Helartha&quot;, &quot;Hhora&quot;, &quot;Holone&quot;, &quot;Huquethae&quot;, &quot;Hycis&quot;, &quot;Iahalae&quot;, &quot;Ialantha&quot;, &quot;Ikeshia&quot;, &quot;Ildilyntra&quot;, &quot;Ilmadia&quot;, &quot;Ilyrana&quot;, &quot;Ilythyrra&quot;, &quot;Imdalace&quot;, &quot;Imizael&quot;, &quot;Immianthe&quot;, &quot;Imra&quot;, &quot;Imramarthree&quot;, &quot;Imryll&quot;, &quot;Innovindil&quot;, &quot;Ioelena&quot;, &quot;Irhaal&quot;, &quot;Isciira&quot;, &quot;Ithrythra&quot;, &quot;Itiireae&quot;, &quot;Itylra&quot;, &quot;Jastra&quot;, &quot;Jeardra&quot;, &quot;Jhaer&quot;, &quot;Jhalass&quot;, &quot;Jhanandra&quot;, &quot;Jhaumrithe&quot;, &quot;Jhiilsraa&quot;, &quot;Ilsevel&quot;, &quot;Ilyrana&quot;, &quot;Immianthe&quot;, &quot;Isilfarrel&quot;, &quot;Kavrala&quot;, &quot;Kaylessa&quot;, &quot;Keerla&quot;, &quot;Keishara&quot;, &quot;Kethryllia&quot;, &quot;Keya&quot;, &quot;Khiipaera&quot;, &quot;Kileontheal&quot;, &quot;Kythaela&quot;, &quot;Laamtora&quot;, &quot;Laerdya&quot;, &quot;Laerune&quot;, &quot;Laurlaethee&quot;, &quot;Lazziar&quot;, &quot;Leilatha&quot;, &quot;Liluth&quot;, &quot;Llamryl&quot;, &quot;Lorelei&quot;, &quot;Lydi’aleera&quot;, &quot;Lyraesel&quot;, &quot;Maaleshiira&quot;, &quot;Maelyrra&quot;, &quot;Maeralya&quot;, &quot;Maith&quot;, &quot;Makaela&quot;, &quot;Malruthiia&quot;, &quot;Mariona&quot;, &quot;Marissa&quot;, &quot;Martainn&quot;, &quot;Meira&quot;, &quot;Melarue&quot;, &quot;Merethyl&quot;, &quot;Merialeth&quot;, &quot;Meriel&quot;, &quot;Merlara&quot;, &quot;Mistale&quot;, &quot;Mladris&quot;, &quot;Mnuvae&quot;, &quot;Morgwais&quot;, &quot;Moryggan&quot;, &quot;Muerlara&quot;, &quot;Mylaela&quot;, &quot;Mylaerla&quot;, &quot;Myriani&quot;, &quot;Naevys&quot;, &quot;Nakiasha&quot;, &quot;Nambra&quot;, &quot;Namyriitha&quot;, &quot;Nanalethalee&quot;, &quot;Nanthee&quot;, &quot;Nanthleene&quot;, &quot;Naumys&quot;, &quot;Nlaea&quot;, &quot;Nuala&quot;, &quot;Nueleth&quot;, &quot;Nuovis&quot;, &quot;Nushala&quot;, &quot;Nylaathria&quot;, &quot;Ochyllyss&quot;, &quot;Oluevaera&quot;, &quot;Phaerl&quot;, &quot;Phantyni&quot;, &quot;Phelorna&quot;, &quot;Phuingara&quot;, &quot;Phyrra&quot;, &quot;Pollae&quot;, &quot;Puorlaas&quot;, &quot;Qemba&quot;, &quot;Quamara&quot;, &quot;Raejiisa&quot;, &quot;Raerauntha&quot;, &quot;Rathiain&quot;, &quot;Renestrae&quot;, &quot;Roanmara&quot;, &quot;Ruavia&quot;, &quot;Rubrae&quot;, &quot;Ryllae&quot;, &quot;Saelihn&quot;, &quot;Saélihn&quot;, &quot;Saida&quot;, &quot;Sakaala&quot;, &quot;Sariandi&quot;, &quot;Sarya&quot;, &quot;Schimae&quot;, &quot;Seirye&quot;, &quot;Seldanna&quot;, &quot;Selussa&quot;, &quot;Séonais&quot;, &quot;Shael&quot;, &quot;Shadowmoon&quot;, &quot;Shalana&quot;, &quot;Shalantha&quot;, &quot;Shalendra&quot;, &quot;Shalheira&quot;, &quot;Shandalar&quot;, &quot;Shanyrria&quot;, &quot;Sharaera&quot;, &quot;Sheedra&quot;, &quot;Sheera&quot;, &quot;Shialaevar&quot;, &quot;Shi’larra&quot;, &quot;Shialaevar&quot;, &quot;Shoulree&quot;, &quot;Shyael&quot;, &quot;Shyael&quot;, &quot;Shyllisyrr&quot;, &quot;Sinnafain&quot;, &quot;Soliania&quot;, &quot;Soora&quot;, &quot;Sorsasta&quot;, &quot;Susklahava&quot;, &quot;Sylmae&quot;, &quot;Symrustar&quot;, &quot;Syndra&quot;, &quot;Synnorha&quot;, &quot;Syrune&quot;, &quot;Syviis&quot;, &quot;Taenya&quot;, &quot;Takari&quot;, &quot;Talaedra&quot;, &quot;Talanashta&quot;, &quot;Talila&quot;, &quot;Talindra&quot;, &quot;Tamara&quot;, &quot;Tarasynora&quot;, &quot;Teharissa&quot;, &quot;Teryani&quot;, &quot;Thalaera&quot;, &quot;Thalanil&quot;, &quot;Thaola&quot;, &quot;Thasitalia&quot;, &quot;Throleatha&quot;, &quot;Tiatha&quot;, &quot;Tira’allara&quot;, &quot;Tiriara&quot;, &quot;Tisharu&quot;, &quot;Tsarra&quot;, &quot;Tyllaetha,Ulelesse&quot;, &quot;Unae&quot;, &quot;Urmicca&quot;, &quot;Uschymna&quot;, &quot;Vaervenshalice&quot;, &quot;Valindra&quot;, &quot;Vashti&quot;, &quot;Velaethaunyl&quot;, &quot;Velatha&quot;, &quot;Veluthil&quot;, &quot;Verrona&quot;, &quot;Vestele&quot;, &quot;Viansola&quot;, &quot;Winterflower&quot;, &quot;Xiiltharra&quot;, &quot;Yaereene&quot;, &quot;Yalanilue&quot;, &quot;Yathlanae&quot;, &quot;Yeshelné&quot;, &quot;Yghiilra&quot;, &quot;Ygrainne&quot;, &quot;Ynshael&quot;, &quot;Yrlissa&quot;, &quot;Yrneha&quot;, &quot;Yrthraethra&quot;, &quot;Ysmyrlda&quot;, &quot;Ytharra&quot;, &quot;Yulmanda&quot;, &quot;Z’Beryl&quot;, &quot;Zhuirentel&quot;, &quot;Zoastria&quot;]&gt;&gt;

&lt;&lt;set $elfnames = {male: $elfmalenames, female: $elffemalenames}&gt;&gt;

&lt;&lt;set $orcmalenames = [&quot;Abghat&quot;, &quot;Adgulg&quot;, &quot;Aghed&quot;, &quot;Agugh&quot;, &quot;Aguk&quot;, &quot;Almthu&quot;, &quot;Alog&quot;, &quot;Ambilge&quot;, &quot;Apaugh&quot;, &quot;Argha&quot;, &quot;Argigoth&quot;, &quot;Argug&quot;, &quot;Arpigig&quot;, &quot;Auhgan&quot;, &quot;Azhug&quot;, &quot;Bagdud&quot;, &quot;Baghig&quot;, &quot;Bahgigoth&quot;, &quot;Bandagh&quot;, &quot;Barfu&quot;, &quot;Bargulg&quot;, &quot;Baugh&quot;, &quot;Bidgug&quot;, &quot;Bildud&quot;, &quot;Bilge&quot;, &quot;Bog&quot;, &quot;Boghat&quot;, &quot;Bogugh&quot;, &quot;Borgan&quot;, &quot;Borug&quot;, &quot;Braugh&quot;, &quot;Brougha&quot;, &quot;Brugagh&quot;, &quot;Bruigig&quot;, &quot;Buadagh&quot;, &quot;Buggug&quot;, &quot;Builge&quot;, &quot;Buimghig&quot;, &quot;Bulgan&quot;, &quot;Bumhug&quot;, &quot;Buomaugh&quot;, &quot;Buordud&quot;, &quot;Burghed&quot;, &quot;Buugug&quot;, &quot;Cabugbu&quot;, &quot;Cagan&quot;, &quot;Carguk&quot;, &quot;Carthurg&quot;, &quot;Clog&quot;, &quot;Corgak&quot;, &quot;Crothu&quot;, &quot;Cubub&quot;, &quot;Cukgilug&quot;, &quot;Curbag&quot;, &quot;Dabub&quot;, &quot;Dakgorim&quot;, &quot;Dakgu&quot;, &quot;Dalthu&quot;, &quot;Darfu&quot;, &quot;Deakgu&quot;, &quot;Dergu&quot;, &quot;Derthag&quot;, &quot;Digdug&quot;, &quot;Diggu&quot;, &quot;Dilug&quot;, &quot;Ditgurat&quot;, &quot;Dorgarag&quot;, &quot;Dregu&quot;, &quot;Dretkag&quot;, &quot;Drigka&quot;, &quot;Drikdarok&quot;, &quot;Drutha&quot;, &quot;Dudagog&quot;, &quot;Dugarod&quot;, &quot;Dugorim&quot;, &quot;Duiltag&quot;, &quot;Durbag&quot;, &quot;Eagungad&quot;, &quot;Eggha&quot;, &quot;Eggugat&quot;, &quot;Egharod&quot;, &quot;Eghuglat&quot;, &quot;Eichelberbog&quot;, &quot;Ekganit&quot;, &quot;Epkagut&quot;, &quot;Ergoth&quot;, &quot;Ertguth&quot;, &quot;Ewkbanok&quot;, &quot;Fagdud&quot;, &quot;Faghig&quot;, &quot;Fandagh&quot;, &quot;Farfu&quot;, &quot;Farghed&quot;, &quot;Fargigoth&quot;, &quot;Farod&quot;, &quot;Faugh&quot;, &quot;Feldgulg&quot;, &quot;Fidgug&quot;, &quot;Filge&quot;, &quot;Fodagog&quot;, &quot;Fogugh&quot;, &quot;Fozhug&quot;, &quot;Frikug&quot;, &quot;Frug&quot;, &quot;Frukag&quot;, &quot;Fubdagog&quot;, &quot;Fudhagh&quot;, &quot;Fupgugh&quot;, &quot;Furbog&quot;, &quot;Futgarek&quot;, &quot;Gaakt&quot;, &quot;Garekk&quot;, &quot;Gelub&quot;, &quot;Gholug&quot;, &quot;Gilaktug&quot;, &quot;Ginug&quot;, &quot;Gnabadug&quot;, &quot;Gnadug&quot;, &quot;Gnalurg&quot;, &quot;Gnarg&quot;, &quot;Gnarlug&quot;, &quot;Gnorl&quot;, &quot;Gnorth&quot;, &quot;Gnoth&quot;, &quot;Gnurl&quot;, &quot;Golag&quot;, &quot;Golub&quot;, &quot;Gomatug&quot;, &quot;Gomoku&quot;, &quot;Gorgu&quot;, &quot;Gorlag&quot;, &quot;Grikug&quot;, &quot;Grug&quot;, &quot;Grukag&quot;, &quot;Grukk&quot;, &quot;Grung&quot;, &quot;Gruul&quot;, &quot;Guag&quot;, &quot;Gubdagog&quot;, &quot;Gudhagh&quot;, &quot;Gug&quot;, &quot;Gujarek&quot;, &quot;Gujek&quot;, &quot;Gujjab&quot;, &quot;Gulm&quot;, &quot;Gulrn&quot;, &quot;Gunaakt&quot;, &quot;Gunag&quot;, &quot;Gunug&quot;, &quot;Gurukk&quot;, &quot;Guthakug&quot;, &quot;Guthug&quot;, &quot;Gutjja&quot;, &quot;Hagob&quot;, &quot;Hagu&quot;, &quot;Hagub&quot;, &quot;Haguk&quot;, &quot;Hebub&quot;, &quot;Hegug&quot;, &quot;Hibub&quot;, &quot;Hig&quot;, &quot;Hogug&quot;, &quot;Hoknath&quot;, &quot;Hoknuk&quot;, &quot;Hokulk&quot;, &quot;Holkurg&quot;, &quot;Horknuth&quot;, &quot;Hrolkug&quot;, &quot;Hugagug&quot;, &quot;Hugmug&quot;, &quot;Hugolm&quot;, &quot;Ig&quot;, &quot;Igmut&quot;, &quot;Ignatz&quot;, &quot;Ignorg&quot;, &quot;Igubat&quot;, &quot;Igug&quot;, &quot;Igurg&quot;, &quot;Ikgnath&quot;, &quot;Ikkath&quot;, &quot;Inkathu&quot;, &quot;Inkathurg&quot;, &quot;Isagubat&quot;, &quot;Jogug&quot;, &quot;Jokgagu&quot;, &quot;Jolagh&quot;, &quot;Jorgagu&quot;, &quot;Jregh&quot;, &quot;Jreghug&quot;, &quot;Jugag&quot;, &quot;Jughog&quot;, &quot;Jughragh&quot;, &quot;Jukha&quot;, &quot;Jukkhag&quot;, &quot;Julakgh&quot;, &quot;Kabugbu&quot;, &quot;Kagan&quot;, &quot;Kaghed&quot;, &quot;Kahigig&quot;, &quot;Karfu&quot;, &quot;Karguk&quot;, &quot;Karrghed&quot;, &quot;Karrhig&quot;, &quot;Karthurg&quot;, &quot;Kebub&quot;, &quot;Kegigoth&quot;, &quot;Kegth&quot;, &quot;Kerghug&quot;, &quot;Kertug&quot;, &quot;Kilug&quot;, &quot;Klapdud&quot;, &quot;Klog&quot;, &quot;Klughig&quot;, &quot;Knagh&quot;, &quot;Knaraugh&quot;, &quot;Knodagh&quot;, &quot;Knorgh&quot;, &quot;Knuguk&quot;, &quot;Knurigig&quot;, &quot;Kodagog&quot;, &quot;Kog&quot;, &quot;Kogan&quot;, &quot;Komarod&quot;, &quot;Korgak&quot;, &quot;Korgulg&quot;, &quot;Koughat&quot;, &quot;Kraugug&quot;, &quot;Krilge&quot;, &quot;Krothu&quot;, &quot;Krouthu&quot;, &quot;Krugbu&quot;, &quot;Krugorim&quot;, &quot;Kubub&quot;, &quot;Kugbu&quot;, &quot;Kukgilug&quot;, &quot;Kulgha&quot;, &quot;Kupgugh&quot;, &quot;Kurbag&quot;, &quot;Kurmbag&quot;, &quot;Laghed&quot;, &quot;Lamgugh&quot;, &quot;Mabub&quot;, &quot;Magdud&quot;, &quot;Malthu&quot;, &quot;Marfu&quot;, &quot;Margulg&quot;, &quot;Mazhug&quot;, &quot;Meakgu&quot;, &quot;Mergigoth&quot;, &quot;Milug&quot;, &quot;Mudagog&quot;, &quot;Mugarod&quot;, &quot;Mughragh&quot;, &quot;Mugorim&quot;, &quot;Murbag&quot;, &quot;Naghat&quot;, &quot;Naghig&quot;, &quot;Naguk&quot;, &quot;Nahgigoth&quot;, &quot;Nakgu&quot;, &quot;Narfu&quot;, &quot;Nargulg&quot;, &quot;Narhbub&quot;, &quot;Narod&quot;, &quot;Neghed&quot;, &quot;Nehrakgu&quot;, &quot;Nildud&quot;, &quot;Nodagog&quot;, &quot;Nofhug&quot;, &quot;Nogugh&quot;, &quot;Nomgulg&quot;, &quot;Noogugh&quot;, &quot;Nugbu&quot;, &quot;Nughilug&quot;, &quot;Nulgha&quot;, &quot;Numhug&quot;, &quot;Nurbag&quot;, &quot;Nurghed&quot;, &quot;Oagungad&quot;, &quot;Oakgu&quot;, &quot;Obghat&quot;, &quot;Oggha&quot;, &quot;Oggugat&quot;, &quot;Ogharod&quot;, &quot;Oghuglat&quot;, &quot;Oguk&quot;, &quot;Ohomdud&quot;, &quot;Ohulhug&quot;, &quot;Oilug&quot;, &quot;Okganit&quot;, &quot;Olaghig&quot;, &quot;Olaugh&quot;, &quot;Olmthu&quot;, &quot;Olodagh&quot;, &quot;Olog&quot;, &quot;Omaghed&quot;, &quot;Ombilge&quot;, &quot;Omegugh&quot;, &quot;Omogulg&quot;, &quot;Omugug&quot;, &quot;Onog&quot;, &quot;Onubub&quot;, &quot;Onugug&quot;, &quot;Oodagh&quot;, &quot;Oogorim&quot;, &quot;Oogugbu&quot;, &quot;Oomigig&quot;, &quot;Opathu&quot;, &quot;Opaugh&quot;, &quot;Opeghat&quot;, &quot;Opilge&quot;, &quot;Opkagut&quot;, &quot;Opoguk&quot;, &quot;Oquagan&quot;, &quot;Orgha&quot;, &quot;Orgoth&quot;, &quot;Orgug&quot;, &quot;Orpigig&quot;, &quot;Ortguth&quot;, &quot;Otugbu&quot;, &quot;Ougha&quot;, &quot;Ougigoth&quot;, &quot;Ouhgan&quot;, &quot;Owkbanok&quot;, &quot;Paghorim&quot;, &quot;Pahgigoth&quot;, &quot;Pahgorim&quot;, &quot;Pakgu&quot;, &quot;Parfu&quot;, &quot;Pargu&quot;, &quot;Parhbub&quot;, &quot;Parod&quot;, &quot;Peghed&quot;, &quot;Pehrakgu&quot;, &quot;Pergu&quot;, &quot;Perthag&quot;, &quot;Pigdug&quot;, &quot;Piggu&quot;, &quot;Pitgurat&quot;, &quot;Podagog&quot;, &quot;Pofhug&quot;, &quot;Pomgulg&quot;, &quot;Poogugh&quot;, &quot;Porgarag&quot;, &quot;Pregu&quot;, &quot;Pretkag&quot;, &quot;Prigka&quot;, &quot;Prikdarok&quot;, &quot;Prutha&quot;, &quot;Pughilug&quot;, &quot;Puiltag&quot;, &quot;Purbag&quot;, &quot;Qog&quot;, &quot;Quadagh&quot;, &quot;Quilge&quot;, &quot;Quimghig&quot;, &quot;Quomaugh&quot;, &quot;Quordud&quot;, &quot;Quugug&quot;, &quot;Raghat&quot;, &quot;Raguk&quot;, &quot;Rakgu&quot;, &quot;Rarfu&quot;, &quot;Rebub&quot;, &quot;Rilug&quot;, &quot;Rodagog&quot;, &quot;Rogan&quot;, &quot;Romarod&quot;, &quot;Routhu&quot;, &quot;Rugbu&quot;, &quot;Rugorim&quot;, &quot;Rurbag&quot;, &quot;Rurigig&quot;, &quot;Sabub&quot;, &quot;Saghig&quot;, &quot;Sahgigoth&quot;, &quot;Sahgorim&quot;, &quot;Sakgu&quot;, &quot;Salthu&quot;, &quot;Saraugug&quot;, &quot;Sarfu&quot;, &quot;Sargulg&quot;, &quot;Sarhbub&quot;, &quot;Sarod&quot;, &quot;Sbghat&quot;, &quot;Seakgu&quot;, &quot;Sguk&quot;, &quot;Shomdud&quot;, &quot;Shulhug&quot;, &quot;Sildud&quot;, &quot;Silge&quot;, &quot;Silug&quot;, &quot;Sinsbog&quot;, &quot;Slaghig&quot;, &quot;Slapdud&quot;, &quot;Slaugh&quot;, &quot;Slodagh&quot;, &quot;Slog&quot;, &quot;Slughig&quot;, &quot;Smaghed&quot;, &quot;Smegugh&quot;, &quot;Smogulg&quot;, &quot;Snog&quot;, &quot;Snubub&quot;, &quot;Snugug&quot;, &quot;Sodagh&quot;, &quot;Sog&quot;, &quot;Sogorim&quot;, &quot;Sogugbu&quot;, &quot;Sogugh&quot;, &quot;Sombilge&quot;, &quot;Somigig&quot;, &quot;Sonagh&quot;, &quot;Sorgulg&quot;, &quot;Sornaraugh&quot;, &quot;Soughat&quot;, &quot;Spathu&quot;, &quot;Speghat&quot;, &quot;Spilge&quot;, &quot;Spoguk&quot;, &quot;Squagan&quot;, &quot;Stugbu&quot;, &quot;Sudagog&quot;, &quot;Sugarod&quot;, &quot;Sugbu&quot;, &quot;Sugha&quot;, &quot;Sugigoth&quot;, &quot;Sugorim&quot;, &quot;Suhgan&quot;, &quot;Sulgha&quot;, &quot;Sulmthu&quot;, &quot;Sumhug&quot;, &quot;Sunodagh&quot;, &quot;Sunuguk&quot;, &quot;Supaugh&quot;, &quot;Supgugh&quot;, &quot;Surbag&quot;, &quot;Surgha&quot;, &quot;Surghed&quot;, &quot;Surgug&quot;, &quot;Surpigig&quot;, &quot;Tagdud&quot;, &quot;Taghig&quot;, &quot;Tandagh&quot;, &quot;Tarfu&quot;, &quot;Targhed&quot;, &quot;Targigoth&quot;, &quot;Tarod&quot;, &quot;Taugh&quot;, &quot;Teldgulg&quot;, &quot;Tidgug&quot;, &quot;Tilge&quot;, &quot;Todagog&quot;, &quot;Tog&quot;, &quot;Toghat&quot;, &quot;Togugh&quot;, &quot;Torgan&quot;, &quot;Torug&quot;, &quot;Tozhug&quot;, &quot;Traugh&quot;, &quot;Trilug&quot;, &quot;Trougha&quot;, &quot;Trugagh&quot;, &quot;Truigig&quot;, &quot;Tuggug&quot;, &quot;Tulgan&quot;, &quot;Turbag&quot;, &quot;Turge&quot;, &quot;Ug&quot;, &quot;Ugghra&quot;, &quot;Uggug&quot;, &quot;Ughat&quot;, &quot;Ulgan&quot;, &quot;Ulmragha&quot;, &quot;Ulmrougha&quot;, &quot;Umhra&quot;, &quot;Umragig&quot;, &quot;Umruigig&quot;, &quot;Ungagh&quot;, &quot;Unrugagh&quot;, &quot;Urag&quot;, &quot;Uraugh&quot;, &quot;Urg&quot;, &quot;Urgan&quot;, &quot;Urghat&quot;, &quot;Urgran&quot;, &quot;Urlgan&quot;, &quot;Urmug&quot;, &quot;Urug&quot;, &quot;Urulg&quot;, &quot;Vabugbu&quot;, &quot;Vagan&quot;, &quot;Vagrungad&quot;, &quot;Vagungad&quot;, &quot;Vakgar&quot;, &quot;Vakgu&quot;, &quot;Vakmu&quot;, &quot;Valthurg&quot;, &quot;Vambag&quot;, &quot;Vamugbu&quot;, &quot;Varbu&quot;, &quot;Varbuk&quot;, &quot;Varfu&quot;, &quot;Vargan&quot;, &quot;Varguk&quot;, &quot;Varkgorim&quot;, &quot;Varthurg&quot;, &quot;Vegum&quot;, &quot;Vergu&quot;, &quot;Verlgu&quot;, &quot;Verthag&quot;, &quot;Verthurg&quot;, &quot;Vetorkag&quot;, &quot;Vidarok&quot;, &quot;Vigdolg&quot;, &quot;Vigdug&quot;, &quot;Viggu&quot;, &quot;Viggulm&quot;, &quot;Viguka&quot;, &quot;Vitgurat&quot;, &quot;Vitgut&quot;, &quot;Vlog&quot;, &quot;Vlorg&quot;, &quot;Vorgak&quot;, &quot;Vorgarag&quot;, &quot;Vothug&quot;, &quot;Vregu&quot;, &quot;Vretkag&quot;, &quot;Vrigka&quot;, &quot;Vrikdarok&quot;, &quot;Vrogak&quot;, &quot;Vrograg&quot;, &quot;Vrothu&quot;, &quot;Vruhag&quot;, &quot;Vrutha&quot;, &quot;Vubub&quot;, &quot;Vugub&quot;, &quot;Vuiltag&quot;, &quot;Vukgilug&quot;, &quot;Vultog&quot;, &quot;Vulug&quot;, &quot;Vurbag&quot;, &quot;Wakgut&quot;, &quot;Wanug&quot;, &quot;Wapkagut&quot;, &quot;Waruk&quot;, &quot;Wauktug&quot;, &quot;Wegub&quot;, &quot;Welub&quot;, &quot;Wholug&quot;, &quot;Wilaktug&quot;, &quot;Wingloug&quot;, &quot;Winug&quot;, &quot;Woabadug&quot;, &quot;Woggha&quot;, &quot;Woggugat&quot;, &quot;Wogharod&quot;, &quot;Woghuglat&quot;, &quot;Woglug&quot;, &quot;Wokganit&quot;, &quot;Womkug&quot;, &quot;Womrikug&quot;, &quot;Wonabadug&quot;, &quot;Worthag&quot;, &quot;Wraog&quot;, &quot;Wrug&quot;, &quot;Wrukag&quot;, &quot;Wrukaog&quot;, &quot;Wubdagog&quot;, &quot;Wudgh&quot;, &quot;Wudhagh&quot;, &quot;Wudugog&quot;, &quot;Wuglat&quot;, &quot;Wumanok&quot;, &quot;Wumkbanok&quot;, &quot;Wurgoth&quot;, &quot;Wurmha&quot;, &quot;Wurtguth&quot;, &quot;Wurthu&quot;, &quot;Wutgarek&quot;, &quot;Xaakt&quot;, &quot;Xago&quot;, &quot;Xagok&quot;, &quot;Xagu&quot;, &quot;Xaguk&quot;, &quot;Xarlug&quot;, &quot;Xarpug&quot;, &quot;Xegug&quot;, &quot;Xepug&quot;, &quot;Xig&quot;, &quot;Xnath&quot;, &quot;Xnaurl&quot;, &quot;Xnurl&quot;, &quot;Xoknath&quot;, &quot;Xokuk&quot;, &quot;Xolag&quot;, &quot;Xolkug&quot;, &quot;Xomath&quot;, &quot;Xomkug&quot;, &quot;Xomoku&quot;, &quot;Xonoth&quot;, &quot;Xorag&quot;, &quot;Xorakk&quot;, &quot;Xoroku&quot;, &quot;Xoruk&quot;, &quot;Xothkug&quot;, &quot;Xruul&quot;, &quot;Xuag&quot;, &quot;Xug&quot;, &quot;Xugaa&quot;, &quot;Xugag&quot;, &quot;Xugagug&quot;, &quot;Xugar&quot;, &quot;Xugarf&quot;, &quot;Xugha&quot;, &quot;Xugor&quot;, &quot;Xugug&quot;, &quot;Xujarek&quot;, &quot;Xuk&quot;, &quot;Xulgag&quot;, &quot;Xunaakt&quot;, &quot;Xunag&quot;, &quot;Xunug&quot;, &quot;Xurek&quot;, &quot;Xurl&quot;, &quot;Xurug&quot;, &quot;Xurukk&quot;, &quot;Xutag&quot;, &quot;Xuthakug&quot;, &quot;Xutjja&quot;, &quot;Yaghed&quot;, &quot;Yagnar&quot;, &quot;Yagnatz&quot;, &quot;Yahg&quot;, &quot;Yahigig&quot;, &quot;Yakgnath&quot;, &quot;Yakha&quot;, &quot;Yalakgh&quot;, &quot;Yargug&quot;, &quot;Yegigoth&quot;, &quot;Yegoth&quot;, &quot;Yerghug&quot;, &quot;Yerug&quot;, &quot;Ymafubag&quot;, &quot;Yokgagu&quot;, &quot;Yokgu&quot;, &quot;Yolmar&quot;, &quot;Yonkathu&quot;, &quot;Yregh&quot;, &quot;Yroh&quot;, &quot;Ysagubar&quot;, &quot;Yughragh&quot;, &quot;Yugug&quot;, &quot;Yukgnath&quot;, &quot;Yukha&quot;, &quot;Yulakgh&quot;, &quot;Yunkathu&quot;, &quot;Zabghat&quot;, &quot;Zabub&quot;, &quot;Zaghig&quot;, &quot;Zahgigoth&quot;, &quot;Zahgorim&quot;, &quot;Zalthu&quot;, &quot;Zaraugug&quot;, &quot;Zarfu&quot;, &quot;Zargulg&quot;, &quot;Zarhbub&quot;, &quot;Zarod&quot;, &quot;Zeakgu&quot;, &quot;Zguk&quot;, &quot;Zildud&quot;, &quot;Zilge&quot;, &quot;Zilug&quot;, &quot;Zinsbog&quot;, &quot;Zlapdud&quot;, &quot;Zlog&quot;, &quot;Zlughig&quot;, &quot;Zodagh&quot;, &quot;Zog&quot;, &quot;Zogugbu&quot;, &quot;Zogugh&quot;, &quot;Zombilge&quot;, &quot;Zonagh&quot;, &quot;Zorfu&quot;, &quot;Zorgulg&quot;, &quot;Zorhgigoth&quot;, &quot;Zornaraugh&quot;, &quot;Zoughat&quot;, &quot;Zudagog&quot;, &quot;Zugarod&quot;, &quot;Zugbu&quot;, &quot;Zugorim&quot;, &quot;Zuhgan&quot;, &quot;Zulgha&quot;, &quot;Zulmthu&quot;, &quot;Zumhug&quot;, &quot;Zunodagh&quot;, &quot;Zunuguk&quot;, &quot;Zupaugh&quot;, &quot;Zupgugh&quot;, &quot;Zurbag&quot;, &quot;Zurgha&quot;, &quot;Zurghed&quot;, &quot;Zurgug&quot;, &quot;Zurpigig&quot;]&gt;&gt;

&lt;&lt;set $orcfemalenames = [&quot;Abimfash&quot;, &quot;Adkul&quot;, &quot;Adlugbuk&quot;, &quot;Agazu&quot;, &quot;Agdesh&quot;, &quot;Aglash&quot;, &quot;Agli&quot;, &quot;Agrash&quot;, &quot;Agrulla&quot;, &quot;Agzurz&quot;, &quot;Akash&quot;, &quot;Akgruhl&quot;, &quot;Akkra&quot;, &quot;Aklash&quot;, &quot;Alga&quot;, &quot;Arakh&quot;, &quot;Argulla&quot;, &quot;Argurgol&quot;, &quot;Arzakh&quot;, &quot;Arzorag&quot;, &quot;Ashaka&quot;, &quot;Ashgara&quot;, &quot;Ashgel&quot;, &quot;Ashrashag&quot;, &quot;Atoga&quot;, &quot;Atorag&quot;, &quot;Atugol&quot;, &quot;Atzurbesh&quot;, &quot;Aza&quot;, &quot;Azabesh&quot;, &quot;Azadhai&quot;, &quot;Azhnakha&quot;, &quot;Azhnolga&quot;, &quot;Azhnura&quot;, &quot;Azilkh&quot;, &quot;Azlakha&quot;, &quot;Azulga&quot;, &quot;Baag&quot;, &quot;Baagug&quot;, &quot;Badush&quot;, &quot;Bafthaka&quot;, &quot;Bagrugbesh&quot;, &quot;Bagul&quot;, &quot;Bagula&quot;, &quot;Barza&quot;, &quot;Barazal&quot;, &quot;Batara&quot;, &quot;Batasha&quot;, &quot;Batorabesh&quot;, &quot;Bazbava&quot;, &quot;Bazgara&quot;, &quot;Bhagruan&quot;, &quot;Bluga&quot;, &quot;Bolaag&quot;, &quot;Bolash&quot;, &quot;Bolgar&quot;, &quot;Bolugbeka&quot;, &quot;Borbgur&quot;, &quot;Borbuga&quot;, &quot;Borgburakh&quot;, &quot;Borgdorga&quot;, &quot;Borgrara&quot;, &quot;Boroth&quot;, &quot;Borzog&quot;, &quot;Bugbekh&quot;, &quot;Bugbesh&quot;, &quot;Bugha&quot;, &quot;Bulag&quot;, &quot;Bularkh&quot;, &quot;Bulfor&quot;, &quot;Bumava&quot;, &quot;Bumbuk&quot;, &quot;Bumzuna&quot;, &quot;Dagarha&quot;, &quot;Drienne&quot;, &quot;Droka&quot;, &quot;Druga&quot;, &quot;Dufbash&quot;, &quot;Dulasha&quot;, &quot;Dulfra&quot;, &quot;Dulfraga&quot;, &quot;Dulkhi&quot;, &quot;Dulroi&quot;, &quot;Dumoga&quot;, &quot;Dumuguk&quot;, &quot;Dumurzog&quot;, &quot;Duragma&quot;, &quot;Durga&quot;, &quot;Durgura&quot;, &quot;Durhaz&quot;, &quot;Durida&quot;, &quot;Durogbesh&quot;, &quot;Dushug&quot;, &quot;Erisa&quot;, &quot;Fnagdesh&quot;, &quot;Gahgra&quot;, &quot;Gargum&quot;, &quot;Garl&quot;, &quot;Garlor&quot;, &quot;Garlub&quot;, &quot;Garotusha&quot;, &quot;Ghamzeh&quot;, &quot;Gharakul&quot;, &quot;Gharn&quot;, &quot;Ghat&quot;, &quot;Gheshol&quot;, &quot;Ghobub&quot;, &quot;Ghogogg&quot;, &quot;Ghorbog&quot;, &quot;Ghorzolga&quot;, &quot;Ghratutha&quot;, &quot;Glagag&quot;, &quot;Glagosh&quot;, &quot;Glarikha&quot;, &quot;Glash&quot;, &quot;Glath&quot;, &quot;Glathut&quot;, &quot;Glesh&quot;, &quot;Glolbikla&quot;, &quot;Glothum&quot;, &quot;Glurbasha&quot;, &quot;Glurduk&quot;, &quot;Glurmghal&quot;, &quot;Glurzul&quot;, &quot;Gluth&quot;, &quot;Gluthesh&quot;, &quot;Gnush&quot;, &quot;Gogul&quot;, &quot;Golga&quot;, &quot;Gonbubal&quot;, &quot;Gondubaga&quot;, &quot;Goorga&quot;, &quot;Grabash&quot;, &quot;Graghesh&quot;, &quot;Grahla&quot;, &quot;Grahuar&quot;, &quot;Grakguhl&quot;, &quot;Graklha&quot;, &quot;Grash&quot;, &quot;Grashla&quot;, &quot;Grashug&quot;, &quot;Grazda&quot;, &quot;Grazubesha&quot;, &quot;Grenbet&quot;, &quot;Groddi&quot;, &quot;Grubalash&quot;, &quot;Grubathag&quot;, &quot;Grubazh&quot;, &quot;Grubesha&quot;, &quot;Grugleg&quot;, &quot;Grumgha&quot;, &quot;Grundag&quot;, &quot;Gruzbura&quot;, &quot;Guazh&quot;, &quot;Gula&quot;, &quot;Gulara&quot;, &quot;Gulgula&quot;, &quot;Gulorz&quot;, &quot;Gulugash&quot;, &quot;Gulza&quot;, &quot;Gulzurgol&quot;, &quot;Gurhul&quot;, &quot;Gurikha&quot;, &quot;Gursthuk&quot;, &quot;Gurum&quot;, &quot;Guth&quot;, &quot;Guurzash&quot;, &quot;Guuth&quot;, &quot;Guz&quot;, &quot;Guzash&quot;, &quot;Guzmara&quot;, &quot;Haghai&quot;, &quot;Harza&quot;, &quot;Hurabesh&quot;, &quot;Ilg&quot;, &quot;Irsugha&quot;, &quot;Jorthan&quot;, &quot;Junlock&quot;, &quot;Kashurthag&quot;, &quot;Khagral&quot;, &quot;Khagruk&quot;, &quot;Khaguga&quot;, &quot;Khaguur&quot;, &quot;Kharza&quot;, &quot;Kharzolga&quot;, &quot;Khazrakh&quot;, &quot;Kora&quot;, &quot;Korgha&quot;, &quot;Kroma&quot;, &quot;Kruaga&quot;, &quot;Kuhlon&quot;, &quot;Kurz&quot;, &quot;Lagabul&quot;, &quot;Laganakh&quot;, &quot;Lagbaal&quot;, &quot;Lagbuga&quot;, &quot;Lagra&quot;, &quot;Lagruda&quot;, &quot;Lahzga&quot;, &quot;Lakhazga&quot;, &quot;Lamazh&quot;, &quot;Lambur&quot;, &quot;Lamburak&quot;, &quot;Lamugbek&quot;, &quot;Lamur&quot;, &quot;Lamzakha&quot;, &quot;Larzgug&quot;, &quot;Lashakh&quot;, &quot;Lashbesh&quot;, &quot;Lashbura&quot;, &quot;Lashdura&quot;, &quot;Lashgikh&quot;, &quot;Lashgurgol&quot;, &quot;Lashza&quot;, &quot;Lazdutha&quot;, &quot;Lazghal&quot;, &quot;Lazgara&quot;, &quot;Legdul&quot;, &quot;Mugaga&quot;, &quot;Lig&quot;, &quot;Logdotha&quot;, &quot;Loglorag&quot;, &quot;Logru&quot;, &quot;Lokra&quot;, &quot;Lorak&quot;, &quot;Lorogdu&quot;, &quot;Luga&quot;, &quot;Lugharz&quot;, &quot;Luglorash&quot;, &quot;Lugrugha&quot;, &quot;Lurgush&quot;, &quot;Luruzesh&quot;, &quot;Lurz&quot;, &quot;Mabgikha&quot;, &quot;Mabgrolabesh&quot;, &quot;Mabgrorga&quot;, &quot;Mabgrubaga&quot;, &quot;Mabgruhl&quot;, &quot;Magula&quot;, &quot;Maraka&quot;, &quot;Marutha&quot;, &quot;Maugruhl&quot;, &quot;Mazgroth&quot;, &quot;Mazrah&quot;, &quot;Mazuka&quot;, &quot;Megruk&quot;, &quot;Moglurkgul&quot;, &quot;Mograg&quot;, &quot;Mogul&quot;, &quot;Mordra&quot;, &quot;Morga&quot;, &quot;Mornamph&quot;, &quot;Morndolag&quot;, &quot;Mozgosh&quot;, &quot;Mugumurn&quot;, &quot;Muguur&quot;, &quot;Mulgabesh&quot;, &quot;Multa&quot;, &quot;Mulzah&quot;, &quot;Mulzara&quot;, &quot;Murotha&quot;, &quot;Murzgut&quot;, &quot;Muzgraga&quot;, &quot;Narzdush&quot;, &quot;Nazdura&quot;, &quot;Nazhag&quot;, &quot;Nazhataga&quot;, &quot;Nazubesh&quot;, &quot;Noguza&quot;, &quot;Nunchak&quot;, &quot;Nuza&quot;, &quot;Ogzaz&quot;, &quot;Oorga&quot;, &quot;Oorza&quot;, &quot;Oorzuka&quot;, &quot;Orbuhl&quot;, &quot;Orcolag&quot;, &quot;Ordatha&quot;, &quot;Orgotha&quot;, &quot;Orlozag&quot;, &quot;Orlugash&quot;, &quot;Orluguk&quot;, &quot;Orthuna&quot;, &quot;Orutha&quot;, &quot;Orzbara&quot;, &quot;Orzdara&quot;, &quot;Orzorga&quot;, &quot;Oshgana&quot;, &quot;Othbekha&quot;, &quot;Othgozag&quot;, &quot;Othikha&quot;, &quot;Othrika&quot;, &quot;Ozrog&quot;, &quot;Pruzag&quot;, &quot;Pruzga&quot;, &quot;Ragbarlag&quot;, &quot;Ragushna&quot;, &quot;Rakhaz&quot;, &quot;Rakuga&quot;, &quot;Ranarsh&quot;, &quot;Razbela&quot;, &quot;Rogag&quot;, &quot;Rogba&quot;, &quot;Rogbual&quot;, &quot;Rogoga&quot;, &quot;Rogzesh&quot;, &quot;Roku&quot;, &quot;Rolbutha&quot;, &quot;Rolfikha&quot;, &quot;Rolfzal&quot;, &quot;Rolga&quot;, &quot;Rulbagab&quot;, &quot;Rulbza&quot;, &quot;Ruldor&quot;, &quot;Rulfala&quot;, &quot;Rulfub&quot;, &quot;Rulfuna&quot;, &quot;Rulfzub&quot;, &quot;Sgala&quot;, &quot;Sgrugbesh&quot;, &quot;Sgrugha&quot;, &quot;Sgrula&quot;, &quot;Shabaga&quot;, &quot;Shabeg&quot;, &quot;Shabeshga&quot;, &quot;Shabgrut&quot;, &quot;Shabon&quot;, &quot;Shagareg&quot;, &quot;Shagduka&quot;, &quot;Shagora&quot;, &quot;Shagrum&quot;, &quot;Shagrush&quot;, &quot;Shagura&quot;, &quot;Shakul&quot;, &quot;Shalug&quot;, &quot;Shamuk&quot;, &quot;Shamush&quot;, &quot;Shara&quot;, &quot;Sharbzur&quot;, &quot;Sharduka&quot;, &quot;Shardush&quot;, &quot;Shardzozag&quot;, &quot;Sharga&quot;, &quot;Shargduguk&quot;, &quot;Shargra&quot;, &quot;Sharuk&quot;, &quot;Sharushnam&quot;, &quot;Shaza&quot;, &quot;Shebakh&quot;, &quot;Shelboth&quot;, &quot;Sheluka&quot;, &quot;Shgrag&quot;, &quot;Sholg&quot;, &quot;Shubesha&quot;, &quot;Shufdal&quot;, &quot;Shufgrut&quot;, &quot;Shufthakul&quot;, &quot;Shuga&quot;, &quot;Shugzar&quot;, &quot;Shurkul&quot;, &quot;Shuzrag&quot;, &quot;Sloogolga&quot;, &quot;Sluz&quot;, &quot;Snagara&quot;, &quot;Snaghusha&quot;, &quot;Snarataga&quot;, &quot;Snarga&quot;, &quot;Snargara&quot;, &quot;Snaruga&quot;, &quot;Sneehash&quot;, &quot;Snilga&quot;, &quot;Snoogh&quot;, &quot;Snushbesh&quot;, &quot;Solgra&quot;, &quot;Stilga&quot;, &quot;Stroda&quot;, &quot;Stuga&quot;, &quot;Stughrush&quot;, &quot;Tamozag&quot;, &quot;Theg&quot;, &quot;Thegbesh&quot;, &quot;Thegshakul&quot;, &quot;Thegshalash&quot;, &quot;Theshaga&quot;, &quot;Theshgoth&quot;, &quot;Thishnaku&quot;, &quot;Thoga&quot;, &quot;Thogra&quot;, &quot;Thrugrak&quot;, &quot;Thugnekh&quot;, &quot;Thulga&quot;, &quot;Thushleg&quot;, &quot;Tugha&quot;, &quot;Ubzigub&quot;, &quot;Udai&quot;, &quot;Ufalga&quot;, &quot;Ufgabesh&quot;, &quot;Ufgaz&quot;, &quot;Ufgel&quot;, &quot;Ufgra&quot;, &quot;Uftheg&quot;, &quot;Ugarnesh&quot;, &quot;Ugduk&quot;, &quot;Ugrash&quot;, &quot;Ugrush&quot;, &quot;Uldushna&quot;, &quot;Ulfgalash&quot;, &quot;Ulg&quot;, &quot;Ulgush&quot;, &quot;Ulsha&quot;, &quot;Ulu&quot;, &quot;Ulubesh&quot;, &quot;Uluga&quot;, &quot;Ulukhaz&quot;, &quot;Umbugbek&quot;, &quot;Umgubesh&quot;, &quot;Umutha&quot;, &quot;Umzolabesh&quot;, &quot;Undorga&quot;, &quot;Undush&quot;, &quot;Undusha&quot;, &quot;Uratag&quot;, &quot;Urbzag&quot;, &quot;Urdboga&quot;, &quot;Urgarlag&quot;, &quot;Urshra&quot;, &quot;Uruka&quot;, &quot;Urzula&quot;, &quot;Usha&quot;, &quot;Ushaga&quot;, &quot;Ushenat&quot;, &quot;Ushruka&quot;, &quot;Ushuta&quot;, &quot;Uthik&quot;, &quot;Uzka&quot;, &quot;Vosh&quot;, &quot;Vumnish&quot;, &quot;Vush&quot;, &quot;Yakhu&quot;, &quot;Yarlak&quot;, &quot;Yarulorz&quot;, &quot;Yatanakh&quot;, &quot;Yatular&quot;, &quot;Yatzog&quot;, &quot;Yazara&quot;, &quot;Yazgruga&quot;, &quot;Yazoga&quot;, &quot;Zaag&quot;, &quot;Zagla&quot;, &quot;Zagula&quot;, &quot;Zubesha&quot;, &quot;Zugh&quot;, &quot;Zuugarz&quot;, &quot;Zuuthag&quot;, &quot;Zuuthusha&quot;]&gt;&gt;

&lt;&lt;set $orcnames = {male: $orcmalenames, female: $orcfemalenames}&gt;&gt;

&lt;&lt;set $goblinnames = [&quot;Aatbegz&quot;, &quot;Akz&quot;, &quot;Bebbut&quot;, &quot;Bekok&quot;, &quot;Biolx&quot;, &quot;Blerm&quot;, &quot;Bliets&quot;, &quot;Braq&quot;, &quot;Broit&quot;, &quot;Bylgyg&quot;, &quot;Civeakz&quot;, &quot;Clerk&quot;, &quot;Cruiknil&quot;, &quot;Deakx&quot;, &quot;Diemreank&quot;, &quot;Diobylx&quot;, &quot;Drelb&quot;, &quot;Dribnyt&quot;, &quot;Driezz&quot;, &quot;Emelx&quot;, &quot;Ert&quot;, &quot;Fagsikz&quot;, &quot;Fakx&quot;, &quot;Glizerm&quot;, &quot;Gnagroits&quot;, &quot;Gozz&quot;, &quot;Grionusb&quot;, &quot;Iermal&quot;, &quot;Jeac&quot;, &quot;Jeerk&quot;, &quot;Jiestrerx&quot;, &quot;Jiz&quot;, &quot;Jokx&quot;, &quot;Jugz&quot;, &quot;Juhyr&quot;, &quot;Kastrert&quot;, &quot;Kleegs&quot;, &quot;Klyrt&quot;, &quot;Krirx&quot;, &quot;Kryct&quot;, &quot;Kuhnynk&quot;, &quot;Liel&quot;, &quot;Piorziok&quot;, &quot;Plang&quot;, &quot;Plegkort&quot;, &quot;Prergit&quot;, &quot;Pycs&quot;, &quot;Raziec&quot;, &quot;Rezorm&quot;, &quot;Runik&quot;, &quot;Slebs&quot;, &quot;Sleebliz&quot;, &quot;Slioct&quot;, &quot;Strug&quot;, &quot;Strusbaagz&quot;, &quot;Tegz&quot;, &quot;Tiec&quot;, &quot;Tudots&quot;, &quot;Tuisiokx&quot;, &quot;Uc&quot;, &quot;Uizukt&quot;, &quot;Uk&quot;, &quot;Usiot&quot;, &quot;Vabrerk&quot;, &quot;Virnulb&quot;, &quot;Vorenk&quot;, &quot;Vrarkakzwriork&quot;, &quot;Vroigkegz&quot;, &quot;Vrukuts&quot;, &quot;Vurrulb&quot;, &quot;Walb&quot;, &quot;Wiokz&quot;, &quot;Xasb&quot;, &quot;Xelk&quot;, &quot;Ysz&quot;, &quot;Zrunk&quot;, &quot;Zugnugs&quot;, &quot;Zulb&quot;, &quot;Zydsas&quot;]&gt;&gt;</tw-passagedata><tw-passagedata pid="232" name="Race Widget" tags="nobr widget" position="1621,961" size="100,100">&lt;&lt;widget &quot;race&quot;&gt;&gt;

&lt;&lt;set _race = capitalize($args[0])&gt;&gt;

&lt;&lt;if _race == &quot;Moon rabbit&quot;&gt;&gt;
	&lt;&lt;set _race = &quot;Moon Rabbit&quot;&gt;&gt;

&lt;&lt;elseif _race == &quot;High elf&quot;&gt;&gt;
	&lt;&lt;set _race = &quot;High Elf&quot;&gt;&gt;

&lt;&lt;elseif _race == &quot;Dark elf&quot;&gt;&gt;
	&lt;&lt;set _race = &quot;Dark Elf&quot;&gt;&gt;

&lt;&lt;elseif _race == &quot;Forest elf&quot;&gt;&gt;
	&lt;&lt;set _race = &quot;Forest Elf&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;Human&quot;, &quot;Canus&quot;, &quot;Neko&quot;, &quot;Goblin&quot;].contains(_race)&gt;&gt;
	&lt;&lt;set _color = &quot;gray&quot;&gt;&gt;
	&lt;&lt;set _rarity = &quot;Common&quot;&gt;&gt;

&lt;&lt;elseif [&quot;Dwarf&quot;, &quot;Gnome&quot;, &quot;Mongrel&quot;, &quot;Pantheran&quot;, &quot;Holstaur&quot;, &quot;Minotaur&quot;].contains(_race)&gt;&gt;
	&lt;&lt;set _color = &quot;forestgreen&quot;&gt;&gt;
	&lt;&lt;set _rarity = &quot;Uncommon&quot;&gt;&gt;
	
&lt;&lt;elseif [&quot;Giant&quot;, &quot;Forest Elf&quot;, &quot;Moon Rabbit&quot;, &quot;Orc&quot;].contains(_race)&gt;&gt;
	&lt;&lt;set _color = &quot;darkturquoise&quot;&gt;&gt;
	&lt;&lt;set _rarity = &quot;Unique&quot;&gt;&gt;

&lt;&lt;elseif [&quot;High Elf&quot;, &quot;Dark Elf&quot;].contains(_race)&gt;&gt;
	&lt;&lt;set _color = &quot;mediumslateblue&quot;&gt;&gt;
	&lt;&lt;set _rarity = &quot;Rare&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$args[1]&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;[&quot;+_rarity+&quot;] _race@@&quot;&gt;&gt;&lt;/b&gt;
	
&lt;&lt;elseif $args[1] == &quot;Main Menu&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;[_race]@@&quot;&gt;&gt;&lt;/b&gt;
	
&lt;&lt;elseif $args[1] == &quot;Description&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;_race@@&quot;&gt;&gt;&lt;/b&gt;
	
&lt;&lt;elseif $args[1] == &quot;Pairing&quot;&gt;&gt;
	&lt;&lt;if _pairings % 2 === 0 &amp;&amp; _pairings != 0&gt;&gt;
		&lt;br&gt;
	&lt;&lt;/if&gt;&gt;
	&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;[&lt;b&gt;_race&lt;/b&gt; (&lt;b&gt;_female.name/_partner.name&lt;/b&gt;)]@@&quot;&gt;&gt;
	&lt;&lt;set _pairings += 1&gt;&gt;
	
&lt;&lt;elseif $args[1] == &quot;Rarity&quot;&gt;&gt;
	&lt;b&gt;&lt;&lt;print &quot;@@color:&quot;+_color+&quot;;[&quot;+_rarity+&quot;]@@&quot;&gt;&gt;&lt;/b&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="233" name="Sex Battle" tags="nobr noreturn notruereturn" position="5770,100" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;

&lt;&lt;if settings.cheats&gt;&gt;	
	&lt;&lt;if [&quot;playerUnlimited&quot;, &quot;npcUnlimited&quot;].contains($cheat)&gt;&gt;
		&lt;&lt;run addCheatPage($cheat)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if [&quot;playerUnlimited&quot;, &quot;npcUnlimited&quot;].contains($cheat)&gt;&gt;
		&lt;&lt;run toggleCheat($cheat)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $cheat = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex || $sex.turn &lt; 1&gt;&gt;
	&lt;&lt;set $Previous = &quot;Interact&quot;&gt;&gt;

	&lt;&lt;set $sex = {player:&quot;&quot;, npc:&quot;&quot;, turn:0, choice:null, removed:null, log:&quot;&quot;, toys:&quot;&quot;, continue:0}&gt;&gt;

	&lt;&lt;set $sex.toys = {list:&quot;&quot;, dildo:null, blindfold:null, rope:null, whip:null}&gt;&gt;
	&lt;&lt;set $sex.toys.dildo = {owned:0, using:0}&gt;&gt;
	&lt;&lt;set $sex.toys.blindfold = {owned:0, using:0}&gt;&gt;
	&lt;&lt;set $sex.toys.rope = {owned:0, using:0}&gt;&gt;
	&lt;&lt;set $sex.toys.whip = {owned:0, using:0}&gt;&gt;

	&lt;&lt;for _t = 1;_t &lt;= $inventory.amount;_t++&gt;&gt;
		&lt;&lt;if $inventory[_t].name == &quot;Slime Dildo&quot;&gt;&gt;
			&lt;&lt;set $sex.toys.dildo.owned = $inventory[_t].amount&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $inventory[_t].name == &quot;Enchanted Blindfold&quot;&gt;&gt;
			&lt;&lt;set $sex.toys.blindfold.owned = $inventory[_t].amount&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $inventory[_t].name == &quot;Alraune Rope&quot;&gt;&gt;
			&lt;&lt;set $sex.toys.rope.owned = $inventory[_t].amount&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $inventory[_t].name == &quot;Aether Whip&quot;&gt;&gt;
			&lt;&lt;set $sex.toys.whip.owned = $inventory[_t].amount&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;

	&lt;&lt;set $sex.log = {length:0}&gt;&gt;

	&lt;&lt;set $sex.choice = {action:null, giving:null, receiving:null}&gt;&gt;

	&lt;&lt;set $sex.player = {stamina:&quot;&quot;, orgasm:&quot;&quot;, body:&quot;&quot;, position:null, log:null}&gt;&gt;
	&lt;&lt;set $sex.player.log = []&gt;&gt;

	&lt;&lt;set $sex.player.stamina = {current:150, max:150}&gt;&gt;
	&lt;&lt;set $sex.player.orgasm = {current:0, max:150}&gt;&gt;
	&lt;&lt;set $sex.player.body = {eyes:null, hair:null, mouth:null, breasts:null, hands:null, cock:null, balls:null, pussy:null, clit:null, feet:null, bladder:null}&gt;&gt;
	&lt;&lt;set $sex.player.body.breasts = []&gt;&gt;
	&lt;&lt;set $sex.player.body.hands = []&gt;&gt;
	&lt;&lt;set $sex.player.body.feet = []&gt;&gt;

	&lt;&lt;set $sex.npc = {stamina:&quot;&quot;, orgasm:&quot;&quot;, antipathy:&quot;&quot;, body:&quot;&quot;, position:null, log:null}&gt;&gt;
	&lt;&lt;set $sex.npc.log = []&gt;&gt;

	&lt;&lt;set $sex.npc.stamina = {current:0, max:0}&gt;&gt;
	&lt;&lt;set $sex.npc.stamina.current = 75 + ($activeCharacter.sexual.stamina.current * 25)&gt;&gt;
	&lt;&lt;set $sex.npc.stamina.max = 75 + ($activeCharacter.sexual.stamina.current * 25)&gt;&gt;

	&lt;&lt;set $sex.npc.orgasm = {current:0, max:0}&gt;&gt;
	&lt;&lt;set $sex.npc.orgasm.max = 75 + ($activeCharacter.sexual.control.current * 25)&gt;&gt;

	&lt;&lt;set $sex.npc.antipathy = {current:0, max:200}&gt;&gt;

	&lt;&lt;set $sex.npc.body = {eyes:null, hair:null, mouth:null, breasts:null, hands:null, cock:null, balls:null, pussy:null, clit:null, feet:null, bladder:null}&gt;&gt;
	&lt;&lt;set $sex.npc.body.breasts = []&gt;&gt;
	&lt;&lt;set $sex.npc.body.hands = []&gt;&gt;
	&lt;&lt;set $sex.npc.body.feet = []&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $Next = &quot;End Sex&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;big&gt;Sexual Play | Intercourse&lt;/big&gt;&lt;/center&gt;

&lt;center&gt;

&lt;&lt;include &quot;Sex Options&quot;&gt;&gt;

&lt;/center&gt;</tw-passagedata><tw-passagedata pid="234" name="Interact" tags="nobr noreturn" position="358,773" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set _character = $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Update Slave&quot;&gt;&gt;
&lt;&lt;set $activeCharacter = _character&gt;&gt;
&lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $PC.energy.current &gt;= 1&gt;&gt;
	&lt;center&gt;
	&lt;h3&gt;Sexual Play&lt;/h3&gt;
	Engage in all sorts of different types of sexual play with $activeCharacter.name. Sexual play will slowly raise certain stats such as sensitivities and gape size depending on what you do during sexual play.
	&lt;br&gt;&lt;br&gt;
	&lt;b&gt;[[Intercourse |Sex Combat][$sex = null]]&lt;/b&gt;
	&lt;br&gt;
	Engage in intercourse with $activeCharacter.name.
	&lt;/center&gt;
	&lt;hr&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;include &quot;Main Menu&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="235" name="Sex Status" tags="nobr" position="5900,100" size="100,100">&lt;table class=&quot;chart&quot; style=&#39;table-layout:fixed;width:950px&#39;&gt;
&lt;tr&gt;
	&lt;th style=&#39;width: 16%;&#39;&gt;&lt;/th&gt;
	&lt;th style=&#39;width: 50%;&#39;&gt;Stamina&lt;/th&gt;
	&lt;th style=&#39;width: 17%;&#39;&gt;Arousal&lt;/th&gt;
	&lt;th style=&#39;width: 17%;&#39;&gt;Antipathy&lt;/th&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td style=&#39;width: 16%;&#39;&gt;$activeCharacter.name&lt;/td&gt;
	&lt;td style=&#39;width: 50%;&#39;&gt;&lt;b&gt;&lt;&lt;battlebar $sex.npc.stamina.current $sex.npc.stamina.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td style=&#39;width: 17%;&#39;&gt;&lt;b&gt;&lt;&lt;statbar $sex.npc.orgasm.current $sex.npc.orgasm.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td style=&#39;width: 17%;&#39;&gt;&lt;b&gt;&lt;&lt;statbar $sex.npc.antipathy.current $sex.npc.antipathy.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td style=&#39;width: 16%;&#39;&gt;Player&lt;/td&gt;
	&lt;td style=&#39;width: 50%;&#39;&gt;&lt;b&gt;&lt;&lt;battlebar $sex.player.stamina.current $sex.player.stamina.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td style=&#39;width: 17%;&#39;&gt;&lt;b&gt;&lt;&lt;statbar $sex.player.orgasm.current $sex.player.orgasm.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td style=&#39;width: 17%;&#39;&gt;&lt;b&gt;------&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="236" name="Sex Options" tags="nobr" position="5900,230" size="100,100">&lt;&lt;set $continuing = [&quot;Hairjob&quot;, &quot;Suck Nipples&quot;, &quot;Caress Nipples&quot;, &quot;Suck Breasts&quot;, &quot;Caress Breasts&quot;, &quot;Blowjob&quot;, &quot;Caress Anus&quot;, &quot;Handjob&quot;, &quot;Paizuri&quot;, &quot;Deepthroat&quot;, &quot;Fingering&quot;, &quot;Cunnilingus&quot;, &quot;Analingus&quot;, &quot;Footjob&quot;, &quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;, &quot;[Anal] Missionary&quot;, &quot;[Anal] Doggystyle&quot;, &quot;[Anal] Sitting in Lap&quot;, &quot;[Anal] Cowgirl&quot;, &quot;Choke&quot;, &quot;Insert Dildo&quot;, &quot;Insert Dildo Orally&quot;, &quot;Insert Dildo Anally&quot;, &quot;Blindfold&quot;, &quot;Bind Hands&quot;, &quot;Bind Feet&quot;]&gt;&gt;

&lt;&lt;set _sexpositions = [&quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;, &quot;[Anal] Missionary&quot;, &quot;[Anal] Doggystyle&quot;, &quot;[Anal] Sitting in Lap&quot;, &quot;[Anal] Cowgirl&quot;]&gt;&gt;

&lt;&lt;set _turnedback = [&quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Cowgirl&quot;, &quot;[Anal] Doggystyle&quot;, &quot;[Anal] Cowgirl&quot;]&gt;&gt;

&lt;&lt;set _longhairstyles = [&quot;long&quot;, &quot;in a hime cut&quot;, &quot;long and wavy&quot;, &quot;straight and long&quot;, &quot;in pigtails&quot;, &quot;in a ponytail&quot;]&gt;&gt;

&lt;&lt;set _action = {action:null, giving:null, receiving:null}&gt;&gt;
&lt;&lt;set $sex.choice = {action:null, giving:null, receiving:null}&gt;&gt;

&lt;&lt;set _foreplay = []&gt;&gt;
&lt;&lt;set _toys = []&gt;&gt;
&lt;&lt;set _sex = []&gt;&gt;
&lt;&lt;set _fetishplay = []&gt;&gt;

&lt;&lt;set _NPC = []&gt;&gt;
&lt;&lt;set _PLYR = []&gt;&gt;

&lt;&lt;if $sex.removed&gt;&gt;
	&lt;&lt;include &quot;Remove Log&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.npc.body.eyes&gt;&gt;
	&lt;&lt;if $sex.toys.blindfold.owned &gt; $sex.toys.blindfold.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Blindfold&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Blindfold&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.eyes&gt;&gt;
	&lt;&lt;if $sex.toys.blindfold.owned &gt; $sex.toys.blindfold.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Blindfold&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Blindfold&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.npc.body.hair &amp;&amp; _longhairstyles.includes($activeCharacter.hairstyle)&gt;&gt;
	&lt;&lt;if $PC.cock.current &amp;&amp; $PC.girth.current &amp;&amp; $sex.npc.body.hands.length &lt; 2 &amp;&amp; !$sex.player.body.cock&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Hairjob&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Hairjob&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.hair &amp;&amp; _longhairstyles.includes($PC.hairstyle)&gt;&gt;
	&lt;&lt;if $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current &amp;&amp; $sex.player.body.hands.length &lt; 2 &amp;&amp; !$sex.npc.body.cock&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Hairjob&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Hairjob&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.npc.body.mouth&gt;&gt;
	&lt;&lt;if $sex.toys.dildo.owned &gt; $sex.toys.dildo.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Insert Dildo Orally&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Insert Dildo Orally&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$sex.player.body.mouth&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Kiss&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Kiss&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$sex.player.body.mouth&gt;&gt;
		&lt;&lt;run addAction(_fetishplay, &quot;Spit&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Spit&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $sex.player.body.breasts.length &lt; 2 &amp;&amp; $PC.bust.current &amp;&amp; !$sex.npc.log.includes(&quot;Suck Breasts&quot;) &amp;&amp; !findOne(_turnedback, $sex.player.log) &amp;&amp; !findOne(_turnedback, $sex.npc.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Suck Breasts&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Suck Breasts&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $sex.player.body.breasts.length &lt; 2 &amp;&amp; !$PC.bust.current &amp;&amp; !$sex.npc.log.includes(&quot;Suck Nipples&quot;) &amp;&amp; !findOne(_turnedback, $sex.player.log) &amp;&amp; !findOne(_turnedback, $sex.npc.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Suck Nipples&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Suck Nipples&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.cock.current &amp;&amp; $PC.girth.current &amp;&amp; !$sex.player.body.cock &amp;&amp; !findOne(_sexpositions, $sex.npc.log) &amp;&amp; !findOne(_sexpositions, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Blowjob&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Blowjob&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.cock.current &gt;= 5 &amp;&amp; $PC.girth.current &amp;&amp; !$sex.player.body.cock &amp;&amp; !findOne(_sexpositions, $sex.npc.log) &amp;&amp; !findOne(_sexpositions, $sex.player.log) &amp;&amp; $activeCharacter.sexualskill.oral.fellatio &gt;= 60&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Deepthroat&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Deepthroat&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.pussy.current &amp;&amp; !$sex.player.body.pussy &amp;&amp; !$sex.player.body.position &amp;&amp; !findOne(_sexpositions, $sex.npc.log) &amp;&amp; !findOne(_sexpositions, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Cunnilingus&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Cunnilingus&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$sex.player.body.anus &amp;&amp; $sex.player.body.mouth != &quot;Suck Breasts&quot; &amp;&amp; !$sex.player.body.position &amp;&amp; !findOne(_sexpositions, $sex.npc.log) &amp;&amp; !findOne(_sexpositions, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Analingus&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Analingus&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.mouth&gt;&gt;
	&lt;&lt;if $sex.toys.dildo.owned &gt; $sex.toys.dildo.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Insert Dildo Orally&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Insert Dildo Orally&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$sex.npc.body.mouth&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Kiss&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Kiss&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$sex.npc.body.mouth&gt;&gt;
		&lt;&lt;run addAction(_fetishplay, &quot;Spit&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Spit&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $sex.npc.body.breasts.length &lt; 2 &amp;&amp; $activeCharacter.bust.current &amp;&amp; !$sex.player.log.includes(&quot;Suck Breasts&quot;) &amp;&amp; !findOne(_turnedback, $sex.npc.log) &amp;&amp; !findOne(_turnedback, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Suck Breasts&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Suck Breasts&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $sex.npc.body.breasts.length &lt; 2 &amp;&amp; !$activeCharacter.bust.current &amp;&amp; !$sex.player.log.includes(&quot;Suck Nipples&quot;) &amp;&amp; !findOne(_turnedback, $sex.npc.log) &amp;&amp; !findOne(_turnedback, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Suck Nipples&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Suck Nipples&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current &amp;&amp; !$sex.npc.body.cock &amp;&amp; !findOne(_turnedback, $sex.npc.log) &amp;&amp; !findOne(_turnedback, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Suck Nipples&quot;)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Blowjob&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Blowjob&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.cock.current &gt;= 5 &amp;&amp; $activeCharacter.girth.current &amp;&amp; !$sex.npc.body.cock &amp;&amp; !findOne(_turnedback, $sex.npc.log) &amp;&amp; !findOne(_turnedback, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Deepthroat&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Deepthroat&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.pussy.current &amp;&amp; !$sex.npc.body.pussy &amp;&amp; !$sex.npc.body.position &amp;&amp; !findOne(_turnedback, $sex.npc.log) &amp;&amp; !findOne(_turnedback, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Cunnilingus&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Cunnilingus&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$sex.npc.body.anus &amp;&amp; $sex.npc.body.mouth != &quot;Suck Breasts&quot; &amp;&amp; !$sex.npc.body.position &amp;&amp; !findOne(_turnedback, $sex.npc.log) &amp;&amp; !findOne(_turnedback, $sex.player.log)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Analingus&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Analingus&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.npc.body.hands.length&gt;&gt;
	&lt;&lt;if $sex.toys.rope.owned &gt; $sex.toys.rope.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Bind Hands&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Bind Hands&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.npc.body.hands.length &lt; 2&gt;&gt;
	&lt;&lt;if $sex.toys.whip.owned &gt; $sex.toys.whip.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Whip&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Whip&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;run addAction(_foreplay, &quot;Caress&quot;)&gt;&gt;
	&lt;&lt;set _PLYR.push(&quot;Caress&quot;)&gt;&gt;

	&lt;&lt;run addAction(_fetishplay, &quot;Spank&quot;)&gt;&gt;
	&lt;&lt;set _PLYR.push(&quot;Spank&quot;)&gt;&gt;

	&lt;&lt;run addAction(_fetishplay, &quot;Slap&quot;)&gt;&gt;
	&lt;&lt;set _PLYR.push(&quot;Slap&quot;)&gt;&gt;

	&lt;&lt;run addAction(_fetishplay, &quot;Choke&quot;)&gt;&gt;
	&lt;&lt;set _PLYR.push(&quot;Choke&quot;)&gt;&gt;

	&lt;&lt;if $sex.player.body.breasts.length &lt; 2 &amp;&amp; $PC.bust.current &amp;&amp; !$sex.npc.log.includes(&quot;Caress Breasts&quot;)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Caress Breasts&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Caress Breasts&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $sex.player.body.breasts.length &lt; 2 &amp;&amp; !$PC.bust.current &amp;&amp; !$sex.npc.log.includes(&quot;Caress Nipples&quot;)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Caress Nipples&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Caress Nipples&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.cock.current &amp;&amp; $PC.girth.current &amp;&amp; !$sex.player.body.cock&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Handjob&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Handjob&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.pussy.current &amp;&amp; !$sex.player.body.pussy&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Fingering&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Fingering&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$sex.player.body.anus&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Caress Anus&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Caress Anus&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.hands.length&gt;&gt;
	&lt;&lt;if $sex.toys.rope.owned &gt; $sex.toys.rope.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Bind Hands&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Bind Hands&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.player.body.hands.length &lt; 2&gt;&gt;
	&lt;&lt;if $sex.toys.whip.owned &gt; $sex.toys.whip.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Whip&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Whip&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;run addAction(_foreplay, &quot;Caress&quot;)&gt;&gt;
	&lt;&lt;set _NPC.push(&quot;Caress&quot;)&gt;&gt;

	&lt;&lt;run addAction(_fetishplay, &quot;Spank&quot;)&gt;&gt;
	&lt;&lt;set _NPC.push(&quot;Spank&quot;)&gt;&gt;

	&lt;&lt;run addAction(_fetishplay, &quot;Slap&quot;)&gt;&gt;
	&lt;&lt;set _NPC.push(&quot;Slap&quot;)&gt;&gt;

	&lt;&lt;run addAction(_fetishplay, &quot;Choke&quot;)&gt;&gt;
	&lt;&lt;set _NPC.push(&quot;Choke&quot;)&gt;&gt;

	&lt;&lt;if $sex.npc.body.breasts.length &lt; 2 &amp;&amp; $activeCharacter.bust.current &amp;&amp; !$sex.player.log.includes(&quot;Caress Breasts&quot;)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Caress Breasts&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Caress Breasts&quot;)&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $sex.npc.body.breasts.length &lt; 2 &amp;&amp; !$activeCharacter.bust.current &amp;&amp; !$sex.player.log.includes(&quot;Caress Nipples&quot;)&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Caress Nipples&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Caress Nipples&quot;)&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current &amp;&amp; !$sex.npc.body.cock&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Handjob&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Handjob&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.pussy.current &amp;&amp; !$sex.npc.body.pussy&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Fingering&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Fingering&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if !$sex.npc.body.anus&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Caress Anus&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Caress Anus&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.npc.body.feet.length&gt;&gt;
	&lt;&lt;if $sex.toys.rope.owned &gt; $sex.toys.rope.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Bind Feet&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Bind Feet&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.feet.length&gt;&gt;
	&lt;&lt;if $sex.toys.rope.owned &gt; $sex.toys.rope.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Bind Feet&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Bind Feet&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.npc.body.cock &amp;&amp; $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current&gt;&gt;
	&lt;&lt;if $PC.bust.current &gt;= 3&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Paizuri&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Paizuri&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.cock &amp;&amp; $PC.cock.current &amp;&amp; $PC.girth.current&gt;&gt;
	&lt;&lt;if $activeCharacter.bust.current &gt;= 3&gt;&gt;
		&lt;&lt;run addAction(_foreplay, &quot;Paizuri&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Paizuri&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.npc.body.pussy &amp;&amp; $activeCharacter.pussy.current&gt;&gt;
	&lt;&lt;if $sex.toys.dildo.owned &gt; $sex.toys.dildo.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Insert Dildo&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Insert Dildo&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.pussy &amp;&amp; $PC.pussy.current&gt;&gt;
	&lt;&lt;if $sex.toys.dildo.owned &gt; $sex.toys.dildo.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Insert Dildo&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Insert Dildo&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.npc.body.anus&gt;&gt;
	&lt;&lt;if $sex.toys.dildo.owned &gt; $sex.toys.dildo.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Insert Dildo Anally&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;Insert Dildo Anally&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.anus&gt;&gt;
	&lt;&lt;if $sex.toys.dildo.owned &gt; $sex.toys.dildo.using&gt;&gt;
		&lt;&lt;run addAction(_toys, &quot;Insert Dildo Anally&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;Insert Dildo Anally&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if (!$sex.npc.body.cock || $sex.npc.body.position) &amp;&amp; $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current &amp;&amp; !findOne([&quot;Analingus&quot;, &quot;Blowjob&quot;, &quot;Deepthroat&quot;, &quot;Cunnilingus&quot;], $sex.player.log) &amp;&amp; !findOne([&quot;Analingus&quot;, &quot;Blowjob&quot;, &quot;Deepthroat&quot;, &quot;Cunnilingus&quot;], $sex.npc.log)&gt;&gt;
	&lt;&lt;if $PC.pussy.current &amp;&amp; (!$sex.player.body.pussy || $sex.player.body.position)&gt;&gt;
		&lt;&lt;run addAction(_sex, &quot;[Vaginal] Missionary&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;[Vaginal] Missionary&quot;)&gt;&gt;

		&lt;&lt;if !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.player.log) &amp;&amp; !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.npc.log)&gt;&gt;
			&lt;&lt;run addAction(_sex, &quot;[Vaginal] Doggystyle&quot;)&gt;&gt;
			&lt;&lt;set _PLYR.push(&quot;[Vaginal] Doggystyle&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;run addAction(_sex, &quot;[Vaginal] Sitting in Lap&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;[Vaginal] Sitting in Lap&quot;)&gt;&gt;

		&lt;&lt;if !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.player.log) &amp;&amp; !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.npc.log)&gt;&gt;
			&lt;&lt;run addAction(_sex, &quot;[Vaginal] Cowgirl&quot;)&gt;&gt;
			&lt;&lt;set _NPC.push(&quot;[Vaginal] Cowgirl&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if (!$sex.player.body.anus || $sex.player.body.position)&gt;&gt;
		&lt;&lt;run addAction(_sex, &quot;[Anal] Missionary&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;[Anal] Missionary&quot;)&gt;&gt;

		&lt;&lt;if !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.npc.log) &amp;&amp; !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.player.log)&gt;&gt;
			&lt;&lt;run addAction(_sex, &quot;[Anal] Doggystyle&quot;)&gt;&gt;
			&lt;&lt;set _PLYR.push(&quot;[Anal] Doggystyle&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;run addAction(_sex, &quot;[Anal] Sitting in Lap&quot;)&gt;&gt;
		&lt;&lt;set _PLYR.push(&quot;[Anal] Sitting in Lap&quot;)&gt;&gt;

		&lt;&lt;if !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.npc.log) &amp;&amp; !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.player.log)&gt;&gt;
			&lt;&lt;run addAction(_sex, &quot;[Anal] Cowgirl&quot;)&gt;&gt;
			&lt;&lt;set _NPC.push(&quot;[Anal] Cowgirl&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.cock.current &amp;&amp; $PC.girth.current &amp;&amp; (!$sex.player.body.cock || $sex.player.body.position) &amp;&amp; !findOne([&quot;Analingus&quot;, &quot;Blowjob&quot;, &quot;Deepthroat&quot;, &quot;Cunnilingus&quot;], $sex.player.log) &amp;&amp; !findOne([&quot;Analingus&quot;, &quot;Blowjob&quot;, &quot;Deepthroat&quot;, &quot;Cunnilingus&quot;], $sex.npc.log)&gt;&gt;
	&lt;&lt;if $activeCharacter.pussy.current &amp;&amp; (!$sex.npc.body.pussy || $sex.npc.body.position)&gt;&gt;
		&lt;&lt;run addAction(_sex, &quot;[Vaginal] Missionary&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;[Vaginal] Missionary&quot;)&gt;&gt;

		&lt;&lt;if !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.player.log) &amp;&amp; !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.npc.log)&gt;&gt;
			&lt;&lt;run addAction(_sex, &quot;[Vaginal] Doggystyle&quot;)&gt;&gt;
			&lt;&lt;set _NPC.push(&quot;[Vaginal] Doggystyle&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;run addAction(_sex, &quot;[Vaginal] Sitting in Lap&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;[Vaginal] Sitting in Lap&quot;)&gt;&gt;

		&lt;&lt;if !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.player.log) &amp;&amp; !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.npc.log)&gt;&gt;
			&lt;&lt;run addAction(_sex, &quot;[Vaginal] Cowgirl&quot;)&gt;&gt;
			&lt;&lt;set _PLYR.push(&quot;[Vaginal] Cowgirl&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if (!$sex.npc.body.anus || $sex.npc.body.position)&gt;&gt;
		&lt;&lt;run addAction(_sex, &quot;[Anal] Missionary&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;[Anal] Missionary&quot;)&gt;&gt;

		&lt;&lt;if !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.player.log) &amp;&amp; !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.npc.log)&gt;&gt;
			&lt;&lt;run addAction(_sex, &quot;[Anal] Doggystyle&quot;)&gt;&gt;
			&lt;&lt;set _NPC.push(&quot;[Anal] Doggystyle&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;run addAction(_sex, &quot;[Anal] Sitting in Lap&quot;)&gt;&gt;
		&lt;&lt;set _NPC.push(&quot;[Anal] Sitting in Lap&quot;)&gt;&gt;

		&lt;&lt;if !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.player.log) &amp;&amp; !findOne([&quot;Suck Breasts&quot;, &quot;Suck Nipples&quot;], $sex.npc.log)&gt;&gt;
			&lt;&lt;run addAction(_sex, &quot;[Anal] Cowgirl&quot;)&gt;&gt;
			&lt;&lt;set _PLYR.push(&quot;[Anal] Cowgirl&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

/*
&lt;&lt;if !$sex.npc.body.bladder&gt;&gt;
	&lt;&lt;run addAction(_fetishplay, &quot;Piss&quot;)&gt;&gt;
	&lt;&lt;set _PLYR.push(&quot;Piss&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$sex.player.body.bladder&gt;&gt;
	&lt;&lt;run addAction(_fetishplay, &quot;Piss&quot;)&gt;&gt;
	&lt;&lt;set _NPC.push(&quot;Piss&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
*/

&lt;&lt;if !$selection&gt;&gt;
	&lt;&lt;set $selection = &quot;Foreplay&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;table class=&quot;chart&quot; style=&#39;table-layout:fixed;width:950px&#39;&gt;
&lt;tr&gt;
	&lt;th style=&#39;width: 16%;&#39;&gt;&lt;/th&gt;
	&lt;th style=&#39;width: 50%;&#39;&gt;Stamina&lt;/th&gt;
	&lt;th style=&#39;width: 17%;&#39;&gt;Arousal&lt;/th&gt;
	&lt;th style=&#39;width: 17%;&#39;&gt;Antipathy&lt;/th&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td style=&#39;width: 16%;&#39;&gt;$activeCharacter.name&lt;/td&gt;
	&lt;td style=&#39;width: 50%;&#39;&gt;&lt;b&gt;&lt;&lt;battlebar $sex.npc.stamina.current $sex.npc.stamina.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td style=&#39;width: 17%;&#39;&gt;&lt;b&gt;&lt;&lt;statbar $sex.npc.orgasm.current $sex.npc.orgasm.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td style=&#39;width: 17%;&#39;&gt;&lt;b&gt;&lt;&lt;statbar $sex.npc.antipathy.current $sex.npc.antipathy.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td style=&#39;width: 16%;&#39;&gt;Player&lt;/td&gt;
	&lt;td style=&#39;width: 50%;&#39;&gt;&lt;b&gt;&lt;&lt;battlebar $sex.player.stamina.current $sex.player.stamina.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td style=&#39;width: 17%;&#39;&gt;&lt;b&gt;&lt;&lt;statbar $sex.player.orgasm.current $sex.player.orgasm.max&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td style=&#39;width: 17%;&#39;&gt;&lt;b&gt;------&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;table class=&quot;chart&quot; style=&#39;table-layout:fixed;width:950px&#39;&gt;
&lt;tr&gt;
&lt;&lt;if $selection == &quot;Foreplay&quot;&gt;&gt;
	&lt;th style=&#39;width: 25%;&#39;&gt;Foreplay&lt;/th&gt;
	&lt;&lt;set _list = _foreplay&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;th style=&#39;width: 25%;&#39;&gt;[[Foreplay|Sex Battle][$selection = &quot;Foreplay&quot;]]&lt;/th&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $selection == &quot;Toys&quot;&gt;&gt;
	&lt;th style=&#39;width: 25%;&#39;&gt;Toys&lt;/th&gt;
	&lt;&lt;set _list = _toys&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;th style=&#39;width: 25%;&#39;&gt;[[Toys|Sex Battle][$selection = &quot;Toys&quot;]]&lt;/th&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $selection == &quot;Sex&quot;&gt;&gt;
	&lt;th style=&#39;width: 25%;&#39;&gt;Sex&lt;/th&gt;
	&lt;&lt;set _list = _sex&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;th style=&#39;width: 25%;&#39;&gt;[[Sex|Sex Battle][$selection = &quot;Sex&quot;]]&lt;/th&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $selection == &quot;Fetish Play&quot;&gt;&gt;
	&lt;th style=&#39;width: 25%;&#39;&gt;Fetish Play&lt;/th&gt;
	&lt;&lt;set _list = _fetishplay&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;th style=&#39;width: 25%;&#39;&gt;[[Fetish Play|Sex Battle][$selection = &quot;Fetish Play&quot;]]&lt;/th&gt;
&lt;&lt;/if&gt;&gt;
&lt;/tr&gt;

&lt;&lt;if !_list.length&gt;&gt;
	&lt;tr&gt;&lt;td style=&#39;width: 100%;&#39; colspan = 4&gt;Currently empty.&lt;/td&gt;&lt;/tr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;for _i = 0; _i &lt; _list.length; _i++&gt;&gt;
	&lt;tr class=&#39;list&#39;&gt;

		&lt;td style=&#39;width: 50%;&#39;&gt;
		_list[_i]
		&lt;&lt;if $continuing.includes(_list[_i])&gt;&gt;
			&lt;&lt;if _PLYR.includes(_list[_i])&gt;&gt;
				&lt;&lt;print &quot;[[&#39;[PLYR]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;$activeCharacter.name&#39;, _action.receiving = &#39;You&#39;, $sex.log[&quot; + $sex.log.length + &quot;] = _action, $sex.log.length++, $sex.choice = _action]]&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if _NPC.includes(_list[_i])&gt;&gt;
				&lt;&lt;print &quot;[[&#39;[NPC]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;You&#39;, _action.receiving = $activeCharacter.name, $sex.log[&quot; + $sex.log.length + &quot;] = _action, $sex.log.length++, $sex.choice = _action]]&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;if _PLYR.includes(_list[_i])&gt;&gt;
				&lt;&lt;print &quot;[[&#39;[PLYR]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = $activeCharacter.name, _action.receiving = &#39;You&#39;, $sex.choice = _action]]&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if _NPC.includes(_list[_i])&gt;&gt;
				&lt;&lt;print &quot;[[&#39;[NPC]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;You&#39;, _action.receiving = $activeCharacter.name, $sex.choice = _action]]&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		&lt;/td&gt;

		&lt;&lt;set _i++&gt;&gt;
		&lt;&lt;if _i &lt; _list.length&gt;&gt;
			&lt;td style=&#39;width: 50%;&#39;&gt;
			_list[_i]
			&lt;&lt;if $continuing.includes(_list[_i])&gt;&gt;
				&lt;&lt;if _PLYR.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[PLYR]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;$activeCharacter.name&#39;, _action.receiving = &#39;You&#39;, $sex.log[&quot; + $sex.log.length + &quot;] = _action, $sex.log.length++, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if _NPC.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[NPC]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;You&#39;, _action.receiving = $activeCharacter.name, $sex.log[&quot; + $sex.log.length + &quot;] = _action, $sex.log.length++, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;
			&lt;&lt;else&gt;&gt;
				&lt;&lt;if _PLYR.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[PLYR]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = $activeCharacter.name, _action.receiving = &#39;You&#39;, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if _NPC.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[NPC]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;You&#39;, _action.receiving = $activeCharacter.name, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;
			&lt;&lt;/if&gt;&gt;
			&lt;/td&gt;

		&lt;&lt;else&gt;&gt;
			&lt;td style=&#39;width: 50%;&#39;&gt;&lt;/td&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set _i++&gt;&gt;
		&lt;&lt;if _i &lt; _list.length&gt;&gt;
			&lt;td style=&#39;width: 50%;&#39;&gt;
			_list[_i]
			&lt;&lt;if $continuing.includes(_list[_i])&gt;&gt;
				&lt;&lt;if _PLYR.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[PLYR]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;$activeCharacter.name&#39;, _action.receiving = &#39;You&#39;, $sex.log[&quot; + $sex.log.length + &quot;] = _action, $sex.log.length++, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if _NPC.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[NPC]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;You&#39;, _action.receiving = $activeCharacter.name, $sex.log[&quot; + $sex.log.length + &quot;] = _action, $sex.log.length++, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;
			&lt;&lt;else&gt;&gt;
				&lt;&lt;if _PLYR.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[PLYR]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = $activeCharacter.name, _action.receiving = &#39;You&#39;, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if _NPC.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[NPC]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;You&#39;, _action.receiving = $activeCharacter.name, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;
			&lt;&lt;/if&gt;&gt;
			&lt;/td&gt;

		&lt;&lt;else&gt;&gt;
			&lt;td style=&#39;width: 50%;&#39;&gt;&lt;/td&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set _i++&gt;&gt;
		&lt;&lt;if _i &lt; _list.length&gt;&gt;
			&lt;td style=&#39;width: 50%;&#39;&gt;
			_list[_i]
			&lt;&lt;if $continuing.includes(_list[_i])&gt;&gt;
				&lt;&lt;if _PLYR.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[PLYR]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;$activeCharacter.name&#39;, _action.receiving = &#39;You&#39;, $sex.log[&quot; + $sex.log.length + &quot;] = _action, $sex.log.length++, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if _NPC.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[NPC]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;You&#39;, _action.receiving = $activeCharacter.name, $sex.log[&quot; + $sex.log.length + &quot;] = _action, $sex.log.length++, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;
			&lt;&lt;else&gt;&gt;
				&lt;&lt;if _PLYR.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[PLYR]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = $activeCharacter.name, _action.receiving = &#39;You&#39;, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if _NPC.includes(_list[_i])&gt;&gt;
					&lt;&lt;print &quot;[[&#39;[NPC]&#39;|Sex Results][_action.action = &#39;&quot; + _list[_i] + &quot;&#39;, _action.giving = &#39;You&#39;, _action.receiving = $activeCharacter.name, $sex.choice = _action]]&quot;&gt;&gt;
				&lt;&lt;/if&gt;&gt;
			&lt;&lt;/if&gt;&gt;
			&lt;/td&gt;

		&lt;&lt;else&gt;&gt;
			&lt;td style=&#39;width: 50%;&#39;&gt;&lt;/td&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;/tr&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;if $sex.log.length&gt;&gt;
	&lt;tr class = &quot;bottom&quot;&gt;&lt;td style=&#39;width: 100%;&#39; colspan = 4&gt;&lt;/td&gt;&lt;/tr&gt;
	&lt;tr&gt;&lt;td style=&#39;width: 100%;&#39; colspan = 4&gt;&lt;/td&gt;&lt;/tr&gt;
	&lt;tr&gt;&lt;td style=&#39;width: 100%;&#39; colspan = 4&gt;&lt;/td&gt;&lt;/tr&gt;
	&lt;tr class = &quot;bottom&quot;&gt;&lt;td style=&#39;width: 100%;&#39; colspan = 4&gt;&lt;/td&gt;&lt;/tr&gt;

	&lt;&lt;for _l = 0; _l &lt; $sex.log.length;_l++&gt;&gt;
		&lt;tr class=&#39;list&#39;&gt;
			&lt;td style=&#39;width: 75%;&#39; colspan = 3&gt;&lt;&lt;sexlog $sex.log[_l]&gt;&gt;&lt;/td&gt;
			&lt;td style=&#39;width: 25%;&#39; colspan = 1&gt;&lt;&lt;print &quot;[[&#39;[X]&#39;|Sex Battle][$sex.removed = $sex.log[&quot; + _l + &quot;]]]&quot;&gt;&gt;&lt;/td&gt;
		&lt;/tr&gt;
	&lt;&lt;/for&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;/table&gt;</tw-passagedata><tw-passagedata pid="237" name="Sex Results" tags="nobr noreturn notruereturn" position="5900,360" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $sex.turn++&gt;&gt;
&lt;&lt;set _count = 0&gt;&gt;

&lt;&lt;if !$sex.continue&gt;&gt;
	&lt;&lt;include &quot;Switch Position&quot;&gt;&gt;

	&lt;&lt;switch $sex.choice.action&gt;&gt;
		&lt;&lt;case &quot;Bind Hands&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;set $sex.toys.rope.using++&gt;&gt;

		&lt;&lt;case &quot;Bind Feet&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.feet.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.feet.push($sex.choice.action)&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.feet.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.feet.push($sex.choice.action)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;set $sex.toys.rope.using++&gt;&gt;

		&lt;&lt;case &quot;Blindfold&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.eyes = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.eyes = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;set $sex.toys.blindfold.using++&gt;&gt;

		&lt;&lt;case &quot;Insert Dildo&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.pussy = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.pussy = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;set $sex.toys.dildo.using++&gt;&gt;

		&lt;&lt;case &quot;Insert Dildo Orally&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.mouth = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.mouth = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;set $sex.toys.dildo.using++&gt;&gt;

		&lt;&lt;case &quot;Insert Dildo Anally&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.anus = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.anus = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;set $sex.toys.dildo.using++&gt;&gt;

		&lt;&lt;case &quot;Hairjob&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.hair = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.hair = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Caress Breasts&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.breasts.push($sex.choice.action)&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.breasts.push($sex.choice.action)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Caress Nipples&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.breasts.push($sex.choice.action)&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.breasts.push($sex.choice.action)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Suck Breasts&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.breasts.push($sex.choice.action)&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.breasts.push($sex.choice.action)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Suck Nipples&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.breasts.push($sex.choice.action)&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.breasts.push($sex.choice.action)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Handjob&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Paizuri&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Blowjob&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Deepthroat&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Fingering&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.pussy = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.pussy = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Caress Anus&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.anus = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.anus = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Cunnilingus&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.pussy = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.pussy = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Analingus&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.anus = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.mouth = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.anus = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Footjob&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.feet.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.feet.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;[Vaginal] Missionary&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.pussy = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.pussy = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;[Vaginal] Doggystyle&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.pussy = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.pussy = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;[Vaginal] Sitting in Lap&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.pussy = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.pussy = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;[Vaginal] Cowgirl&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.pussy = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.pussy = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;[Anal] Missionary&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.anus = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.anus = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;[Anal] Doggystyle&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.anus = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.anus = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;[Anal] Sitting in Lap&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.anus = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.anus = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;[Anal] Cowgirl&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.anus = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.anus = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.npc.body.position = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.cock = $sex.choice.action&gt;&gt;
				&lt;&lt;set $sex.player.body.position = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Choke&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.player.body.hands.push($sex.choice.action)&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;
				&lt;&lt;set $sex.npc.body.hands.push($sex.choice.action)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;case &quot;Piss&quot;&gt;&gt;
			&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.player.body.bladder = $sex.choice.action&gt;&gt;

			&lt;&lt;elseif $sex.choice.receiving == &quot;You&quot;&gt;&gt;
				&lt;&lt;set $sex.npc.body.bladder = $sex.choice.action&gt;&gt;

			&lt;&lt;/if&gt;&gt;
	&lt;&lt;/switch&gt;&gt;

	&lt;&lt;if $continuing.includes($sex.choice.action)&gt;&gt;
		&lt;&lt;if $sex.choice.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run addAction($sex.player.log, $sex.choice.action)&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;run addAction($sex.npc.log, $sex.choice.action)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;for _g = 0; _g &lt; $sex.log.length;_g++&gt;&gt;
	&lt;&lt;if $sex.choice.action == $sex.log[_g].action &amp;&amp; $sex.choice.giving == $sex.log[_g].giving &amp;&amp; $sex.choice.receiving == $sex.log[_g].receiving&gt;&gt;
		&lt;&lt;set _count++&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;updateArousal $sex.log[_g]&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if _count &gt; 1&gt;&gt;
		&lt;&lt;set $sex.log[_g] = null&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/for&gt;&gt;

&lt;&lt;updateArousal $sex.choice&gt;&gt;

&lt;&lt;if $sex.player.stamina.current&gt;&gt;
	&lt;&lt;if $sex.continue == 1&gt;&gt;
		&lt;&lt;set $Continue = &quot;Sex Results&quot;&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $Continue = &quot;Sex Battle&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $Continue = &quot;End Sex&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.continue &amp;&amp; $sex.player.stamina.current&gt;&gt;
	&lt;&lt;set $sexContinue = 1&gt;&gt;

&lt;&lt;elseif $sex.player.stamina.current&gt;&gt;
	&lt;&lt;set $sexContinue = 2&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cheats.contains(&quot;playerUnlimited&quot;)&gt;&gt;
	&lt;&lt;set $sex.player.stamina.current = $sex.player.stamina.max&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cheats.contains(&quot;npcUnlimited&quot;)&gt;&gt;
	&lt;&lt;set $sex.npc.stamina.current = $sex.npc.stamina.max&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;big&gt;Sexual Play | Status&lt;/big&gt;&lt;/center&gt;
&lt;center&gt;
&lt;&lt;include &quot;Sex Status&quot;&gt;&gt;
&lt;/center&gt;

&lt;&lt;for _g = 0; _g &lt; $sex.log.length;_g++&gt;&gt;
	&lt;&lt;if !($sex.choice.action == $sex.log[_g].action &amp;&amp; $sex.choice.giving == $sex.log[_g].giving &amp;&amp; $sex.choice.receiving == $sex.log[_g].receiving)&gt;&gt;
		&lt;&lt;sextext $sex.log[_g]&gt;&gt;
		&lt;br&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/for&gt;&gt;

&lt;&lt;if !$sex.choice.action&gt;&gt;

&lt;&lt;elseif $sex.log.length == 1 &amp;&amp; !($sex.choice.action == $sex.log[0].action &amp;&amp; $sex.choice.giving == $sex.log[0].giving &amp;&amp; $sex.choice.receiving == $sex.log[0].receiving)&gt;&gt;
	&lt;br&gt;
&lt;&lt;elseif $sex.log.length &gt;= 2&gt;&gt;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.choice.action&gt;&gt;
	&lt;&lt;sextext $sex.choice&gt;&gt;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _tabledata = []&gt;&gt;
&lt;&lt;set _PCtabledata = []&gt;&gt;
&lt;&lt;set _bsEXP = 0&gt;&gt;
&lt;&lt;set _PCbsEXP = 0&gt;&gt;

&lt;br&gt;
&lt;&lt;arousal &#39;npc&#39;&gt;&gt;

&lt;br&gt;&lt;br&gt;
&lt;&lt;arousal &#39;player&#39;&gt;&gt;

&lt;&lt;updateSexEXP $sex.choice&gt;&gt;

&lt;&lt;for _g = 0; _g &lt; $sex.log.length;_g++&gt;&gt;
	&lt;&lt;if !($sex.choice.action == $sex.log[_g].action &amp;&amp; $sex.choice.giving == $sex.log[_g].giving &amp;&amp; $sex.choice.receiving == $sex.log[_g].receiving)&gt;&gt;
		&lt;&lt;updateSexEXP $sex.log[_g]&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/for&gt;&gt;

&lt;&lt;if $continuing.includes($sex.choice.action)&gt;&gt;
	&lt;&lt;set $sex.choice = {action:null, giving:null, receiving:null}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _tabledata.length&gt;&gt;
	&lt;center&gt;
	&lt;table class=&quot;chart&quot; style=&#39;table-layout:fixed;width:950px&#39;&gt;
	&lt;tr&gt;
		&lt;th style=&#39;width: 30%;&#39;&gt;$activeCharacter.name&#39;s Stats&lt;/th&gt;
		&lt;th style=&#39;width: 10%;&#39;&gt;Level&lt;/th&gt;
		&lt;th style=&#39;width: 50%;&#39;&gt;EXP&lt;/th&gt;
		&lt;th style=&#39;width: 10%;&#39;&gt;Next&lt;/th&gt;
	&lt;/tr&gt;

	_tabledata
	
	&lt;/table&gt;
	&lt;/center&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _PCtabledata.length&gt;&gt;
	&lt;center&gt;
	&lt;table class=&quot;chart&quot; style=&#39;table-layout:fixed;width:950px&#39;&gt;
	&lt;tr&gt;
		&lt;th style=&#39;width: 30%;&#39;&gt;Your Stats&lt;/th&gt;
		&lt;th style=&#39;width: 10%;&#39;&gt;Level&lt;/th&gt;
		&lt;th style=&#39;width: 50%;&#39;&gt;EXP&lt;/th&gt;
		&lt;th style=&#39;width: 10%;&#39;&gt;Next&lt;/th&gt;
	&lt;/tr&gt;

	_PCtabledata
	
	&lt;/table&gt;
	&lt;/center&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;run updateTitles($activeCharacter)&gt;&gt;
&lt;center&gt;
&lt;&lt;if $activeCharacter.update.length &gt;= 1&gt;&gt;
	&lt;hr&gt;
	&lt;&lt;include &quot;Slave Update&quot;&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;</tw-passagedata><tw-passagedata pid="238" name="Battlebar Widget" tags="widget nobr" position="1750,179" size="100,100">&lt;&lt;widget &quot;battlebar&quot;&gt;&gt;

&lt;&lt;set _ee = $args[0] / $args[1]&gt;&gt;
&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .8&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .6&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .4&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .2&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * 100)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * 100)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _gone = 100 - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _cstat = &#39;@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _gstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@&#39;&gt;&gt;
&lt;&lt;print _cstat + _gstat&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="239" name="Reset Log" tags="nobr" position="5771,360" size="100,100">&lt;&lt;set _templog = $sex.log&gt;&gt;
&lt;&lt;set $sex.log = {length:0}&gt;&gt;

&lt;&lt;for _t = 0; _t &lt; _templog.length;_t++&gt;&gt;
	&lt;&lt;if _templog[_t]&gt;&gt;
		&lt;&lt;set $sex.log[$sex.log.length] = _templog[_t]&gt;&gt;
		&lt;&lt;set $sex.log.length++&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;set _templog = null&gt;&gt;</tw-passagedata><tw-passagedata pid="240" name="Log Display Widget" tags="nobr widget" position="5773,490" size="100,100">&lt;&lt;widget &quot;sexlog&quot;&gt;&gt;
	&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
		&lt;&lt;switch $args[0].action&gt;&gt;
			&lt;&lt;case &quot;Bind Hands&quot;&gt;&gt;
				$args[0].receiving&#39;s hands are bound together with alraune rope.

			&lt;&lt;case &quot;Bind Feet&quot;&gt;&gt;
				$args[0].receiving&#39;s feet are bound together with alraune rope.

			&lt;&lt;case &quot;Blindfold&quot;&gt;&gt;
				$args[0].receiving is blindfolded.

			&lt;&lt;case &quot;Insert Dildo&quot;&gt;&gt;
				$args[0].receiving has a dildo up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.

			&lt;&lt;case &quot;Insert Dildo Orally&quot;&gt;&gt;
				$args[0].receiving is sucking on a dildo.

			&lt;&lt;case &quot;Insert Dildo Anally&quot;&gt;&gt;
				$args[0].receiving has a dildo up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.

			&lt;&lt;case &quot;Hairjob&quot;&gt;&gt;
				You are giving $args[0].receiving a hairjob.

			&lt;&lt;case &quot;Caress Breasts&quot;&gt;&gt;
				You are caressing $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.

			&lt;&lt;case &quot;Caress Nipples&quot;&gt;&gt;
				You are caressing $args[0].receiving&#39;s nipples.

			&lt;&lt;case &quot;Suck Breasts&quot;&gt;&gt;
				You are sucking on $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.

			&lt;&lt;case &quot;Suck Nipples&quot;&gt;&gt;
				You are sucking on $args[0].receiving&#39;s Nipples.

			&lt;&lt;case &quot;Handjob&quot;&gt;&gt;
				You are pleasuring $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your hand.

			&lt;&lt;case &quot;Paizuri&quot;&gt;&gt;
				You are using your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; to pleasure $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.

			&lt;&lt;case &quot;Blowjob&quot;&gt;&gt;
				You are sucking $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.

			&lt;&lt;case &quot;Deepthroat&quot;&gt;&gt;
				You are deepthroating $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.

			&lt;&lt;case &quot;Fingering&quot;&gt;&gt;
				You are fingering $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.

			&lt;&lt;case &quot;Caress Anus&quot;&gt;&gt;
				You are fingering $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.

			&lt;&lt;case &quot;Cunnilingus&quot;&gt;&gt;
				You are licking $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.

			&lt;&lt;case &quot;Analingus&quot;&gt;&gt;
				You are licking $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.

			&lt;&lt;case &quot;Footjob&quot;&gt;&gt;
				You are pleasuring $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your feet.

			&lt;&lt;case &quot;[Vaginal] Missionary&quot;&gt;&gt;
				You are fucking $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; in the missionary position.

			&lt;&lt;case &quot;[Vaginal] Doggystyle&quot;&gt;&gt;
				You are pounding $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; doggystyle.

			&lt;&lt;case &quot;[Vaginal] Sitting in Lap&quot;&gt;&gt;
				You are fucking $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sits in your lap.

			&lt;&lt;case &quot;[Vaginal] Cowgirl&quot;&gt;&gt;
				 You are riding $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; cowgirl style.

			&lt;&lt;case &quot;[Anal] Missionary&quot;&gt;&gt;
				You are fucking $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; in the missionary position.

			&lt;&lt;case &quot;[Anal] Doggystyle&quot;&gt;&gt;
				You are pounding $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; doggystyle.

			&lt;&lt;case &quot;[Anal] Sitting in Lap&quot;&gt;&gt;
				You are fucking $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sits in your lap.

			&lt;&lt;case &quot;[Anal] Cowgirl&quot;&gt;&gt;
				 You are riding $args[0].receiving&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; cowgirl style.

			&lt;&lt;case &quot;Choke&quot;&gt;&gt;
				You are choking $args[0].receiving.
		&lt;&lt;/switch&gt;&gt;

	&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
		&lt;&lt;switch $args[0].action&gt;&gt;
			&lt;&lt;case &quot;Bind Hands&quot;&gt;&gt;
				Your hands are bound together with alraune rope.

			&lt;&lt;case &quot;Bind Feet&quot;&gt;&gt;
				Your feet are bound together with alraune rope.

			&lt;&lt;case &quot;Blindfold&quot;&gt;&gt;
				You are blindfolded.

			&lt;&lt;case &quot;Insert Dildo&quot;&gt;&gt;
				You have a dildo up your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.

			&lt;&lt;case &quot;Insert Dildo Orally&quot;&gt;&gt;
				You are sucking on a dildo.

			&lt;&lt;case &quot;Insert Dildo Anally&quot;&gt;&gt;
				You have a dildo up your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.

			&lt;&lt;case &quot;Hairjob&quot;&gt;&gt;
				$args[0].giving is giving you a hairjob.

			&lt;&lt;case &quot;Caress Breasts&quot;&gt;&gt;
				$args[0].giving is caressing your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.

			&lt;&lt;case &quot;Caress Nipples&quot;&gt;&gt;
				$args[0].giving is caressing your nipples.

			&lt;&lt;case &quot;Suck Breasts&quot;&gt;&gt;
				$args[0].giving is sucking on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.

			&lt;&lt;case &quot;Suck Nipples&quot;&gt;&gt;
				$args[0].giving is sucking on your nipples.

			&lt;&lt;case &quot;Handjob&quot;&gt;&gt;
				$args[0].giving is giving you a handjob.

			&lt;&lt;case &quot;Paizuri&quot;&gt;&gt;
				$args[0].giving is giving you a titjob.

			&lt;&lt;case &quot;Blowjob&quot;&gt;&gt;
				$args[0].giving is sucking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.

			&lt;&lt;case &quot;Deepthroat&quot;&gt;&gt;
				$args[0].giving is deepthroating your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.

			&lt;&lt;case &quot;Fingering&quot;&gt;&gt;
				$args[0].giving is fingering your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.

			&lt;&lt;case &quot;Caress Anus&quot;&gt;&gt;
				$args[0].giving is fingering your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.

			&lt;&lt;case &quot;Cunnilingus&quot;&gt;&gt;
				$args[0].giving is licking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.

			&lt;&lt;case &quot;Analingus&quot;&gt;&gt;
				$args[0].giving is licking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.

			&lt;&lt;case &quot;Footjob&quot;&gt;&gt;
				$args[0].giving is giving you a footjob.

			&lt;&lt;case &quot;[Vaginal] Missionary&quot;&gt;&gt;
				$args[0].giving is fucking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; in the missionary position.

			&lt;&lt;case &quot;[Vaginal] Doggystyle&quot;&gt;&gt;
				$args[0].giving is pounding your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; doggystyle.

			&lt;&lt;case &quot;[Vaginal] Sitting in Lap&quot;&gt;&gt;
				$args[0].giving is fucking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; while you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.

			&lt;&lt;case &quot;[Vaginal] Cowgirl&quot;&gt;&gt;
				 $args[0].giving is riding your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; cowgirl style.

			&lt;&lt;case &quot;[Anal] Missionary&quot;&gt;&gt;
				$args[0].giving is fucking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; in the missionary position.

			&lt;&lt;case &quot;[Anal] Doggystyle&quot;&gt;&gt;
				$args[0].giving is pounding your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; doggystyle.

			&lt;&lt;case &quot;[Anal] Sitting in Lap&quot;&gt;&gt;
				$args[0].giving is fucking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; while you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.

			&lt;&lt;case &quot;[Anal] Cowgirl&quot;&gt;&gt;
				 $args[0].giving is riding your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass cowgirl style.

			&lt;&lt;case &quot;Choke&quot;&gt;&gt;
				$args[0].giving is choking you.
		&lt;&lt;/switch&gt;&gt;

	&lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;
</tw-passagedata><tw-passagedata pid="241" name="Remove Log" tags="nobr" position="5775,620" size="100,100">&lt;&lt;for _r = 0; _r &lt; $sex.log.length;_r++&gt;&gt;
	&lt;&lt;if $sex.removed.action == $sex.log[_r].action &amp;&amp; $sex.removed.giving == $sex.log[_r].giving &amp;&amp; $sex.removed.receiving == $sex.log[_r].receiving&gt;&gt;
		&lt;&lt;set $sex.log[_r] = null&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;switch $sex.removed.action&gt;&gt;
	&lt;&lt;case &quot;Bind Hands&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set $sex.toys.rope.using--&gt;&gt;

	&lt;&lt;case &quot;Bind Feet&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.feet, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.feet, $sex.removed.action)&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.feet, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.feet, $sex.removed.action)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set $sex.toys.rope.using--&gt;&gt;

	&lt;&lt;case &quot;Blindfold&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.eyes = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.eyes = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set $sex.toys.blindfold.using--&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.pussy = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.pussy = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set $sex.toys.dildo.using--&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo Orally&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.mouth = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.mouth = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set $sex.toys.dildo.using--&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo Anally&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.anus = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.anus = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set $sex.toys.dildo.using--&gt;&gt;

	&lt;&lt;case &quot;Hairjob&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.hair = null&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;


		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.hair = null&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Breasts&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.breasts, $sex.removed.action)&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.breasts, $sex.removed.action)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Nipples&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.breasts, $sex.removed.action)&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.breasts, $sex.removed.action)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Suck Breasts&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.mouth = null&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.breasts, $sex.removed.action)&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.mouth = null&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.breasts, $sex.removed.action)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Suck Nipples&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.mouth = null&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.breasts, $sex.removed.action)&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.mouth = null&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.breasts, $sex.removed.action)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Handjob&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Paizuri&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Blowjob&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.mouth = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.mouth = null&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Deepthroat&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.mouth = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.mouth = null&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Fingering&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.npc.body.pussy = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.player.body.pussy = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Anus&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.npc.body.anus = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.player.body.anus = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Cunnilingus&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.mouth = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.pussy = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.mouth = null&gt;&gt;
			&lt;&lt;set $sex.player.body.pussy = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Analingus&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.mouth = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.anus = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.mouth = null&gt;&gt;
			&lt;&lt;set $sex.player.body.anus = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Footjob&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.feet, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.feet, $sex.removed.action)&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Missionary&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.pussy = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;
			&lt;&lt;set $sex.player.body.pussy = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Doggystyle&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.pussy = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;
			&lt;&lt;set $sex.player.body.pussy = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Sitting in Lap&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.pussy = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;
			&lt;&lt;set $sex.player.body.pussy = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Cowgirl&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.pussy = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.pussy = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Anal] Missionary&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.anus = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;
			&lt;&lt;set $sex.player.body.anus = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Anal] Doggystyle&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.anus = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;
			&lt;&lt;set $sex.player.body.anus = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Anal] Sitting in Lap&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.anus = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;
			&lt;&lt;set $sex.player.body.anus = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Anal] Cowgirl&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.anus = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.anus = null&gt;&gt;
			&lt;&lt;set $sex.npc.body.position = null&gt;&gt;
			&lt;&lt;set $sex.player.body.cock = null&gt;&gt;
			&lt;&lt;set $sex.player.body.position = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Choke&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.player.body.hands, $sex.removed.action)&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;
			&lt;&lt;run removeAction($sex.npc.body.hands, $sex.removed.action)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Piss&quot;&gt;&gt;
		&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.player.body.bladder = null&gt;&gt;

		&lt;&lt;elseif $sex.removed.receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set $sex.npc.body.bladder = null&gt;&gt;

		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;include &quot;Reset Log&quot;&gt;&gt;

&lt;&lt;if $sex.removed.giving == &quot;You&quot;&gt;&gt;
	&lt;&lt;run removeAction($sex.player.log, $sex.removed.action)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;run removeAction($sex.npc.log, $sex.removed.action)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $sex.removed = null&gt;&gt;</tw-passagedata><tw-passagedata pid="242" name="Switch Position" tags="nobr" position="5775,750" size="100,100">&lt;&lt;set _sexpositions = [&quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;, &quot;[Anal] Missionary&quot;, &quot;[Anal] Doggystyle&quot;, &quot;[Anal] Sitting in Lap&quot;, &quot;[Anal] Cowgirl&quot;]&gt;&gt;

&lt;&lt;set _spcount = 0&gt;&gt;

&lt;&lt;if _sexpositions.includes($sex.choice.action)&gt;&gt;
	&lt;&lt;for _p = 0; _p &lt; $sex.log.length;_p++&gt;&gt;
		&lt;&lt;if !($sex.choice.action == $sex.log[_p].action &amp;&amp; $sex.choice.giving == $sex.log[_p].giving &amp;&amp; $sex.choice.recieving == $sex.log[_p].recieving) &amp;&amp; _sexpositions.includes($sex.log[_p].action)&gt;&gt;
			&lt;&lt;set $sex.removed = $sex.log[_p]&gt;&gt;
			&lt;&lt;include &quot;Remove Log&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		
		&lt;&lt;if ($sex.choice.action == $sex.log[_p].action &amp;&amp; $sex.choice.giving == $sex.log[_p].giving &amp;&amp; $sex.choice.recieving == $sex.log[_p].recieving) &amp;&amp; _sexpositions.includes($sex.log[_p].action)&gt;&gt;
			&lt;&lt;set _spcount++&gt;&gt;
			
			&lt;&lt;if _spcount &gt; 1&gt;&gt;
				&lt;&lt;set $sex.log[_p] = null&gt;&gt;
				&lt;&lt;include &quot;Reset Log&quot;&gt;&gt;
			&lt;&lt;/if&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="243" name="Sex Text" tags="nobr widget" position="5901,490" size="100,100">&lt;&lt;widget &quot;sextext&quot;&gt;&gt;

/*
	&lt;&lt;if _opening&gt;&gt;
		&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
		&lt;&lt;if _arousal &gt;= .6&gt;&gt;
			&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
		&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;if _arousal &gt;= .4&gt;&gt;
			&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/if&gt;&gt;
*/

	/* effects | skill, nature, obedience, trust, fear, arousal, stats */

	&lt;&lt;set _arousal = $sex.npc.orgasm.current / $sex.npc.orgasm.max&gt;&gt;

	&lt;&lt;if $args[0].action == $sex.choice.action &amp;&amp; $args[0].giving == $sex.choice.giving &amp;&amp; $args[0].receiving == $sex.choice.receiving&gt;&gt;
		&lt;&lt;set _opening = 1&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _opening = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
		&lt;&lt;switch $args[0].action&gt;&gt;
			&lt;&lt;case &quot;Whip&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You lash the aether whip against $activeCharacter.name&#39;s skin.&quot;, &quot;You flog $activeCharacter.name with the aether whip.&quot;, &quot;You use the aether whip to flay $activeCharacter.name.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;The whip stings &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; strongly, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; releases cries of ecstasy rather than pain.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can&#39;t tell the difference between the pain and the pleasure, and is going insane because of it.&quot;, &quot;You whip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; enough times that the pain blurs together with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleasure, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to moan instead of cry out.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; cries out in pain as the whip tears into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; skin.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; succumbs to the sting of the whip, releasing wracking sobs every time it makes contact with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; releases a hiss every time the whip strikes &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, trying &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hardest to stay strong.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans out in delight every time the whip strikes &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; cries out in ecstasy, putting on a vocal performance for you every time you lash &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;A look of ecstasy is painted on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face that only seems to grow more lewd with every lash you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;The whip stings &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; strongly, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; releases cries of ecstasy rather than pain.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can&#39;t tell the difference between the pain and the pleasure, and is going insane because of it.&quot;, &quot;You whip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; enough times that the pain blurs together with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleasure, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to moan instead of cry out.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to keep &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cries to a minimum to prevent you the satisfaction of hearing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; cry out in pain.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glare on you gets more heated with every lash of the whip.&quot;, &quot;In an attempt to act indifferent to the whipping, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; bits on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lower lip to prevent &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from crying out in pain as you flog &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with the aether whip.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Bind Hands&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You tie $activeCharacter.name&#39;s hands together with alraune rope.&quot;, &quot;You pull $activeCharacter.name&#39;s hands together and tie them together with alraune rope.&quot;, &quot;You have $activeCharacter.name put &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; wrists together so you can tie them.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands tied together with alraune rope.&quot;, &quot;$activeCharacter.name&#39;s wrists are tied together with alraune rope.&quot;, &quot;$activeCharacter.name has limited movement as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands are tied together with alraune rope.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Bind Feet&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You tie $activeCharacter.name&#39;s feet together with alraune rope.&quot;, &quot;You pull $activeCharacter.name&#39;s feet together and tie them together with alraune rope.&quot;, &quot;You have $activeCharacter.name put &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ankles together so you can tie them.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feet tied together with alraune rope.&quot;, &quot;$activeCharacter.name&#39;s ankles are tied together with alraune rope.&quot;, &quot;$activeCharacter.name has limited movement as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feet are tied together with alraune rope.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Blindfold&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You wrap a blindfold around $activeCharacter.name&#39;s eyes.&quot;, &quot;You blindfold $activeCharacter.name.&quot;, &quot;You have $activeCharacter.name tie a blindfold around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name is blindfolded.&quot;, &quot;$activeCharacter.name has a blindfold wrapped around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes.&quot;, &quot;$activeCharacter.name can&#39;t see due to the blindfold around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Insert Dildo&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You insert a dildo into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You place a dildo against $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; and slowly push it inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;You have $activeCharacter.name push a dildo up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;The dildo pumps in and out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is ravished by the dildo.&quot;, &quot;The dildo twists and turns inside of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;Insert Dildo Orally&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You press the dildo against $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; and into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;$activeCharacter.name sucks the dildo into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;You pump the dildo into $activeCharacter.name&#39;s mouth.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;The dildo pumps in and out of $activeCharacter.name&#39;s mouth.&quot;, &quot;$activeCharacter.name sucks on the dildo writhing inside &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;The dildo inside of $activeCharacter.name&#39;s mouth produces more moisture as it fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Insert Dildo Anally&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You insert a dildo into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You place a dildo against $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; and slowly push it inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;You have $activeCharacter.name push a dildo up &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;The dildo pumps in and out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is ravished by the dildo.&quot;, &quot;The dildo twists and turns inside of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;Kiss&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You lean in to kiss $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips.&quot;, &quot;Your mouth presses against $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips demandingly.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;lips&#39;&gt;&gt; lips brush against $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; attempts to struggle out of your kiss but slowly yields due to being so aroused.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; puts up a shallow resistance, but is much too aroused to truly refuse your advance.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; puts up a false bravado by kicking, screaming and causing a general ruckus but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; arousal has long since drained any real resistance from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream in protest but that only allows you to push your tongue past &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; teeth and into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to expel your tongue from your mouth using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, but only ends up deepening the kiss further.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; mouth opened to protest your advance but was silenced as your mouth covered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; eagerly meets your kiss, entwining &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips with your own.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; welcomed your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;lips&#39;&gt;&gt; lips on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own with as much enthusiasm and passion &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; could muster.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; lips part to meet your own, allowing your tongue entwines with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own in a heated kiss.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; attempts to struggle out of your kiss but slowly yields due to being so aroused.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; puts up a shallow resistance, but is much too aroused to truly refuse your advance.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; puts up a false bravado by kicking, screaming and causing a general ruckus but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; arousal has long since drained any real resistance from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; offers no resistance but doesn&#39;t return the intensity of it either.&quot;, &quot;$activeCharacter.name reluctantly allows you to take &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips with your own.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; relinquished ownership of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body to you, but refuses to be an active participant in any sexual play.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Caress&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You trail your fingers sensually across $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt;.&quot;, &quot;You give $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; light touches.&quot;, &quot;Your hands make soft traces on $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt;.&quot;, &quot;You slowly caress $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; squirms under your touch, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal too intense to put up anymore resistance.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; attempts to ignore your caresses but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; is clear from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; heated breath.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is erotically manipulated by your caresses but refuses to acknowledge &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own arousal.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; shudders in displeasure, clearly unaffected by your attempts to arouse &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;$activeCharacter.name tries to squirm away from your caresses, disgusted by your touch.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t react but you can tell from the look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has an aversion to your touch.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; melts into your touch, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal building by the second.&quot;, &quot;Your touch lights a fire of excitement across &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; yields to your touch, surrendering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body further to your manipulations.&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; squirms under your touch, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal too intense to put up anymore resistance.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; attempts to ignore your caresses but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; is clear from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; heated breath.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is erotically manipulated by your caresses but refuses to acknowledge &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own arousal.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acquiesced in your touch but is still somewhat reserved.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body is heated from your touches but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries hard to prevent you from seeing the affect it has on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly allows your touch but isn&#39;t particularly aroused from it either.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Spank&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You draw your hand back a good distance and slap your empty palm across $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;butt&#39;&gt;&gt; ass multiple times.&quot;, &quot;You crack your hand hard against $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;butt&#39;&gt;&gt; ass repeatedly.&quot;, &quot;You fondle $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;butt&#39;&gt;&gt; ass before quickly clapping your hand against it over and over.&quot;, &quot;You spank $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;butt&#39;&gt;&gt; ass harshly multiple times.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to mask &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; moans from getting spanked with groans, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t fooling anyone.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; breath gets heated with every hit and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal rises despite &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; verbal protests.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; vigorously fights to escape your spankings, embarrassed by the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is getting visibly aroused by them.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; whimpers in pain as you warm &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bottom with your stern strikes.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; holds in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; protests but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body jumps every time you strike &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass.&quot;, &quot;From the look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is completely humiliated from being spanked like a naughty child.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans erotically every time you lay a strike across &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; shakes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass every time you spank it, inviting you to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; panted breathing signals &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal from getting spanked.&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to mask &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; moans from getting spanked with groans, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t fooling anyone.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; breath gets heated with every hit and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal rises despite &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; verbal protests.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; vigorously fights to escape your spankings, embarrassed by the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is getting visibly aroused by them.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; receives &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; spankings in silence, attempting to prevent you from getting the satisfaction of seeing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in pain.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t disobedient enough to outright rebel against you, but openly shows &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; displeasure with you with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; facial expressions.&quot;, &quot;Every strike furthers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; submission, though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; goes through great lengths to make sure that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t show it visibly.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Slap&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You draw your hand back exaggeratedly before swinging an empty palm across $activeCharacter.name&#39;s face.&quot;, &quot;You send a quick yet strong open-palmed strike across $activeCharacter.name&#39;s face.&quot;, &quot;You swing an open-palmed strike right across $activeCharacter.name&#39;s face.&quot;, &quot;You harshly strike $activeCharacter.name&#39;s face with your palm.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;The pain adds to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual high but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tries to protest in an attempt to hide that.&quot;, &quot;The rough play has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; panting heatedly for more even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has an angry look affixed to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans out in ecstasy as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is hit but stretches it out into a scream to mask &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; braces for the hit but the blow still sends a jolt of pain through &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is furious with you for slapping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Tears stream down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; holds in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pain.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;The pain only seems to stimulate &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; further.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is aroused by your sexual play, giggling elatedly from your strike.&quot;, &quot;The pain causes &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to moan erotically before giving you a playful smile.&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;The pain adds to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual high but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tries to protest in an attempt to hide that.&quot;, &quot;The rough play has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; panting heatedly for more even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has an angry look affixed to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans out in ecstasy as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is hit but stretches it out into a scream to mask &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; takes the strike head-on, showing no weakness nor arousal from being hit.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; holds back &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tears, refusing to show you any reaction.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acts as if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was never hit, ignoring you completely.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Spit&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You spit into $activeCharacter.name&#39;s waiting mouth.&quot;, &quot;You slowly pass your spit into $activeCharacter.name&#39;s mouth.&quot;, &quot;You let your spit dribble out of your mouth and fall int $activeCharacter.name&#39;s mouth.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is so aroused &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t even realize that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; savors the taste of your spit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth before its too late.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt;&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; immediately spits out your saliva &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is completely humiliated by the fact that you would use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as a receptacle for your spit.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; angrily glares at you for not only disrespecting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, but for believing that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would in any way enjoy the taste of your saliva.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; sticks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue out worshipfully, eagerly receiving your spit.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; savors the taste of your saliva before swallowing exaggeratedly to show &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; appreciation for your gesture.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; begs for more of your saliva, passionately praising the taste of your bodily fluids.&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt;&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt;&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; swallows your spit with little to no reaction.&quot;, &quot;From &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; facial expression you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; didn&#39;t enjoy swallowing your saliva, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; makes no movement to show &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; displeasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; seethes angrily from your treatment of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; outward appearance is expressionless.&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Piss&quot;&gt;&gt;
				&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Hairjob&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;print either(&quot;You restrain $activeCharacter.name, forcibly wrap your hair around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and begin stroking it.&quot;, &quot;You order $activeCharacter.name to behave while you wrap your hair around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and begin to jerk it.&quot;, &quot;$activeCharacter.name protests your advance but you ignore &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, caressing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your hair wrapped around it.&quot;)&gt;&gt;

					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name begs you with his eyes for pleasure and you grant &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; some by wrapping your hair around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and jerking it off.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; dangles in your face and you softly wrap your hair around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; before sensually jerking &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; off with it.&quot;, &quot;You swathe $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your hair before fucking &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your hair.&quot;)&gt;&gt;

					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;You wrap your hair around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no reaction.&quot;, &quot;You tell $activeCharacter.name that you will give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a hairjob and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; lets you wrap your hair around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with no resistance.&quot;, &quot;You take $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and wrap your hair around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; before jerking it off.&quot;)&gt;&gt;

					&lt;&lt;/if&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your hand with your hair wrapped around it.&quot;, &quot;You caress $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your hair wrapped around it.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; is being stroked by you with your hair wrapped around it.&quot;)&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Caress Breasts&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You sensually massage $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;You erotically caress $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;You gently play with $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Caress Nipples&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You erotically caress $activeCharacter.name&#39;s nipples.&quot;, &quot;You sensually massage $activeCharacter.name&#39;s nipples.&quot;, &quot;You gently play with $activeCharacter.name&#39;s nipples.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Suck Breasts&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You erotically suck on $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;You lavish $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; with your oral attentions.&quot;, &quot;You tongue trails its way up and down $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;You suckle on $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; lovingly.&quot;, &quot;You suckle on $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; erotically.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Suck Nipples&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You erotically suck on $activeCharacter.name&#39;s nipples.&quot;, &quot;You lavish $activeCharacter.name&#39;s nipples with your oral attentions.&quot;, &quot;You incessantly flicks $activeCharacter.name&#39;s nipples.&quot;, &quot;You suckle on $activeCharacter.name&#39;s nipples lovingly.&quot;, &quot;You suckle on $activeCharacter.name&#39;s nipples erotically.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Handjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;Entranced by $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, you being to stoke it.&quot;, &quot;You grip $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and stroke it erotically.&quot;, &quot;You hungrily rub $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; up and down with your hand.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Paizuri&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You rub $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; between your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;You hotdog $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; between your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; and rub it between them.&quot;, &quot;You fuck $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; between your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Blowjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You suck $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your mouth and pleasure it with your tongue.&quot;, &quot;You lick, suck and drag your tongue all over $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You lavish $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your oral attentions.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Deepthroat&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You suck $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; all the way to its base, pulling back and then sucking it back in until your nose hits &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pubis.&quot;, &quot;You allow $activeCharacter.name to fuck your throat with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; reaches all the way to the back of your throat, giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; pleasure a regular blowjob couldn&#39;t.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Fingering&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You plunge your fingers into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;, finger &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to build &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;, &quot;You slip your fingers into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; and begin fingering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;You slowly caress $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; before inching your fingers into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Caress Anus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You pump your finger in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You finger-fuck $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You vigorously thrust your finger in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Cunnilingus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You press your face against $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; and begin lucking &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You focus your oral attentions on $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; and clit.&quot;, &quot;You savor the taste of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; as you eat &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; out.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Analingus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You lavish $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;butt&#39;&gt;&gt; rectum with your oral attentions.&quot;, &quot;You tongue $activeCharacter.name&#39;s $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;butt&#39;&gt;&gt; ass.&quot;, &quot;You eat out $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;butt&#39;&gt;&gt; butt.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Footjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You rub $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your feet.&quot;, &quot;You play with $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your feet.&quot;, &quot;You pleasure $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; using only your feet.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;[Vaginal] Missionary&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You push $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; onto the bed, hover over &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and sink your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You crawl over $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; and plunge your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You hover over $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; laying on the bed and swab your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; before inserting it into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you to pull out your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head away from you in rebellion as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; eagerly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without any complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcefully entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;You slowly thrust your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You plow $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You hammer your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You fuck into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You leisurely slide your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You send powerful thrust after thrust into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to drill into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as you fuck into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as you fuck &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;Your continual thrusts into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; continually drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you continually pound &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Vaginal] Doggystyle&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You push $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; onto the bed so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is laying on all fours, grab onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips and sink your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You crawl behind $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is standing on all fours and plunge your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You position $activeCharacter.name so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is standing on all fours and swab your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; before inserting it into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you to pull out your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head away from you in rebellion as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; eagerly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without any complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcefully entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;You slowly thrust your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from behind.&quot;, &quot;You plow $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from behind with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You hammer your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from behind.&quot;, &quot;You fuck into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stands on all fours.&quot;, &quot;You leisurely slide your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from behind as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stands on all fours.&quot;, &quot;You send powerful thrust after thrust into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from behind as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stands on all fours.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to drill into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as you fuck into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as you fuck &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;Your continual thrusts into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; continually drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you continually pound &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Vaginal] Sitting in Lap&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You pull $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; into your lap, slowly sinking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You have $activeCharacter.name crawl over and sit in your lap allowing you to plunge your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You position $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt;, line your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; up against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; before pulling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; down into your lap, impalling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you to pull out your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head away from you in rebellion as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; eagerly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without any complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcefully entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;You slowly thrust your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from below.&quot;, &quot;While $activeCharacter.name rests in your lap you plow into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from below with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You embrace $activeCharacter.name while you hammer your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from below.&quot;, &quot;You fuck into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from below with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You leisurely slide your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from below.&quot;, &quot;You send powerful thrust after thrust into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; from below.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to drill into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as you fuck into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as you fuck &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;Your continual thrusts into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; continually drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you continually pound &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Vaginal] Cowgirl&quot;&gt;&gt;
				 &lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You push $activeCharacter.name onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back and sink your cunt down onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and begin to ride &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; cowgirl style.&quot;, &quot;You have $activeCharacter.name lay on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back and ride &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; cowgirl style.&quot;, &quot;You position $activeCharacter.name so that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is laying on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back and impale your cunt on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, riding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; cowgirl style.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; throbs while being squeezed by your cunt, begging you to continue riding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has stopped protesting, lost to pleasure, as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; thrusts wildly into your cunt.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you pull off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently watches you fuck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your cunt.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; eagerly meets your thrusts with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; wraps around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; throbs while being squeezed by your cunt, begging you to continue riding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has stopped protesting, lost to pleasure, as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; thrusts wildly into your cunt.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly accepts you using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; completely envelops &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcefully taking pleasure from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;You slowly ride $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; while in the cowgirl position.&quot;, &quot;While $activeCharacter.name is laying on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; continues to pump up and down on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You embrace $activeCharacter.name while you fuck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; from ontop.&quot;, &quot;You fuck $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; from on top with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You leisurely slide your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; up and down the length of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;, &quot;You powerfully fuck your hips against $activeCharacter.name&#39;s, riding &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; from screwing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; throbs every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; plunders pleasure from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; out of you pussy.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to fuck on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as you use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; to fuck into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as you fuck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; from screwing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; throbs every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; plunders pleasure from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;Your continual humping of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; continually drives its way up and down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you continually fuck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Anal] Missionary&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You push $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; onto the bed, hover over &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and sink your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You crawl over $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; and plunge your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You hover over $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; laying on the bed and swab your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; before inserting it into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you to pull out your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head away from you in rebellion as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; eagerly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without any complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcefully entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;You slowly thrust your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You plow $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You hammer your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You fuck into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You leisurely slide your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You send powerful thrust after thrust into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to drill into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as you fuck into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as you fuck &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;Your continual thrusts into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; continually drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you continually pound &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Anal] Doggystyle&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You push $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; onto the bed so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is laying on all fours, grab onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips and sink your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You crawl behind $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is standing on all fours and plunge your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You position $activeCharacter.name so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is standing on all fours and swab your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; before inserting it into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you to pull out your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head away from you in rebellion as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; eagerly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without any complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcefully entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;You slowly thrust your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from behind.&quot;, &quot;You plow $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from behind with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You hammer your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from behind.&quot;, &quot;You fuck into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stands on all fours.&quot;, &quot;You leisurely slide your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from behind as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stands on all fours.&quot;, &quot;You send powerful thrust after thrust into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from behind as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stands on all fours.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to drill into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as you fuck into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as you fuck &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;Your continual thrusts into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; continually drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you continually pound &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Anal] Sitting in Lap&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You pull $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; into your lap, slowly sinking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You have $activeCharacter.name crawl over and sit in your lap allowing you to plunge your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You position $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt;, line your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; up against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; before pulling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; down into your lap, impalling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you to pull out your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head away from you in rebellion as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; eagerly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is squeezing you hard, begging you to stay inside of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently takes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without any complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcefully entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;You slowly thrust your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from below.&quot;, &quot;While $activeCharacter.name rests in your lap you plow into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from below with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You embrace $activeCharacter.name while you hammer your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from below.&quot;, &quot;You fuck into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from below with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You leisurely slide your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in and out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from below.&quot;, &quot;You send powerful thrust after thrust into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; from below.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to drill into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as you fuck into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as you fuck &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;Your continual thrusts into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; continually drives its way up into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you continually pound &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Anal] Cowgirl&quot;&gt;&gt;
				  &lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You push $activeCharacter.name onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back and sink your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; down onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and begin to ride &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; cowgirl style.&quot;, &quot;You have $activeCharacter.name lay on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back and ride &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; cowgirl style.&quot;, &quot;You position $activeCharacter.name so that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is laying on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back and impale your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, riding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; cowgirl style.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; throbs while being squeezed by your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;, begging you to continue riding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has stopped protesting, lost to pleasure, as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; thrusts wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you pull off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently watches you fuck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; eagerly meets your thrusts with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; wraps around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; throbs while being squeezed by your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;, begging you to continue riding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has stopped protesting, lost to pleasure, as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; thrusts wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly accepts you using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your asshole completely envelops &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcefully taking pleasure from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;You slowly ride $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; while in the cowgirl position.&quot;, &quot;While $activeCharacter.name is laying on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; continues to pump up and down on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You embrace $activeCharacter.name while you fuck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;, &quot;You fuck $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; from on top with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You leisurely slide your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; up and down the length of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;, &quot;You powerfully fuck your hips against $activeCharacter.name&#39;s, riding &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from screwing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; throbs every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; plunders pleasure from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; out of you asshole.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to pull your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to fuck on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as you use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; to fuck into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as you fuck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from screwing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; throbs every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; plunders pleasure from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;Your continual humping of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your asshole continually drives its way up and down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you continually fuck &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;anal virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;Choke&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You have your hands around $activeCharacter.name&#39;s neck, choking &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Your hands are wrapped around $activeCharacter.name&#39;s neck, slowly putting pressure on it.&quot;, &quot;You&#39;re choking $activeCharacter.name.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

		&lt;&lt;/switch&gt;&gt;

	&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
		&lt;&lt;switch $args[0].action&gt;&gt;
			&lt;&lt;case &quot;Whip&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name lashes the aether whip against your skin.&quot;, &quot;$activeCharacter.name flogs you with the aether whip.&quot;, &quot;$activeCharacter.name uses the aether whip to flay you.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Bind Hands&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You tie your hands together with alraune rope.&quot;, &quot;You pull your hands together and tie them together with alraune rope.&quot;, &quot;You pull your wrists together and tie them with alraune rope.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;Your hands are tied together with alraune rope.&quot;, &quot;Your wrists are tied together with alraune rope.&quot;, &quot;You have limited movement as your hands are tied together with alraune rope.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Bind Feet&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You tie your feet together with alraune rope.&quot;, &quot;You pull your feet together and tie them together with alraune rope.&quot;, &quot;You pull your ankles together and tie them with alraune rope.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;Your feet are tied together with alraune rope.&quot;, &quot;Your ankles are tied together with alraune rope.&quot;, &quot;You have limited movement as your feet are tied together with alraune rope.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Blindfold&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You wrap a blindfold around your eyes.&quot;, &quot;You blindfold yourself.&quot;, &quot;You have $activeCharacter.name tie a blindfold around your eyes.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;You are blindfolded.&quot;, &quot;You have a blindfold wrapped around your eyes.&quot;, &quot;You can&#39;t see due to the blindfold around your eyes.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Insert Dildo&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You insert a dildo into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;You place a dildo against your cunt and slowly push it inside of yourself.&quot;, &quot;You push a dildo up your twat.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;The dildo pumps in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;Your cunt is ravished by the dildo.&quot;, &quot;The dildo twists and turns inside of your twat.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;
				
				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;Insert Dildo Orally&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You press the dildo against your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;lips&#39;&gt;&gt; lips and into your mouth.&quot;, &quot;You sucks the dildo into your mouth.&quot;, &quot;You pump the dildo into your mouth.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;The dildo pumps in and out of your mouth.&quot;, &quot;You sucks on the dildo writhing inside your mouth.&quot;, &quot;The dildo inside of your mouth produces more moisture as it fucks your mouth.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Insert Dildo Anally&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You insert a dildo into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;You place a dildo against your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; and slowly push it inside of yourself.&quot;, &quot;You have $activeCharacter.name push a dildo up your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;ass&#39;&gt;&gt; ass.&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;The dildo pumps in and out of rectum.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;ass&#39;&gt;&gt; ass is ravished by the dildo.&quot;, &quot;The dildo twists and turns inside of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;
				
				&lt;&lt;print checkVirginity($PC, &quot;anal virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;Kiss&quot;&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;print either(&quot;You force $activeCharacter.name to proactively kiss you.&quot;, &quot;$activeCharacter.name resentfully presses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; against yours.&quot;, &quot;You have $activeCharacter.name push &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; to yours against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; will.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name presses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; against yours.&quot;, &quot;$activeCharacter.name takes the initiative to kiss you and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pushes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips against yours.&quot;, &quot;$activeCharacter.name hungrily mashes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips against yours.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name unenthusiastically kisses you with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips.&quot;, &quot;$activeCharacter.name presses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips against yours with reluctance.&quot;, &quot;$activeCharacter.name kisses you half-heartedly with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;lips&#39;&gt;&gt; lips.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Caress&quot;&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;print either(&quot;You force $activeCharacter.name to caress your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; cringes inwardly while doing so.&quot;, &quot;$activeCharacter.name begrudgingly caresses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name unwillingly uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands to caress your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name sensually moves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands all over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s hands eagerly explores your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands.&quot;, &quot;$activeCharacter.name uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands to worship your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands to apathetically caress your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name aversely caress your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands.&quot;, &quot;$activeCharacter.name isn&#39;t fond of touching your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt;, but uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands to do so without complaint.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Spank&quot;&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name unwillingly spanks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;ass&#39;&gt;&gt; ass.&quot;, &quot;$activeCharacter.name spanks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;ass&#39;&gt;&gt; ass but only because you force &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to.&quot;, &quot;$activeCharacter.name spanks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;ass&#39;&gt;&gt; ass just as you&#39;ve told &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; quickly gets into the spanking, most likely due to the hatred &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has for you.&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name gives you an erotic spanking.&quot;, &quot;$activeCharacter.name spanks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;ass&#39;&gt;&gt; ass until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can feel the heat coming off of it.&quot;, &quot;$activeCharacter.name slaps &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands against your bare ass multiple times.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name gives you an unenthusiastic spanking.&quot;, &quot;$activeCharacter.name apathetically spanks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;ass&#39;&gt;&gt; ass.&quot;, &quot;$activeCharacter.name gives you a spanking lacking any kind of eroticism.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Slap&quot;&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name eagerly slaps you across your face.&quot;, &quot;$activeCharacter.name doesn&#39;t hesitate to slap you across the face.&quot;, &quot;$activeCharacter.name slaps you with as much strength as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name gives you a quick and sensual yet powerful slap across the face.&quot;, &quot;$activeCharacter.name slaps you in the face with enough power to sting.&quot;, &quot;$activeCharacter.name slaps you in an erotic manner.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name gives you a weak slap across your face.&quot;, &quot;$activeCharacter.name apathetically slaps you across the face.&quot;, &quot;$activeCharacter.name strikes you across the face without any enthusiasm.&quot;)&gt;&gt;

					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Spit&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name spits into your mouth.&quot;, &quot;$activeCharacter.name lets &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; spit dribble into your mouth.&quot;, &quot;$activeCharacter.name feeds you &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; saliva straight from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Hairjob&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;print either(&quot;You order $activeCharacter.name to give you a hairjob and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; begrudgingly wraps &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair around your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, stroking it up and down.&quot;, &quot;You force $activeCharacter.name to wrap &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair around your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; and stroke it.&quot;, &quot;You push your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into $activeCharacter.name&#39;s long $activeCharacter.haircolor hair and force &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hand to stroke your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair wrapped around it.&quot;)&gt;&gt;

					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name sensually wraps &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; silky long $activeCharacter.haircolor hair around your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; and slowly jerks you off with it.&quot;, &quot;You don&#39;t even have to tell $activeCharacter.name to give you a hairjob. You thrust your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes the initiative to softly wrap &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair around your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; before sensually jerking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; off with it.&quot;, &quot;$activeCharacter.name swathes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair before fucking your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair.&quot;)&gt;&gt;

					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;You tell $activeCharacter.name to wrap &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair around your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does so without enthusiasm or disgust.&quot;, &quot;You order $activeCharacter.name to give you a hairjob and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; complies willingly without any fuss.&quot;, &quot;You shove your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into $activeCharacter.name&#39;s face and instruct &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to wrap &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair around your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, and then jerk it off.&quot;)&gt;&gt;

					&lt;&lt;/if&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;print either(&quot;You thrust your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; into $activeCharacter.name&#39;s hand with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair wrapped around it.&quot;, &quot;$activeCharacter.name caresses your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair wrapped around it.&quot;, &quot;You &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; is being stroked by $activeCharacter.name with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; long $activeCharacter.haircolor hair wrapped around it.&quot;)&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Piss&quot;&gt;&gt;
				&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Caress Breasts&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name caresses your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name plays with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s hands cup and caress your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Caress Nipples&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name pinches and plays with your nipples.&quot;, &quot;$activeCharacter.name caresses your chest and nipples.&quot;, &quot;$activeCharacter.name drags &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands across your chest and nipples.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Suck Breasts&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name suckles on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name licks and nibbles on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name lolls &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue around your nipples while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sucks on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Suck Nipples&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name plays with your nipples using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue.&quot;, &quot;$activeCharacter.name flicks your nipples with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue.&quot;, &quot;$activeCharacter.name lavishes your nipples with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; oral attentions.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Handjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name jerks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; up and down with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hand.&quot;, &quot;$activeCharacter.name uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hand to caress your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pleasurably.&quot;, &quot;$activeCharacter.name fucks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Paizuri&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You rub your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; between $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;You hotdog your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in the middle of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; and rub it between them.&quot;, &quot;You fuck your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; between $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Blowjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name sucks on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; bobs, sucks and slobbers all over it.&quot;, &quot;$activeCharacter.name runs &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue over the head of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sucks on it.&quot;, &quot;$activeCharacter.name lavishes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with the oral attention of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue and hot, wet mouth.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Deepthroat&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name deepthroats your whole &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, sucking and slurping as you piston into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;You ravish $activeCharacter.name&#39;s throat with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, forcing your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; repeatedly in and out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;$activeCharacter.name sucks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; completely into your mouth, using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; throat to bring you added pleasure.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Fingering&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fingers in and out of your cunt.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; grips $activeCharacter.name&#39;s fingers as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pushes them further into you.&quot;, &quot;$activeCharacter.name has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fingers up your twat as you work against hips against them, eagerly humping up and down.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Cunnilingus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name alternates between sucking on your clit and sucking on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; lips.&quot;, &quot;$activeCharacter.name prods your cunt with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue.&quot;, &quot;$activeCharacter.name lavishes your cunt with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; oral attentions.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Caress Anus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name pumps &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name finger-fucks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name;s fingers repeatedly thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Analingus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue to lick your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s mouth is over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;ass&#39;&gt;&gt; ass as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tongues your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name lick and sucks your back hole using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth and tongue.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;Footjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name rubs your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feet.&quot;, &quot;$activeCharacter.name plays with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feet.&quot;, &quot;$activeCharacter.name rubs &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feet up and down the length of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;case &quot;[Vaginal] Missionary&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You lay onto the bed and have $activeCharacter.name slide &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name crawls over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as your back lays against the bed and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; plunges &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hovers over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; laying against the bed and swabs &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; against your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; before thrusting into you.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your cunt.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name tries to pull out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; but you have your legs wrapped around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to continue thrusting into you.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; growls as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clenches down on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, preventing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling out completely.&quot;, &quot;You thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips, as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pounds into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; groans sensually as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clutches &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; slides into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your cunt.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; without complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; encloses around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your twat but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;$activeCharacter.name slowly thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name plows your twat with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hammers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your cunt.&quot;, &quot;$activeCharacter.name fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name leisurely slides &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your cunt.&quot;, &quot;$activeCharacter.name thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; powerfully into your twat.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your cunt.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your twat.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to stop squeezing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shoves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your cunt.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks into you.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your cunt.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your twat.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name continues to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; emotionlessly.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; continually contracts around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Vaginal] Doggystyle&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You lay onto the bed on all fours and have $activeCharacter.name slide &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; from behind.&quot;, &quot;$activeCharacter.name crawls behind you as you rest on all fours and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; plunges &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hovers behind your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; laying on the bed on all fours and swabs &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; against your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; before thrusting into you.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your cunt.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name tries to pull out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; but you have your legs wrapped around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to continue thrusting into you.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; growls as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clenches down on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, preventing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling out completely.&quot;, &quot;You thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips, as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pounds into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; groans sensually as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clutches &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; slides into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your cunt.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; without complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; encloses around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your twat but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;$activeCharacter.name slowly thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; from behind.&quot;, &quot;$activeCharacter.name plows your twat doggystyle with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hammers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your cunt from behind as you lay on all fours.&quot;, &quot;$activeCharacter.name fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; from behind with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name leisurely slides &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your cunt from behind as you lay on all fours.&quot;, &quot;$activeCharacter.name thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; powerfully into your twat doggystyle.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your cunt.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your twat.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to stop squeezing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shoves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your cunt.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks into you.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your cunt.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your twat.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name continues to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; emotionlessly.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; continually contracts around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Vaginal] Sitting in Lap&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You hover over $activeCharacter.name&#39;s lap and slowly lower yourself onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name craddles your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; body as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name slowly thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your cunt.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name tries to pull out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; but you have your legs wrapped around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to continue thrusting into you.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; growls as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clenches down on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, preventing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling out completely.&quot;, &quot;You thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips, as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pounds into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; groans sensually as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clutches &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; slides into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your cunt.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; without complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; encloses around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your twat but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;$activeCharacter.name slowly thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; up into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.&quot;, &quot;$activeCharacter.name plows your twat while you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hammers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your cunt from below.&quot;, &quot;$activeCharacter.name fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; from below with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.&quot;, &quot;$activeCharacter.name leisurely slides &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your cunt from below as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.&quot;, &quot;While you sit in $activeCharacter.name&#39;s lap &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; powerfully into your twat from below.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your cunt.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your twat.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to stop squeezing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shoves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your cunt.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks into you.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your cunt.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your twat.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name continues to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; emotionlessly.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; continually contracts around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Vaginal] Cowgirl&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You lay down onto your back and $activeCharacter.name sinks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; down onto your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; and begins to ride you cowgirl style.&quot;, &quot;With your back against the bed $activeCharacter.name rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; cowgirl style.&quot;, &quot;You position yourself so that you are laying on your back, allowing $activeCharacter.name to impale &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, riding you cowgirl style.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; speaks shallow protests but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is squeezing you hard, keeping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling off of you completely.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you to let &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; off of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head away from you in rebellion as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; eagerly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; rides you.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; speaks shallow protests but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is squeezing you hard, keeping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling off of you completely.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without any complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lowers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; onto your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to ride you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;$activeCharacter.name slowly rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; while in the cowgirl position.&quot;, &quot;While you are laying on your back, $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; continues to pump up and down on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You embrace $activeCharacter.name while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; onto your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;, &quot;$activeCharacter.name fucks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from on top with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name leisurely slides &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; up and down the length of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;, &quot;$activeCharacter.name powerfully fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips against yours,  using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; to ride your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; off of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to let &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; off of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to drill into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from below.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; to ride your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; rides you.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name&#39;s continual riding of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;$activeCharacter.name continually rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; ride your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Anal] Missionary&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You lay onto the bed and have $activeCharacter.name slide &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name crawls over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as your back lays against the bed and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; plunges &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hovers over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; laying against the bed and places &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; against your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; before thrusting into you.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name tries to pull out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; but you have your legs wrapped around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to continue thrusting into you.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; growls as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; clenches down on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, preventing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling out completely.&quot;, &quot;You thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips, as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pounds into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; groans sensually as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; clutches &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; slides into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; without complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; encloses around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;$activeCharacter.name slowly thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name plows your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hammers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name leisurely slides &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; powerfully into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to stop squeezing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shoves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks into you.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name continues to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; emotionlessly.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; continually contracts around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;anal virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Anal] Doggystyle&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You lay onto the bed on all fours and have $activeCharacter.name slide &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from behind.&quot;, &quot;$activeCharacter.name crawls behind you as you rest on all fours and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; plunges &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hovers behind your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; laying on the bed on all fours and places &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; against your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; before thrusting into you.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name tries to pull out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; but you have your legs wrapped around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to continue thrusting into you.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; growls as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; clenches down on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, preventing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling out completely.&quot;, &quot;You thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips, as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pounds into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; groans sensually as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; clutches &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; slides into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; without complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; encloses around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;$activeCharacter.name slowly thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from behind.&quot;, &quot;$activeCharacter.name plows your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; doggystyle with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hammers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from behind as you lay on all fours.&quot;, &quot;$activeCharacter.name fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from behind with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name leisurely slides &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from behind as you lay on all fours.&quot;, &quot;$activeCharacter.name thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; powerfully into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; doggystyle.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to stop squeezing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shoves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks into you.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name continues to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; emotionlessly.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; continually contracts around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;anal virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Anal] Sitting in Lap&quot;&gt;&gt;
				&lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You hover over $activeCharacter.name&#39;s lap and slowly lower yourself onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name craddles your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; body as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name slowly thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name tries to pull out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; but you have your legs wrapped around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to continue thrusting into you.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; growls as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; clenches down on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, preventing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling out completely.&quot;, &quot;You thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips, as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pounds into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; groans sensually as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; clutches &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; slides into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lust has clouded &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and has &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; bucking wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to protest but a lusty growl escapes his mouth as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; opens it.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too aroused to protest, and submits to the pleasures of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; without complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; encloses around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;$activeCharacter.name slowly thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; up into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.&quot;, &quot;$activeCharacter.name plows your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; while you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name hammers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from below.&quot;, &quot;$activeCharacter.name fucks into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from below with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.&quot;, &quot;$activeCharacter.name leisurely slides &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; in and out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from below as you sit in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lap.&quot;, &quot;While you sit in $activeCharacter.name&#39;s lap &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; powerfully into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; from below.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to stop squeezing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; with your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to thrust your hips against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shoves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks into you.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to stop &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; from thrusting wildly into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulses in your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name continues to thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; emotionlessly.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; continually contracts around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;anal virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;[Anal] Cowgirl&quot;&gt;&gt;
				 &lt;&lt;if _opening&gt;&gt;
					&lt;&lt;print either(&quot;You lay down onto your back and $activeCharacter.name sinks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; down onto your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; and begins to ride you cowgirl style.&quot;, &quot;With your back against the bed $activeCharacter.name rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; cowgirl style.&quot;, &quot;You position yourself so that you are laying on your back, allowing $activeCharacter.name to impale &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, riding you cowgirl style.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; speaks shallow protests but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is squeezing you hard, keeping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling off of you completely.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to squirm away from you, uninterested in having sex with you in any capacity.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out from the sudden intrusion, yelling for you to let &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; off of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; turns &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head away from you in rebellion as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;Throngs of pleasure race through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; eagerly accepts your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in pleasure as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; rides you.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body twitches with pleasure, your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; sending waves of pleasure through &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body as it fills &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; speaks shallow protests but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; is squeezing you hard, keeping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from pulling off of you completely.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to scream but only moans escapes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands curl up and grasp at the sheets as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; silently rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without any complaint, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows no approval either.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; lowers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; onto your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you for forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to ride you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;else&gt;&gt;

					&lt;&lt;print either(&quot;$activeCharacter.name slowly rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; while in the cowgirl position.&quot;, &quot;While you are laying on your back, $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; continues to pump up and down on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You embrace $activeCharacter.name while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; onto your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;, &quot;$activeCharacter.name fucks your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from on top with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name leisurely slides &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; up and down the length of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;, &quot;$activeCharacter.name powerfully fucks &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips against yours,  using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; to ride your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from on top.&quot;)&gt;&gt;

					&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
						&lt;&lt;if _arousal &gt;= .6&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggles against you, trying anything to pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; off of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; screams out for you to let &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; pull &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; off of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, but you ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pleas and continue to drill into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from below.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently stirs in anger as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; to ride your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
						&lt;&lt;print either(&quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips meet every thrust with a hump of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;, drool dribbling down the side of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; drowns in pleasure.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; body spasms, toes and hands curl as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tries to hold back from losing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to the pleasure.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; moans in ecstasy, barely conscious to do anything but move &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hips as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; rides you.&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;if _arousal &gt;= .4&gt;&gt;
							&lt;&lt;print either(&quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; writhes in pleasure, too far gone to protest your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; from entering &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; squeezes your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with every thrust, begging for more despite the protests coming from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to scream but instead moans in ecstasy every time your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; thrusts into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;)&gt;&gt;
						&lt;&lt;else&gt;&gt;
							&lt;&lt;print either(&quot;$activeCharacter.name&#39;s continual riding of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; draws no overt reaction from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;$activeCharacter.name continually rides your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; without so much as a peep from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; glowers you while you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; ride your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; offers no real resistance.&quot;)&gt;&gt;
						&lt;&lt;/if&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

				&lt;&lt;print checkVirginity($PC, &quot;virginity&quot;)&gt;&gt;
				&lt;&lt;print checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;

			&lt;&lt;case &quot;Choke&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands around your neck, choking you.&quot;, &quot;$activeCharacter.name has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands wrapped around your neck while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; puts pressure on it.&quot;, &quot;Just like you ordered, $activeCharacter.name is using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands to choke you.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
					&lt;&lt;if _arousal &gt;= .6&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
					&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
				&lt;&lt;else&gt;&gt;
					&lt;&lt;if _arousal &gt;= .4&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;&quot;, &quot;&quot;, &quot;&quot;)&gt;&gt;
					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;
		&lt;&lt;/switch&gt;&gt;

	&lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="244" name="Sex Descriptors" tags="widget" position="5901,620" size="100,100">&lt;&lt;widget &quot;descriptor&quot;&gt;&gt;\
&lt;&lt;include &quot;Descriptors&quot;&gt;&gt;\
&lt;&lt;set _cockterms = [&quot;cock&quot;, &quot;dick&quot;, &quot;prick&quot;, &quot;package&quot;, &quot;shaft&quot;]&gt;&gt;\
&lt;&lt;set _cockterm = _cockterms.random()&gt;&gt;\
&lt;&lt;set _pussyterms = [&quot;pussy&quot;, &quot;cunt&quot;, &quot;muff&quot;, &quot;quim&quot;, &quot;slit&quot;, &quot;twat&quot;]&gt;&gt;\
&lt;&lt;set _pussyterm = _pussyterms.random()&gt;&gt;\
&lt;&lt;set _breastterms = [&quot;breasts&quot;, &quot;tits&quot;, &quot;teats&quot;, &quot;boobs&quot;]&gt;&gt;\
&lt;&lt;set _breastterm = _breastterms.random()&gt;&gt;\
&lt;&lt;set _anusterms = [&quot;asshole&quot;, &quot;rectum&quot;, &quot;anus&quot;]&gt;&gt;\
&lt;&lt;set _anusterm = _anusterms.random()&gt;&gt;\
&lt;&lt;set _cumterms = [&quot;cum&quot;, &quot;jizz&quot;, &quot;seed&quot;, &quot;ejaculate&quot;, &quot;cream&quot;, &quot;spunk&quot;, &quot;load&quot;, &quot;jizm&quot;]&gt;&gt;\
&lt;&lt;set _cumterm = _cumterms.random()&gt;&gt;\
&lt;&lt;set _char = {lips:null, body:null, butt:null, size:null, hair:null, cock:null, pussy:null, skin:null, breasts:null, anus:null, cum:null}&gt;&gt;\
&lt;&lt;set _lips = []&gt;&gt;\
&lt;&lt;set _body = []&gt;&gt;\
&lt;&lt;set _butt = []&gt;&gt;\
&lt;&lt;set _size = []&gt;&gt;\
&lt;&lt;set _cock = []&gt;&gt;\
&lt;&lt;set _pussy = []&gt;&gt;\
&lt;&lt;set _breasts = []&gt;&gt;\
&lt;&lt;set _anus = []&gt;&gt;\
&lt;&lt;set _cum = []&gt;&gt;\
&lt;&lt;if $args[1] &gt;= 25&gt;&gt;\
	&lt;&lt;set _cockadjectives = [&quot;hard&quot;, &quot;rigid&quot;, &quot;swollen&quot;, &quot;stiff&quot;, &quot;turgid&quot;]&gt;&gt;\
&lt;&lt;else&gt;&gt;\
	&lt;&lt;set _cockadjectives = [&quot;soft&quot;, &quot;limp&quot;, &quot;flaccid&quot;]&gt;&gt;\
&lt;&lt;/if&gt;&gt;\
&lt;&lt;set _cockadjective = _cockadjectives.random()&gt;&gt;\
&lt;&lt;set _pussyadjectives = [&quot;juicy&quot;, &quot;hot&quot;, &quot;warm&quot;, &quot;open&quot;]&gt;&gt;\
&lt;&lt;set _pussyadjective = _pussyadjectives.random()&gt;&gt;\
&lt;&lt;if $args[0].virgin&gt;&gt;\
	&lt;&lt;set _cockadjectives.push(&quot;virgin&quot;)&gt;&gt;\
	&lt;&lt;set _pussyadjectives.push(&quot;virgin&quot;)&gt;&gt;\
&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $args[0].skintone&gt;&gt;\
	&lt;&lt;set _skin = $race[$args[0].skintone]&gt;&gt;\
&lt;&lt;else&gt;&gt;\
	&lt;&lt;set _skin = $args[0].fur&gt;&gt;\
&lt;&lt;/if&gt;&gt;\
&lt;&lt;set _char.skin = _skin&gt;&gt;\
&lt;&lt;switch $args[2]&gt;&gt;\
&lt;&lt;case &quot;lips&quot;&gt;&gt;\
	&lt;&lt;if $args[0].virgin&gt;&gt;\
		&lt;&lt;set _lips.push(&quot;chaste&quot;)&gt;&gt;\
	&lt;&lt;/if&gt;&gt;\
	&lt;&lt;if $args[0].condition.progress &gt;= 60&gt;&gt;\
		&lt;&lt;set _lips.push(&quot;plump&quot;)&gt;&gt;\
	&lt;&lt;elseif $args[0].condition.progress &lt; 40&gt;&gt;\
		&lt;&lt;set _lips.push(&quot;thin&quot;)&gt;&gt;\
	&lt;&lt;else&gt;&gt;\
		&lt;&lt;set _lips.push(&quot;plush&quot;)&gt;&gt;\
	&lt;&lt;/if&gt;&gt;\
	&lt;&lt;set _char.lips = _lips.random()&gt;&gt;\
	_char.lips\
&lt;&lt;case &quot;body&quot;&gt;&gt;\
&lt;&lt;if $args[0].fur&gt;&gt;\
	&lt;&lt;set _body.push(&quot;$args[0].fur-colored fur&quot;)&gt;&gt;\
&lt;&lt;elseif $args[0].skintone&gt;&gt;\
	&lt;&lt;set _body.push(&quot;_char.skin skin&quot;)&gt;&gt;\
&lt;&lt;/if&gt;&gt;\
&lt;&lt;set _char.body = _body.random()&gt;&gt;\
_char.body\
&lt;&lt;case &quot;butt&quot;&gt;&gt;\
	&lt;&lt;if [&quot;male&quot;].contains($args[0].sex)&gt;&gt;\
		&lt;&lt;if $args[0].butt.current == 5&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;sculpted&quot;)&gt;&gt;\
		&lt;&lt;elseif $args[0].butt.current == 4&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;round&quot;)&gt;&gt;\
		&lt;&lt;elseif $args[0].butt.current == 3&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;normal-sized&quot;)&gt;&gt;\
		&lt;&lt;elseif $args[0].butt.current == 2&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;flat&quot;)&gt;&gt;\
		&lt;&lt;elseif $args[0].butt.current == 1&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;boney&quot;)&gt;&gt;\
		&lt;&lt;/if&gt;&gt;\
	&lt;&lt;else&gt;&gt;\
		&lt;&lt;if $args[0].butt.current == 5&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;thick&quot;)&gt;&gt;\
		&lt;&lt;elseif $args[0].butt.current == 4&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;plump&quot;)&gt;&gt;\
		&lt;&lt;elseif $args[0].butt.current == 3&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;normal-sized&quot;)&gt;&gt;\
		&lt;&lt;elseif $args[0].butt.current == 2&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;petite&quot;)&gt;&gt;\
		&lt;&lt;elseif $args[0].butt.current == 1&gt;&gt;\
			&lt;&lt;set _butt.push(&quot;flat&quot;)&gt;&gt;\
		&lt;&lt;/if&gt;&gt;\
	&lt;&lt;/if&gt;&gt;\
	&lt;&lt;set _char.butt = _butt.random()&gt;&gt;\
	_char.butt\
&lt;&lt;case &quot;size&quot;&gt;&gt;\
	&lt;&lt;if [&quot;male&quot;].contains($args[0].sex) &amp;&amp; $args[0].height &lt;= 165&gt;&gt;\
		&lt;&lt;set _size.push(&quot;short&quot;)&gt;&gt;\
	&lt;&lt;elseif [&quot;male&quot;].contains($args[0].sex) &amp;&amp; $args[0].height &gt;= 190&gt;&gt;\
		&lt;&lt;set _size.push(&quot;tall&quot;)&gt;&gt;\
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($args[0].sex) &amp;&amp; $args[0].height &lt;= 150&gt;&gt;\
		&lt;&lt;set _size.push(&quot;short&quot;)&gt;&gt;\
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($args[0].sex) &amp;&amp; $args[0].height &gt;= 175&gt;&gt;\
		&lt;&lt;set _size.push(&quot;tall&quot;)&gt;&gt;\
	&lt;&lt;/if&gt;&gt;\
	&lt;&lt;set _char.size = _size.random()&gt;&gt;\
	_char.size\
&lt;&lt;case &quot;cock&quot;&gt;&gt;\
	&lt;&lt;if $args[0].tribe == &quot;mongrel&quot;&gt;&gt;\
		&lt;&lt;set _cock.push(&quot;_cockadjective, _char.skin knotted _cockterm&quot;, &quot;_cockadjective, _skin canine _cockterm&quot;)&gt;&gt;\
	&lt;&lt;elseif $args[0].tribe == &quot;pantheran&quot;&gt;&gt;\
		&lt;&lt;set _cock.push(&quot;_cockadjective, _char.skin barbed _cockterm&quot;, &quot;_cockadjective, _skin feline _cockterm&quot;)&gt;&gt;\
	&lt;&lt;elseif $args[0].tribe == &quot;minataur&quot;&gt;&gt;\
		&lt;&lt;set _cock.push(&quot;_cockadjective _char.skin _cockterm&quot;)&gt;&gt;\
	&lt;&lt;elseif $args[0].tribe == &quot;orc&quot;&gt;&gt;\
		&lt;&lt;set _cock.push(&quot;_cockadjective _char.skin _cockterm&quot;)&gt;&gt;\
	&lt;&lt;else&gt;&gt;\
		&lt;&lt;set _cock.push(&quot;_cockadjective _char.skin _cockterm&quot;)&gt;&gt;\
	&lt;&lt;/if&gt;&gt;\
	&lt;&lt;set _cock.push(&quot;_cockadjective $args[0].tribe _cockterm&quot;)&gt;&gt;\
	&lt;&lt;set _char.cock = _cock.random()&gt;&gt;\
	_char.cock\
&lt;&lt;case &quot;pussy&quot;&gt;&gt;\
	&lt;&lt;set _pussy.push(&quot;_pussyadjective $args[0].tribe _pussyterm&quot;)&gt;&gt;\
	&lt;&lt;if [&quot;mongrel&quot;, &quot;pantheran&quot;].contains($args[0].tribe)&gt;&gt;\
		&lt;&lt;set _pussy.push(&quot;lightly _char.skin-furred _pussyterm&quot;, &quot;_pussyadjective _char.skin-furred _pussyterm&quot;)&gt;&gt;\
	&lt;&lt;else&gt;&gt;\
		&lt;&lt;set _pussy.push(&quot;_pussyadjective _char.skin _pussyterm&quot;)&gt;&gt;\
	&lt;&lt;/if&gt;&gt;\
	&lt;&lt;set _char.pussy = _pussy.random()&gt;&gt;\
	_char.pussy\
&lt;&lt;case &quot;cum&quot;&gt;&gt;\
	&lt;&lt;set _cum.push(&quot;&lt;&lt;print extractWord($quantity[$args[0].cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$args[0].cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$args[0].cum.taste.current])&gt;&gt; _cumterm&quot;)&gt;&gt;\
	&lt;&lt;set _char.cum = _cum.random()&gt;&gt;\
	_char.cum\
&lt;&lt;case &quot;breasts&quot;&gt;&gt;\
	&lt;&lt;set _breastadjectives = []&gt;&gt;\
	&lt;&lt;if $args[0].bust.current &gt;= 9&gt;&gt;\
		&lt;&lt;set _breastadjectives.push(&quot;huge&quot;, &quot;enormous&quot;, &quot;massive&quot;, &quot;gigantic&quot;)&gt;&gt;\
	&lt;&lt;elseif $args[0].bust.current &gt;= 7&gt;&gt;\
		&lt;&lt;set _breastadjectives.push(&quot;big&quot;, &quot;full&quot;, &quot;large&quot;, &quot;fat&quot;)&gt;&gt;\
	&lt;&lt;elseif $args[0].bust.current &gt;= 5&gt;&gt;\
		&lt;&lt;set _breastadjectives.push(&quot;perky&quot;, &quot;pert&quot;, &quot;average-sized&quot;, &quot;normal-sized&quot;)&gt;&gt;\
	&lt;&lt;elseif $args[0].bust.current &gt;= 3&gt;&gt;\
		&lt;&lt;set _breastadjectives.push(&quot;small&quot;, &quot;little&quot;, &quot;petite&quot;)&gt;&gt;\
	&lt;&lt;elseif $args[0].bust.current &gt;= 1&gt;&gt;\
		&lt;&lt;set _breastadjectives.push(&quot;tiny&quot;, &quot;flat&quot;, &quot;under-developed&quot;)&gt;&gt;\
	&lt;&lt;else&gt;&gt;\
		&lt;&lt;set _breastadjectives.push(&quot;non-existent&quot;, &quot;invisible&quot;)&gt;&gt;\
	&lt;&lt;/if&gt;&gt;\
	&lt;&lt;set _breastadjective = _breastadjectives.random()&gt;&gt;\
	&lt;&lt;set _breasts.push(&quot;_breastadjective _char.skin _breastterm&quot;)&gt;&gt;\
	&lt;&lt;set _breasts.push(&quot;_breastadjective $args[0].tribe _breastterm&quot;)&gt;&gt;\
	&lt;&lt;set _char.breasts = _breasts.random()&gt;&gt;\
	_char.breasts\
&lt;&lt;case &quot;anus&quot;&gt;&gt;\
	&lt;&lt;set _anusadjectives = []&gt;&gt;\
	&lt;&lt;set _anusadjectives.push(extractWord(getGape($args[0].gape)))&gt;&gt;\
	&lt;&lt;set _anusadjective = _anusadjectives.random()&gt;&gt;\
	&lt;&lt;set _anus.push(&quot;_anusadjective _char.skin _anusterm&quot;)&gt;&gt;\
	&lt;&lt;set _anus.push(&quot;_anusadjective $args[0].tribe _anusterm&quot;)&gt;&gt;\
	&lt;&lt;set _char.anus = _anus.random()&gt;&gt;\
	_char.anus\
&lt;&lt;/switch&gt;&gt;\
&lt;&lt;/widget&gt;&gt;\</tw-passagedata><tw-passagedata pid="245" name="Arousal" tags="nobr widget" position="5775,880" size="100,100">&lt;&lt;widget &quot;arousal&quot;&gt;&gt;

&lt;&lt;if _sftext&gt;&gt;
	_sftext
	&lt;&lt;set _sftext = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $args[0] == &quot;npc&quot;&gt;&gt;
	&lt;&lt;set _arousal = ($sex.npc.orgasm.current / $sex.npc.orgasm.max) * 100&gt;&gt;

	&lt;&lt;if _arousal &gt;= 100&gt;&gt;
		&lt;b&gt;@@color:forestgreen;[Orgasm: $activeCharacter.name]@@&lt;/b&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _arousal = ($sex.player.orgasm.current / $sex.player.orgasm.max) * 100&gt;&gt;

	&lt;&lt;if _arousal &gt;= 100&gt;&gt;
		&lt;b&gt;@@color:forestgreen;[Orgasm: You]@@&lt;/b&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $args[0] == &quot;npc&quot;&gt;&gt;
	&lt;&lt;if $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current&gt;&gt;
		&lt;&lt;if _arousal &gt;= 100&gt;&gt;
			&lt;&lt;if $sex.npc.body.cock == &quot;Blowjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s out loud as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; jizz all over your face.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms, jetting a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; cum all over your face.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; ejaculate shoots up from $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, spraying all over your face.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.npc.body.cock == &quot;Deepthroat&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s out loud as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; jizz down your throat.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms, jetting a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; cum down your throat.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; ejaculate shoots up from $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, spraying down your throat.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.npc.body.cock == &quot;Hairjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s out loud as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; jizz all over your hair.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms, jetting a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; cum all over your hair.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; ejaculate shoots up from $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, spraying all over your hair.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.npc.body.cock == &quot;Handjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s out loud as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; jizz all over your hand.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms, jetting a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; cum all over your hand.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; ejaculate shoots up from $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, spraying all over your hand.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.npc.body.cock == &quot;Paizuri&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s out loud as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; jizz all over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms, jetting a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; cum all over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; ejaculate shoots up from $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, spraying all over your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

			&lt;&lt;elseif [&quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;].contains($sex.npc.body.cock)&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s out loud as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; jizz deep into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms, jetting a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; cum into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; ejaculate shoots up from $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, painting your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; seed.&quot;)&gt;&gt;

				&lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;].contains($PC.sex) &amp;&amp; [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($activeCharacter.sex) &amp;&amp; $PC.pregnancy.type&gt;&gt;
					&lt;&lt;set _mother = $PC&gt;&gt;
					&lt;&lt;set _partner = $activeCharacter&gt;&gt;
					&lt;&lt;breeding&gt;&gt;

					&lt;&lt;if _progeny&gt;&gt;
						&lt;br&gt;&lt;br&gt;
						&lt;b&gt;@@color:forestgreen;[Impregnated: You]@@&lt;/b&gt;
						You have been impregnated by $activeCharacter.name.

						&lt;&lt;set $PC.pregnancy.child.push(_progeny)&gt;&gt;

					  &lt;&lt;if $PC.pregnancy.child.length &gt; 1&gt;&gt;
					    &lt;&lt;set $PC.pregnancy.duration += 2&gt;&gt;

					  &lt;&lt;elseif $PC.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
					    &lt;&lt;set $PC.pregnancy.duration = 16&gt;&gt;

					  &lt;&lt;else&gt;&gt;
					    &lt;&lt;set $PC.pregnancy.duration = 8&gt;&gt;

					  &lt;&lt;/if&gt;&gt;

					  &lt;&lt;set _progeny = null&gt;&gt;
					&lt;&lt;/if&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;elseif [&quot;[Anal] Missionary&quot;, &quot;[Anal] Doggystyle&quot;, &quot;[Anal] Sitting in Lap&quot;, &quot;[Anal] Cowgirl&quot;].contains($sex.npc.body.cock)&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s out loud as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; jizz deep into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms, jetting a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; cum into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; ejaculate shoots up from $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, painting your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;anus&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; seed.&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name &lt;&lt;print $groan[$activeCharacter.gender]&gt;&gt;s out loud as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; jizz in every which way.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms, jetting a &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; cum everywhere.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$activeCharacter.cum.taste.current])&gt;&gt; ejaculate shoots up from $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, spraying everywhere.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 75&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; is wet with precum.&quot;, &quot;Precum is leaking out of the tip of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name is almost at the peak of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal, leaking precum out of the tip of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 50&gt;&gt;
			&lt;&lt;print either(&quot;The veins of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; are pulsating.&quot;, &quot;$activeCharacter.name&#39;s state of arousal has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; completely erect.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; is bulging with veins, a clear sign of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; current arousal.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s arousal is evident from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; isn&#39;t completely rigid, but it isn&#39;t totally limp either.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; is between the state of being totally erect and completely flaccid.&quot;)&gt;&gt;

		&lt;&lt;else&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name is barely aroused, resulting in the state of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s arousal is minimal, evident from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; is nowhere close to orgasming.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.nectar.quality.current &amp;&amp; $activeCharacter.nectar.quantity.current &amp;&amp; $activeCharacter.nectar.taste.current&gt;&gt;
		&lt;&lt;if _arousal &gt;= 100&gt;&gt;
			&lt;&lt;if $sex.npc.body.pussy == &quot;Cunnilingus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; spasming &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; gushes out a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; nectar all over your face.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body due to your oral efforts, causing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; to squirt out a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; sap all over your face.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spurts a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; syrup over your face as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from the pleasure gained from your mouth.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.npc.body.pussy == &quot;Fingering&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; spasming &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; gushes a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; nectar all over your hand.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squirts out a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; sap all over your hand.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spurts a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; syrup all over your hand as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from intense pleasure gained from your fingers.&quot;)&gt;&gt;

			&lt;&lt;elseif [&quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;].contains($sex.npc.body.pussy)&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spasms around your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, gushing a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; sap all over you.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body as you thrust into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to squirt out a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; nectar.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; clamps down hard on your dick and spurts a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; syrup as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.npc.body.pussy == &quot;Insert Dildo&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spasms around the dildo, gushing a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; sap all over you.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body as the dildo thrusts into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to squirt out a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; nectar.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; clamps down hard on the dildo and spurts a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; syrup as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; spasming &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; gushes a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; nectar.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squirts a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; nectar.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spurts a &lt;&lt;print extractWord($quantity[$activeCharacter.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$activeCharacter.nectar.taste.current])&gt;&gt; syrup as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 75&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is completely slick with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nectar.&quot;, &quot;$activeCharacter.name&#39;s breathing is rushed and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is drenched with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; syrup.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 50&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is moist with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nectar.&quot;, &quot;$activeCharacter.name&#39;s breath is heated and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is wet with sap.&quot;, &quot;$activeCharacter.name&#39;s arousal has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; producing lubricant.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is slightly wet.&quot;, &quot;$activeCharacter.name&#39;s arousal has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; somewhat wet with sap.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; has began to leak &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nectar.&quot;)&gt;&gt;

		&lt;&lt;else&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is completely dry.&quot;, &quot;$activeCharacter.name isn&#39;t aroused enough for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; to create any lubrication.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is dry due to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lack of arousal.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;elseif $activeCharacter.pussy.current&gt;&gt;
		&lt;&lt;if _arousal &gt;= 100&gt;&gt;
			&lt;&lt;if $sex.npc.body.pussy == &quot;Cunnilingus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; spasming &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; gushes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices all over your face.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body due to your oral efforts, causing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; to squirts out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cum all over your face.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spurts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; liquid over your face as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from the pleasure gained from your mouth.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.npc.body.pussy == &quot;Fingering&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; spasming &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; gushes with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices all over your hand.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squirts out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cum all over your hand.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spurts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; liquid all over your hand as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from intense pleasure gained from your fingers.&quot;)&gt;&gt;

			&lt;&lt;elseif [&quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;].contains($sex.npc.body.pussy)&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spasms around your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, gushing cum all over you.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body as you thrust into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to squirt out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; clamps down hard on your dick and spurts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fluid as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.npc.body.pussy == &quot;Insert Dildo&quot;&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spasms around the dildo, gushing cum all over it.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body as the dildo thrusts into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to squirt out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; clamps down hard on the dildo and spurts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fluid as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name screams out in orgasmic bliss as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; spasming &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; gushes with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices.&quot;, &quot;Waves of pleasure wash through $activeCharacter.name&#39;s body as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; squirts out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; spurts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fluid as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; orgasms from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 75&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is completely slick with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices.&quot;, &quot;$activeCharacter.name&#39;s breathing is rushed and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is drenched with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; liquid.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 50&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is moist with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices.&quot;, &quot;$activeCharacter.name&#39;s breath is heated and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is wet.&quot;, &quot;$activeCharacter.name&#39;s arousal has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; producing lubricant.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is slightly wet.&quot;, &quot;$activeCharacter.name&#39;s arousal has &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; somewhat wet.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; has began to leak &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; juices.&quot;)&gt;&gt;

		&lt;&lt;else&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is completely dry.&quot;, &quot;$activeCharacter.name isn&#39;t aroused enough for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; to create any lubrication.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; is dry due to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lack of arousal.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $activeCharacter.milk.quality.current &amp;&amp; $activeCharacter.milk.quantity.current &amp;&amp; $activeCharacter.milk.taste.current&gt;&gt;
		&lt;&lt;if _arousal &gt;= 50 &amp;&amp; $sex.npc.body.breasts.includes(&quot;Suck Breasts&quot;)&gt;&gt;
			&lt;&lt;set _multi = 1&gt;&gt;
			&lt;&lt;if $sex.choice.action == &quot;Suck Breasts&quot;&gt;&gt;
				&lt;&lt;set _multi *= 2&gt;&gt;
			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if _arousal &gt;= 100&gt;&gt;
				&lt;&lt;set _multi *= 2&gt;&gt;
			&lt;&lt;/if&gt;&gt;

			&lt;&lt;sexRowData &quot;Breastfeeding Skill&quot; $activeCharacter.sexualskill.mammary.breastfeeding 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.mammary.breastfeeding = increaseSkillEXP($activeCharacter.sexualskill.mammary.breastfeeding, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if _arousal &gt;= 100&gt;&gt;
			&lt;&lt;if $sex.npc.body.breasts.includes(&quot;Suck Breasts&quot;)&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; squirt a &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk in into your mouth as you suck on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name heaves out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chest as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; spray a &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk into your mouth.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of $activeCharacter.name&#39;s &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt; and &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk spurts into your mouth.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $sex.npc.body.breasts.includes(&quot;Caress Breasts&quot;)&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; squirt a &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk all over your hand.&quot;, &quot;$activeCharacter.name heaves out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chest as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; spray a &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk all over your hand.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of $activeCharacter.name&#39;s &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt; and &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk spurts all over your hand.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if !$sex.npc.body.breasts.length&gt;&gt;
				&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; squirt a &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk in every direction.&quot;, &quot;$activeCharacter.name heaves out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chest as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; spray a &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk in every direction.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$activeCharacter.milk.quantity.current])&gt;&gt; amount of $activeCharacter.name&#39;s &lt;&lt;print extractWord($quality[$activeCharacter.milk.quality.current])&gt;&gt; and &lt;&lt;print extractWord($taste.milk[$activeCharacter.milk.taste.current])&gt;&gt; milk spurts out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;, going in every direction.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 75&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; are dripping with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; milk.&quot;, &quot;$activeCharacter.name&#39;s nipples are gushing out &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breast milk.&quot;, &quot;$activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; is soaked with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; milk.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 50&gt;&gt;
			&lt;&lt;print either(&quot;Driblets of milk slowly seep out of $activeCharacter.name&#39;s nipples.&quot;, &quot;Milk is leaking out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;Milk is slowly dripping out of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s nipples are hard from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;, &quot;$activeCharacter.name&#39;s nipples are completely hard.&quot;, &quot;$activeCharacter.name&#39;s nipples are brazenly protruding outward.&quot;, &quot;$activeCharacter.name&#39;s arousal is shown by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; taut nipples.&quot;, &quot;$activeCharacter.name&#39;s nipples are swollen from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;, &quot;$activeCharacter.name&#39;s stiff nipples show &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;elseif $activeCharacter.bust.current &amp;&amp; _arousal &lt; 100&gt;&gt;
		&lt;&lt;if _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;$activeCharacter.name&#39;s nipples are hard from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;, &quot;$activeCharacter.name&#39;s nipples are completely hard.&quot;, &quot;$activeCharacter.name&#39;s nipples are brazenly protruding outward.&quot;, &quot;$activeCharacter.name&#39;s arousal is shown by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; taut nipples.&quot;, &quot;$activeCharacter.name&#39;s nipples are swollen from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;, &quot;$activeCharacter.name&#39;s stiff nipples show &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if _arousal &gt;= 100&gt;&gt;
		&lt;&lt;set $sex.npc.orgasm.current = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $args[0] == &quot;player&quot;&gt;&gt;
	&lt;&lt;if $PC.cock.current &amp;&amp; $PC.girth.current&gt;&gt;
		&lt;&lt;if _arousal &gt;= 100&gt;&gt;
			&lt;&lt;if $sex.player.body.cock == &quot;Blowjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You &lt;&lt;print $groan[$PC.gender]&gt;&gt; out loud as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; jizz all over $activeCharacter.name&#39;s face.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as you orgasms, jetting a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; cum all over $activeCharacter.name&#39;s face.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; ejaculate shoots up from your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, spraying all over $activeCharacter.name&#39;s face.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.hypno.cum.craving == 100&gt;&gt;
					&lt;&lt;if $sex.npc.body.hands.length &lt; 2&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name greedily scoops up all the cum from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face before licking &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands and fingers clean.&quot;, &quot;$activeCharacter.name cleans all of the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face and swallows it all.&quot;, &quot;$activeCharacter.name not only eats the cum on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues to suck your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; dry of any cum left over.&quot;)&gt;&gt;

					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name greedily continues to suck on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; in an attempt to guzzle as much cum down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; throat as possible.&quot;, &quot;$activeCharacter.name stretches &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue as far as possible trying to lick the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face as it slowly drips down it.&quot;, &quot;$activeCharacter.name suckles on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; as you spurt a few more drops of cum into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;)&gt;&gt;

					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;elseif $sex.player.body.cock == &quot;Deepthroat&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You &lt;&lt;print $groan[$PC.gender]&gt;&gt; out loud as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; jizz down $activeCharacter.name&#39;s throat.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as you orgasms, jetting a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; cum down $activeCharacter.name&#39;s throat.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; ejaculate shoots up from your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, spraying down $activeCharacter.name&#39;s throat.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.hypno.cum.craving == 100&gt;&gt;
					&lt;&lt;print either(&quot;$activeCharacter.name elatedly swallows the cum you&#39;ve deposited directly into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; stomach.&quot;, &quot;$activeCharacter.name is a little sad that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; didn&#39;t get to taste your cum, but is glad that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was able to get your cum straight from the source.&quot;, &quot;$activeCharacter.name&#39;s throat works overtime, squeezing your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; dry of the last remnants of cum in your balls.&quot;)&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;elseif $sex.player.body.cock == &quot;Paizuri&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You &lt;&lt;print $groan[$PC.gender]&gt;&gt; out loud as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; jizz all over $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as you orgasms, jetting a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; cum all over $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; ejaculate shoots up from your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, spraying all over $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.hypno.cum.craving == 100&gt;&gt;
					&lt;&lt;if !$sex.npc.body.mouth &amp;&amp; $sex.npc.body.hands.length &lt; 2&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name lowers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; and licks the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name collects the cum dripping off &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; and licks it off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fingers.&quot;, &quot;$activeCharacter.name makes sure to clean &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; clean off any cum with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fingers and tongue.&quot;)&gt;&gt;

					&lt;&lt;elseif !$sex.npc.body.mouth&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name lowers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; and licks the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name struggles to collect the cum dripping off &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; with only &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;$activeCharacter.name makes sure to clean as much cum as possible off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue.&quot;)&gt;&gt;

					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;A pained expression falls on $activeCharacter.name&#39;s face as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realizes &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t lick your cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;$activeCharacter.name struggles to clean the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to no avail.&quot;, &quot;$activeCharacter.name is visibly upset by the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t slurp up the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;breasts&#39;&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; so desperately craves.&quot;)&gt;&gt;

					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;elseif $sex.player.body.cock == &quot;Hairjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You &lt;&lt;print $groan[$PC.gender]&gt;&gt; out loud as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; jizz all over $activeCharacter.name&#39;s hair.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as you orgasms, jetting a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; cum all over $activeCharacter.name&#39;s hair.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; ejaculate shoots up from your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, spraying all over $activeCharacter.name&#39;s hair.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.hypno.cum.craving == 100&gt;&gt;
					&lt;&lt;if !$sex.npc.body.mouth &amp;&amp; $sex.npc.body.hands.length &lt; 2&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name suckles on the strands of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair with large clumps of cum on them.&quot;, &quot;$activeCharacter.name collects the cum dripping off &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair and licks it off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fingers.&quot;, &quot;$activeCharacter.name not only eats the cum clinging to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues to suck your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; dry of any cum left over.&quot;)&gt;&gt;

					&lt;&lt;elseif !$sex.npc.body.mouth&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name whips &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head horizontally in an attempt to swing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can lick the cum off of it.&quot;, &quot;$activeCharacter.name struggles to collect the cum dripping off &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair only using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;, &quot;$activeCharacter.name makes sure to clean as much cum as possible off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue.&quot;)&gt;&gt;

					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;A pained expression falls on $activeCharacter.name&#39;s face as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realizes &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t lick your cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair.&quot;, &quot;$activeCharacter.name struggles to clean the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth to no avail.&quot;, &quot;$activeCharacter.name is visibly upset by the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t slurp up the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hair that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; so desperately craves.&quot;)&gt;&gt;

					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;elseif $sex.player.body.cock == &quot;Handjob&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You &lt;&lt;print $groan[$PC.gender]&gt;&gt; out loud as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; jizz all over $activeCharacter.name&#39;s hand.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as you orgasms, jetting a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; cum all over $activeCharacter.name&#39;s hand.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; ejaculate shoots up from your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, spraying all over $activeCharacter.name&#39;s hand.&quot;)&gt;&gt;

				&lt;&lt;if $activeCharacter.hypno.cum.craving == 100&gt;&gt;
					&lt;&lt;if !$sex.npc.body.mouth&gt;&gt;
						&lt;&lt;print either(&quot;$activeCharacter.name greedily raises &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth before sucking and licking all the cum off of it.&quot;, &quot;$activeCharacter.name continues to pump your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; for its cum into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hand before cleaning &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;)&gt;&gt;

					&lt;&lt;else&gt;&gt;
						&lt;&lt;print either(&quot;A pained expression falls on $activeCharacter.name&#39;s face as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realizes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth isn&#39;t available for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to lick the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands.&quot;, &quot;$activeCharacter.name struggles to clean the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth, but as its unavailable at the moment, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fails spectacularly.&quot;, &quot;$activeCharacter.name is visibly upset by the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t slurp up the cum off of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; so desperately craves.&quot;)&gt;&gt;

					&lt;&lt;/if&gt;&gt;
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;elseif [&quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;].contains($sex.player.body.cock)&gt;&gt;
				&lt;&lt;print either(&quot;You &lt;&lt;print $groan[$PC.gender]&gt;&gt; out loud as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; jizz deep into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as you orgasm, jetting a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; cum into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt;.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; ejaculate shoots up from your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, painting $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;pussy&#39;&gt;&gt; with your seed.&quot;)&gt;&gt;
				
				&lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;].contains($activeCharacter.sex) &amp;&amp; [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex) &amp;&amp; $PC.pregnancy.type&gt;&gt;
					&lt;&lt;set _mother = $activeCharacter&gt;&gt;
					&lt;&lt;set _partner = $PC&gt;&gt;
					&lt;&lt;breeding&gt;&gt;
	
					&lt;&lt;if _progeny&gt;&gt;
						&lt;br&gt;&lt;br&gt;
						&lt;b&gt;@@color:forestgreen;[Impregnated: $activeCharacter.name]@@&lt;/b&gt;
						You have impregnated $activeCharacter.name.
	
						&lt;&lt;set $activeCharacter.pregnancy.child.push(_progeny)&gt;&gt;
	
						&lt;&lt;set $activeCharacter.pregnancy.type = $PC.pregnancy.type&gt;&gt;
	
					  &lt;&lt;if $activeCharacter.pregnancy.child.length &gt; 1&gt;&gt;
					    &lt;&lt;set $activeCharacter.pregnancy.duration += 2&gt;&gt;
	
					  &lt;&lt;elseif $activeCharacter.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
					    &lt;&lt;set $activeCharacter.pregnancy.duration = 16&gt;&gt;
	
					  &lt;&lt;else&gt;&gt;
					    &lt;&lt;set $activeCharacter.pregnancy.duration = 8&gt;&gt;
	
					  &lt;&lt;/if&gt;&gt;
	
					  &lt;&lt;set _progeny = null&gt;&gt;
					&lt;&lt;/if&gt;&gt;
	
				&lt;&lt;/if&gt;&gt;

			&lt;&lt;elseif [&quot;[Anal] Missionary&quot;, &quot;[Anal] Doggystyle&quot;, &quot;[Anal] Sitting in Lap&quot;, &quot;[Anal] Cowgirl&quot;].contains($sex.player.body.cock)&gt;&gt;
				&lt;&lt;print either(&quot;You &lt;&lt;print $groan[$PC.gender]&gt;&gt; out loud as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; jizz deep into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as you orgasm, jetting a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; cum into $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt;.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; ejaculate shoots up from your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, painting the insides of $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;anus&#39;&gt;&gt; with your seed.&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;print either(&quot;You &lt;&lt;print $groan[$PC.gender]&gt;&gt; out loud as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; shoots a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; jizz in every which way.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; pulsates as you orgasm, jetting a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; cum everywhere.&quot;, &quot;Your ejaculate shoots up from your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;, spraying everywhere.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 75&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; is wet with precum.&quot;, &quot;Precum is leaking out of the tip of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;, &quot;You are almost at the peak of your arousal, leaking precum out of the tip of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt;.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 50&gt;&gt;
			&lt;&lt;print either(&quot;The veins of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; are pulsating.&quot;, &quot;Your state of arousal has your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; completely erect.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; is bulging with veins, a clear sign of your current arousal.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;Your arousal is evident from your slightly hard cock.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; isn&#39;t completely rigid, but it isn&#39;t totally limp either.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;cock&#39;&gt;&gt; is between the state of being totally erect and completely flaccid.&quot;)&gt;&gt;

		&lt;&lt;else&gt;&gt;
			&lt;&lt;print either(&quot;You are barely aroused, resulting in the state of your limp cock.&quot;, &quot;Your arousal is minimal, evident from your flaccid cock.&quot;, &quot;Your soft cock is nowhere close to orgasming.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.pussy.current &amp;&amp; $PC.nectar.quality.current &amp;&amp; $PC.nectar.quantity.current &amp;&amp; $PC.nectar.taste.current&gt;&gt;
		&lt;&lt;if _arousal &gt;= 100&gt;&gt;
			&lt;&lt;if $sex.player.body.pussy == &quot;Cunnilingus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your spasming pussy gushes out a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; nectar all over $activeCharacter.name&#39;s face.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; due to $activeCharacter.name&#39;s oral efforts, causing your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; to squirt out a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; sap all over $activeCharacter.name&#39;s face.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spurts a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; syrup over $activeCharacter.name&#39;s face as you orgasm from the pleasure gained from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.player.body.pussy == &quot;Fingering&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your spasming pussy gushes a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; nectar all over $activeCharacter.name&#39;s hand.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; squirts out a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; sap all over $activeCharacter.name&#39;s hand.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spurts a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; syrup all over $activeCharacter.name&#39;s hand as you orgasm from intense pleasure gained from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fingers.&quot;)&gt;&gt;

			&lt;&lt;elseif [&quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;].contains($sex.player.body.pussy)&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spasms around $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, gushing a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; sap all over &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as $activeCharacter.name thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; causing you to squirt out a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; nectar.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clamps down hard on $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and spurts a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; syrup as you orgasm from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.player.body.pussy == &quot;Insert Dildo&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spasms around the dildo, gushing a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; sap all over it.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as the dildo thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; causing you to squirt out a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; nectar.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clamps down hard on the dildo and spurts a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; syrup as you orgasm from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your spasming pussy gushes a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; nectar.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; squirts a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; nectar.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spurts a &lt;&lt;print extractWord($quantity[$PC.nectar.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.nectar.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.nectar[$PC.nectar.taste.current])&gt;&gt; syrup as you orgasm from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 75&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is completely slick with your nectar.&quot;, &quot;Your breathing is rushed and your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is drenched with your syrup.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 50&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is moist with your nectar.&quot;, &quot;Your breath is heated and your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is wet with sap.&quot;, &quot;Your arousal has your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; producing lubricant.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is slightly wet.&quot;, &quot;Your arousal has your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; somewhat wet with sap.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; has began to leak your nectar.&quot;)&gt;&gt;

		&lt;&lt;else&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is completely dry.&quot;, &quot;You aren&#39;t aroused enough for your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; to create any lubrication.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is dry due to your lack of arousal.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;elseif $PC.pussy.current&gt;&gt;
		&lt;&lt;if _arousal &gt;= 100&gt;&gt;
			&lt;&lt;if $sex.player.body.pussy == &quot;Cunnilingus&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your spasming pussy gushes your juices all over $activeCharacter.name&#39;s face.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; due to $activeCharacter.name&#39;s oral efforts, causing your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; to squirts out your cum all over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spurts your liquid over $activeCharacter.name&#39;s face as you orgasm from the pleasure gained from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.player.body.pussy == &quot;Fingering&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your spasming pussy gushes with your juices all over $activeCharacter.name&#39;s hand.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; squirts out your cum all over $activeCharacter.name&#39;s hand.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spurts your liquid all over $activeCharacter.name&#39;s hand as you orgasm from intense pleasure gained from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fingers.&quot;)&gt;&gt;

			&lt;&lt;elseif [&quot;[Vaginal] Missionary&quot;, &quot;[Vaginal] Doggystyle&quot;, &quot;[Vaginal] Sitting in Lap&quot;, &quot;[Vaginal] Cowgirl&quot;].contains($sex.player.body.pussy)&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spasms around $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt;, gushing cum all over &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as $activeCharacter.name&#39;s thrusts &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; causing you to squirt out your juices.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clamps down hard on $activeCharacter.name&#39;s &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;cock&#39;&gt;&gt; and spurt your fluid as you orgasm from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;elseif $sex.player.body.pussy == &quot;Insert Dildo&quot;&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spasms around the dildo, gushing cum all over it.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as the dildo thrusts into your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; causing you to squirt out your juices.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; clamps down hard on the dildo and spurt your fluid as you orgasm from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;print either(&quot;You scream out in orgasmic bliss as your spasming pussy gushes with your juices.&quot;, &quot;Waves of pleasure wash through your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;body&#39;&gt;&gt; as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; squirts out your juices.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; spurts your fluid as you orgasm from intense pleasure.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 75&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is completely slick with your juices.&quot;, &quot;Your breathing is rushed and your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is drenched with your liquid.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 50&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is moist with your juices.&quot;, &quot;Your breath is heated and your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is wet.&quot;, &quot;Your arousal has your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; producing lubricant.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is slightly wet.&quot;, &quot;Your arousal has your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; somewhat wet.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; has began to leak your juices.&quot;)&gt;&gt;

		&lt;&lt;else&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is completely dry.&quot;, &quot;You aren&#39;t aroused enough for your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; to create any lubrication.&quot;, &quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;pussy&#39;&gt;&gt; is dry due to your lack of arousal.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.milk.quality.current &amp;&amp; $PC.milk.quantity.current &amp;&amp; $PC.milk.taste.current&gt;&gt;
		&lt;&lt;if _arousal &gt;= 100&gt;&gt;
			&lt;&lt;if $sex.player.body.breasts.includes(&quot;Suck Breasts&quot;)&gt;&gt;
				&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; squirt a &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk in into $activeCharacter.name&#39;s mouth as you suck on your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;You heave out your chest as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; spray a &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk into $activeCharacter.name&#39;s mouth.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of your &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt; and &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk spurts into $activeCharacter.name&#39;s mouth.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $sex.player.body.breasts.includes(&quot;Caress Breasts&quot;)&gt;&gt;
				&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; squirt a &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk all over $activeCharacter.name&#39;s hand.&quot;, &quot;You heaves out your chest as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; spray a &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk all over $activeCharacter.name&#39;s hand.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of your &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt; and &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk spurts all over $activeCharacter.name&#39;s hand.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if !$sex.player.body.breasts.length&gt;&gt;
				&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; squirt a &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk in every direction.&quot;, &quot;You heave out your chest as your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; spray a &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk in every direction.&quot;, &quot;A &lt;&lt;print extractWord($quantity[$PC.milk.quantity.current])&gt;&gt; amount of your &lt;&lt;print extractWord($quality[$PC.milk.quality.current])&gt;&gt; and &lt;&lt;print extractWord($taste.milk[$PC.milk.taste.current])&gt;&gt; milk spurts out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;, going in every direction.&quot;)&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 75&gt;&gt;
			&lt;&lt;print either(&quot;Your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt; are dripping with your milk.&quot;, &quot;Your nipples are gushing out your breast milk.&quot;, &quot;Your &lt;&lt;descriptor $activeCharacter $sex.npc.orgasm.current &#39;body&#39;&gt;&gt; is soaked with your milk.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 50&gt;&gt;
			&lt;&lt;print either(&quot;Driblets of milk slowly seep out of your nipples.&quot;, &quot;Milk is leaking out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;, &quot;Milk is slowly dripping out of your &lt;&lt;descriptor $PC $sex.player.orgasm.current &#39;breasts&#39;&gt;&gt;.&quot;)&gt;&gt;

		&lt;&lt;elseif _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;Your nipples are hard from your arousal.&quot;, &quot;Your nipples are completely hard.&quot;, &quot;Your nipples are brazenly protruding outward.&quot;, &quot;Your arousal is shown by your taut nipples.&quot;, &quot;Your nipples are swollen from your arousal.&quot;, &quot;Your stiff nipples show your arousal.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;elseif $PC.pussy.current &amp;&amp; _arousal &lt; 100&gt;&gt;
		&lt;&lt;if _arousal &gt;= 25&gt;&gt;
			&lt;&lt;print either(&quot;Your nipples are hard from your arousal.&quot;, &quot;Your nipples are completely hard.&quot;, &quot;Your nipples are brazenly protruding outward.&quot;, &quot;Your arousal is shown by your taut nipples.&quot;, &quot;Your nipples are swollen from your arousal.&quot;, &quot;Your stiff nipples show your arousal.&quot;)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if _arousal &gt;= 100&gt;&gt;
		&lt;&lt;set $sex.player.orgasm.current = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="246" name="Arousal Update" tags="nobr widget" position="5774,1010" size="100,100">&lt;&lt;widget &quot;updateArousal&quot;&gt;&gt;

&lt;&lt;set _player = {arousal:0, stamina:0}&gt;&gt;
&lt;&lt;set _npc = {arousal:0, stamina:0, antipathy:0, antipathyE:0}&gt;&gt;

&lt;&lt;set _arousal = $sex.npc.orgasm.current / $sex.npc.orgasm.max&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
	&lt;&lt;if _arousal &gt;= .50&gt;&gt;
		&lt;&lt;set _bdsmexp = 1&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _bdsmexp = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
	&lt;&lt;if _arousal &gt;= .25&gt;&gt;
		&lt;&lt;set _bdsmexp = 1&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _bdsmexp = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _bdsmexp = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $args[0].action&gt;&gt;
	&lt;&lt;case &quot;Whip&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 0&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.stats.submissive &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 30&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (20 * ($activeCharacter.stats.submissive / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.antipathy -= 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.pussy &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.pussy / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.virgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 25&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo Orally&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.mouth &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.mouth / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo Anally&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.anus &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.anus / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 25&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Kiss&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $activeCharacter.sensitivity.mouth &gt;= 100&gt;&gt;
			&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

		&lt;&lt;else&gt;&gt;
			&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.mouth / 100))&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Spank&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 0&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.stats.submissive &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 15&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (10 * ($activeCharacter.stats.submissive / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Slap&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 0&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.stats.submissive &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 15&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (10 * ($activeCharacter.stats.submissive / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Spit&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 0&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.stats.submissive &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 15&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (10 * ($activeCharacter.stats.submissive / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Hairjob&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.arousal += 10&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 2&gt;&gt;
			&lt;&lt;set _player.arousal += 10&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Breasts&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.breasts &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.breasts / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Nipples&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.breasts &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.breasts / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Suck Breasts&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.breasts &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.breasts / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Suck Nipples&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.breasts &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.breasts / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Handjob&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.arousal += 10&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;
			&lt;&lt;set _player.arousal += 10&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Paizuri&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.arousal += 10&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;
			&lt;&lt;set _player.arousal += 10&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.breasts &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.breasts / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Blowjob&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.arousal += 10&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;
			&lt;&lt;set _player.arousal += 10&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.mouth &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.mouth / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Deepthroat&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.mouth &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.mouth / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Fingering&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.arousal += 10&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.pussy &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.pussy / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;
			&lt;&lt;set _player.arousal += 10&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Anus&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.anus &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.anus / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Cunnilingus&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.arousal += 10&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.clit &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.clit / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;
			&lt;&lt;set _player.arousal += 10&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Analingus&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.arousal += 10&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.anus &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.anus / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;
			&lt;&lt;set _player.arousal += 10&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Footjob&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.arousal += 10&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 2&gt;&gt;
			&lt;&lt;set _npc.antipathy += 2&gt;&gt;
			&lt;&lt;set _player.arousal += 10&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Missionary&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.pussy &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.pussy / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $activeCharacter.virgin&gt;&gt;
			&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
			&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

			&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
			&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Doggystyle&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.pussy &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.pussy / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $activeCharacter.virgin&gt;&gt;
			&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
			&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

			&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
			&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Sitting in Lap&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.pussy &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.pussy / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $activeCharacter.virgin&gt;&gt;
			&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
			&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

			&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
			&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Cowgirl&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.pussy &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.pussy / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if $activeCharacter.virgin&gt;&gt;
			&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
			&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

			&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
			&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Anal] Missionary&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.anus &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.anus / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.virgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Anal] Doggystyle&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.anus &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.anus / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.virgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Anal] Sitting in Lap&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.anus &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.anus / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.virgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Anal] Cowgirl&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 3&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.anus &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.anus / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.virgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 3&gt;&gt;
			&lt;&lt;set _npc.arousal += 15&gt;&gt;
			&lt;&lt;set _npc.antipathy += 3&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 15&gt;&gt;

			&lt;&lt;if $activeCharacter.sensitivity.cock &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 10&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (5 * ($activeCharacter.sensitivity.cock / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

			&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
				&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 100&gt;&gt;

				&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
				&lt;&lt;set _npc.antipathyE += 50&gt;&gt;

				&lt;&lt;/if&gt;&gt;

			&lt;&lt;/if&gt;&gt;


		&lt;&lt;/if&gt;&gt;


	&lt;&lt;case &quot;Choke&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 0&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;

			&lt;&lt;if $activeCharacter.stats.submissive &gt;= 100&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + 15&gt;&gt;

			&lt;&lt;else&gt;&gt;
				&lt;&lt;set _npc.arousal = _npc.arousal + (10 * ($activeCharacter.stats.submissive / 100))&gt;&gt;

			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.antipathy += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Piss&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _player.stamina += 1&gt;&gt;
			&lt;&lt;set _npc.arousal += 5&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;set _npc.stamina += 1&gt;&gt;
			&lt;&lt;set _player.arousal += 5&gt;&gt;

		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &lt; 20&gt;&gt;
	&lt;&lt;set _npc.antipathy = _npc.antipathy * 2&gt;&gt;

	&lt;&lt;if _arousal &lt; .25&gt;&gt;
		&lt;&lt;set _npc.arousal = _npc.arousal * 0.25&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $activeCharacter.obedience.current &lt; 40&gt;&gt;
	&lt;&lt;set _npc.antipathy = _npc.antipathy * 1.5&gt;&gt;

	&lt;&lt;if _arousal &lt; .25&gt;&gt;
		&lt;&lt;set _npc.arousal = _npc.arousal * 0.5&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
	&lt;&lt;set _npc.antipathy = _npc.antipathy&gt;&gt;

	&lt;&lt;if _arousal &lt; .25&gt;&gt;
		&lt;&lt;set _npc.arousal = _npc.arousal * 0.75&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _npc.antipathy = 0&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _prestam = $sex.npc.stamina.current&gt;&gt;

&lt;&lt;if $args[0].action == $sex.choice.action &amp;&amp; $args[0].giving == $sex.choice.giving &amp;&amp; $args[0].receiving == $sex.choice.receiving&gt;&gt;
	&lt;&lt;set _player.arousal = _player.arousal * 2&gt;&gt;
	&lt;&lt;set _player.stamina = _player.stamina * 2&gt;&gt;

	&lt;&lt;set _npc.arousal = _npc.arousal * 2&gt;&gt;
	&lt;&lt;set _npc.stamina = _npc.stamina * 2&gt;&gt;
	&lt;&lt;set _npc.antipathy = (_npc.antipathy * 2) + _npc.antipathyE&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.npc.body.eyes == &quot;Blindfold&quot; &amp;&amp; _bdsmexp&gt;&gt;
	&lt;&lt;set _npc.arousal *= 1.5&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.npc.body.hands.includes(&quot;Bind Hands&quot;) &amp;&amp; $activeCharacter.stats.submissive == 100&gt;&gt;
	&lt;&lt;set _npc.arousal *= 1.3&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.npc.body.feet == &quot;Bind Feet&quot; &amp;&amp; $activeCharacter.stats.submissive == 100&gt;&gt;
	&lt;&lt;set _npc.arousal *= 1.3&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sextitles.includes($activeCharacter.title)&gt;&gt;
	&lt;&lt;set _player.arousal *= 1.5&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $sex.player.orgasm.current = Math.min($sex.player.orgasm.current + _player.arousal, $sex.player.orgasm.max)&gt;&gt;
&lt;&lt;set $sex.player.stamina.current = Math.max($sex.player.stamina.current - _player.stamina, 0)&gt;&gt;

&lt;&lt;set $sex.npc.orgasm.current = Math.min($sex.npc.orgasm.current + _npc.arousal, $sex.npc.orgasm.max)&gt;&gt;
&lt;&lt;set $sex.npc.stamina.current = Math.max($sex.npc.stamina.current - _npc.stamina, 0)&gt;&gt;
&lt;&lt;set $sex.npc.antipathy.current = Math.min($sex.npc.antipathy.current + _npc.antipathy, 200)&gt;&gt;

&lt;&lt;if $args[0].action == $sex.choice.action &amp;&amp; $args[0].giving == $sex.choice.giving &amp;&amp; $args[0].receiving == $sex.choice.receiving&gt;&gt;
	&lt;&lt;if $sex.player.orgasm.current == $sex.player.orgasm.max&gt;&gt;
		&lt;&lt;set $sex.player.stamina.current = Math.max($sex.player.stamina.current - 25, 0)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $sex.npc.orgasm.current == $sex.npc.orgasm.max&gt;&gt;
		&lt;&lt;set $sex.npc.stamina.current = Math.max($sex.npc.stamina.current - 25, 0)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.npc.stamina.current == 0 &amp;&amp; _prestam != 0&gt;&gt;
	&lt;&lt;set _sftext = &quot;&quot;&gt;&gt;
	&lt;&lt;set _sftext += &quot;&lt;b&gt;@@color:forestgreen;[Sexually Fatigued: $activeCharacter.name]@@&lt;/b&gt;&quot;&gt;&gt;
	
	&lt;&lt;if $activeCharacter.sex == &quot;female&quot;&gt;&gt;
		&lt;&lt;set _sftext += &quot;You have sexually dominated $activeCharacter.name, opening &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; womb for guaranteed insemination.&quot;&gt;&gt;
	
	&lt;&lt;elseif [&quot;male&quot;, &quot;shemale&quot;].contains($activeCharacter.sex)&gt;&gt;
		&lt;&lt;set _sftext += &quot;You have sexually dominated $activeCharacter.name, forcing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; seed to impregnate anyone compatible with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;&gt;&gt;
	
	&lt;&lt;elseif $activeCharacter.sex == &quot;futanari&quot;&gt;&gt;
		&lt;&lt;set _sftext += &quot;You have sexually dominated $activeCharacter.name, opening &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; womb for guaranteed insemination and forcing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; seed to impregnate anyone compatible with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set _sftext += &quot;&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="247" name="Sex EXP Update" tags="nobr widget" position="5775,1140" size="100,100">&lt;&lt;widget sexRowData&gt;&gt;

&lt;&lt;set _rowname = $args[0]&gt;&gt;
&lt;&lt;set _stat = Number($args[1])&gt;&gt;
&lt;&lt;set _exp = _multi * $args[2]&gt;&gt;

&lt;&lt;if _stat &gt;= 100&gt;&gt;
	&lt;&lt;set _previouslevel = 6&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _previouslevel = roundUP(_stat, 20) / 20&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _stat % 20 === 0&gt;&gt;
	&lt;&lt;set _maxexp = roundUP(_stat+1, 20) - roundDOWN(_stat, 20)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _maxexp = roundUP(_stat, 20) - roundDOWN(_stat, 20)&gt;&gt;
&lt;&lt;/if&gt;&gt;


&lt;&lt;set _stat = increaseSkillEXP(_stat, _exp)&gt;&gt;
&lt;&lt;set _minexp = Math.min(_stat - roundDOWN(_stat, 20), _maxexp)&gt;&gt;
&lt;&lt;set _currentlevel = roundUP(_stat, 20) / 20&gt;&gt;
&lt;&lt;set _nextlevel = roundUP(_stat, 20) / 20 + 1&gt;&gt;

&lt;&lt;if _stat &gt;= 100&gt;&gt;
	&lt;&lt;set _maxexp = 100&gt;&gt;
	&lt;&lt;set _minexp = 100&gt;&gt;
	&lt;&lt;set _currentlevel = 6&gt;&gt;
	&lt;&lt;set _nextlevel = &quot;&lt;b&gt;------&lt;/b&gt;&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _currentlevel &gt; _previouslevel&gt;&gt;
	&lt;&lt;set $activeCharacter.update[$activeCharacter.update.length] = &quot;&lt;b&gt;@@color:forestgreen;$activeCharacter.name&#39;s &quot; + _rowname + &quot; has increased up from level &quot; + _previouslevel + &quot; to level &quot; + _currentlevel + &quot;.@@&lt;/b&gt;&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $args[3] == $PC&gt;&gt;
	&lt;&lt;if _currentlevel &gt; _previouslevel&gt;&gt;
		&lt;&lt;set $PC.update[$PC.update.length] = &quot;&lt;b&gt;@@color:forestgreen;Your &quot; + _rowname + &quot; has increased up from level &quot; + _previouslevel + &quot; to level &quot; + _currentlevel + &quot;.@@&lt;/b&gt;&quot;&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;set _PCtabledata += &quot;&lt;tr&gt;
		&lt;td&gt;&lt;b&gt;&quot; + _rowname + &quot;&lt;/b&gt;&lt;/td&gt;
		&lt;td&gt;&quot; + _currentlevel + &quot;&lt;/td&gt;
		&lt;td&gt;&lt;&lt;battlebar &quot; + _minexp + &quot; &quot; + _maxexp + &quot;&gt;&gt;&lt;/td&gt;
		&lt;td&gt;&quot; + _nextlevel + &quot;&lt;/td&gt;
	&lt;/tr&gt;&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;if _currentlevel &gt; _previouslevel&gt;&gt;
		&lt;&lt;set $activeCharacter.update[$activeCharacter.update.length] = &quot;&lt;b&gt;@@color:forestgreen;$activeCharacter.name&#39;s &quot; + _rowname + &quot; has increased up from level &quot; + _previouslevel + &quot; to level &quot; + _currentlevel + &quot;.@@&lt;/b&gt;&quot;&gt;&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;&lt;set _tabledata += &quot;&lt;tr&gt;
		&lt;td&gt;&lt;b&gt;&quot; + _rowname + &quot;&lt;/b&gt;&lt;/td&gt;
		&lt;td&gt;&quot; + _currentlevel + &quot;&lt;/td&gt;
		&lt;td&gt;&lt;&lt;battlebar &quot; + _minexp + &quot; &quot; + _maxexp + &quot;&gt;&gt;&lt;/td&gt;
		&lt;td&gt;&quot; + _nextlevel + &quot;&lt;/td&gt;
	&lt;/tr&gt;&quot;&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;updateSexEXP&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
	&lt;&lt;if _arousal &gt;= .50&gt;&gt;
		&lt;&lt;set _bdsmexp = 1&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _bdsmexp = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
	&lt;&lt;if _arousal &gt;= .25&gt;&gt;
		&lt;&lt;set _bdsmexp = 1&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _bdsmexp = 0&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _bdsmexp = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _arousal = $sex.npc.orgasm.current / $sex.npc.orgasm.max&gt;&gt;
&lt;&lt;set _multi = 1&gt;&gt;

&lt;&lt;if _arousal == 1&gt;&gt;
	&lt;&lt;set _multi *= 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $args[0].action == $sex.choice.action &amp;&amp; $args[0].giving == $sex.choice.giving &amp;&amp; $args[0].receiving == $sex.choice.receiving&gt;&gt;
	&lt;&lt;set _multi *= 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.npc.body.breasts.length == 2 &amp;&amp; [&quot;Suck Breasts&quot;, &quot;Caress Breasts&quot;, &quot;Suck Nipples&quot;, &quot;Suck Breasts&quot;].contains($args[0].action)&gt;&gt;
	&lt;&lt;set _multi *= 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $args[0].action&gt;&gt;
	&lt;&lt;case &quot;Whip&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Submissiveness&quot; $activeCharacter.stats.submissive 2&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.submissive = increaseSkillEXP($activeCharacter.stats.submissive, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Assertiveness&quot; $activeCharacter.stats.dominant 2&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.dominant = increaseSkillEXP($activeCharacter.stats.dominant, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $activeCharacter.sensitivity.pussy 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.pussy = increaseSkillEXP($activeCharacter.sensitivity.pussy, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $PC.sensitivity.pussy 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.pussy = increaseSkillEXP($PC.sensitivity.pussy, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo Orally&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $activeCharacter.sensitivity.mouth 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.mouth = increaseSkillEXP($activeCharacter.sensitivity.mouth, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Fellatio Skill&quot; $activeCharacter.sexualskill.oral.fellatio 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.oral.fellatio = increaseSkillEXP($activeCharacter.sexualskill.oral.fellatio, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $PC.sensitivity.mouth 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.mouth = increaseSkillEXP($PC.sensitivity.mouth, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Insert Dildo Anally&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $activeCharacter.sensitivity.anus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.anus = increaseSkillEXP($activeCharacter.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $activeCharacter.gape 1&gt;&gt;
			&lt;&lt;set $activeCharacter.gape = increaseSkillEXP($activeCharacter.gape, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $PC.sensitivity.anus 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.anus = increaseSkillEXP($PC.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $PC.gape 1 $PC&gt;&gt;
			&lt;&lt;set $PC.gape = increaseSkillEXP($PC.gape, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Kiss&quot;&gt;&gt;
		&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $activeCharacter.sensitivity.mouth 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sensitivity.mouth = increaseSkillEXP($activeCharacter.sensitivity.mouth, _exp)&gt;&gt;

		&lt;&lt;sexRowData &quot;Kissing Skill&quot; $activeCharacter.sexualskill.oral.kissing 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.oral.kissing = increaseSkillEXP($activeCharacter.sexualskill.oral.kissing, _exp)&gt;&gt;
		
		&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $PC.sensitivity.mouth 1 $PC&gt;&gt;
		&lt;&lt;set $PC.sensitivity.mouth = increaseSkillEXP($PC.sensitivity.mouth, _exp)&gt;&gt;

	&lt;&lt;case &quot;Caress&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Spank&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Submissiveness&quot; $activeCharacter.stats.submissive 1&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.submissive = increaseSkillEXP($activeCharacter.stats.submissive, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Assertiveness&quot; $activeCharacter.stats.dominant 1&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.dominant = increaseSkillEXP($activeCharacter.stats.dominant, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Slap&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Submissiveness&quot; $activeCharacter.stats.submissive 1&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.submissive = increaseSkillEXP($activeCharacter.stats.submissive, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Assertiveness&quot; $activeCharacter.stats.dominant 1&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.dominant = increaseSkillEXP($activeCharacter.stats.dominant, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Spit&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Submissiveness&quot; $activeCharacter.stats.submissive 1&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.submissive = increaseSkillEXP($activeCharacter.stats.submissive, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Assertiveness&quot; $activeCharacter.stats.dominant 1&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.dominant = increaseSkillEXP($activeCharacter.stats.dominant, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Hairjob&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Breastplay Skill&quot; $activeCharacter.sexualskill.mammary.breastplay 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.mammary.breastplay = increaseSkillEXP($activeCharacter.sexualskill.mammary.breastplay, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;
					
		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Breasts&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;if !_bsEXP&gt;&gt;
				&lt;&lt;set _bsEXP = 1&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Breastplay Skill&quot; $activeCharacter.sexualskill.mammary.breastplay 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.mammary.breastplay = increaseSkillEXP($activeCharacter.sexualskill.mammary.breastplay, _exp)&gt;&gt;
			
			&lt;&lt;if !_PCbsEXP&gt;&gt;
				&lt;&lt;set _PCbsEXP = 1&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Nipples&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;if !_bsEXP&gt;&gt;
				&lt;&lt;set _bsEXP = 1&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Breastplay Skill&quot; $activeCharacter.sexualskill.mammary.breastplay 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.mammary.breastplay = increaseSkillEXP($activeCharacter.sexualskill.mammary.breastplay, _exp)&gt;&gt;
			
			&lt;&lt;if !_PCbsEXP&gt;&gt;
				&lt;&lt;set _PCbsEXP = 1&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Suck Breasts&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;if !_bsEXP&gt;&gt;
				&lt;&lt;set _bsEXP = 1&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Breastplay Skill&quot; $activeCharacter.sexualskill.mammary.breastplay 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.mammary.breastplay = increaseSkillEXP($activeCharacter.sexualskill.mammary.breastplay, _exp)&gt;&gt;
			
			&lt;&lt;if !_PCbsEXP&gt;&gt;
				&lt;&lt;set _PCbsEXP = 1&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Suck Nipples&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;if !_bsEXP&gt;&gt;
				&lt;&lt;set _bsEXP = 1&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Breastplay Skill&quot; $activeCharacter.sexualskill.mammary.breastplay 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.mammary.breastplay = increaseSkillEXP($activeCharacter.sexualskill.mammary.breastplay, _exp)&gt;&gt;
			
			&lt;&lt;if !_PCbsEXP&gt;&gt;
				&lt;&lt;set _PCbsEXP = 1&gt;&gt;
			&lt;&lt;/if&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Handjob&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Handjob Skill&quot; $activeCharacter.sexualskill.manual.handjob 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.manual.handjob = increaseSkillEXP($activeCharacter.sexualskill.manual.handjob, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Paizuri&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Paizuri Skill&quot; $activeCharacter.sexualskill.mammary.intercourse 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.mammary.intercourse = increaseSkillEXP($activeCharacter.sexualskill.mammary.intercourse, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Blowjob&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $PC.sensitivity.mouth 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.mouth = increaseSkillEXP($PC.sensitivity.mouth, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $activeCharacter.sensitivity.mouth 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.mouth = increaseSkillEXP($activeCharacter.sensitivity.mouth, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Fellatio Skill&quot; $activeCharacter.sexualskill.oral.fellatio 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.oral.fellatio = increaseSkillEXP($activeCharacter.sexualskill.oral.fellatio, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Deepthroat&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 2&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $PC.sensitivity.mouth 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.mouth = increaseSkillEXP($PC.sensitivity.mouth, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $activeCharacter.sensitivity.mouth 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.mouth = increaseSkillEXP($activeCharacter.sensitivity.mouth, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 2 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Fellatio Skill&quot; $activeCharacter.sexualskill.oral.fellatio 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.oral.fellatio = increaseSkillEXP($activeCharacter.sexualskill.oral.fellatio, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Fingering&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $activeCharacter.sensitivity.pussy 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.pussy = increaseSkillEXP($activeCharacter.sensitivity.pussy, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Fingering Skill&quot; $activeCharacter.sexualskill.manual.fingering 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.manual.fingering = increaseSkillEXP($activeCharacter.sexualskill.manual.fingering, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $PC.sensitivity.pussy 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.pussy = increaseSkillEXP($PC.sensitivity.pussy, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Caress Anus&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $activeCharacter.sensitivity.anus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.anus = increaseSkillEXP($activeCharacter.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $activeCharacter.gape 1&gt;&gt;
			&lt;&lt;set $activeCharacter.gape = increaseSkillEXP($activeCharacter.gape, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Fingering Skill&quot; $activeCharacter.sexualskill.manual.fingering 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.manual.fingering = increaseSkillEXP($activeCharacter.sexualskill.manual.fingering, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $PC.sensitivity.anus 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.anus = increaseSkillEXP($PC.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $PC.gape 1 $PC&gt;&gt;
			&lt;&lt;set $PC.gape = increaseSkillEXP($PC.gape, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Cunnilingus&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Clit Sensitivity&quot; $activeCharacter.sensitivity.clit 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.clit = increaseSkillEXP($activeCharacter.sensitivity.clit, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $PC.sensitivity.mouth 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.mouth = increaseSkillEXP($PC.sensitivity.mouth, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $activeCharacter.sensitivity.mouth 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.mouth = increaseSkillEXP($activeCharacter.sensitivity.mouth, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Cunnilingus Skill&quot; $activeCharacter.sexualskill.oral.cunnilingus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.oral.cunnilingus = increaseSkillEXP($activeCharacter.sexualskill.oral.cunnilingus, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Clit Sensitivity&quot; $PC.sensitivity.clit 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.clit = increaseSkillEXP($PC.sensitivity.clit, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Analingus&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $activeCharacter.sensitivity.anus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.anus = increaseSkillEXP($activeCharacter.sensitivity.anus, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $PC.sensitivity.mouth 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.mouth = increaseSkillEXP($PC.sensitivity.mouth, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Mouth Sensitivity&quot; $activeCharacter.sensitivity.mouth 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.mouth = increaseSkillEXP($activeCharacter.sensitivity.mouth, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Analingus Skill&quot; $activeCharacter.sexualskill.oral.analingus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sexualskill.oral.analingus = increaseSkillEXP($activeCharacter.sexualskill.oral.analingus, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $PC.sensitivity.anus 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.anus = increaseSkillEXP($PC.sensitivity.anus, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Footjob&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
		&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
		&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Missionary&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $activeCharacter.sensitivity.pussy 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.pussy = increaseSkillEXP($activeCharacter.sensitivity.pussy, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $PC.sensitivity.pussy 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.pussy = increaseSkillEXP($PC.sensitivity.pussy, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;sexRowData &quot;Intercourse Skill&quot; $activeCharacter.sexualskill.intercourse.vaginal 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.intercourse.vaginal = increaseSkillEXP($activeCharacter.sexualskill.intercourse.vaginal, _exp)&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Doggystyle&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $activeCharacter.sensitivity.pussy 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.pussy = increaseSkillEXP($activeCharacter.sensitivity.pussy, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $PC.sensitivity.pussy 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.pussy = increaseSkillEXP($PC.sensitivity.pussy, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;sexRowData &quot;Intercourse Skill&quot; $activeCharacter.sexualskill.intercourse.vaginal 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.intercourse.vaginal = increaseSkillEXP($activeCharacter.sexualskill.intercourse.vaginal, _exp)&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Sitting in Lap&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $activeCharacter.sensitivity.pussy 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.pussy = increaseSkillEXP($activeCharacter.sensitivity.pussy, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $PC.sensitivity.pussy 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.pussy = increaseSkillEXP($PC.sensitivity.pussy, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;sexRowData &quot;Intercourse Skill&quot; $activeCharacter.sexualskill.intercourse.vaginal 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.intercourse.vaginal = increaseSkillEXP($activeCharacter.sexualskill.intercourse.vaginal, _exp)&gt;&gt;

	&lt;&lt;case &quot;[Vaginal] Cowgirl&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $PC.sensitivity.pussy 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.pussy = increaseSkillEXP($PC.sensitivity.pussy, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Pussy Sensitivity&quot; $activeCharacter.sensitivity.pussy 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.pussy = increaseSkillEXP($activeCharacter.sensitivity.pussy, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;sexRowData &quot;Intercourse Skill&quot; $activeCharacter.sexualskill.intercourse.vaginal 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.intercourse.vaginal = increaseSkillEXP($activeCharacter.sexualskill.intercourse.vaginal, _exp)&gt;&gt;

	&lt;&lt;case &quot;[Anal] Missionary&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $activeCharacter.sensitivity.anus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.anus = increaseSkillEXP($activeCharacter.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $activeCharacter.gape 2&gt;&gt;
			&lt;&lt;set $activeCharacter.gape = increaseSkillEXP($activeCharacter.gape, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $PC.sensitivity.anus 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.anus = increaseSkillEXP($PC.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $PC.gape 2 $PC&gt;&gt;
			&lt;&lt;set $PC.gape = increaseSkillEXP($PC.gape, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;sexRowData &quot;Anal Skill&quot; $activeCharacter.sexualskill.intercourse.anal 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.intercourse.anal = increaseSkillEXP($activeCharacter.sexualskill.intercourse.anal, _exp)&gt;&gt;

	&lt;&lt;case &quot;[Anal] Doggystyle&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $activeCharacter.sensitivity.anus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.anus = increaseSkillEXP($activeCharacter.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $activeCharacter.gape 2&gt;&gt;
			&lt;&lt;set $activeCharacter.gape = increaseSkillEXP($activeCharacter.gape, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $PC.sensitivity.anus 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.anus = increaseSkillEXP($PC.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $PC.gape 2 $PC&gt;&gt;
			&lt;&lt;set $PC.gape = increaseSkillEXP($PC.gape, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;sexRowData &quot;Anal Skill&quot; $activeCharacter.sexualskill.intercourse.anal 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.intercourse.anal = increaseSkillEXP($activeCharacter.sexualskill.intercourse.anal, _exp)&gt;&gt;

	&lt;&lt;case &quot;[Anal] Sitting in Lap&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $activeCharacter.sensitivity.anus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.anus = increaseSkillEXP($activeCharacter.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $activeCharacter.gape 2&gt;&gt;
			&lt;&lt;set $activeCharacter.gape = increaseSkillEXP($activeCharacter.gape, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $PC.sensitivity.anus 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.anus = increaseSkillEXP($PC.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $PC.gape 2 $PC&gt;&gt;
			&lt;&lt;set $PC.gape = increaseSkillEXP($PC.gape, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;sexRowData &quot;Anal Skill&quot; $activeCharacter.sexualskill.intercourse.anal 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.intercourse.anal = increaseSkillEXP($activeCharacter.sexualskill.intercourse.anal, _exp)&gt;&gt;

	&lt;&lt;case &quot;[Anal] Cowgirl&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $activeCharacter.sensitivity.cock 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.cock = increaseSkillEXP($activeCharacter.sensitivity.cock, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $PC.sensitivity.anus 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.anus = increaseSkillEXP($PC.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $PC.gape 2 $PC&gt;&gt;
			&lt;&lt;set $PC.gape = increaseSkillEXP($PC.gape, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;
			&lt;&lt;sexRowData &quot;Anus Sensitivity&quot; $activeCharacter.sensitivity.anus 1&gt;&gt;
			&lt;&lt;set $activeCharacter.sensitivity.anus = increaseSkillEXP($activeCharacter.sensitivity.anus, _exp)&gt;&gt;

			&lt;&lt;sexRowData &quot;Anal Gape&quot; $activeCharacter.gape 2&gt;&gt;
			&lt;&lt;set $activeCharacter.gape = increaseSkillEXP($activeCharacter.gape, _exp)&gt;&gt;
			
			&lt;&lt;sexRowData &quot;Cock Sensitivity&quot; $PC.sensitivity.cock 1 $PC&gt;&gt;
			&lt;&lt;set $PC.sensitivity.cock = increaseSkillEXP($PC.sensitivity.cock, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

		&lt;&lt;sexRowData &quot;Anal Skill&quot; $activeCharacter.sexualskill.intercourse.anal 1&gt;&gt;
		&lt;&lt;set $activeCharacter.sexualskill.intercourse.anal = increaseSkillEXP($activeCharacter.sexualskill.intercourse.anal, _exp)&gt;&gt;

	&lt;&lt;case &quot;Choke&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Submissiveness&quot; $activeCharacter.stats.submissive 1&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.submissive = increaseSkillEXP($activeCharacter.stats.submissive, _exp)&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot; &amp;&amp; _bdsmexp&gt;&gt;
			&lt;&lt;sexRowData &quot;Assertiveness&quot; $activeCharacter.stats.dominant 1&gt;&gt;
			&lt;&lt;set $activeCharacter.stats.dominant = increaseSkillEXP($activeCharacter.stats.dominant, _exp)&gt;&gt;

		&lt;&lt;/if&gt;&gt;

	&lt;&lt;case &quot;Piss&quot;&gt;&gt;
		&lt;&lt;if $args[0].giving == &quot;You&quot;&gt;&gt;

		&lt;&lt;elseif $args[0].receiving == &quot;You&quot;&gt;&gt;

		&lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if $sex.npc.body.breasts.length == 2 &amp;&amp; [&quot;Suck Breasts&quot;, &quot;Caress Breasts&quot;, &quot;Suck Nipples&quot;, &quot;Suck Breasts&quot;].contains($args[0].action) &amp;&amp; $args[0].giving == &quot;You&quot; &amp;&amp; _bsEXP == 1&gt;&gt;
	&lt;&lt;if [&quot;Suck Breasts&quot;, &quot;Caress Breasts&quot;].contains($args[0].action)&gt;&gt;
		&lt;&lt;sexRowData &quot;Breast Sensitivity&quot; $activeCharacter.sensitivity.breasts 2&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;sexRowData &quot;Nipple Sensitivity&quot; $activeCharacter.sensitivity.breasts 2&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $activeCharacter.sensitivity.breasts = increaseSkillEXP($activeCharacter.sensitivity.breasts, _exp)&gt;&gt;
	&lt;&lt;set _bsEXP = 2&gt;&gt;
	
&lt;&lt;elseif _bsEXP == 1&gt;&gt;
	&lt;&lt;if [&quot;Suck Breasts&quot;, &quot;Caress Breasts&quot;].contains($args[0].action)&gt;&gt;
		&lt;&lt;sexRowData &quot;Breast Sensitivity&quot; $activeCharacter.sensitivity.breasts 1&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;sexRowData &quot;Nipple Sensitivity&quot; $activeCharacter.sensitivity.breasts 1&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $activeCharacter.sensitivity.breasts = increaseSkillEXP($activeCharacter.sensitivity.breasts, _exp)&gt;&gt;
	&lt;&lt;set _bsEXP = 2&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.player.body.breasts.length == 2 &amp;&amp; [&quot;Suck Breasts&quot;, &quot;Caress Breasts&quot;, &quot;Suck Nipples&quot;, &quot;Suck Breasts&quot;].contains($args[0].action) &amp;&amp; $args[0].receiving == &quot;You&quot; &amp;&amp; _PCbsEXP == 1&gt;&gt;
	&lt;&lt;if [&quot;Suck Breasts&quot;, &quot;Caress Breasts&quot;].contains($args[0].action)&gt;&gt;
		&lt;&lt;sexRowData &quot;Breast Sensitivity&quot; $PC.sensitivity.breasts 2 $PC&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;sexRowData &quot;Nipple Sensitivity&quot; $PC.sensitivity.breasts 2 $PC&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $PC.sensitivity.breasts = increaseSkillEXP($PC.sensitivity.breasts, _exp)&gt;&gt;
	&lt;&lt;set _PCbsEXP = 2&gt;&gt;
	
&lt;&lt;elseif _PCbsEXP == 1&gt;&gt;
	&lt;&lt;if [&quot;Suck Breasts&quot;, &quot;Caress Breasts&quot;].contains($args[0].action)&gt;&gt;
		&lt;&lt;sexRowData &quot;Breast Sensitivity&quot; $PC.sensitivity.breasts 1 $PC&gt;&gt;
		
	&lt;&lt;else&gt;&gt;
		&lt;&lt;sexRowData &quot;Nipple Sensitivity&quot; $PC.sensitivity.breasts 1 $PC&gt;&gt;
		
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $PC.sensitivity.breasts = increaseSkillEXP($PC.sensitivity.breasts, _exp)&gt;&gt;
	&lt;&lt;set _PCbsEXP = 2&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="248" name="End Sex" tags="nobr" position="5769,230" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Main Menu&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;big&gt;Intercourse Report&lt;/big&gt;&lt;/center&gt;

&lt;&lt;if $activeCharacter.obedience.current &lt; 40&gt;&gt;
	&lt;&lt;set _threshold = 25&gt;&gt;

&lt;&lt;elseif $activeCharacter.obedience.current &lt; 60&gt;&gt;
	&lt;&lt;set _threshold = 50&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _threshold = 100&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _ofLoss = $sex.npc.antipathy.current / 35&gt;&gt;
&lt;&lt;set _ofGain = ($sex.npc.stamina.max - $sex.npc.stamina.current) / 35&gt;&gt;
&lt;&lt;set _oldObedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _oldObedienceNum = $activeCharacter.obedience.current&gt;&gt;
&lt;&lt;set _oldFear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _oldFearNum = $activeCharacter.fear.current&gt;&gt;
&lt;&lt;set _oldTrust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _oldTrustNum = $activeCharacter.trust.current&gt;&gt;

&lt;&lt;if $sex.player.stamina.current &gt; $sex.npc.stamina.current&gt;&gt;
	&lt;&lt;run increaseTrust($activeCharacter, 5)&gt;&gt;

&lt;&lt;elseif $sex.player.stamina.current &lt; $sex.npc.stamina.current&gt;&gt;
	&lt;&lt;run decreaseTrust($activeCharacter, 5)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.npc.antipathy.current &lt; _threshold &amp;&amp; $sex.turn &gt;= 5&gt;&gt;
	&lt;&lt;run decreaseFear($activeCharacter, _ofGain)&gt;&gt;

&lt;&lt;elseif $sex.npc.antipathy.current &gt; _threshold&gt;&gt;
	&lt;&lt;run increaseFear($activeCharacter, _ofLoss)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _obedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _obedienceNum = $activeCharacter.obedience.current&gt;&gt;
&lt;&lt;set _fear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _fearNum = $activeCharacter.fear.current&gt;&gt;
&lt;&lt;set _trust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _trustNum = $activeCharacter.trust.current&gt;&gt;

&lt;&lt;if _oldFearNum &gt; _fearNum&gt;&gt;
	&#39;&#39;@@color:forestgreen;$activeCharacter.name&#39;s fear of you has decreased.@@&#39;&#39;

&lt;&lt;elseif _oldFearNum &lt; _fearNum&gt;&gt;
	&#39;&#39;@@color:red;$activeCharacter.name&#39;s fear of you has increased.@@&#39;&#39;
	
&lt;&lt;else&gt;&gt;
	&#39;&#39;@@color:yellow;$activeCharacter.name&#39;s fear of you has not changed.@@&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _oldFear != _fear&gt;&gt;
	$activeCharacter.name&#39;s fear level has changed from &#39;&#39;_oldFear&#39;&#39; to &#39;&#39;_fear&#39;&#39;. 

&lt;&lt;else&gt;&gt;
	$activeCharacter.name&#39;s fear level has remained &#39;&#39;_fear&#39;&#39;.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _oldTrustNum &lt; _trustNum&gt;&gt;
	&#39;&#39;@@color:forestgreen;$activeCharacter.name&#39;s trust has increased.@@&#39;&#39;

&lt;&lt;elseif _oldTrustNum &gt; _trustNum&gt;&gt;
	&#39;&#39;@@color:red;$activeCharacter.name&#39;s trust has decreased.@@&#39;&#39;
	
&lt;&lt;else&gt;&gt;
	&#39;&#39;@@color:yellow;$activeCharacter.name&#39;s trust has not changed.@@&#39;&#39;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _oldTrust != _trust&gt;&gt;
	$activeCharacter.name&#39;s trust level has changed from &#39;&#39;_oldTrust&#39;&#39; to &#39;&#39;_trust&#39;&#39;. 

&lt;&lt;else&gt;&gt;
	$activeCharacter.name&#39;s trust level has remained &#39;&#39;_trust&#39;&#39;.
&lt;&lt;/if&gt;&gt;
&lt;hr&gt;

&lt;&lt;run updateTitles($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.update.length &gt;= 1&gt;&gt;
	&lt;&lt;include &quot;Slave Update&quot;&gt;&gt;
	&lt;hr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cheats.includes(&quot;energyWell&quot;)&gt;&gt;
	&lt;&lt;set $PC.energy.current = $PC.energy.max&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.energy.current = Math.max($PC.energy.current-1,0)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $sex = null&gt;&gt;
&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="249" name="Toys" tags="nobr" position="637,2008" size="100,100">&lt;&lt;set $Dildo = {name: &quot;Slime Dildo&quot;, rank: &quot;D&quot;, type: &quot;Sexual Toy&quot;, category: &quot;General&quot;, duration: 0, price: 2500, description: &quot;A regular dildo made from hardened slime. It is both very flexible and durable and moves on its own.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $Blindfold = {name: &quot;Enchanted Blindfold&quot;, rank: &quot;D&quot;, type: &quot;Sexual Toy&quot;, category: &quot;General&quot;, duration: 0, price: 5000, description: &quot;A piece of cloth used to cover one&#39;s eyes. Magically enchanted to block all vision and prevents any light from coming through the cloth.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $Rope = {name: &quot;Alraune Rope&quot;, rank: &quot;D&quot;, type: &quot;Sexual Toy&quot;, category: &quot;General&quot;, duration: 0, price: 5000, description: &quot;A piece of thick cord made by twisting strands of alraune fibres together. Its strength has been magically enhanced.&quot;, amount: 0}&gt;&gt;

&lt;&lt;set $Whip = {name: &quot;Aether Whip&quot;, rank: &quot;D&quot;, type: &quot;Sexual Toy&quot;, category: &quot;General&quot;, duration: 0, price: 10000, description: &quot;A whip made out of mana-molded strings. This whip will not leave any permanent markings but will sting stronger than a regular whip.&quot;, amount: 0}&gt;&gt;</tw-passagedata><tw-passagedata pid="250" name="Titles" tags="nobr" position="14,267" size="100,100">&lt;&lt;set $commontitles = [&quot;Bimbo&quot;, &quot;Breeding Slave&quot;, &quot;Brody&quot;, &quot;Bull&quot;, &quot;Cavalier&quot;, &quot;Cumsar&quot;, &quot;Domesticated&quot;, &quot;Dominant&quot;, &quot;Feminine&quot;, &quot;Masculine&quot;, &quot;Masochist&quot;, &quot;Sadist&quot;, &quot;Sissy&quot;, &quot;Slave&quot;, &quot;Slut&quot;, &quot;Submissive&quot;, &quot;Superjock&quot;]&gt;&gt;
&lt;&lt;set $uncommontitles = [&quot;Bimboy&quot;, &quot;Bimbo Slut&quot;, &quot;Cicisbeo&quot;, &quot;Courtesan&quot;, &quot;Confident Slave&quot;, &quot;Cumslut&quot;, &quot;Domesticated Bitch&quot;, &quot;Drag King&quot;, &quot;Feminine Bimbo&quot;, &quot;Feminine Sissy&quot;, &quot;Femme Sub&quot;, &quot;Gigolo&quot;, &quot;Loyal Slave&quot;, &quot;Man Eater&quot;, &quot;Masculine Bottom&quot;, &quot;Masculine Top&quot;, &quot;Muscle Bimbo&quot;, &quot;Painslut&quot;, &quot;Trustful Slave&quot;, &quot;Sex Fiend&quot;, &quot;Sex Slave&quot;, &quot;Sissy Bimbo&quot;, &quot;Sow&quot;, &quot;Switch&quot;, &quot;Trainsformed Brody&quot;, &quot;Transformed Sissy&quot;]&gt;&gt;
&lt;&lt;set $uniquetitles = [&quot;Dominatrix&quot;, &quot;Feminine Sissy Bimbo&quot;, &quot;Incubus&quot;, &quot;Masculine Muscle Bimbo&quot;, &quot;Muscle Bitch&quot;, &quot;Muscle Slave&quot;, &quot;Perfect Slave&quot;, &quot;Sissy Slut&quot;, &quot;Succubus&quot;]&gt;&gt;
&lt;&lt;set $raretitles = [&quot;Sissy Slut Bimbo&quot;]&gt;&gt;
&lt;&lt;set $specialtitles = []&gt;&gt;

&lt;&lt;set $brodytitles = [&quot;Brody&quot;, &quot;Drag King&quot;, &quot;Trainsformed Brody&quot;]&gt;&gt;
/* increases male transformation effects */

&lt;&lt;set $cattlingtitles = [&quot;Breeding Slave&quot;, &quot;Bull&quot;, &quot;Sow&quot;]&gt;&gt;
/* increases fertility */

&lt;&lt;set $chivalrytitles = [&quot;Cavalier&quot;, &quot;Cicisbeo&quot;]&gt;&gt;
/* increases maximum stamina */

&lt;&lt;set $cumtitles = [&quot;Cumsar&quot;, &quot;Cumslut&quot;, &quot;Incubus&quot;, &quot;Succubus&quot;]&gt;&gt;
/* decrease brothel fatigue */

&lt;&lt;set $domesticatedtitles = [&quot;Bull&quot;, &quot;Domesticated&quot;, &quot;Domesticated Bitch&quot;, &quot;Sow&quot;]&gt;&gt;
/* increase slave produce yield */

&lt;&lt;set $feartitles = [&quot;Confident Slave&quot;, &quot;Perfect Slave&quot;]&gt;&gt;
/*  */

&lt;&lt;set $obediencetitles = [&quot;Loyal Slave&quot;, &quot;Perfect Slave&quot;]&gt;&gt;
/*  */

&lt;&lt;set $sextitles = [&quot;Sex Fiend&quot;]&gt;&gt;
/* increase ability to give sexual pleasure */

&lt;&lt;set $subtitles = [&quot;Femme Sub&quot;, &quot;Muscle Bitch&quot;, &quot;Muscle Slave&quot;, &quot;Sex Slave&quot;, &quot;Submissive&quot;, &quot;Switch&quot;]&gt;&gt;
/* increase hypnosis */

&lt;&lt;set $superjocktitles = [&quot;Masculine Muscle Bimbo&quot;, &quot;Muscle Bimbo&quot;, &quot;Muscle Bitch&quot;, &quot;Muscle Slave&quot;, &quot;Superjock&quot;]&gt;&gt;
/*  */

&lt;&lt;set $trusttitles = [&quot;Trustful Slave&quot;, &quot;Perfect Slave&quot;]&gt;&gt;
/*  */

&lt;&lt;set $popularitytitles = [&quot;Bimbo&quot;, &quot;Bimboy&quot;, &quot;Bimbo Slut&quot;, &quot;Feminine Bimbo&quot;, &quot;Feminine Sissy Bimbo&quot;, &quot;Masculine Muscle Bimbo&quot;, &quot;Muscle Bimbo&quot;, &quot;Sissy Bimbo&quot;, &quot;Sissy Slut Bimbo&quot;]&gt;&gt;
/*  */

&lt;&lt;set $fatiguetitles = [&quot;Courtesan&quot;, &quot;Dominatrix&quot;, &quot;Feminine&quot;, &quot;Feminine Bimbo&quot;, &quot;Feminine Sissy&quot;, &quot;Feminine Sissy Bimbo&quot;, &quot;Femme Sub&quot;, &quot;Muscle Bitch&quot;]&gt;&gt;
/*  */

&lt;&lt;set $healthtitles = [&quot;Bimboy&quot;, &quot;Cicisbeo&quot;, &quot;Drag King&quot;, &quot;Gigolo&quot;, &quot;Incubus&quot;, &quot;Masculine&quot;, &quot;Masculine Bottom&quot;, &quot;Masculine Muscle Bimbo&quot;, &quot;Masculine Top&quot;, &quot;Muscle Slave&quot;]&gt;&gt;
/*  */

&lt;&lt;set $masochisttitles = [&quot;Masochist&quot;, &quot;Painslut&quot;, &quot;Sex Slave&quot;]&gt;&gt;
/*  */

&lt;&lt;set $sadotitles = [&quot;Dominatrix&quot;, &quot;Incubus&quot;, &quot;Man Eater&quot;, &quot;Sadist&quot;, &quot;Succubus&quot;]&gt;&gt;
/*  */

&lt;&lt;set $sissytitles = [&quot;Feminine Sissy&quot;, &quot;Feminine Sissy Bimbo&quot;, &quot;Sissy&quot;, &quot;Sissy Bimbo&quot;, &quot;Transformed Sissy&quot;, &quot;Sissy Slut&quot;, &quot;Sissy Slut Bimbo&quot;]&gt;&gt;
/*  */

&lt;&lt;set $pricetitles = [&quot;Bimbo Slut&quot;, &quot;Courtesan&quot;, &quot;Cumslut&quot;, &quot;Domesticated Bitch&quot;, &quot;Gigolo&quot;, &quot;Man Eater&quot;, &quot;Painslut&quot;, &quot;Sissy Slut&quot;, &quot;Sissy Slut Bimbo&quot;, &quot;Slut&quot;, &quot;Succubus&quot;]&gt;&gt;
/*  */</tw-passagedata><tw-passagedata pid="251" name="End Session" tags="nobr noreturn" position="4724,98" size="100,100">&lt;&lt;if $subtrainingtype&gt;&gt;
	&lt;&lt;unset $subtrainingtype&gt;&gt;
	
	&lt;&lt;if $cheats.includes(&quot;energyWell&quot;)&gt;&gt;
		&lt;&lt;set $PC.energy.current = $PC.energy.max&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $PC.energy.current = Math.max($PC.energy.current-1,0)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	

	&lt;&lt;if $trainingtype == &quot;Induce&quot;&gt;&gt;
		&lt;&lt;set $activeCharacter.fatigue.mental = Math.min($estate.training.incense, $activeCharacter.fatigue.max-1)&gt;&gt;
		&lt;&lt;unset $trainingtype&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include &quot;Train&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="252" name="Chattel Commencement" tags="nobr noreturn notruereturn" position="738,782" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $TrueReturn = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;Chattel Commencement&lt;/h3&gt;&lt;/center&gt;

You have chosen to build a brothel on your estate. You will be able to build different types of pen in your chattel that determine how effective fertility, pregnancy, stat heritability and many other things. Owning a chattel is very expensive, especially if you plan to own higher end pens.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	&lt;&lt;set _chattelfee = commify(30000)&gt;&gt;
	&lt;&lt;set _fee = 30000&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;center&gt;&lt;b&gt;Do you want to build a chattel?&lt;/b&gt;
&lt;&lt;if $PC.money &gt;= _fee&gt;&gt;
	 | @@color:lightgreen;💎_chattelfee@@&lt;br&gt;
	[[Yes|Chattel][$PC.money -= _fee, $buyChattel = 1, $estate.chattel.active = 1, $estate.rooms.used += 1, $estate.chattel.cap = 4]] |
&lt;&lt;else&gt;&gt;
	 | @@color:red;💎_chattelfee@@&lt;br&gt;
&lt;&lt;/if&gt;&gt;

[[No|Estate]]

&lt;/center&gt;</tw-passagedata><tw-passagedata pid="253" name="Chattel" tags="nobr" position="738,912" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Main&quot;&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;set $Chattel = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;if $activeCharacter&gt;&gt;
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
  &lt;&lt;set $activeCharacter = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;center&gt;&lt;h3&gt;Chattel | $estate.chattel.name&lt;/h3&gt;&lt;/center&gt;

&lt;&lt;if $buyChattel&gt;&gt;
	&lt;b&gt;@@color:forestgreen;You have built a chattel on your estate!@@&lt;/b&gt;&lt;br&gt;
	You have built a small chattel on your estate. It can hold up to a maximum of 4 slaves, but can be upgraded.
  &lt;&lt;set $estate.chattel.pens.amount = 2&gt;&gt;
  &lt;&lt;set $estate.chattel.pens[1] = {style:&quot;normal&quot;, focus:&quot;normal&quot;, size:&quot;normal&quot;, pop:0, cap:2}&gt;&gt;
  &lt;&lt;set $estate.chattel.pens[2] = {style:&quot;normal&quot;, focus:&quot;normal&quot;, size:&quot;normal&quot;, pop:0, cap:2}&gt;&gt;
  &lt;&lt;set $estate.chattel.page = 1&gt;&gt;
	&lt;&lt;set $buyChattel = 0&gt;&gt;
	&lt;br&gt;&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $buildBreedingPen&gt;&gt;
&lt;b&gt;@@color:forestgreen;You have built a new breeding pen in your chattel!@@&lt;/b&gt;&lt;br&gt;
Your chattel&#39;s holding pen has also been upgraded to accomodate any slaves being moved to the new breeding pen.

&lt;&lt;set $estate.chattel.pens.amount++&gt;&gt;
&lt;&lt;set $estate.chattel.pens[$estate.chattel.pens.amount] = {style:&quot;normal&quot;, focus:&quot;normal&quot;, size:&quot;normal&quot;, pop:0, cap:2}&gt;&gt;
&lt;&lt;set $estate.chattel.cap += 2&gt;&gt;
&lt;&lt;set $buildBreedingPen = 0&gt;&gt;
&lt;br&gt;&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.location == &quot;Slums&quot;&gt;&gt;
	Your chattel is lcoated close to the center of your estate, allowing you to transfer slaves from other residences to it without much trouble.
&lt;&lt;/if&gt;&gt;

Do you want to change this chattel&#39;s name? &lt;&lt;textbox &quot;$estate.chattel.name&quot; $estate.chattel.name &quot;Chattel&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Chattel Capacity&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Chattel Display&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="254" name="Chattel Display" tags="nobr" position="736,1047" size="100,100">&lt;&lt;if $estate.chattel.pop&gt;&gt;

&lt;&lt;set _chattelcap = $estate.chattel.cap&gt;&gt;
&lt;&lt;set _chattelpenpop = 0&gt;&gt;

&lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
  &lt;&lt;set _chattelcap += $estate.chattel.pens[_p].cap&gt;&gt;
  &lt;&lt;set _chattelpenpop += $estate.chattel.pens[_p].pop&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

&lt;tr&gt;
  &lt;th class = &quot;listing&quot; style=&#39;width: 30%;&#39;&gt;&lt;/th&gt;
  &lt;th class = &quot;listing&quot; style=&#39;width: 48%;&#39;&gt;&lt;/th&gt;
  &lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
  &lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;&lt;/th&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th colspan = 4&gt;Holding Cell [&lt;&lt;print $estate.chattel.pop-_chattelpenpop&gt;&gt;/$estate.chattel.cap]&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;
  &lt;th style=&#39;width: 34%;&#39;&gt;Identity&lt;/th&gt;
  &lt;th style=&#39;width: 44%;&#39;&gt;Pens&lt;/th&gt;
  &lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Libido&lt;/th&gt;
  &lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Fertility&lt;/th&gt;
&lt;/tr&gt;

&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
  &lt;&lt;set _character = $slaves[_i]&gt;&gt;
  &lt;&lt;include &quot;Modernize Slave&quot;&gt;&gt;

  &lt;&lt;if _character.location == &quot;chattel&quot; &amp;&amp; !_character.chattel.pen&gt;&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;&lt;displayTitle _character.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race _character.tribe &quot;Main Menu&quot;&gt;&gt; &lt;&lt;print &quot;[[_character.name|Slave Description][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt; &lt;&lt;gender _character.sex _character.gender&gt;&gt;&lt;/td&gt;
      &lt;td&gt;
        Holding Pen
        &lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
          &lt;&lt;if $estate.chattel.pens[_p].pop &lt; $estate.chattel.pens[_p].cap&gt;&gt;
            -- &lt;&lt;print &quot;[[Pen &quot; + _p + &quot;|Chattel][$estate.chattel.pens[&quot; + _p + &quot;].pop++, $activeCharacter = $slaves[&quot; + _i + &quot;], $activeCharacter.chattel.pen = &quot; + _p + &quot;, $activeCharacter.chattel.style = $estate.chattel.pens[&quot; + _p + &quot;].style, $activeCharacter.chattel.focus = $estate.chattel.pens[&quot; + _p + &quot;].focus]]&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/for&gt;&gt;
      &lt;/td&gt;
      &lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $libido[_character.sexual.libido.current]&gt;&gt;&lt;/td&gt;
      &lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $fertility[_character.sexual.fertility.current]&gt;&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;/table&gt;
&lt;&lt;/if&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;tr&gt;
&lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
  &lt;&lt;set _pen = $estate.chattel.pens[_p]&gt;&gt;
  &lt;&lt;if $estate.chattel.page == _p&gt;&gt;
    &lt;th&gt;Pen _p [_pen.pop/_pen.cap]&lt;/th&gt;
  &lt;&lt;else&gt;&gt;
    &lt;th&gt;&lt;&lt;print &quot;[[Pen &quot; + _p + &quot;|Chattel][$estate.chattel.page = &quot; + _p + &quot;]]&quot;&gt;&gt; [_pen.pop/_pen.cap]&lt;/th&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;&lt;set _pen = $estate.chattel.pens[$estate.chattel.page]&gt;&gt;
&lt;tr&gt;
  &lt;th style=&#39;width: 30%;&#39;&gt;Identity&lt;/th&gt;
  &lt;th style=&#39;width: 48%;&#39;&gt;Pens&lt;/th&gt;
  &lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Libido&lt;/th&gt;
  &lt;th class = &quot;listing&quot; style=&#39;width: 11%;&#39;&gt;Fertility&lt;/th&gt;
&lt;/tr&gt;

&lt;&lt;if _pen.pop == 0&gt;&gt;
  &lt;tr&gt;&lt;td colspan = 4&gt;Empty&lt;/td&gt;&lt;/tr&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
  &lt;&lt;set _character = $slaves[_i]&gt;&gt;
  &lt;&lt;include &quot;Modernize Slave&quot;&gt;&gt;

  &lt;&lt;if _character.chattel.pen&gt;&gt;
    &lt;&lt;if _character.chattel.style != $estate.chattel.pens[_character.chattel.pen].style&gt;&gt;
      &lt;&lt;set _character.chattel.style = $estate.chattel.pens[_character.chattel.pen].style&gt;&gt;
      &lt;&lt;run resetBonus(_character)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.chattel.focus != $estate.chattel.pens[_character.chattel.pen].focus&gt;&gt;
      &lt;&lt;set _character.chattel.focus = $estate.chattel.pens[_character.chattel.pen].focus&gt;&gt;
      &lt;&lt;run resetBonus(_character)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if _character.location == &quot;chattel&quot; &amp;&amp; _character.chattel.pen == $estate.chattel.page&gt;&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;&lt;displayTitle _character.title &quot;Main Menu&quot;&gt;&gt;&lt;&lt;race _character.tribe &quot;Main Menu&quot;&gt;&gt; &lt;&lt;print &quot;[[_character.name|Slave Description][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&quot;&gt;&gt; &lt;&lt;gender _character.sex _character.gender&gt;&gt;&lt;/td&gt;
      &lt;td&gt;
        &lt;&lt;if $estate.chattel.pop-_chattelpenpop &lt; $estate.chattel.cap&gt;&gt;
          &lt;&lt;print &quot;[[Holding Pen|Chattel][$estate.chattel.pens[&quot; + $estate.chattel.page + &quot;].pop--, $activeCharacter = $slaves[&quot; + _i + &quot;], $activeCharacter.chattel.pen = 0, $activeCharacter.chattel.style = null, $activeCharacter.chattel.focus = null]]&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          Pen _character.chattel.pen
        &lt;&lt;/if&gt;&gt;

        &lt;&lt;for _p = 1; _p &lt;= $estate.chattel.pens.amount; _p++&gt;&gt;
          &lt;&lt;if $estate.chattel.pens[_p].pop &lt; $estate.chattel.pens[_p].cap &amp;&amp; _p != $estate.chattel.page&gt;&gt;
            -- &lt;&lt;print &quot;[[Pen &quot; + _p + &quot;|Chattel][$estate.chattel.pens[&quot; + $estate.chattel.page + &quot;].pop--, $estate.chattel.pens[&quot; + _p + &quot;].pop++, $activeCharacter = $slaves[&quot; + _i + &quot;], $activeCharacter.chattel.pen = &quot; + _p + &quot;, $activeCharacter.chattel.style = $estate.chattel.pens[&quot; + _p + &quot;].style, $activeCharacter.chattel.focus = $estate.chattel.pens[&quot; + _p + &quot;].focus]]&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/for&gt;&gt;
      &lt;/td&gt;
      &lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $libido[_character.sexual.libido.current]&gt;&gt;&lt;/td&gt;
      &lt;td class = &quot;listing&quot;&gt;&lt;&lt;print $fertility[_character.sexual.fertility.current]&gt;&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;set _pairings = 0&gt;&gt;

&lt;tr&gt;&lt;th colspan = 1&gt;Offspring&lt;/th&gt;&lt;td colspan = 3&gt;
  &lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
    &lt;&lt;set _character = $slaves[_i]&gt;&gt;

    &lt;&lt;if _character.location == &quot;chattel&quot; &amp;&amp; _character.chattel.pen == $estate.chattel.page &amp;&amp; [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex)&gt;&gt;
      &lt;&lt;set _female = $slaves[_i]&gt;&gt;
      &lt;&lt;chattelpairings&gt;&gt;
      &lt;&lt;set _female = null&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/for&gt;&gt;
&lt;/td&gt;&lt;/tr&gt;

&lt;&lt;if !$estate.chattel.SFpage&gt;&gt;
  &lt;&lt;set $estate.chattel.SFpage = &quot;style&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;tr&gt;&lt;td colspan = 4&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
  &lt;&lt;if $estate.chattel.SFpage == &quot;style&quot;&gt;&gt;
    &lt;th colspan = 1&gt;Pen Style / [[Pregnancy Elixir|Chattel][$estate.chattel.SFpage = &quot;focus&quot;]]&lt;/th&gt;
  &lt;&lt;elseif $estate.chattel.SFpage == &quot;focus&quot;&gt;&gt;
    &lt;th colspan = 1&gt;[[Pen Style|Chattel][$estate.chattel.SFpage = &quot;style&quot;]] / Pregnancy Elixir&lt;/th&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;th colspan = 3&gt;Description&lt;/th&gt;
&lt;/tr&gt;

&lt;&lt;if !_pen.stylepage&gt;&gt;
  &lt;&lt;set _pen.stylepage = _pen.style&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_pen.focus&gt;&gt;
  &lt;&lt;set _pen.focus = &quot;normal&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_pen.focuspage&gt;&gt;
  &lt;&lt;set _pen.focuspage = _pen.focus&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _pen.stylepage == &quot;normal&quot;&gt;&gt;
  &lt;&lt;set _pen.styledesc = &quot;Normal style breeding pens can hold up to two slaves at one time. These pens have no special traits and can accommodate most mating pairs. This pen&#39;s style will have no affect on a slave&#39;s libido.&quot;&gt;&gt;

&lt;&lt;elseif _pen.stylepage == &quot;exhibit&quot;&gt;&gt;
  &lt;&lt;set _pen.styledesc = &quot;Exhibit style breeding pens can hold up to two slaves at one time. These pens are completely visible from all angles, as the walls of the pen are made with magically reinforced glass. Races that make sport out of mating, or are generally more comfortable mating out in the open will mate more often in these types of enclosures. Slaves that prefer privacy will mate less. The dominant of the mating pair will determine the mating frequency.&quot;&gt;&gt;

&lt;&lt;elseif _pen.stylepage == &quot;private&quot;&gt;&gt;
  &lt;&lt;set _pen.styledesc = &quot;Private style breeding pens can hold up to two slaves at one time. These pens are completely concealed, giving the slaves inside them the privacy to mate without being watched. Races that prefer to mate in privacy will mate more often in these types of enclosures. Slaves from races that make sport out of mating or are generally more comfortable mating out in the open will mate less. The dominant of the mating pair will determine the mating frequency.&quot;&gt;&gt;

&lt;&lt;elseif _pen.stylepage == &quot;commune&quot;&gt;&gt;
  &lt;&lt;set _pen.styledesc = &quot;Commune style breeding pens can hold up to four slaves at one time. These pens are very large and built into the ground so that they can be viewed from the top. These breeding pits are often used as punishments for slaves, or are used to breed slaves who have very low birth rates. While MMMF pairs are often the most popular pairings for this kind of enclosure if the female slave is the dominant of the mating tetrad she will determine the mating frequency.&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _pen.focuspage == &quot;normal&quot;&gt;&gt;
  &lt;&lt;set _pen.focusdesc = &quot;Standard pregnancy elixirs allow the fetus to feed on the mana of the mother, siphoning information as well nutrients from the mother with it. Offspring have no deficiencies but don&#39;t gain any surplus either. When the child is born, the mana collected transforms them into a fully formed young adult. The pregnancy period will last 12 weeks; 4 weeks in lactation begins, 8 weeks in the child is born and at 12 weeks lactation stops and the recovery period has ended, allowing for another pregnancy to begin.&quot;&gt;&gt;

&lt;&lt;elseif _pen.focuspage == &quot;hyperpregnancy&quot;&gt;&gt;
  &lt;&lt;set _pen.focusdesc = &quot;Hyperpregnancy elixirs extend the pregnancy period from 12 weeks to 20 weeks. Instead of being birthed at the end of the fetus stage, offspring spend 8 more weeks growing inside their mother&#39;s womb. Once born the child is about half-way through puberty and will become a young adult within hours. This grants a bonus is stat growth, but reduces the amount of energy the mother has as her womb will balloon to an enormous size. The pregnancy period will last 20 weeks; at 4 weeks lactation begins, at 8 weeks the child is fully formed but continues to grow in the womb, at 16 weeks the child is born and at 20 weeks lactation stops and the recovery period has ended, allowing for another pregnancy to begin.&quot;&gt;&gt;

&lt;&lt;elseif _pen.focuspage == &quot;multipregnancy&quot;&gt;&gt;
  &lt;&lt;set _pen.focusdesc = &quot;Multipregnancy elixirs allow a mother to produce multiple offspring from multiple fathers in one pregnancy. The pregnancy period starts at 8 weeks, and increases by 2 for every offspring added to the pregnancy. Six is the maximum amount of offspring per pregnancy, meaning a 18 week pregnancy period maximum. Each subsequent offspring has less time to grow in the womb and has to share resources with their siblings, resulting in a growth deficiency. The mother&#39;s stomach will grow greatly in size which will result in lower energy. The pregnancy period will last 8-18 weeks; at 4 weeks lactation begins, at 8 weeks plus 2 per offspring after the first the offspring will be born and 4 weeks after that lactation stops and the recovery period has ended, allowing for another pregnancy to begin.&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.chattel.SFpage == &quot;style&quot;&gt;&gt;
  &lt;tr&gt;
    &lt;td&gt;
      &lt;&lt;if _pen.style == &quot;normal&quot;&gt;&gt;
        [[Normal|Chattel][$estate.chattel.pens[$estate.chattel.page].stylepage = &quot;normal&quot;]] &lt;b&gt;[Current Style]&lt;/b&gt;
      &lt;&lt;else&gt;&gt;
        Normal  | [[Description|Chattel][$estate.chattel.pens[$estate.chattel.page].stylepage = &quot;normal&quot;]]
        &lt;&lt;if $PC.money &gt;= 10000 &amp;&amp; $estate.chattel.pens[$estate.chattel.page].pop &lt;= 2&gt;&gt;
          -- [[Build|Chattel][$estate.chattel.pens[$estate.chattel.page].style = &quot;normal&quot;, $PC.money -= 10000, $estate.chattel.pens[$estate.chattel.page].stylepage = &quot;normal&quot;]]
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;

      &lt;br&gt;&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(10000)&gt;&gt;@@&lt;/b&gt; Build Cost]

      &lt;hr&gt;

      &lt;&lt;if _pen.style == &quot;exhibit&quot;&gt;&gt;
        [[Exhibit|Chattel][$estate.chattel.pens[$estate.chattel.page].stylepage = &quot;exhibit&quot;]] &lt;b&gt;[Current Style]&lt;/b&gt;
      &lt;&lt;else&gt;&gt;
        Exhibit  | [[Description|Chattel][$estate.chattel.pens[$estate.chattel.page].stylepage = &quot;exhibit&quot;]]
        &lt;&lt;if $PC.money &gt;= 30000 &amp;&amp; $estate.chattel.pens[$estate.chattel.page].pop &lt;= 2&gt;&gt;
          -- [[Build|Chattel][$estate.chattel.pens[$estate.chattel.page].style = &quot;exhibit&quot;, $PC.money -= 30000, $estate.chattel.pens[$estate.chattel.page].stylepage = &quot;exhibit&quot;]]
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;

      &lt;br&gt;&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(30000)&gt;&gt;@@&lt;/b&gt; Build Cost]

      &lt;hr&gt;

      &lt;&lt;if _pen.style == &quot;private&quot;&gt;&gt;
        [[Private|Chattel][$estate.chattel.pens[$estate.chattel.page].stylepage = &quot;private&quot;]] &lt;b&gt;[Current Style]&lt;/b&gt;
      &lt;&lt;else&gt;&gt;
        Private  | [[Description|Chattel][$estate.chattel.pens[$estate.chattel.page].stylepage = &quot;private&quot;]]
        &lt;&lt;if $PC.money &gt;= 30000 &amp;&amp; $estate.chattel.pens[$estate.chattel.page].pop &lt;= 2&gt;&gt;
          -- [[Build|Chattel][$estate.chattel.pens[$estate.chattel.page].style = &quot;private&quot;, $PC.money -= 30000, $estate.chattel.pens[$estate.chattel.page].stylepage = &quot;private&quot;]]
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;

      &lt;br&gt;&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(30000)&gt;&gt;@@&lt;/b&gt; Build Cost]

      &lt;hr&gt;

      &lt;&lt;if _pen.style == &quot;commune&quot;&gt;&gt;
        [[Commune|Chattel][$estate.chattel.pens[$estate.chattel.page].stylepage = &quot;commune&quot;]] &lt;b&gt;[Current Style]&lt;/b&gt;
      &lt;&lt;else&gt;&gt;
        Commune | [[Description|Chattel][$estate.chattel.pens[$estate.chattel.page].stylepage = &quot;commune&quot;]]
        &lt;&lt;if $PC.money &gt;= 60000&gt;&gt;
          -- [[Build|Chattel][$estate.chattel.pens[$estate.chattel.page].style = &quot;commune&quot;, $PC.money -= 60000, $estate.chattel.pens[$estate.chattel.page].stylepage = &quot;commune&quot;, $estate.chattel.pens[$estate.chattel.page].cap = 4]]
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;

      &lt;br&gt;&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(60000)&gt;&gt;@@&lt;/b&gt; Build Cost]
    &lt;/td&gt;

    &lt;td colspan = 3&gt;
      &lt;&lt;if _pen.stylepage == _pen.style&gt;&gt;
        This pen is currently _pen.style-style.
      &lt;&lt;/if&gt;&gt;
      _pen.styledesc
    &lt;/td&gt;

  &lt;/tr&gt;

&lt;&lt;elseif $estate.chattel.SFpage == &quot;focus&quot;&gt;&gt;
  &lt;tr&gt;
    &lt;td&gt;
      &lt;&lt;if _pen.focus == &quot;normal&quot;&gt;&gt;
        [[Normal|Chattel][$estate.chattel.pens[$estate.chattel.page].focuspage = &quot;normal&quot;]] &lt;b&gt;[Current Elixir]&lt;/b&gt;
      &lt;&lt;else&gt;&gt;
        Normal | [[Description|Chattel][$estate.chattel.pens[$estate.chattel.page].focuspage = &quot;normal&quot;]] -- [[Use|Chattel][$estate.chattel.pens[$estate.chattel.page].focus = &quot;normal&quot;, $estate.chattel.pens[$estate.chattel.page].focuspage = &quot;normal&quot;]]
      &lt;&lt;/if&gt;&gt;

      &lt;br&gt;&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(5000)&gt;&gt;@@&lt;/b&gt; Per Pregnancy]

      &lt;hr&gt;

      &lt;&lt;if _pen.focus == &quot;multipregnancy&quot;&gt;&gt;
        [[Multipregnancy|Chattel][$estate.chattel.pens[$estate.chattel.page].focuspage = &quot;multipregnancy&quot;]] &lt;b&gt;[Current Elixir]&lt;/b&gt;
      &lt;&lt;else&gt;&gt;
        Multipregnancy | [[Description|Chattel][$estate.chattel.pens[$estate.chattel.page].focuspage = &quot;multipregnancy&quot;]] -- [[Use|Chattel][$estate.chattel.pens[$estate.chattel.page].focus = &quot;multipregnancy&quot;, $estate.chattel.pens[$estate.chattel.page].focuspage = &quot;multipregnancy&quot;]]
      &lt;&lt;/if&gt;&gt;

      &lt;br&gt;&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(10000)&gt;&gt;@@&lt;/b&gt; Per Pregnancy]

      &lt;hr&gt;

      &lt;&lt;if _pen.focus == &quot;hyperpregnancy&quot;&gt;&gt;
        [[Hyperpregnancy|Chattel][$estate.chattel.pens[$estate.chattel.page].focuspage = &quot;hyperpregnancy&quot;]] &lt;b&gt;[Current Elixir]&lt;/b&gt;
      &lt;&lt;else&gt;&gt;
        Hyperpregnancy | [[Description|Chattel][$estate.chattel.pens[$estate.chattel.page].focuspage = &quot;hyperpregnancy&quot;]] -- [[Use|Chattel][$estate.chattel.pens[$estate.chattel.page].focus = &quot;hyperpregnancy&quot;, $estate.chattel.pens[$estate.chattel.page].focuspage = &quot;hyperpregnancy&quot;]]
      &lt;&lt;/if&gt;&gt;

      &lt;br&gt;&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(20000)&gt;&gt;@@&lt;/b&gt; Per Pregnancy]
    &lt;/td&gt;

    &lt;td colspan = 3&gt;
      &lt;&lt;if _pen.focuspage == _pen.focus&gt;&gt;
        Slaves will be administered standard pregnancy elixirs upon being impregnated.
      &lt;&lt;/if&gt;&gt;
      _pen.focusdesc
    &lt;/td&gt;

  &lt;/tr&gt;
&lt;&lt;/if&gt;&gt;
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="255" name="Chattel Capacity" tags="nobr" position="738,1172" size="100,100">&lt;b&gt;Chattel Capacity&lt;/b&gt;&lt;br&gt;
Your chattel holding pen can currently accommodate up to $estate.chattel.cap slaves. You currently have $estate.chattel.pen.amount breeding pens in your chattel.

&lt;&lt;set _cost = 0&gt;&gt;

&lt;&lt;if $estate.chattel.pens.amount == 2&gt;&gt;
	&lt;&lt;set _newpenamount = 3&gt;&gt;
	&lt;&lt;set _cost = 20000&gt;&gt;

&lt;&lt;elseif $estate.chattel.pens.amount == 3&gt;&gt;
	&lt;&lt;set _newpenamount = 4&gt;&gt;
	&lt;&lt;set _cost = 40000&gt;&gt;

&lt;&lt;elseif $estate.chattel.pens.amount == 4&gt;&gt;
	&lt;&lt;set _newpenamount = 5&gt;&gt;
	&lt;&lt;set _cost = 80000&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _fee = commify(_cost)&gt;&gt;

&lt;br&gt;

&lt;&lt;if $estate.chattel.pens.amount &gt;= 5&gt;&gt;
	&lt;b&gt;You have upgraded your chattel to hold the maximum amount of breeding pens.&lt;/b&gt;
&lt;&lt;elseif $PC.money &gt;= _cost&gt;&gt;
	&lt;&lt;print &quot;[[Build New Breeding Pen|Chattel][$PC.money -= _cost, $buildBreedingPen = 1]]&quot;&gt;&gt; | @@color:lightgreen;💎_fee@@
&lt;&lt;else&gt;&gt;
	You need @@color:lightgreen;💎_cost@@ to build a new breeding pen.
&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="256" name="Chattel Pairing Widget" tags="nobr widget" position="1621,1091" size="100,100">&lt;&lt;widget &quot;chattelpairings&quot;&gt;&gt;

&lt;&lt;for _p = 1; _p &lt;= $slaves.amount; _p++&gt;&gt;
  &lt;&lt;set _partner = $slaves[_p]&gt;&gt;

  &lt;&lt;if _partner.location == &quot;chattel&quot; &amp;&amp; _partner.chattel.pen == $estate.chattel.page &amp;&amp; [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_partner.sex)&gt;&gt;
    &lt;&lt;if _female.race == &quot;elf&quot;&gt;&gt;
      &lt;&lt;if [&quot;human&quot;, &quot;forest elf&quot;, &quot;high elf&quot;, &quot;dark elf&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;human&quot;&gt;&gt;
      &lt;&lt;if [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;dwarf&quot;&gt;&gt;
      &lt;&lt;if [&quot;dwarf&quot;, &quot;human&quot;, &quot;gnome&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;gnome&quot;&gt;&gt;
      &lt;&lt;if [&quot;dwarf&quot;, &quot;human&quot;, &quot;gnome&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;giant&quot;&gt;&gt;
      &lt;&lt;if [&quot;giant&quot;, &quot;human&quot;, &quot;orc&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;neko&quot;&gt;&gt;
      &lt;&lt;if [&quot;human&quot;, &quot;neko&quot;, &quot;pantheran&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;canus&quot;&gt;&gt;
      &lt;&lt;if [&quot;human&quot;, &quot;canus&quot;, &quot;mongrel&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;pantheran&quot;&gt;&gt;
      &lt;&lt;if [&quot;human&quot;, &quot;neko&quot;, &quot;pantheran&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;mongrel&quot;&gt;&gt;
      &lt;&lt;if [&quot;human&quot;, &quot;canus&quot;, &quot;mongrel&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;holstaur&quot;&gt;&gt;
      &lt;&lt;if [&quot;minotaur&quot;, &quot;human&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;moon rabbit&quot;&gt;&gt;
      &lt;&lt;if [&quot;human&quot;, &quot;moon rabbit&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _female.tribe == &quot;orc&quot;&gt;&gt;
      &lt;&lt;if [&quot;orc&quot;, &quot;giant&quot;, &quot;human&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _female.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;if _female.tribe != _partner.tribe&gt;&gt;
          &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;elseif [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;race _partner.tribe &quot;Pairing&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="257" name="Pen Results Widget" tags="nobr widget" position="1621,1221" size="100,100">&lt;&lt;widget &quot;penresults&quot;&gt;&gt;
&lt;&lt;set _character.stronger = []&gt;&gt;
&lt;&lt;set _character.equal = []&gt;&gt;
&lt;&lt;set _character.weaker = []&gt;&gt;

&lt;&lt;set _character.MU = []&gt;&gt;
&lt;&lt;set _character.MAU = []&gt;&gt;
&lt;&lt;set _character.MSU = []&gt;&gt;
&lt;&lt;set _character.FU = []&gt;&gt;
&lt;&lt;set _character.FAU = []&gt;&gt;
&lt;&lt;set _character.FSU = []&gt;&gt;

&lt;&lt;set _character.ME = []&gt;&gt;
&lt;&lt;set _character.FE = []&gt;&gt;

&lt;&lt;set _character.MSS = []&gt;&gt;
&lt;&lt;set _character.MS = []&gt;&gt;
&lt;&lt;set _character.MUS = []&gt;&gt;
&lt;&lt;set _character.FSS = []&gt;&gt;
&lt;&lt;set _character.FS = []&gt;&gt;
&lt;&lt;set _character.FUS = []&gt;&gt;

&lt;&lt;set _mother = _character&gt;&gt;

&lt;&lt;for _p = 1; _p &lt;= $slaves.amount; _p++&gt;&gt;
  &lt;&lt;set _partner = $slaves[_p]&gt;&gt;

  &lt;&lt;if _partner.location == &quot;chattel&quot; &amp;&amp; _partner.chattel.pen == _character.chattel.pen &amp;&amp; _p != _i&gt;&gt;
    &lt;&lt;if _character.sexual.strength.current &gt; _partner.sexual.strength.current&gt;&gt;
      &lt;&lt;set _character.weaker.push(_p)&gt;&gt;

      &lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex) &amp;&amp; [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_partner.sex)&gt;&gt;
        &lt;&lt;breeding&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif _character.sexual.strength.current == _partner.sexual.strength.current&gt;&gt;
      &lt;&lt;set _character.equal.push(_p)&gt;&gt;

      &lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex) &amp;&amp; [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_partner.sex)&gt;&gt;
        &lt;&lt;breeding&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _character.stronger.push(_p)&gt;&gt;

      &lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex) &amp;&amp; [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_partner.sex)&gt;&gt;
        &lt;&lt;breeding&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;if _progeny&gt;&gt;
  &lt;&lt;set _character.pregnancy.child.push(_progeny)&gt;&gt;

  &lt;&lt;if _character.pregnancy.child.length &amp;&amp; _character.pregnancy.weeks&gt;&gt;
    &lt;&lt;set _character.pregnancy.duration += 2&gt;&gt;

  &lt;&lt;elseif _character.chattel.focus == &quot;hyperpregnancy&quot;&gt;&gt;
    &lt;&lt;set _character.pregnancy.duration = 16&gt;&gt;
    &lt;&lt;set _character.pregnancy.type = _character.chattel.focus&gt;&gt;

  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _character.pregnancy.duration = 8&gt;&gt;
    &lt;&lt;set _character.pregnancy.type = _character.chattel.focus&gt;&gt;

  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set _progeny = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.stronger.length&gt;&gt;
  &lt;&lt;for _l = 0; _l &lt; _character.stronger.length;_l++&gt;&gt;
    &lt;&lt;set _num = _character.stronger[_l]&gt;&gt;
    &lt;&lt;set _partner = $slaves[_num]&gt;&gt;
    &lt;&lt;set _beautythreshold = Math.max(_partner.beauty-3, 1)&gt;&gt;

    &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_partner.sex)&gt;&gt;
      &lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;, &quot;minotaur&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;set _character.MAU.push(_partner.name)&gt;&gt;

      &lt;&lt;elseif _character.beauty &gt;= _beautythreshold&gt;&gt;
        &lt;&lt;set _character.MU.push(_partner.name)&gt;&gt;

      &lt;&lt;elseif _character.beauty &lt; _beautythreshold&gt;&gt;
        &lt;&lt;set _character.MSU.push(_partner.name)&gt;&gt;

      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains(_partner.sex)&gt;&gt;
      &lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;, &quot;minotaur&quot;].contains(_partner.tribe)&gt;&gt;
        &lt;&lt;set _character.FAU.push(_partner.name)&gt;&gt;

      &lt;&lt;elseif _character.beauty &gt;= _beautythreshold&gt;&gt;
        &lt;&lt;set _character.FU.push(_partner.name)&gt;&gt;

      &lt;&lt;elseif _character.beauty &lt; _beautythreshold&gt;&gt;
        &lt;&lt;set _character.FSU.push(_partner.name)&gt;&gt;

      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/for&gt;&gt;

  &lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex)&gt;&gt;
    &lt;&lt;if _character.MAU.length &gt; 0&gt;&gt;
      &lt;&lt;namelist _character.MAU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; relentlessly fucked &quot; + _character.name + &quot; in all of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; holes with no regard to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; health. &quot;, _character.name + &quot; was aggressively breed by &quot; + _namelist + &quot; during the week multiple times, only having time to rest during the night. &quot;, _namelist + &quot; was indiscriminate in the use of &quot; + _character.name + &quot;&#39;s, fucking &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; constantly throughout the week. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FAU.length&gt;&gt;
      &lt;&lt;namelist _character.FAU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; used &quot; + _character.name + &quot;&#39;s mouth for everything, from ass eating to pussy cleaning. &quot;, _character.name + &quot; was finger-fucked, forced to provide all kinds of oral attentions and was overall treated as a sextoy by &quot; + _namelist + &quot;. &quot;, _namelist + &quot;&#39;s ravenous sexual appetite was sated with the help of &quot; + _character.name + &quot;&#39;s body during the week. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.MU.length&gt;&gt;
      &lt;&lt;namelist _character.MU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; used &quot; + _character.name + &quot;&#39;s various holes throughout the week whenever &lt;&lt;print $heshe[&#39;&quot; + _partner.gender + &quot;&#39;]&gt;&gt; pleased. &quot;, _character.name + &quot; was used as nothing but a fucktoy for &quot; + _namelist + &quot; during the week. &quot;]&gt;&gt;

      &lt;&lt;namelist _character.MU &quot;or&quot;&gt;&gt;
      &lt;&lt;set _options.push(&quot;You have a hard time remembering passing by this pen during the week without seeing &quot; + _namelist + &quot; using one of &quot; + _character.name + &quot;&#39;s holes. &quot;)&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FU.length&gt;&gt;
      &lt;&lt;namelist _character.FU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; used &quot; + _character.name + &quot;&#39;s mouth as a pussy cleaner and also used it to clean various bodily fluids off the pen floors. &quot;, _character.name + &quot; was treated as &quot; + _namelist + &quot;&#39;s bitch for the whole week and was forced to lick pussy and do menial chores around the pen. &quot;, _character.name + &quot; endured a week of being used sexually and physically by &quot; + _namelist + &quot;. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.MSU.length&gt;&gt;
      &lt;&lt;namelist _character.MSU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; found &quot; + _character.name + &quot; too ugly to fuck but didn&#39;t mind using &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; as a cum receptacle while horny. &quot;, &quot;Due to &quot; + _character.name + &quot;&#39;s ugliness &quot; + _namelist + &quot; was treated &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; as a pariah except when &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; was used for sexual gratification. &quot;, _character.name + &quot;&#39;s existence was completely ignored by &quot; + _namelist + &quot; except during bouts of extreme horniness. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FSU.length&gt;&gt;
      &lt;&lt;namelist _character.FSU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; spent the week lording over &quot; + _character.name + &quot; due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; inferior looks and strength. &quot;, _character.name + &quot; was treated either treated like trash or completely ignored for the whole week by &quot; + _namelist + &quot;. &quot;, _character.name + &quot; was nothing but the pen bitch for the duration of the past week, being ordered around the whole time by &quot; + _namelist + &quot;. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_character.sex)&gt;&gt;
    &lt;&lt;if _character.MAU.length&gt;&gt;
      &lt;&lt;namelist _character.MAU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; violently fucked both &quot; + _character.name + &quot;&#39;s mouth and ass for both sexual pleasure and to assert dominance. &quot;]&gt;&gt;

      &lt;&lt;namelist _character.MAU &quot;or&quot;&gt;&gt;
      &lt;&lt;set _options.push(_character.name + &quot; was cornered multiple times in the pen by &quot; + _namelist + &quot; and had &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; mouth and rectum used numerous times for sexual relief. &quot;, &quot;There were multiple times during the week where &quot; + _character.name + &quot; was grabbed by &quot; + _namelist + &quot; and had &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; holes thoroughly used and fulled of cum. &quot;)&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FAU.length&gt;&gt;
      &lt;&lt;namelist _character.FAU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; used &quot; + _character.name + &quot;&#39;s mouth, hands and cock for pleasure forcibly throughout the week. &quot;, _character.name + &quot;&#39;s cock was abused for pleasure by &quot; + _namelist + &quot; and when it was too overused &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; was forced to use &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; mouth and hands for pleasure in its stead. &quot;, _namelist + &quot; forcibly fucked &quot; + _character.name + &quot; multiple times until &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; cock was sore from overuse. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.MU.length&gt;&gt;
      &lt;&lt;namelist _character.MU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; ignored &quot; + _character.name + &quot; for the most part except when plagued with an extreme amount of horniness. &quot;, _character.name + &quot; was able to keep out of &quot; + _namelist + &quot;&#39;s way during most of the week, but was still forced to perform sexual favors occasionally. &quot; , &quot;During the week &quot; + _character.name + &quot; was forced to perform multiple sexual acts for &quot; + _namelist + &quot;. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FU.length&gt;&gt;
      &lt;&lt;namelist _character.FU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; spent the week fucking &quot; + _character.name + &quot; whenever convenient, forcibly taking pleasure from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; cock. &quot;, _character.name + &quot; was forced to fuck, pleasure and appease &quot; + _namelist + &quot; for the entire week whenever possible. &quot;, _namelist + &quot; deemed &quot; + _character.name + &quot; good looking enough to use &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; as a fucktoy for the week. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.MSU.length&gt;&gt;
      &lt;&lt;namelist _character.MSU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; used &quot; + _character.name + &quot; for entertainment when bored during the week, forcing &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; to do things like lick dried cum off of the pen floors. &quot;, _character.name + &quot; was generally treated like trash by &quot; + _namelist + &quot; during the week, being forced to do degrading things for entertainment. &quot;]&gt;&gt;

      &lt;&lt;namelist _character.MSU &quot;or&quot;&gt;&gt;
      &lt;&lt;set _options.push(&quot;Many times during the week &quot; + _namelist + &quot; forced &quot; + _character.name + &quot; to degrade &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; to remind &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; place in the pen. &quot;)

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FSU.length&gt;&gt;
      &lt;&lt;namelist _character.FSU &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_namelist + &quot; found &quot; + _character.name + &quot; much to ugly to fuck but didn&#39;t mind using &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; tongue and fingers during bouts of horniness. &quot;, _namelist + &quot; used everything but &quot; + _character.name + &quot;&#39;s cock for sexual gratification, too scared to get pregnant by someone as ugly as &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &quot;, _character.name + &quot; was repeatedly mocked and teased for &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; ugliness while &quot; + _namelist + &quot; used &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; tongue as a certified pussy cleaner. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;


&lt;&lt;if _character.equal.length&gt;&gt;
  &lt;&lt;for _l = 0; _l &lt; _character.equal.length;_l++&gt;&gt;
    &lt;&lt;set _num = _character.equal[_l]&gt;&gt;
    &lt;&lt;set _partner = $slaves[_num]&gt;&gt;
    &lt;&lt;set _beautythreshold = Math.max(_partner.beauty-3, 1)&gt;&gt;

    &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_partner.sex)&gt;&gt;
      &lt;&lt;set _character.ME.push(_partner.name)&gt;&gt;
    &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains(_partner.sex)&gt;&gt;
      &lt;&lt;set _character.FE.push(_partner.name)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/for&gt;&gt;

  &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_character.sex)&gt;&gt;
    &lt;&lt;if _character.ME.length&gt;&gt;
      &lt;&lt;namelist _character.ME &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; kept to &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; most of the week even with &quot; + _namelist + &quot; in the pen with &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &quot;, _namelist + &quot; payed little to no attention to &quot; + _character.name + &quot; during the week, much to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; agreement. &quot;, &quot;During the week &quot; + _character.name + &quot; ignored &quot; + _namelist + &quot; and kept to &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FE.length&gt;&gt;
      &lt;&lt;namelist _character.FE &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; struggled multiple times during the week trying to wrest breeding rights from &quot; + _namelist + &quot; during the week, winning the right to breed a few times. &quot;, _namelist + &quot; responded to &quot; + _character.name + &quot;&#39;s aggressiveness inside of the pen with controlled resistance, preventing &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; from breeding some days, but losing others. &quot;, &quot;During the week &quot; + _character.name + &quot; spent &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; time trying to breed &quot; + _namelist + &quot; to moderate success. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex)&gt;&gt;
    &lt;&lt;if _character.ME.length&gt;&gt;
      &lt;&lt;namelist _character.ME &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; defended &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; against several attacks from &quot; + _namelist + &quot; to moderate success, winning some engagements and being breed after losing others. &quot;, _namelist + &quot; made many attempts to breed &quot; + _character.name + &quot; during the week, successfully breeding &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; multiple times. &quot;, _character.name + &quot; was breed multiple times during the week by &quot; + _namelist + &quot; despite &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; numerous successful attempts to prevent that from happening. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FE.length&gt;&gt;
      &lt;&lt;namelist _character.FE &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; sated some of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; boredom by having light conversations with &quot; + _namelist + &quot;. &quot;, _namelist + &quot; had limited interaction with &quot; + _character.name + &quot;, never going further than verbal communication. &quot;, &quot;During the week &quot; + _character.name + &quot; made a small effort to interact with &quot; + _namelist + &quot; but never progressed further than minimal contact. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.weaker.length&gt;&gt;
  &lt;&lt;for _l = 0; _l &lt; _character.weaker.length;_l++&gt;&gt;
    &lt;&lt;set _num = _character.weaker[_l]&gt;&gt;
    &lt;&lt;set _partner = $slaves[_num]&gt;&gt;
    &lt;&lt;set _beautythreshold = Math.max(_character.beauty-3, 1)&gt;&gt;

    &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_partner.sex)&gt;&gt;
      &lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
        &lt;&lt;set _character.MSS.push(_partner.name)&gt;&gt;

      &lt;&lt;elseif _partner.beauty &gt;= _beautythreshold&gt;&gt;
        &lt;&lt;set _character.MS.push(_partner.name)&gt;&gt;

      &lt;&lt;elseif _partner.beauty &lt; _beautythreshold&gt;&gt;
        &lt;&lt;set _character.MUS.push(_partner.name)&gt;&gt;

      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains(_partner.sex)&gt;&gt;
      &lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;, &quot;minotaur&quot;].contains(_character.tribe)&gt;&gt;
        &lt;&lt;set _character.FSS.push(_partner.name)&gt;&gt;

      &lt;&lt;elseif _partner.beauty &gt;= _beautythreshold&gt;&gt;
        &lt;&lt;set _character.FS.push(_partner.name)&gt;&gt;

      &lt;&lt;elseif _partner.beauty &lt; _beautythreshold&gt;&gt;
        &lt;&lt;set _character.FUS.push(_partner.name)&gt;&gt;

      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/for&gt;&gt;

  &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_character.sex)&gt;&gt;
    &lt;&lt;if _character.MSS.length&gt;&gt;
      &lt;&lt;namelist _character.MSS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; thoroughly used &quot; + _namelist + &quot;&#39;s mouth and ass whenever convenient for &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; own sexual pleasure. &quot;, _namelist + &quot; was fucked by &quot; + _character.name + &quot; so that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; could demonstrate &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; dominance in the pen. &quot;, &quot;Throughout the week &quot; + _character.name + &quot; repeatedly drowned &quot; + _namelist + &quot;&#39;s holes with cum. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FSS.length&gt;&gt;
      &lt;&lt;namelist _character.FSS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; pounded &quot; + _namelist + &quot;&#39;s holes, filling them to the brim with &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; cum. &quot;, _namelist + &quot; was brutally used in a sexual manner numerous times during the week by &quot; + _character.name  + &quot;. &quot;]&gt;&gt;

      &lt;&lt;namelist _character.FSS &quot;or&quot;&gt;&gt;
      &lt;&lt;set _options.push(&quot;Multiple times during the week &quot; + _character.name + &quot; dragged &quot; + _namelist + &quot; into a corner to fuck until &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; libido was completely sated. &quot;)&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.MS.length&gt;&gt;
      &lt;&lt;namelist _character.MS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; had &quot; + _namelist + &quot; perform various menial tasks around the pen during the week. &quot;, _namelist + &quot; was generally bullied for food, used for physical labor and disrespected by &quot; + _character.name + &quot;. &quot;, &quot;Many times during the week &quot; + _namelist + &quot; was subjugated to mistreatment by &quot; + _character.name + &quot; due to being inferior. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FS.length&gt;&gt;
      &lt;&lt;namelist _character.FS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; took many pleasures from &quot; + _namelist + &quot;&#39;s body, breeding multiple times during the week whenever &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; was horny. &quot;, _namelist + &quot;&#39;s body was used in its entirety to sate &quot; + _character.name + &quot;&#39;s libido several times during the week. &quot;, &quot;Within the span of a week &quot; + _character.name + &quot; breed &quot; + _namelist + &quot; countless times. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.MUS.length&gt;&gt;
      &lt;&lt;namelist _character.MUS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; forced &quot; + _namelist + &quot; to perform humiliating tasks for &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; own entertainment. &quot;, _namelist + &quot; was treated horribly by &quot; + _character.name + &quot; during the week, being forced to endure being humiliated and being treated like garbage. &quot;]&gt;&gt;

      &lt;&lt;namelist _character.MUS &quot;or&quot;&gt;&gt;
      &lt;&lt;set _options.push(&quot;During the week &quot; + _character.name + &quot; picked &quot; + _namelist + &quot; to humiliate with actions like forced piss drinking. &quot;)&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FUS.length&gt;&gt;
      &lt;&lt;namelist _character.FUS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; seldom used &quot; + _namelist + &quot;&#39;s body for sexual pleasure due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; superior looks. &quot;, _namelist + &quot; was much too ugly to garner some, if any sexual attention from &quot; + _character.name + &quot; but did receive the occasional fucking. &quot;, _namelist + &quot; was happy to receive very little sexual attention from &quot; + _character.name + &quot; but was ashamed it was due to &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; having higher standards. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains(_character.sex)&gt;&gt;
    &lt;&lt;if _character.MSS.length&gt;&gt;
      &lt;&lt;namelist _character.MSS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; fucked &quot; + _namelist + &quot;&#39;s cock raw to satisfy &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; sexual appetite. &quot;, _namelist + &quot; couldn&#39;t escape being used in some sort of sexual manner by &quot; + _character.name + &quot;, sometimes even being used while asleep. &quot;, _namelist + &quot;&#39;s idea of sex has been tainted by &quot; + _character.name + &quot;&#39;s use of force during mating. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FSS.length&gt;&gt;
      &lt;&lt;namelist _character.FSS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; using &quot; + _namelist + &quot;&#39;s body as &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; own personal fucktoy whenever &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pleased. &quot;, _namelist + &quot; was forced to perform various different sexual acts for &quot; + _character.name + &quot; over the course of the week. &quot;]&gt;&gt;

      &lt;&lt;namelist _character.FSS &quot;or&quot;&gt;&gt;
      &lt;&lt;set _options.push(_character.name + &quot; was not shy about having &quot; + _namelist + &quot; eat out &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; cunt or any other sexual favor of that nature. &quot;)

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.MS.length&gt;&gt;
      &lt;&lt;namelist _character.MS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; used &quot; + _namelist + &quot;&#39;s to sate &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; sexual urges whenever &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; was horny. &quot;, _namelist + &quot; was mated by &quot; + _character.name + &quot; many timed during the week whether it was desired or not. &quot;, _character.name + &quot; used &quot; + _namelist + &quot;&#39;s body for sexual pleasure but &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; gave no consideration to anyone&#39;s enjoyment but &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; own. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FS.length&gt;&gt;
      &lt;&lt;namelist _character.FS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; took food from and used &quot; + _namelist + &quot; to perform menial tasks around the pen. &quot;, _namelist + &quot; was nothing but a unrecognized servant for &quot; + _character.name + &quot; during the week. &quot;]&gt;&gt;

      &lt;&lt;namelist _character.FS &quot;or&quot;&gt;&gt;
      &lt;&lt;set _options.push(_character.name + &quot; always had &quot; + _namelist + &quot; performing some kind of task for &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; during the week. &quot;)&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.MUS.length&gt;&gt;
      &lt;&lt;namelist _character.MUS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; found &quot; + _namelist + &quot; much too ugly to copulate with but didn&#39;t mind using other appendages to satiate &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; sexual needs. &quot;, _character.name + &quot; was too scared of getting pregnant by &quot; + _namelist + &quot; and refrained from any PIV action. &quot;, _namelist + &quot; was rebuffed of any attempts to fuck &quot; + _character.name + &quot; and was instead used as a carpet muncher. &quot;]&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _character.FUS.length&gt;&gt;
      &lt;&lt;namelist _character.FUS &quot;and&quot;&gt;&gt;
      &lt;&lt;set _options = [_character.name + &quot; lorded over &quot; + _namelist + &quot; with the fact that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;s a much higher quality woman. &quot;, _namelist + &quot; was treated like complete garbage by &quot; + _character.name + &quot; due to being much more uglier than &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &quot;]&gt;&gt;

      &lt;&lt;namelist _character.FUS &quot;or&quot;&gt;&gt;
      &lt;&lt;set _options.push(_character.name + &quot; spent a lot of time berating &quot; + _namelist + &quot; for inconsequential reasons due to perceived superiority. &quot;)&gt;&gt;

      &lt;&lt;set _character.summary += either(_options)&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="258" name="Name List Widget" tags="widget nobr" position="1751,961" size="100,100">&lt;&lt;widget &quot;namelist&quot;&gt;&gt;
&lt;&lt;set _list = $args[0]&gt;&gt;
&lt;&lt;set _namelist = &quot;&quot;&gt;&gt;

&lt;&lt;for _o = 0; _o &lt; _list.length;_o++&gt;&gt;
  &lt;&lt;if !_o&gt;&gt;
    &lt;&lt;set _namelist += _list[_o]&gt;&gt;
  &lt;&lt;elseif _o == _list.length-1 &amp;&amp; $args[1] == &quot;and&quot;&gt;&gt;
    &lt;&lt;set _namelist += &quot; and &quot; + _list[_o]&gt;&gt;
  &lt;&lt;elseif _o == _list.length-1 &amp;&amp; $args[1] == &quot;or&quot;&gt;&gt;
    &lt;&lt;set _namelist += &quot; or &quot; + _list[_o]&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _namelist += &quot;, &quot; + _list[_o]&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="259" name="Breeding Widget" tags="widget nobr" position="1753,1091" size="100,100">&lt;&lt;widget &quot;breeding&quot;&gt;&gt;

&lt;&lt;set _offspring = []&gt;&gt;
&lt;&lt;set _rand = rand(1, 100)&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;].contains(_partner.tribe)&gt;&gt;
  &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;].contains(_mother.tribe) || [&quot;human&quot;].contains(_partner.tribe)&gt;&gt;
  &lt;&lt;if [_mother.tribe, _partner.tribe].contains(&quot;pantheran&quot;)&gt;&gt;
    &lt;&lt;set _offspring.push(&quot;neko&quot;)&gt;&gt;
    
  &lt;&lt;elseif [_mother.tribe, _partner.tribe].contains(&quot;mongrel&quot;)&gt;&gt;
    &lt;&lt;set _offspring.push(&quot;canus&quot;)&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;elf&quot;].contains(_mother.race)&gt;&gt;
  &lt;&lt;if [&quot;forest elf&quot;, &quot;high elf&quot;, &quot;dark elf&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;dwarf&quot;, &quot;gnome&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;dwarf&quot;, &quot;gnome&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;neko&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;neko&quot;, &quot;pantheran&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;canus&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;canus&quot;, &quot;mongrel&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;neko&quot;, &quot;pantheran&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;canus&quot;, &quot;mongrel&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;holstaur&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;minotaur&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;moon rabbit&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;].contains(_mother.tribe)&gt;&gt;
  &lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;].contains(_partner.tribe)&gt;&gt;
    &lt;&lt;set _offspring.push(_mother.tribe)&gt;&gt;
    &lt;&lt;if _mother.tribe != _partner.tribe&gt;&gt;
      &lt;&lt;set _offspring.push(_partner.tribe)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC == _partner&gt;&gt;
  &lt;&lt;set _mother.pregnancy.type = $PC.pregnancy.type&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _offspring.length &amp;&amp; !_mother.pregnancy.weeks &amp;&amp; !_mother.pregnancy.recovery &amp;&amp; _mother.maturity &lt; 3 &amp;&amp; _mother.pregnancy.child.length &lt; 1&gt;&gt;
  &lt;&lt;set _fertility = 0.20 * (_mother.sexual.fertility.current/3)&gt;&gt;
  &lt;&lt;set _potency = 1 * (_partner.sexual.fertility.current/3)&gt;&gt;
  &lt;&lt;set _chance = _fertility * _potency&gt;&gt;

  &lt;&lt;if $sex &amp;&amp; _mother.combat.stimulation == 100&gt;&gt;
    &lt;&lt;set _chance = 1&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _roll = Math.random()&gt;&gt;

  &lt;&lt;if _chance &gt;= _roll&gt;&gt;
    &lt;&lt;set _mother.pregnancy.impregnated = 1&gt;&gt;
    &lt;&lt;set _selection = either(_offspring)&gt;&gt;
    &lt;&lt;offspring _mother _partner _selection&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _offspring.length &amp;&amp; !_mother.pregnancy.recovery &amp;&amp; _mother.pregnancy.type == &quot;multipregnancy&quot; &amp;&amp; _mother.pregnancy.child.length &lt; 6 &amp;&amp; _mother.maturity &lt; 3&gt;&gt;
  &lt;&lt;set _fertility = 0.20 * (_mother.sexual.fertility.current/3)&gt;&gt;
  &lt;&lt;set _potency = 1 * (_partner.sexual.fertility.current/3)&gt;&gt;
  &lt;&lt;set _chance = _fertility * _potency&gt;&gt;

  &lt;&lt;if $sex &amp;&amp; _mother.combat.stimulation == 100&gt;&gt;
    &lt;&lt;set _chance = 1&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _roll = Math.random()&gt;&gt;

  &lt;&lt;if _chance &gt;= _roll&gt;&gt;
    &lt;&lt;set _mother.pregnancy.impregnated = 1&gt;&gt;
    &lt;&lt;set _selection = either(_offspring)&gt;&gt;
    &lt;&lt;offspring _mother _partner _selection&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="260" name="Offspring Widget" tags="widget nobr" position="1750,571" size="100,100">&lt;&lt;widget &quot;offspring&quot;&gt;&gt;

&lt;&lt;include &quot;New Progeny&quot;&gt;&gt;

&lt;&lt;set _mother = $args[0]&gt;&gt;
&lt;&lt;set _father = $args[1]&gt;&gt;
&lt;&lt;set _progeny.tribe = $args[2]&gt;&gt;

&lt;&lt;set _deficieny = 1&gt;&gt;
&lt;&lt;set _bonus = 0&gt;&gt;

&lt;&lt;if _mother.chattel.focus == &quot;hyperpregnancy&quot;&gt;&gt;
  &lt;&lt;set _bonus += 1&gt;&gt;

&lt;&lt;elseif _mother.chattel.focus == &quot;multipregnancy&quot;&gt;&gt;
  &lt;&lt;set _deficieny = 1 - (0.05 * _mother.pregnancy.child.length)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _skintones = []&gt;&gt;
&lt;&lt;set _monstertones = []&gt;&gt;
&lt;&lt;set _furs = []&gt;&gt;

&lt;&lt;set _haircolors = []&gt;&gt;

&lt;&lt;set _eyecolors = []&gt;&gt;
&lt;&lt;set _eyecolors.push(_mother.eyecolor, _father.eyecolor)&gt;&gt;

&lt;&lt;if _mother.fur&gt;&gt;
  &lt;&lt;set _furs.push(_mother.fur)&gt;&gt;

&lt;&lt;elseif _mother.race == &quot;monster&quot;&gt;&gt;
  &lt;&lt;set _monstertones.push(_mother.skintone)&gt;&gt;

&lt;&lt;else&gt;&gt;
  &lt;&lt;set _skintones.push(_mother.skintone)&gt;&gt;
  &lt;&lt;set _haircolors.push(_mother.haircolor)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _father.fur&gt;&gt;
  &lt;&lt;set _furs.push(_father.fur)&gt;&gt;

&lt;&lt;elseif _father.race == &quot;monster&quot;&gt;&gt;
  &lt;&lt;set _monstertones.push(_father.skintone)&gt;&gt;

&lt;&lt;else&gt;&gt;
  &lt;&lt;set _skintones.push(_father.skintone)&gt;&gt;
  &lt;&lt;set _haircolors.push(_father.haircolor)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _intmod = (_deficieny * ((_mother.intelligence + _father.intelligence) / 2)) + _bonus&gt;&gt;
&lt;&lt;set _beautymod = (_deficieny * ((_mother.beauty + _father.beauty) / 2)) + _bonus&gt;&gt;
&lt;&lt;set _lipsmod = (_deficieny * ((_mother.lips.mod + _father.lips.mod) / 2)) + _bonus&gt;&gt;
&lt;&lt;set _shouldersmod = (_deficieny * ((_mother.shoulders.mod + _father.shoulders.mod) / 2)) + _bonus&gt;&gt;
&lt;&lt;set _hipsmod = (_deficieny * ((_mother.hips.mod + _father.hips.mod) / 2)) + _bonus&gt;&gt;
&lt;&lt;set _torsomod = (_deficieny * ((_mother.torso.mod + _father.torso.mod) / 2)) + _bonus&gt;&gt;
&lt;&lt;set _legsmod = (_deficieny * ((_mother.legs.mod + _father.legs.mod) / 2)) + _bonus&gt;&gt;
&lt;&lt;set _buttmod = (_deficieny * ((_mother.butt.mod + _father.butt.mod) / 2)) + _bonus&gt;&gt;

&lt;&lt;set _cockmod = (_deficieny * ((_mother.cock.mod * 0.25) + (_father.cock.mod * 0.75))) + _bonus&gt;&gt;
&lt;&lt;set _girthmod = (_deficieny * ((_mother.girth.mod * 0.25) + (_father.girth.mod * 0.75))) + _bonus&gt;&gt;
&lt;&lt;set _ballsmod = (_deficieny * ((_mother.balls.mod * 0.25) + (_father.balls.mod * 0.75))) + _bonus&gt;&gt;

&lt;&lt;set _bustmod = (_deficieny * ((_mother.bust.mod * 0.75) + (_father.bust.mod * 0.25))) + _bonus&gt;&gt;
&lt;&lt;set _clitmod = (_deficieny * ((_mother.clit.mod * 0.75) + (_father.clit.mod * 0.25))) + _bonus&gt;&gt;
&lt;&lt;set _pussymod = (_deficieny * ((_mother.pussy.mod * 0.75) + (_father.pussy.mod * 0.25))) + _bonus&gt;&gt;

&lt;&lt;set _cumqualitymod = (_deficieny * ((_mother.cum.quality.mod * 0.25) + (_father.cum.quality.mod * 0.75))) + _bonus&gt;&gt;
&lt;&lt;set _cumquantitymod = (_deficieny * ((_mother.cum.quantity.mod * 0.25) + (_father.cum.quantity.mod * 0.75))) + _bonus&gt;&gt;
&lt;&lt;set _cumtastemod = (_deficieny * ((_mother.cum.taste.mod * 0.25) + (_father.cum.taste.mod * 0.75))) + _bonus&gt;&gt;

&lt;&lt;set _milkqualitymod = (_deficieny * ((_mother.milk.quality.mod * 0.55) + (_father.milk.quality.mod * 0.45))) + _bonus&gt;&gt;
&lt;&lt;set _milkquantitymod = (_deficieny * ((_mother.milk.quantity.mod * 0.55) + (_father.milk.quantity.mod * 0.45))) + _bonus&gt;&gt;
&lt;&lt;set _milktastemod = (_deficieny * ((_mother.milk.taste.mod * 0.55) + (_father.milk.taste.mod * 0.45))) + _bonus&gt;&gt;

&lt;&lt;set _nectarqualitymod = (_deficieny * ((_mother.nectar.quality.mod * 0.75) + (_father.nectar.quality.mod * 0.25))) + _bonus&gt;&gt;
&lt;&lt;set _nectarquantitymod = (_deficieny * ((_mother.nectar.quantity.mod * 0.75) + (_father.nectar.quantity.mod * 0.25))) + _bonus&gt;&gt;
&lt;&lt;set _nectartastemod = (_deficieny * ((_mother.nectar.taste.mod * 0.75) + (_father.nectar.taste.mod * 0.25))) + _bonus&gt;&gt;

&lt;&lt;run generateSex(_progeny)&gt;&gt;

&lt;&lt;set _progeny.eyecolor = _eyecolors.random()&gt;&gt;
&lt;&lt;set _progeny.eyedescriptor = $eyedesc.random()&gt;&gt;

&lt;&lt;if _progeny.race == &quot;hume&quot;&gt;&gt;
  &lt;&lt;set _progeny.skintone =  _skintones.random()&gt;&gt;

&lt;&lt;elseif _progeny.race == &quot;beastman&quot;&gt;&gt;
	&lt;&lt;if _progeny.tribe == &quot;pantheran&quot; || _progeny.tribe == &quot;mongrel&quot;&gt;&gt;
		&lt;&lt;set _progeny.fur = _furs.random()&gt;&gt;

	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _progeny.skintone =  _skintones.random()&gt;&gt;

	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _progeny.race == &quot;monster&quot;&gt;&gt;
	&lt;&lt;set _progeny.skintone =  _monstertones.random()&gt;&gt;

&lt;&lt;elseif _progeny.race == &quot;elf&quot;&gt;&gt;
	&lt;&lt;if _progeny.tribe == &quot;forest elf&quot;&gt;&gt;
		&lt;&lt;set _progeny.skintone = &quot;light-skinned&quot;&gt;&gt;

	&lt;&lt;elseif _progeny.tribe == &quot;high elf&quot;&gt;&gt;
		&lt;&lt;set _progeny.skintone = &quot;pale&quot;&gt;&gt;

	&lt;&lt;elseif _progeny.tribe == &quot;dark elf&quot;&gt;&gt;
		&lt;&lt;set _progeny.skintone = &quot;dark-skinned&quot;&gt;&gt;

	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if (_progeny.tribe == &quot;orc&quot; &amp;&amp; [&quot;male&quot;].contains(_progeny.sex)) || _progeny.tribe == &quot;goblin&quot;&gt;&gt;
	&lt;&lt;set _progeny.hairstyle = &quot;completely bald&quot;&gt;&gt;

&lt;&lt;elseif _progeny.tribe == &quot;pantheran&quot; || _progeny.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _progeny.haircolor = _progeny.fur&gt;&gt;
	&lt;&lt;set _progeny.hairstyle = $simplehairstyles[_progeny.gender].random()&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _progeny.haircolor = _haircolors.random()&gt;&gt;
	&lt;&lt;set _progeny.hairstyle = $simplehairstyles[_progeny.gender].random()&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;, &quot;giant&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.weight = weightedRand({1:0, 2:0, 3:0, 4:0, 5:0.1, 6:0.3, 7:0.6})&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;minotaur&quot;, &quot;pantheran&quot;, &quot;mongrel&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.weight = weightedRand({1:0, 2:0, 3:0.1, 4:0, 5:0.2, 6:0.6, 7:0.1})&gt;&gt;

&lt;&lt;elseif [&quot;holstaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.weight = weightedRand({1:0.05, 2:0, 3:0.3, 4:0, 5:0.5, 6:0.1, 7:0.05})&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _progeny.weight = weightedRand({1:0.05, 2:0.05, 3:0.15, 4:0.1, 5:0.5, 6:0.1, 7:0.05})&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;human&quot;, &quot;dwarf&quot;, &quot;gnome&quot;, &quot;giant&quot;].contains(_progeny.tribe)&gt;&gt;
  &lt;&lt;set _progeny.race = &quot;hume&quot;&gt;&gt;

&lt;&lt;elseif [&quot;neko&quot;, &quot;canus&quot;, &quot;pantheran&quot;, &quot;mongrel&quot;, &quot;holstaur&quot;, &quot;minotaur&quot;, &quot;moon rabbit&quot;].contains(_progeny.tribe)&gt;&gt;
  &lt;&lt;set _progeny.race = &quot;beastman&quot;&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;, &quot;orc&quot;].contains(_progeny.tribe)&gt;&gt;
  &lt;&lt;set _progeny.race = &quot;monster&quot;&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;].contains(_progeny.tribe)&gt;&gt;
  &lt;&lt;set _progeny.race = &quot;elf&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_progeny.sex)&gt;&gt;
	&lt;&lt;set _progeny.circumcised = 0&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains(_progeny.sex)&gt;&gt;
	&lt;&lt;set _progeny.inverted = weightedRand({0:0.875, 1:0.125})&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;female&quot;, &quot;futanari&quot;].contains(_progeny.sex)&gt;&gt;
	&lt;&lt;set _progeny.hooded = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.fertility.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.fertility.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;giant&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;holstaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.fertility.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.fertility.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.fertility.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.libido.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;dark elf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.libido.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;giant&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;forest elf&quot;, &quot;holstaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.libido.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;moon rabbit&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.libido.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;gnome&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.libido.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.strength.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;dark elf&quot;, &quot;canus&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.strength.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;forest elf&quot;, &quot;pantheran&quot;, &quot;moon rabbit&quot;, &quot;holstaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.strength.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;neko&quot;, &quot;goblin&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.strength.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.strength.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;gnome&quot;, &quot;moon rabbit&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.speed.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;neko&quot;, &quot;pantheran&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.speed.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;forest elf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;, &quot;holstaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.speed.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;dwarf&quot;, &quot;dark elf&quot;, &quot;canus&quot;, &quot;goblin&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.speed.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.speed.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.stamina.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;moon rabbit&quot;, &quot;minotaur&quot;, &quot;holstaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.stamina.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;gnome&quot;, &quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;, &quot;mongrel&quot;, &quot;pantheran&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.stamina.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;gnome&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.stamina.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;neko&quot;, &quot;canus&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.stamina.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.control.mod = 5&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;holstaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.control.mod = 4&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;human&quot;, &quot;dwarf&quot;, &quot;gnome&quot;, &quot;canus&quot;, &quot;neko&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.control.mod = 3&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;, &quot;pantheran&quot;, &quot;minotaur&quot;, &quot;orc&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.control.mod = 2&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.sexual.control.mod = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;, &quot;giant&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_progeny.sex)&gt;&gt;
		&lt;&lt;set _progeny.height = random(215, 260)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _progeny.height = random(200, 245)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;minotaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_progeny.sex)&gt;&gt;
		&lt;&lt;set _progeny.height = random(185, 230)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _progeny.height = random(170, 215)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_progeny.sex)&gt;&gt;
		&lt;&lt;set _progeny.height = random(125, 170)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _progeny.height = random(110, 155)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;, &quot;goblin&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_progeny.sex)&gt;&gt;
		&lt;&lt;set _progeny.height = random(95, 140)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _progeny.height = random(80, 125)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains(_progeny.sex)&gt;&gt;
		&lt;&lt;set _progeny.height = random(155, 200)&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set _progeny.height = random(140, 185)&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _progeny.health = random(2,3)&gt;&gt;

&lt;&lt;set _progeny.intelligence = rollMod(_intmod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.beauty = rollMod(_beautymod, &quot;10&quot;)&gt;&gt;
&lt;&lt;set _progeny.lips.mod = rollMod(_lipsmod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.shoulders.mod = rollMod(_shouldersmod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.hips.mod = rollMod(_hipsmod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.torso.mod = rollMod(_torsomod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.legs.mod = rollMod(_legsmod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.butt.mod = rollMod(_buttmod, &quot;5&quot;)&gt;&gt;

&lt;&lt;set _progeny.cock.mod = rollMod(_cockmod, &quot;10&quot;)&gt;&gt;
&lt;&lt;set _progeny.girth.mod = rollMod(_girthmod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.balls.mod = rollMod(_ballsmod, &quot;5&quot;)&gt;&gt;

&lt;&lt;set _progeny.bust.mod = rollMod(_bustmod, &quot;10&quot;)&gt;&gt;
&lt;&lt;set _progeny.clit.mod = rollMod(_clitmod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.pussy.mod = rollMod(_pussymod, &quot;5&quot;)&gt;&gt;

&lt;&lt;set _progeny.cum.quality.mod = rollMod(_cumqualitymod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.cum.quantity.mod = rollMod(_cumquantitymod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.cum.taste.mod = rollMod(_cumtastemod, &quot;5&quot;)&gt;&gt;

&lt;&lt;set _progeny.milk.quality.mod = rollMod(_milkqualitymod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.milk.quantity.mod = rollMod(_milkquantitymod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.milk.taste.mod = rollMod(_milktastemod, &quot;5&quot;)&gt;&gt;

&lt;&lt;set _progeny.nectar.quality.mod = rollMod(_nectarqualitymod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.nectar.quantity.mod = rollMod(_nectarquantitymod, &quot;5&quot;)&gt;&gt;
&lt;&lt;set _progeny.nectar.taste.mod = rollMod(_nectartastemod, &quot;5&quot;)&gt;&gt;

&lt;&lt;run generateSexTraits(_progeny)&gt;&gt;

&lt;&lt;set _progeny.age = 18&gt;&gt;
&lt;&lt;set _progeny.maturity = 1&gt;&gt;
&lt;&lt;set _progeny.appeal = getAppeal(_progeny)&gt;&gt;
&lt;&lt;set _progeny.diet.progress = setDietProgress(_progeny)&gt;&gt;
&lt;&lt;set _progeny.fitness.progress = setFitnessProgress(_progeny)&gt;&gt;
&lt;&lt;set _progeny.condition.progress = setConditionProgress(_progeny)&gt;&gt;
&lt;&lt;set _progeny.mood = random(-3, -5)&gt;&gt;
&lt;&lt;set _progeny.ogsex = _progeny.sex&gt;&gt;
&lt;&lt;run updateMaxFatigue(_progeny)&gt;&gt;
&lt;&lt;set _progeny.fatigue.physical = _progeny.fatigue.max&gt;&gt;
&lt;&lt;set _progeny.fatigue.mental = _progeny.fatigue.max&gt;&gt;

&lt;&lt;if _progeny.race == &quot;elf&quot;&gt;&gt;
	&lt;&lt;set _progeny.name to $elfnames[_progeny.gender].random()&gt;&gt;

&lt;&lt;elseif _progeny.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _progeny.name to $orcnames[_progeny.gender].random()&gt;&gt;

&lt;&lt;elseif _progeny.tribe == &quot;goblin&quot;&gt;&gt;
	&lt;&lt;set _progeny.name to $goblinnames.random()&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _progeny.name to $names[_progeny.gender].random()&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;human&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;goblin&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.rarity = 1&gt;&gt;
&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;mongrel&quot;, &quot;pantheran&quot;, &quot;holstaur&quot;, &quot;minotaur&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.rarity = 2&gt;&gt;
&lt;&lt;elseif [&quot;giant&quot;, &quot;forest elf&quot;, &quot;moon rabbit&quot;, &quot;orc&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.rarity = 3&gt;&gt;
&lt;&lt;elseif [&quot;high elf&quot;, &quot;dark elf&quot;].contains(_progeny.tribe)&gt;&gt;
	&lt;&lt;set _progeny.rarity = 4&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _progeny.price = getPrice(_progeny)&gt;&gt;
&lt;&lt;set _progeny.ogprice = _progeny.price&gt;&gt;

&lt;&lt;set $letter = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;]&gt;&gt;
&lt;&lt;set _progeny.ID = &quot;SLAVE&quot; + random(0, 1000) + $letter.random() + random(0, 1000)&gt;&gt;

&lt;&lt;set _naturelist = [&quot;dandere&quot;, &quot;tsundere&quot;, &quot;kuudere&quot;, &quot;himedere&quot;]&gt;&gt;

&lt;&lt;set _progeny.nature = _naturelist.random()&gt;&gt;
&lt;&lt;set _progeny.sanity = 70&gt;&gt;

&lt;&lt;if _progeny.nature == &quot;tsundere&quot;&gt;&gt;
	&lt;&lt;set _progeny.fear.base = random(20,60)&gt;&gt;
	&lt;&lt;set _progeny.trust.base = random(0,40)&gt;&gt;
	&lt;&lt;set _progeny.obedience.base = random(0,40)&gt;&gt;
&lt;&lt;elseif _progeny.nature == &quot;dandere&quot;&gt;&gt;
	&lt;&lt;set _progeny.fear.base = random(20,60)&gt;&gt;
	&lt;&lt;set _progeny.trust.base = random(20,60)&gt;&gt;
	&lt;&lt;set _progeny.obedience.base = random(20,60)&gt;&gt;
&lt;&lt;elseif _progeny.nature == &quot;kuudere&quot;&gt;&gt;
	&lt;&lt;set _progeny.fear.base = random(0,40)&gt;&gt;
	&lt;&lt;set _progeny.trust.base = random(0,40)&gt;&gt;
	&lt;&lt;set _progeny.obedience.base = random(0,40)&gt;&gt;
&lt;&lt;elseif _progeny.nature == &quot;himedere&quot;&gt;&gt;
	&lt;&lt;set _progeny.fear.base = random(20,60)&gt;&gt;
	&lt;&lt;set _progeny.trust.base = random(0,40)&gt;&gt;
	&lt;&lt;set _progeny.obedience.base = random(0,40)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run refreshObedience(_progeny)&gt;&gt;
&lt;&lt;run refreshTrust(_progeny)&gt;&gt;
&lt;&lt;run refreshFear(_progeny)&gt;&gt;

&lt;&lt;set _progeny.occupation = &quot;never a free person&quot;&gt;&gt;

&lt;&lt;set _progeny.origin = &quot;$activeCharacter.name&#39;s parents were both slaves to you when they gave birth to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.&quot;&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="261" name="New Progeny" tags="nobr" position="16,387" size="100,100">&lt;&lt;set _progeny = {name: &quot;&quot;, race: &quot;&quot;, tribe: &quot;&quot;, gender: &quot;&quot;, sex: &quot;&quot;, ogsex: &quot;&quot;, skintone: &quot;&quot;, fur: &quot;&quot;, haircolor: &quot;&quot;, clothes: &quot;&quot;, hairstyle: &quot;&quot;, eyecolor: &quot;&quot;, eyedescriptor: &quot;&quot;, occupation: &quot;&quot;, temperament: &quot;&quot;, nature: &quot;&quot;, origin: &quot;&quot;, assignment: &quot;rest&quot;, location: &quot;estate&quot;, building: &quot;&quot;, room: &quot;&quot;, diet: &quot;&quot;, sickness: &quot;&quot;, promise: &quot;&quot;, likes: &quot;&quot;, dislikes: &quot;&quot;, fears: &quot;&quot;, renew: null, memories: &quot;&quot;, appointment: &quot;&quot;, threaten: &quot;&quot;, echo:&quot;&quot;, title: &quot;&quot;, titles: &quot;&quot;, transformation:&quot;&quot;, incense:&quot;&quot;, hypno: &quot;&quot;, info: &quot;&quot;, stats: &quot;&quot;, cooldown: &quot;&quot;, popularity: &quot;&quot;, clothes: &quot;&quot;, tattoo: &quot;&quot;, piercing: &quot;&quot;, exoticism: 0, style: 0, will: 0, submission: 0, shaved: 0, lust: 3, mood: {}, customers: 0, amnity:0, sanity: 0, obedience: {}, fear: {}, trust: {}, rating: 0, guilt: 0, tempbehaviour: 0, ID: 0, health: 0, fatigue: 0, expense: 0, rarity: 0, shelflife: 0, age: 0, birthweek:0, maturity: 0, lifespan: 0, intelligence: 0, height: 0, inverted: 0, butt: &quot;&quot;, lips: &quot;&quot;, shoulders: &quot;&quot;, hips: &quot;&quot;, torso: &quot;&quot;, legs: &quot;&quot;, bust: &quot;&quot;, cock: &quot;&quot;, girth: &quot;&quot;, balls: &quot;&quot;, clit: &quot;&quot;, pussy: &quot;&quot;, sensitivity: &quot;&quot;, gape: 1, analtoy: 0, hooded: 0, vagina: 0, circumcised: 0, chastity: 0, virgin: 1, lactating: &quot;&quot;, nectaring:&quot;&quot;, analvirgin: 1, beauty: 0, weight: 0, traits: &quot;&quot;, fitness: &quot;&quot;, price: 0, ogprice:0, appeal: 0, reputation: 0, sexualskill: 0, expenses: 0, known:&quot;&quot;, impermanent:&quot;&quot;, sexual:&quot;&quot;, chattel: &quot;&quot;, pregnancy: null, history: [], eventlog: [], skills: {}, position:null, training:{}, combat:{}}&gt;&gt;

&lt;&lt;set _progeny.combat = {stamina:null, arousal:null, libido:null, text:{}, stimulation:0}&gt;&gt;
&lt;&lt;set _progeny.combat.stamina = {current:0, max:0}&gt;&gt;
&lt;&lt;set _progeny.combat.arousal = {current:0, max:0}&gt;&gt;
&lt;&lt;set _progeny.combat.libido = {current:0, max:0}&gt;&gt;

&lt;&lt;set _progeny.mood = {scale:&quot;Happiness&quot;, current:50}&gt;&gt;

&lt;&lt;set _progeny.obedience = {current:0, base:0, mood:0, bonus:0, multi:1}&gt;&gt;
&lt;&lt;set _progeny.trust = {current:0, base:0, mood:0, bonus:0, multi:1}&gt;&gt;
&lt;&lt;set _progeny.fear = {current:100, base:100, mood:0, bonus:0, multi:1}&gt;&gt;

&lt;&lt;set _progeny.chattel = {pen:0, style:null, focus:null}&gt;&gt;
&lt;&lt;set _progeny.pregnancy = {child:[], weeks:0, maturity:0, duration:0, lactating:0, recovery:0, type:&quot;normal&quot;, status:null}&gt;&gt;
&lt;&lt;set _progeny.sexual = {fertility: &quot;&quot;, libido: &quot;&quot;, strength: &quot;&quot;, speed: &quot;&quot;, stamina: &quot;&quot;, control: &quot;&quot;}&gt;&gt;

&lt;&lt;set _progeny.sexual.fertility = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.sexual.libido = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.sexual.strength = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.sexual.speed = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.sexual.stamina = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.sexual.control = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _progeny.impermanent = {cock:0, bust:0, clit:0, pussy:0, balls:0}&gt;&gt;

&lt;&lt;set _progeny.training = {trainer:null, discipline:null, reward:{}, punishment:{}}&gt;&gt;
&lt;&lt;set _progeny.training.reward = {small:null, normal:null, large:null}&gt;&gt;
&lt;&lt;set _progeny.training.punishment = {small:null, normal:null, large:null}&gt;&gt;

&lt;&lt;set _progeny.stats = {manual:0, oral:0, mammary:0, vanilla:0, anal:0, sissification: 0, bimbofication: 0, femininity: 0, masculinity: 0, strumpetry: 0, dominant: 0, submissive: 0, masculinization:0, chivalry:0, breeding:0}&gt;&gt;

&lt;&lt;set _progeny.lips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.shoulders = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.hips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.torso = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.legs = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.butt = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.cock = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.bust = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.clit = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.pussy = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.girth = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.balls = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _progeny.sensitivity = {cock:0, breasts:0, anus:0, clit:0, pussy:0, balls:0, mouth:0}&gt;&gt;

&lt;&lt;set _progeny.lactating = {temporary:0, permanent:0}&gt;&gt;
&lt;&lt;set _progeny.nectaring = {temporary:0, permanent:0}&gt;&gt;

&lt;&lt;set _progeny.cum = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set _progeny.cum.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.cum.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.cum.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _progeny.milk = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set _progeny.milk.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.milk.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.milk.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _progeny.nectar = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set _progeny.nectar.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.nectar.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set _progeny.nectar.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set _progeny.appointment = {type:null, location:null, detail:null}&gt;&gt;

&lt;&lt;set _progeny.clothes = {outfit: null, head: null, eyes: null, neck: null, hands: null, top: null, bottom: null, legs: null, shoes: null}&gt;&gt;
&lt;&lt;set _progeny.clothes.outfit = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _progeny.clothes.head = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _progeny.clothes.eyes = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _progeny.clothes.neck = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _progeny.clothes.hands = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _progeny.clothes.top = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _progeny.clothes.bottom = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _progeny.clothes.legs = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set _progeny.clothes.shoes = {attire:&quot;&quot;, style: 0}&gt;&gt;

&lt;&lt;set _progeny.piercing = {ear:&quot;&quot;, eyebrow:&quot;&quot;, nose:&quot;&quot;, tongue:&quot;&quot;, lip:&quot;&quot;, nipple:&quot;&quot;, navel:&quot;&quot;, pussy:&quot;&quot;, cock:&quot;&quot;}&gt;&gt;
&lt;&lt;set _progeny.piercing.ear = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _progeny.piercing.eyebrow = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _progeny.piercing.nose = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _progeny.piercing.tongue = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _progeny.piercing.lip = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _progeny.piercing.nipple = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _progeny.piercing.navel = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _progeny.piercing.pussy = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set _progeny.piercing.cock = {type:0, jewelry:0}&gt;&gt;

&lt;&lt;set _progeny.tattoo = {body:null, face:null, innerlip:null, neck:null, upperback:null, shoulder:null, upperarm:null, lowerarm:null, hands:null, chest:null, ribcage:null, lowerback:null, abdomen:null, pelvis:null, hips:null, buttocks:null, upperleg:null, lowerleg:null, ankle:null, feet:null}&gt;&gt;

&lt;&lt;set _progeny.titles = []&gt;&gt;
&lt;&lt;set _progeny.likes = []&gt;&gt;
&lt;&lt;set _progeny.dislikes = []&gt;&gt;
&lt;&lt;set _progeny.fears = []&gt;&gt;
&lt;&lt;set _progeny.update = []&gt;&gt;

&lt;&lt;set _progeny.cooldown = {title:0}&gt;&gt;
&lt;&lt;set _progeny.info = {endweek:null}&gt;&gt;
&lt;&lt;set _progeny.transformation = {progress:0, item:&quot;None&quot;, circulating: &quot;None&quot;, duration:0}&gt;&gt;
&lt;&lt;set _progeny.incense = {item:&quot;None&quot;}&gt;&gt;
&lt;&lt;set _progeny.clothes = {butt: null, vagina: null, cock: null}&gt;&gt;
&lt;&lt;set _progeny.echo = {subtype:&quot;&quot;, total:0}&gt;&gt;
&lt;&lt;set _progeny.promise = {made:0,weeks:0}&gt;&gt;
&lt;&lt;set _progeny.threaten = {made:0,weeks:0}&gt;&gt;
&lt;&lt;set _progeny.diet = {status:&quot;Normal&quot;, progress:0}&gt;&gt;
&lt;&lt;set _progeny.fitness = {status:&quot;None&quot;, progress:0}&gt;&gt;
&lt;&lt;set _progeny.fatigue = {status:&quot;None&quot;, mental:null, physical:null, max:null, progress:0}&gt;&gt;
&lt;&lt;set _progeny.popularity = {brothel:0, ranch:0}&gt;&gt;
&lt;&lt;set _progeny.condition = {status:&quot;None&quot;, progress:0}&gt;&gt;
&lt;&lt;set _progeny.traits = {ears:&quot;&quot;, tail:&quot;&quot;, feet:&quot;&quot;, hands:&quot;&quot;, body:&quot;&quot;, description:&quot;&quot;, list:[]}&gt;&gt;

&lt;&lt;set _progeny.hypno = {bimbo:0, cum:0, masochism:0, sadism:0, muscle:0, domesticated:0}&gt;&gt;

&lt;&lt;set _progeny.known = {virginity:1, analvirginity:1, nature:0, sexualskill:0}&gt;&gt;

&lt;&lt;set _progeny.sexualskill = {oral:&quot;&quot;, mammary:&quot;&quot;, manual:&quot;&quot;, intercourse:&quot;&quot;}&gt;&gt;
&lt;&lt;set _progeny.sexualskill.oral = {kissing: 0, fellatio: 0, cunnilingus: 0, analingus: 0}&gt;&gt;
&lt;&lt;set _progeny.sexualskill.mammary = {breastplay: 0, breastfeeding: 0, intercourse: 0}&gt;&gt;
&lt;&lt;set _progeny.sexualskill.manual = {masturbation: 0, fingering: 0, handjob: 0, fisting: 0}&gt;&gt;
&lt;&lt;set _progeny.sexualskill.intercourse = {vaginal: 0, anal: 0, pitching: 0, pegging: 0}&gt;&gt;

&lt;&lt;set _progeny.sensitivity.cock = 0&gt;&gt;
&lt;&lt;set _progeny.sensitivity.breasts = 0&gt;&gt;
&lt;&lt;set _progeny.sensitivity.clit = 0&gt;&gt;
&lt;&lt;set _progeny.sensitivity.pussy = 0&gt;&gt;
&lt;&lt;set _progeny.sensitivity.balls = 0&gt;&gt;
&lt;&lt;set _progeny.sensitivity.mouth = 0&gt;&gt;
&lt;&lt;set _progeny.sensitivity.anus = 0&gt;&gt;

&lt;&lt;set _progeny.gape = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="262" name="Pregnancy Status Widget" tags="nobr widget" position="1750,701" size="100,100">&lt;&lt;widget pregnancyStatus&gt;&gt;

&lt;&lt;set _signs = []&gt;&gt;
&lt;&lt;set _feelings = []&gt;&gt;
&lt;&lt;set _reaction = []&gt;&gt;

&lt;&lt;set _weeksuntilbirth = 0&gt;&gt;

&lt;&lt;if !_character.pregnancy.recovery&gt;&gt;
  &lt;&lt;set _weeksuntilbirth = _character.pregnancy.duration - _character.pregnancy.weeks&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _character.pregnancy.recovery == 1&gt;&gt;
  &lt;&lt;if _character.pregnancy.type == &quot;normal&quot;&gt;&gt;
    &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body, mainly &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach, has a lot of loose skin. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has entered &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; recovery period. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; rests whenever &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; can catch a break, as &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body needs all the extra energy to recover from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;)&gt;&gt;

  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; &quot; + _character.pregnancy.type + &quot; has done quite a bit of damage to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body as &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has a disgusting amount of loose skin. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; skin has become oily as &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body has began working in overdrive to recover from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; &quot; + _character.pregnancy.type + &quot;. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; skin looks a little ashen, most likely due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body undergoing a recovery period due to the damage &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; &quot; + _character.pregnancy.type + &quot; has done to &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &quot;)&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is relieved &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy is finally over. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is worried that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; will have to go through another pregnancy after &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is fully recovered from this one. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is pleased that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has given birth to offspring, but is saddened due to the fact that they will be slaves. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; spends most of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; free time lounging around, resting or thinking about &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; offspring. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; mopes around staring miserably at &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; loose skin. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; tries to hide &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; from others to hide &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; poor skin condition whenever possible. &quot;)&gt;&gt;

&lt;&lt;elseif _character.pregnancy.recovery &lt;= 3 &amp;&amp; _character.pregnancy.recovery&gt;&gt;
  &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; skin has has tightened quite a bit from being stretched by &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; skin has began to recover some of its original color and sheen. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; skin isn&#39;t as oily as it was when &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; gave birth to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; offspring. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is happy with the progress &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body has made. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body&#39;s recovery scared &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is afraid that you&#39;ll have &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; impregnated as soon as &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is completely healed. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is worried about giving birth to more offspring that will end up as slaves. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has began to get a more healthy amount of sleep during normal hours. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has began to get back into the groove of working without having to rest periodically. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; seldom thinks about &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; recently birth offspring, even though &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has shown obvious attachment to them. &quot;)&gt;&gt;


&lt;&lt;elseif _character.pregnancy.recovery == 4&gt;&gt;
  &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; skin has completely recovered its tightness without any scarring or stretch marks. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; skin has completely recovered its original color and sheen. &quot;, &quot;No longer is &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; greasy with sweat and other oils expunged from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body to help with &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy recovery. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is ecstatic that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; wasn&#39;t permanently damaged by &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is saddened that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has made a complete recovery and now must face the possibility of another pregnancy. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is happy that &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy hasn&#39;t damaged &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body in any way, but does not want to birth anymore offspring that will end up as slaves. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has mourned the loss of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; recently birthed children, as &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; will not be able to choose if &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; can raise them and may never see them again. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has returned to having normal and healthy sleep patterns. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has returned to working as if &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; was never pregnant in the first place. &quot;)&gt;&gt;

&lt;&lt;elseif _character.pregnancy.weeks == 1&gt;&gt;
  &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; shows no signs of pregnancy yet but &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; does feel the &quot; + _character.pregnancy.type + &quot; elixir slowly affecting &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is much too early in &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy to show any signs of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;, &quot;You can&#39;t see any signs of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy because &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has only just been impregnated. &quot;)&gt;&gt;

  &lt;&lt;if _character.pregnancy.type == &quot;normal&quot;&gt;&gt;
    &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is a little bit nervous about being pregnant. &quot;, &quot;You can tell from the look on &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; face that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is not pleased with &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; forced pregnancy. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has become very sad due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;)&gt;&gt;

    &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is aware that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has no autonomy over &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body and will be breed whenever you say &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; will. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; knows there isn&#39;t much &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; can do about it. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; isn&#39;t excited for the pregnancy and fears that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; will be forced to go through much more. &quot;)&gt;&gt;

  &lt;&lt;elseif _character.pregnancy.type == &quot;multipregnancy&quot;&gt;&gt;
    &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is quite nervous about having a multipregnancy. &quot;, &quot;The look of anger on &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; face is palpable. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is depressed due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; looming multipregnancy. &quot;)&gt;&gt;

    &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is not looking forward to carrying multiple babies for a couple of months or birthing all of them at the same time. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; had no plans of getting pregnant, let alone having a multipregnancy. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; didn&#39;t want any kind of pregnancy, let alone a multipregnancy. &quot;)&gt;&gt;

  &lt;&lt;elseif _character.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
    &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is very nervous about having a hyperpregnancy. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is fuming with anger. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is a complete mess. &quot;)&gt;&gt;

    &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is very worried about the affect carrying a maturing child will have on &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; knows the affect that a hyperpregnancy will have on &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body while pregnant and &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; wouldn&#39;t even go through that for a loved one, let alone by &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; slavemaster. &quot;, &quot;When &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; isn&#39;t acting hysterical about &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; hyperpregnancy, &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is moping around doing as little as possible. &quot;)&gt;&gt;

  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _character.pregnancy.weeks &lt;= 4 &amp;&amp; _character.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has shown lots of signs of exhaustion. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has had several bouts of nausea. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has had many headaches of varying strength. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; shows signs of dizziness due to being lightheaded. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has had multiple mood swings. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is concerned about the affects &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy will have on &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is feeling frustrated with the lack of control over &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has constant mood swings due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; issues. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has been trying to get extra sleep whenever possible to help recover during the week. &quot;, &quot;Whenever possible, &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has tried to employ multiple techniques such as deep breathing to help &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; feel better. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; tries to rest whenever possible to help cope with &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; problems. &quot;)&gt;&gt;

&lt;&lt;elseif _character.pregnancy.weeks &lt;= 8 &amp;&amp; _character.pregnancy.weeks&gt;&gt;
  &lt;&lt;if _character.pregnancy.weeks == 5&gt;&gt;
    &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; breasts are tender, tingly and sore. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach has grown in size. &quot;, &quot;The areola around &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; nipples have grown noticeably darker as &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has progressed through &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;)&gt;&gt;

  &lt;&lt;elseif _character.pregnancy.weeks == 6&gt;&gt;
    &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; baby bump has become noticeable. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach has started to show stronger signs of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is barely large enough that you can tell &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is pregnant from sight alone. &quot;)&gt;&gt;

  &lt;&lt;elseif _character.pregnancy.weeks == 7&gt;&gt;
    &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; baby bump is much more pronounced. &quot;, &quot;Both &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; breasts have grown due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;, &quot;There is no disputing if &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is pregnant or not due to the size of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach in comparison to the rest of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body. &quot;)&gt;&gt;

  &lt;&lt;elseif _character.pregnancy.weeks == 8&gt;&gt;
    &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is noticeably large due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy has reached the state that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has a full-sized baby bump. &quot;, &quot;The size and curve of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is very pronounced. &quot;)&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has a hard time getting used to the changes occurring to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has some reservations about being a mother but as &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; gets further along, &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has become more calm. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; sometimes worries about &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; offspring being born into slavery. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; often is found resting whenever &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; gets the chance to. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; sometimes asks for extra food during feeding times to ensure that &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; offspring has enough nutrients. &quot;, &quot;You sometimes find &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; caressing &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach, most likely in an attempt to soothe or bond with &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; offspring. &quot;)&gt;&gt;

&lt;&lt;elseif _character.pregnancy.weeks &lt;= 12 &amp;&amp; _character.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is a small bit larger than what should be possible for a normal pregnancy. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; baby bump has continued to grow in size to accommodate the extraordinary pregnancy. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has progressed passed the point of a normal pregnancy, and the size of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; baby bump reflects that. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; extended pregnancy has &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; slightly horny. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; skin is flushed most of the time, probably due to the arousal after-effects of having a &quot; + _character.pregnancy.type + &quot;. &quot;, &quot;The &quot; + _character.pregnancy.type + &quot; potion you gave &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has began to offset the pain of having such a large stomach with feelings of pleasure. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pleasures &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; much more often than normal. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; takes care of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; sexual urges &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; whenever possible, sometimes doing it out in the open if &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; can&#39;t find a chance to do it privately. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pleasures &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; by massaging &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach while rubbing &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; genitalia. &quot;)&gt;&gt;

&lt;&lt;elseif _character.pregnancy.weeks &lt;= 14 &amp;&amp; _character.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach has gotten very large but is still manageable. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is almost twice the size of full-term baby bump. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is so large &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; waddles as &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; walks around. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is in a constant state of arousal but it isn&#39;t too distracting for &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is frustrated with &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body being constantly aroused. &quot;, &quot;No matter what time of day, or what &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is doing, &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; feels small pangs of lust. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; sometimes masturbates without even realizing it. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; tries to deal with &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; overactive libido whenever possible with masturbation or sex when possible, but it doesn&#39;t help at all. &quot;, &quot;When &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; arousal becomes too much to bear, &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; breaks down and masturbates right on the spot. &quot;)&gt;&gt;

&lt;&lt;elseif _character.pregnancy.weeks &lt;= 16 &amp;&amp; _character.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is obscenely large. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is becoming too large for &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; to handle. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has trouble adjusting to the size of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; large stomach. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;Whenever the offspring in &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach move about, which is almost always, they send pangs of pleasure coursing through &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; body. &quot;, &quot;Any movement from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; offspring sends &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; into orgasmic bliss. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; constantly struggles to keep &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; libido in check, as &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is in a constant state of arousal. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has given up trying to sate &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; lust, and instead enjoys the feeling &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; &quot; + _character.pregnancy.type + &quot; brings &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has slowly become much more comfortable pleasuring &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; out in the open due to the intense pleasure &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; &quot; + _character.pregnancy.type + &quot; has brought &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt;. &quot;, &quot;You&#39;ve already caught &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; multiple times pleasuring &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; this week alone. &quot;)&gt;&gt;

&lt;&lt;elseif _character.pregnancy.weeks &lt;= 18 &amp;&amp; _character.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push( &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; has problems seeing whats directly in front of &lt;&lt;print $himselfherself[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; due to &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; huge stomach. &quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach has ballooned to massive proportions. &quot;, &quot;The size of &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; stomach is bordering on being as big as a large beach ball. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;&lt;&lt;print $HisHer[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy has entered the stage where &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is in an endless state of mindless pleasure. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is too horny to do much of anything, as &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; feels continuous pleasure from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; enlarged stomach. &quot;, &quot;From the glazed look plastered across &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; face, you can tell that &lt;&lt;print $heshe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; is in a world of pleasure. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; masturbates whensoever, without any care for privacy or humility. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; masturbates so frequently it isn&#39;t odd for you to find &lt;&lt;print $himher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; with &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; whole fist up &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pussy. &quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; will use anything and anyone to satisfy &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; sexual needs, without a care as to when, where or how. &quot;)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _pregtext = &quot;&quot;&gt;&gt;
&lt;&lt;set _pregtext += either(_signs)&gt;&gt;
&lt;&lt;set _pregtext += either(_feelings)&gt;&gt;
&lt;&lt;set _pregtext += either(_reaction)&gt;&gt;
&lt;&lt;set _character.pregnancy.status = _pregtext&gt;&gt;

&lt;&lt;set _character.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;Pregnancy Week &quot; + _character.pregnancy.weeks + &quot;&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

&lt;&lt;if _weeksuntilbirth&gt;&gt;
  &lt;&lt;set _character.summary += _character.name + &quot; is due to give birth in &quot; + _weeksuntilbirth + &quot; weeks. &quot;&gt;&gt;

&lt;&lt;elseif _character.pregnancy.recovery&gt;&gt;
  &lt;&lt;set _character.summary += _character.name + &quot; will recover from &lt;&lt;print $hisher[&#39;&quot; + _character.gender + &quot;&#39;]&gt;&gt; pregnancy in  &quot; + _character.pregnancy.recovery + &quot; weeks. &quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _character.summary += _pregtext&gt;&gt;

&lt;&lt;/widget&gt;&gt;
</tw-passagedata><tw-passagedata pid="263" name="CC - Race Selection" tags="nobr noreturn notruereturn" position="11,1692" size="100,100">&lt;&lt;set _an = AvsAn.query(extractWord($NC.tribe))&gt;&gt;
&lt;&lt;set $Continue = &quot;CC - Sexuality&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Difficulty&quot;&gt;&gt;

&lt;&lt;if [&quot;Human&quot;, &quot;Canus&quot;, &quot;Neko&quot;, &quot;Goblin&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.rarity = 1&gt;&gt;
&lt;&lt;elseif [&quot;Dwarf&quot;, &quot;Gnome&quot;, &quot;Mongrel&quot;, &quot;Pantheran&quot;, &quot;Holstaur&quot;, &quot;Minotaur&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.rarity = 2&gt;&gt;
&lt;&lt;elseif [&quot;Giant&quot;, &quot;Forest Elf&quot;, &quot;Moon Rabbit&quot;, &quot;Orc&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.rarity = 3&gt;&gt;
&lt;&lt;elseif [&quot;High Elf&quot;, &quot;Dark Elf&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.rarity = 4&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;Human&quot;, &quot;Dwarf&quot;, &quot;Gnome&quot;, &quot;Giant&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.race = &quot;hume&quot;&gt;&gt;
&lt;&lt;elseif [&quot;Neko&quot;, &quot;Canus&quot;, &quot;Pantheran&quot;, &quot;Mongrel&quot;, &quot;Holstaur&quot;, &quot;Minotaur&quot;, &quot;Moon Rabbit&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.race = &quot;beastman&quot;&gt;&gt;
&lt;&lt;elseif [&quot;Goblin&quot;, &quot;Orc&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.race = &quot;monster&quot;&gt;&gt;
&lt;&lt;elseif [&quot;High Elf&quot;, &quot;Forest Elf&quot;, &quot;Dark Elf&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.race = &quot;elf&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $NC.tribe == &quot;Moon Rabbit&quot;&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;moon rabbit&quot;&gt;&gt;
&lt;&lt;elseif $NC.tribe == &quot;High Elf&quot;&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;high elf&quot;&gt;&gt;
&lt;&lt;elseif $NC.tribe == &quot;Forest Elf&quot;&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;forest elf&quot;&gt;&gt;
&lt;&lt;elseif $NC.tribe == &quot;Dark Elf&quot;&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;dark elf&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.tribe = lowercase($NC.tribe)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;racestats $PC.tribe&gt;&gt;

&lt;&lt;if $NC.stats.nectaring.permanent&gt;&gt;
	&lt;&lt;set _nectaring = &quot;@@color:green;YES@@&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _nectaring = &quot;@@color:red;NO@@&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $NC.stats.lactating.permanent&gt;&gt;
	&lt;&lt;set _lactating = &quot;@@color:green;YES@@&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _lactating = &quot;@@color:red;NO@@&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;Holstaur&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $racestats.choosablesexes = [&quot;Female&quot;]&gt;&gt;
	&lt;&lt;set $NC.sex = &quot;Female&quot;&gt;&gt;

&lt;&lt;elseif [&quot;Minotaur&quot;, &quot;Goblin&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $racestats.choosablesexes = [&quot;Male&quot;]&gt;&gt;
	&lt;&lt;set $NC.sex = &quot;Male&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.choosablesexes = [&quot;Male&quot;, &quot;Female&quot;, &quot;Futanari&quot;, &quot;Shemale&quot;]&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _tribedesc = &quot;$tribedesc.&quot; + &quot;&#39;$NC.tribe&#39;&quot;&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 6&gt;Character Creation - Race&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;b&gt;Name:&lt;/b&gt; &lt;&lt;textbox &quot;$PC.name&quot; $PC.name&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;b&gt;Race:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.tribe&quot; $tribes&gt;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 6&gt;&lt;&lt;race $PC.tribe &quot;Main Menu&quot;&gt;&gt; Description&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 6&gt;You are _an &lt;&lt;race $PC.tribe &quot;Main Menu&quot;&gt;&gt; $PC.race. &lt;&lt;racedesc $NC.tribe&gt;&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;th colspan = 6&gt;&lt;&lt;race $PC.tribe &quot;Main Menu&quot;&gt;&gt; Stats&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 6&gt;General&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Beauty &lt;br&gt; &lt;&lt;racestatbar $racestats.beauty 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Intelligence &lt;br&gt; &lt;&lt;racestatbar $racestats.intelligence 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Fitness &lt;br&gt; &lt;&lt;racestatbar $racestats.weight 7&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Lip Size &lt;br&gt; &lt;&lt;racestatbar $racestats.lips 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Shoulder Size &lt;br&gt; &lt;&lt;racestatbar $racestats.shoulders 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Hip Size &lt;br&gt; &lt;&lt;racestatbar $racestats.hips 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Torso Size &lt;br&gt; &lt;&lt;racestatbar $racestats.torso 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Leg Size &lt;br&gt; &lt;&lt;racestatbar $racestats.legs 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Butt Size &lt;br&gt; &lt;&lt;racestatbar $racestats.butt 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 6&gt;Bust&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Bust Size &lt;br&gt; &lt;&lt;racestatbar $racestats.bust 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Milk Quantity &lt;br&gt; &lt;&lt;racestatbar $racestats.milk.quantity 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Milk Quantity &lt;br&gt; &lt;&lt;racestatbar $racestats.milk.quality 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Milk Taste &lt;br&gt; &lt;&lt;racestatbar $racestats.milk.taste 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Natural Lactation &lt;br&gt; _lactating&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 6&gt;Male Genitalia&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Cock Length &lt;br&gt; &lt;&lt;racestatbar $racestats.cock 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Cock Girth &lt;br&gt; &lt;&lt;racestatbar $racestats.girth 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Ball Size &lt;br&gt; &lt;&lt;racestatbar $racestats.balls 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Cum Quantity &lt;br&gt; &lt;&lt;racestatbar $racestats.cum.quantity 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Cum Quantity &lt;br&gt; &lt;&lt;racestatbar $racestats.cum.quality 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Cum Taste &lt;br&gt; &lt;&lt;racestatbar $racestats.cum.taste 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 6&gt;Female Genitalia&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Clit Size &lt;br&gt; &lt;&lt;racestatbar $racestats.clit 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Pussy Size &lt;br&gt; &lt;&lt;racestatbar $racestats.pussy 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Nectar Quantity &lt;br&gt; &lt;&lt;racestatbar $racestats.nectar.quantity 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Nectar Quantity &lt;br&gt; &lt;&lt;racestatbar $racestats.nectar.quality 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Nectar Taste &lt;br&gt; &lt;&lt;racestatbar $racestats.nectar.taste 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Natural Nectaration &lt;br&gt; _nectaring&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 6&gt;Sexual Prowess&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Sexual Stamina &lt;br&gt; &lt;&lt;racestatbar $racestats.sexual.stamina 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Orgasm Control &lt;br&gt; &lt;&lt;racestatbar $racestats.sexual.control 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Libido &lt;br&gt; &lt;&lt;racestatbar $racestats.sexual.libido 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Fertility &lt;br&gt; &lt;&lt;racestatbar $racestats.sexual.fertility 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;/table&gt;

&lt;center&gt;[[Continue|CC - Sexuality]]&lt;/center&gt;</tw-passagedata><tw-passagedata pid="264" name="Race Description Widget" tags="widget nobr" position="1750,831" size="100,100">&lt;&lt;widget &quot;racedesc&quot;&gt;&gt;

&lt;&lt;switch $args[0]&gt;&gt;
  &lt;&lt;case &quot;Canus&quot;&gt;&gt;
    Canus are a crossbreed between a human and a mongrel. They can live relatively normal lives in human societies as they&#39;re mentally no different from their human counterparts. That doesn&#39;t mean they do, as they are often used as sex slaves due to their dog-like ears and tails. In mongrel society canus are accepted but are treated lesser than their pure-bread counterparts. They are often found performing menial chores around mongrel villages and are often used as slaves there as well. They&#39;re physically and mentally average as a race.

  &lt;&lt;case &quot;Dark Elf&quot;&gt;&gt;
    Dark Elves have lived just as long as High Elves but have secluded themselves from any contact with any other race. Although they aren&#39;t hostile  they are absolutely aggressive with defending their territory. They don&#39;t trade or interact with other dark elf tribes, let alone other races. Their darkened skin and pointy ears are their defining attributes. Dark Elves are matriarchal in nature and their looks reflect that. The women have larger than average breasts, while the men have smaller than average cocks. Like most elves, they are extremely beautiful and produce good quality nectar naturally.

  &lt;&lt;case &quot;Dwarf&quot;&gt;&gt;
    Dwarves have lived have lived among society for the past few centuries but before were cave dwellers. Their short yet stout bodies helped them traverse through constricted tunnel systems. Most dwarves now live amongst other races, providing their trade skills for compensation. Dwarves have small breasts and cocks, and all of them have facial hair. They’re short too, but their redeeming factor is that they’re a very fit race.

  &lt;&lt;case &quot;Forest Elf&quot;&gt;&gt;
    Forest Elves are heralded as the peacekeepers of the forest. They aren&#39;t too much divorced from their dark and high elf cousins genetically and more numerous in number. They tend to live in grandiose forest villages protected by illusion barriers to prevent any outsiders from entering. Boasting superior magic and a longer life, the only thing preventing them from being the dominant race is their very weak fertility. Forest elves, like most elves, are extremely beautiful. They also produce good quality nectar naturally.

  &lt;&lt;case &quot;Giant&quot;&gt;&gt;
    Giants live in mountainous plains sometimes in groups of two but mostly by themselves. Both sexes roam the mountains for food, only looking for companionship during mating season. Male giants will fight amongst themselves for land, providing themselves with a prosperous breeding ground. Female giants are granted access to a male&#39;s land but are also subject to his libido. Not only are giants extremely tall, they have large cocks, breasts and are generally very athletic.

  &lt;&lt;case &quot;Gnome&quot;&gt;&gt;
    Gnomes are the smallest race alongside goblins. Despite their small size, it is very rare for gnomes to be poor or low class. They make a living with their ingenious creations and superior wares. In the wild they often live in the hollowed out insides of giant trees. They have really small cocks and breasts but they are very intelligent.

  &lt;&lt;case &quot;Goblin&quot;&gt;&gt;
    Goblins are considered a plague amongst the living. Individually their abilities pale in comparison to every other race, but their unparalleled mating ability and high fertility allows them to overwhelm any race through sheer numbers. Goblins are a male only race of very small, large cocked monsters. They’re very dumb and ugly, but also very cheap.

  &lt;&lt;case &quot;High Elf&quot;&gt;&gt;
    High Elves can be found scattered across the world, mainly in the high echelons of human societies. High elves are patriarchal in nature and their looks reflect that. The men have larger than average cocks, while the women have smaller than average breasts. Like most elves, they are extremely beautiful and produce good quality nectar naturally.

  &lt;&lt;case &quot;Holstaur&quot;&gt;&gt;
    Holstaur are the female sex of the beastmen cattle species. They graze in the wild in herds with their offspring and one or at most two minotaur. Holstaur features are mainly human but they have extremely large busts, produce high quality milk, small horns sprouting from their heads, have hoofed feet and are female only.

  &lt;&lt;case &quot;Human&quot;&gt;&gt;
    Humans almost always live in societies consisting of other humans. They&#39;re very social, requiring some form of interaction to retain their mental health. While they have no strong points, they have no weaknesses either making them the most dominant race on the planet. Humans are the most common and average traits. There isn’t anything special about them other than the fact they are cheap and can be bred by any race.

  &lt;&lt;case &quot;Minotaur&quot;&gt;&gt;
    Mintaur are the male sex of the beastmen cattle species. They fight amongst themselves to control groups of cattle but sometimes may share their leadership with another minotaur. Minotaur features are mainly human but they have larger than average cocks, bull horns sprouting from their heads, hoofed feet and are male only.

  &lt;&lt;case &quot;Mongrel&quot;&gt;&gt;
    Mongrels are a race of anthropomorphic dogs that live mainly in the forest. Both male and female mongrels share all roles within their villages equally. That includes hunting, child-rearing, leadership roles and the many trades they partake in. They are very aggressive when it comes to defending their territory. Male mongrels have knotted cocks and all mongrels are generally fit.

  &lt;&lt;case &quot;Moon Rabbit&quot;&gt;&gt;
    Moon rabbits are a rare, forest dwelling race that have mainly human features but have bunny like ears and tails. They reside in isolated but enormous underground villages which they only leave to gather food. Moon Rabbit villages can often go two to three centuries without being discovered by any other race. They are known to be intelligent and beautiful.

  &lt;&lt;case &quot;Neko&quot;&gt;&gt;
    Neko are a crossbreed between a human and a pantheran. They can live relatively normal lives in human societies as they&#39;re mentally no different from their human counterparts. That doesn&#39;t mean they do, as they are often used as sex slaves due to their cat-like ears and tails. In pantheran society canus are completely shunned as they are considered lesser than their pure-bread counterparts. Pantherans feel they weaken the tribe and thus are only admitted into the tribe as slaves. Neko features are mainly human, but they do have cat like ears and tails. They&#39;re physically and mentally average as a race.

  &lt;&lt;case &quot;Orc&quot;&gt;&gt;
    Orcs are very large athletic monsters that are generally stupid and very ugly. They have a penchant for fighting, losing them more people than their enhanced libidos can keep up with. Almost every clan of orcs will eventually fight itself into extinction without intervention. Males have extraordinarily large cocks that produce high quality cum except for the taste, which is generally very bad. Females have large breasts.

  &lt;&lt;case &quot;Pantheran&quot;&gt;&gt;
    Pantherans are a race of anthropomorphic cats that live mainly in the forest. Female pantheran rule the tribes, as they are more skilled in combat than their male counterparts. A male&#39;s status in the clan is largely decided by his mother&#39;s status, making it possible for a male to rank higher in the clan than a low status female. Female pantheran fight over the right to mate a male. The male then has the right to veto if he can best his potential partner in combat, which rarely ever happens. Male pantherans have barbed cocks and all pantherans are generally fit.

&lt;&lt;/switch&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="265" name="Race Stat Bar Widget" tags="nobr widget" position="1755,1221" size="100,100">&lt;&lt;widget &quot;racestatbar&quot;&gt;&gt;

&lt;&lt;set _ee = $args[0] / $args[1]&gt;&gt;
&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .80&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .60&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .40&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .20&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _current = Math.floor(_ee * 30)&gt;&gt;

&lt;&lt;set _gone = 30 - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _cstat = &#39;&lt;b&gt;@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _gstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@&lt;/b&gt;&#39;&gt;&gt;
&lt;&lt;print _cstat + _gstat&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="266" name="Race Stat Widget" tags="nobr widget" position="1755,1351" size="100,100">&lt;&lt;widget &quot;racestats&quot;&gt;&gt;

&lt;&lt;set $racestats = {milk:{}, lactating:{}, cum:{}, nectar:{}, nectaring:{}, sexual:{}, choosablesexes:[]}&gt;&gt;

&lt;&lt;if [&quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.intelligence = 5&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;dark elf&quot;, &quot;forest elf&quot;, &quot;high elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.intelligence = 4&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.intelligence = 2&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.intelligence = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.intelligence = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;, &quot;giant&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.weight = 7&gt;&gt;
  &lt;&lt;set $racestats.choosableweight = [&quot;Athletic&quot;, &quot;Fit&quot;, &quot;Normal&quot;, &quot;Underweight&quot;, &quot;Overweight&quot;, &quot;Emaciated&quot;, &quot;Obese&quot;]&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;minotaur&quot;, &quot;pantheran&quot;, &quot;mongrel&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.weight = 6&gt;&gt;
  &lt;&lt;set $racestats.choosableweight = [&quot;Fit&quot;, &quot;Normal&quot;, &quot;Underweight&quot;, &quot;Overweight&quot;, &quot;Emaciated&quot;, &quot;Obese&quot;]&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.weight = 5&gt;&gt;
  &lt;&lt;set $racestats.choosableweight = [&quot;Normal&quot;, &quot;Underweight&quot;, &quot;Overweight&quot;, &quot;Emaciated&quot;, &quot;Obese&quot;]&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;dark elf&quot;, &quot;forest elf&quot;, &quot;high elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.beauty = 10&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.beauty = 8&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.beauty = 4&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.beauty = 2&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.beauty = 6&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.fertility = 5&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.fertility = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;giant&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.fertility = 3&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.fertility = 2&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.fertility = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.libido = 5&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;dark elf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.libido = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;giant&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;forest elf&quot;, &quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.libido = 3&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;moon rabbit&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.libido = 2&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.libido = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.strength = 5&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;dark elf&quot;, &quot;canus&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.strength = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;forest elf&quot;, &quot;pantheran&quot;, &quot;moon rabbit&quot;, &quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.strength = 3&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;neko&quot;, &quot;goblin&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.strength = 2&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.strength = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;gnome&quot;, &quot;moon rabbit&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.speed = 5&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;neko&quot;, &quot;pantheran&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.speed = 4&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;forest elf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;, &quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.speed = 3&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;dwarf&quot;, &quot;dark elf&quot;, &quot;canus&quot;, &quot;goblin&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.speed = 2&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.speed = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;goblin&quot;, &quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.stamina = 5&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;moon rabbit&quot;, &quot;minotaur&quot;, &quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.stamina = 4&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;gnome&quot;, &quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;, &quot;mongrel&quot;, &quot;pantheran&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.stamina = 3&gt;&gt;

&lt;&lt;elseif [&quot;human&quot;, &quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.stamina = 2&gt;&gt;

&lt;&lt;elseif [&quot;neko&quot;, &quot;canus&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.stamina = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.control = 5&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.control = 4&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;human&quot;, &quot;dwarf&quot;, &quot;gnome&quot;, &quot;canus&quot;, &quot;neko&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.control = 3&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;, &quot;pantheran&quot;, &quot;minotaur&quot;, &quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.control = 2&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.sexual.control = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.cock = 10&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;goblin&quot;, &quot;minotaur&quot;, &quot;high elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.cock = 8&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;dark elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.cock = 4&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.cock = 2&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.cock = 6&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.girth = 5&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;goblin&quot;, &quot;minotaur&quot;, &quot;high elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.girth = 4&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;dark elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.girth = 2&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.girth = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.girth = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.bust = 10&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;, &quot;dark elf&quot;, &quot;giant&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.bust = 8&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;high elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.bust = 4&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.bust = 2&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.bust = 6&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;dark elf&quot;, &quot;orc&quot;, &quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.lips = 5&gt;&gt;

&lt;&lt;elseif [&quot;canus&quot;, &quot;mongrel&quot;, &quot;giant&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.lips = 4&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;, &quot;neko&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.lips = 2&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;goblin&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.lips = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.lips = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;, &quot;orc&quot;, &quot;dwarf&quot;, &quot;minotaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.shoulders = 5&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;, &quot;goblin&quot;, &quot;canus&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.shoulders = 4&gt;&gt;

&lt;&lt;elseif [&quot;forest elf&quot;, &quot;dark elf&quot;, &quot;high elf&quot;, &quot;neko&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.shoulders = 2&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;gnome&quot;, &quot;moon rabbit&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.shoulders = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.shoulders = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;holstaur&quot;, &quot;dark elf&quot;, &quot;pantheran&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.hips = 5&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;, &quot;orc&quot;, &quot;neko&quot;, &quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.hips = 4&gt;&gt;

&lt;&lt;elseif [&quot;canus&quot;, &quot;forest elf&quot;, &quot;dwarf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.hips = 2&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;mongrel&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.hips = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.hips = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;dwarf&quot;, &quot;mongrel&quot;, &quot;minotaur&quot;, &quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.torso = 5&gt;&gt;

&lt;&lt;elseif [&quot;canus&quot;, &quot;dark elf&quot;, &quot;giant&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.torso = 4&gt;&gt;

&lt;&lt;elseif [&quot;neko&quot;, &quot;forest elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.torso = 2&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;gnome&quot;, &quot;high elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.torso = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.torso = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;moon rabbit&quot;, &quot;high elf&quot;, &quot;dark elf&quot;, &quot;pantheran&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.legs = 5&gt;&gt;

&lt;&lt;elseif [&quot;forest elf&quot;, &quot;neko&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.legs = 4&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;, &quot;dwarf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.legs = 2&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.legs = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.legs = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.butt = 5&gt;&gt;

&lt;&lt;elseif [&quot;dark elf&quot;, &quot;moon rabbit&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.butt = 4&gt;&gt;

&lt;&lt;elseif [&quot;high elf&quot;, &quot;forest elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.butt = 2&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;, &quot;dwarf&quot;, &quot;goblin&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.butt = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.butt = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;, &quot;minotaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.balls = 5&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;, &quot;mongrel&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.balls = 4&gt;&gt;

&lt;&lt;elseif [&quot;dark elf&quot;, &quot;dwarf&quot;, &quot;goblin&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.balls = 2&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.balls = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.balls = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.clit = 5&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;, &quot;moon rabbit&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.clit = 4&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;, &quot;high elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.clit = 2&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;, &quot;holstaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.clit = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.clit = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;giant&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.pussy = 5&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;, &quot;gnome&quot;, &quot;high elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.pussy = 4&gt;&gt;

&lt;&lt;elseif [&quot;forest elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.pussy = 2&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.pussy = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.pussy = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;orc&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.cum.quality = 5&gt;&gt;
	&lt;&lt;set $racestats.cum.quantity = 5&gt;&gt;
	&lt;&lt;set $racestats.cum.taste = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.cum.quality = 3&gt;&gt;
	&lt;&lt;set $racestats.cum.quantity = 3&gt;&gt;
	&lt;&lt;set $racestats.cum.taste = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;holstaur&quot;, &quot;minotaur&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.milk.quality = 4&gt;&gt;
	&lt;&lt;set $racestats.milk.quantity = 4&gt;&gt;
	&lt;&lt;set $racestats.milk.taste = 4&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.milk.quality = 3&gt;&gt;
	&lt;&lt;set $racestats.milk.quantity = 3&gt;&gt;
	&lt;&lt;set $racestats.milk.taste = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;high elf&quot;, &quot;forest elf&quot;, &quot;dark elf&quot;].contains($args[0])&gt;&gt;
	&lt;&lt;set $racestats.nectar.quality = 5&gt;&gt;
	&lt;&lt;set $racestats.nectar.quantity = 4&gt;&gt;
	&lt;&lt;set $racestats.nectar.taste = 2&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.nectar.quality = 3&gt;&gt;
	&lt;&lt;set $racestats.nectar.quantity = 3&gt;&gt;
	&lt;&lt;set $racestats.nectar.taste = 3&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _sex = lowercase($NC.sex)&gt;&gt;

&lt;&lt;if $PC.tribe != $NC.oldtribe || $NC.stats == null || $PC.sex != _sex&gt;&gt;
  &lt;&lt;set $NC.statpoints = 20&gt;&gt;
  &lt;&lt;set $NC.stats = $racestats&gt;&gt;
  &lt;&lt;set $NC.oldtribe = $PC.tribe&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="267" name="CC - Physical Traits" tags="nobr" position="150,1425" size="100,100">&lt;&lt;set $Continue = &quot;Start&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;CC - Sexuality&quot;&gt;&gt;

&lt;&lt;if $cheats.includes(&quot;MAS&quot;)&gt;&gt;
	&lt;&lt;run toggleCheat(&quot;MAS&quot;)&gt;&gt;
	
	&lt;&lt;set $NC.stats.beauty = 10&gt;&gt;
  &lt;&lt;set $NC.stats.intelligence = 5&gt;&gt;
  &lt;&lt;set $NC.stats.lips = 5&gt;&gt;
  &lt;&lt;set $NC.stats.shoulders = 5&gt;&gt;
  &lt;&lt;set $NC.stats.hips = 5&gt;&gt;
  &lt;&lt;set $NC.stats.torso = 5&gt;&gt;
  &lt;&lt;set $NC.stats.legs = 5&gt;&gt;
  &lt;&lt;set $NC.stats.butt = 5&gt;&gt;
	
	&lt;&lt;set $NC.stats.sexual.stamina = 5&gt;&gt;
  &lt;&lt;set $NC.stats.sexual.control = 5&gt;&gt;
  &lt;&lt;set $NC.stats.sexual.libido = 5&gt;&gt;
  &lt;&lt;set $NC.stats.sexual.fertility = 5&gt;&gt;
	
	&lt;&lt;set $NC.stats.cock = 10&gt;&gt;
  &lt;&lt;set $NC.stats.girth = 5&gt;&gt;
	&lt;&lt;set $NC.stats.balls = 5&gt;&gt;
	&lt;&lt;set $NC.stats.cum.quality = 5&gt;&gt;
	&lt;&lt;set $NC.stats.cum.quantity = 5&gt;&gt;
	&lt;&lt;set $NC.stats.cum.taste = 5&gt;&gt;

	&lt;&lt;set $NC.stats.bust = 10&gt;&gt;
	&lt;&lt;set $NC.stats.milk.quantity = 5&gt;&gt;
	&lt;&lt;set $NC.stats.milk.quality = 5&gt;&gt;
	&lt;&lt;set $NC.stats.milk.taste = 5&gt;&gt;
	
	&lt;&lt;set $NC.stats.pussy = 5&gt;&gt;
	&lt;&lt;set $NC.stats.clit = 5&gt;&gt;
	&lt;&lt;set $NC.stats.nectar.quantity = 5&gt;&gt;
	&lt;&lt;set $NC.stats.nectar.quality = 5&gt;&gt;
	&lt;&lt;set $NC.stats.nectar.taste = 5&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if settings.cheats&gt;&gt;
	&lt;&lt;if [&quot;perfectCharacter&quot;].contains($cheat)&gt;&gt;
		&lt;&lt;run toggleCheat($cheat)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if [&quot;perfectCharacter&quot;].contains($cheat)&gt;&gt;
		&lt;&lt;run addCheatPage($cheat)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $cheat = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cheats.includes(&quot;perfectCharacter&quot;)&gt;&gt;
	&lt;&lt;set $NC.statpoints = 20&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;Human&quot;, &quot;Canus&quot;, &quot;Neko&quot;, &quot;Goblin&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.rarity = 1&gt;&gt;
&lt;&lt;elseif [&quot;Dwarf&quot;, &quot;Gnome&quot;, &quot;Mongrel&quot;, &quot;Pantheran&quot;, &quot;Holstaur&quot;, &quot;Minotaur&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.rarity = 2&gt;&gt;
&lt;&lt;elseif [&quot;Giant&quot;, &quot;Forest Elf&quot;, &quot;Moon Rabbit&quot;, &quot;Orc&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.rarity = 3&gt;&gt;
&lt;&lt;elseif [&quot;High Elf&quot;, &quot;Dark Elf&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.rarity = 4&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;Human&quot;, &quot;Dwarf&quot;, &quot;Gnome&quot;, &quot;Giant&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.race = &quot;hume&quot;&gt;&gt;
&lt;&lt;elseif [&quot;Neko&quot;, &quot;Canus&quot;, &quot;Pantheran&quot;, &quot;Mongrel&quot;, &quot;Holstaur&quot;, &quot;Minotaur&quot;, &quot;Moon Rabbit&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.race = &quot;beastman&quot;&gt;&gt;
&lt;&lt;elseif [&quot;Goblin&quot;, &quot;Orc&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.race = &quot;monster&quot;&gt;&gt;
&lt;&lt;elseif [&quot;High Elf&quot;, &quot;Forest Elf&quot;, &quot;Dark Elf&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $PC.race = &quot;elf&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $NC.tribe == &quot;Moon Rabbit&quot;&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;moon rabbit&quot;&gt;&gt;
&lt;&lt;elseif $NC.tribe == &quot;High Elf&quot;&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;high elf&quot;&gt;&gt;
&lt;&lt;elseif $NC.tribe == &quot;Forest Elf&quot;&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;forest elf&quot;&gt;&gt;
&lt;&lt;elseif $NC.tribe == &quot;Dark Elf&quot;&gt;&gt;
	&lt;&lt;set $PC.tribe = &quot;dark elf&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.tribe = lowercase($NC.tribe)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;racestats $PC.tribe&gt;&gt;

&lt;&lt;if [&quot;Holstaur&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $racestats.choosablesexes = [&quot;Female&quot;]&gt;&gt;
	&lt;&lt;set $NC.sex = &quot;Female&quot;&gt;&gt;

&lt;&lt;elseif [&quot;Minotaur&quot;, &quot;Goblin&quot;].contains($NC.tribe)&gt;&gt;
	&lt;&lt;set $racestats.choosablesexes = [&quot;Male&quot;]&gt;&gt;
	&lt;&lt;set $NC.sex = &quot;Male&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $racestats.choosablesexes = [&quot;Male&quot;, &quot;Female&quot;, &quot;Futanari&quot;, &quot;Shemale&quot;]&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$racestats.choosableweight.contains($NC.weight)&gt;&gt;
	&lt;&lt;set $NC.weight = $racestats.choosableweight[0]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $NC.weight == &quot;Athletic&quot;&gt;&gt;
	&lt;&lt;set $PC.weight = 7&gt;&gt;

&lt;&lt;elseif $NC.weight == &quot;Fit&quot;&gt;&gt;
	&lt;&lt;set $PC.weight = 6&gt;&gt;

&lt;&lt;elseif $NC.weight == &quot;Normal&quot;&gt;&gt;
	&lt;&lt;set $PC.weight = 5&gt;&gt;

&lt;&lt;elseif $NC.weight == &quot;Underweight&quot;&gt;&gt;
	&lt;&lt;set $PC.weight = 4&gt;&gt;

&lt;&lt;elseif $NC.weight == &quot;Overweight&quot;&gt;&gt;
	&lt;&lt;set $PC.weight = 3&gt;&gt;

&lt;&lt;elseif $NC.weight == &quot;Emaciated&quot;&gt;&gt;
	&lt;&lt;set $PC.weight = 2&gt;&gt;

&lt;&lt;elseif $NC.weight == &quot;Obese&quot;&gt;&gt;
	&lt;&lt;set $PC.weight = 1&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _skinfur = &quot;Skin&quot;&gt;&gt;

&lt;&lt;if $PC.race == &quot;hume&quot;&gt;&gt;
	&lt;&lt;set $racestats.choosableskin = [&quot;Pale&quot;, &quot;Light-skinned&quot;, &quot;Tan&quot;, &quot;Dark-skinned&quot;]&gt;&gt;

&lt;&lt;elseif $PC.race == &quot;beastman&quot;&gt;&gt;
	&lt;&lt;if $PC.tribe == &quot;pantheran&quot; || $PC.tribe == &quot;mongrel&quot;&gt;&gt;
		&lt;&lt;set $racestats.choosableskin = [&quot;Brown&quot;, &quot;Cream&quot;, &quot;Cinnamon&quot;, &quot;Black&quot;, &quot;White&quot;, &quot;Fawn&quot;]&gt;&gt;
		&lt;&lt;set _skinfur = &quot;Fur&quot;&gt;&gt;

	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $racestats.choosableskin = [&quot;Pale&quot;, &quot;Light-skinned&quot;, &quot;Tan&quot;, &quot;Dark-skinned&quot;]&gt;&gt;

	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $PC.race == &quot;monster&quot;&gt;&gt;
	&lt;&lt;set $racestats.choosableskin = [&quot;Brown-skinned&quot;, &quot;Green-skinned&quot;]&gt;&gt;

&lt;&lt;elseif $PC.race == &quot;elf&quot;&gt;&gt;
	&lt;&lt;if $PC.tribe == &quot;forest elf&quot;&gt;&gt;
		&lt;&lt;set $racestats.choosableskin = [&quot;Light-skinned&quot;]&gt;&gt;

	&lt;&lt;elseif $PC.tribe == &quot;high elf&quot;&gt;&gt;
		&lt;&lt;set $racestats.choosableskin = [&quot;Pale&quot;]&gt;&gt;

	&lt;&lt;elseif $PC.tribe == &quot;dark elf&quot;&gt;&gt;
		&lt;&lt;set $racestats.choosableskin = [&quot;Dark-skinned&quot;]&gt;&gt;

	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$racestats.choosableskin.contains($NC.skintone)&gt;&gt;
	&lt;&lt;set $NC.skintone = $racestats.choosableskin[0]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;pantheran&quot;, &quot;mongrel&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.fur = lowercase($NC.skintone)&gt;&gt;
	&lt;&lt;set $PC.skintone = null&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.skintone = lowercase($NC.skintone)&gt;&gt;
	&lt;&lt;set $PC.fur = null&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $PC.sex = lowercase($NC.sex)&gt;&gt;
&lt;&lt;set $PC.gender = lowercase($NC.gender)&gt;&gt;

&lt;&lt;if ($PC.tribe == &quot;orc&quot; &amp;&amp; [&quot;male&quot;].contains($PC.sex)) || $PC.tribe == &quot;goblin&quot;&gt;&gt;
	&lt;&lt;set $racestats.choosablehairstyles = [&quot;Completely Bald&quot;]&gt;&gt;

&lt;&lt;elseif [&quot;male&quot;].contains($PC.sex)&gt;&gt;
	&lt;&lt;set $racestats.choosablehairstyles = [&quot;Completely Bald&quot;, &quot;Crew Cut&quot;, &quot;Curtained&quot;, &quot;Long&quot;, &quot;Caesar Cut&quot;, &quot;Quiff&quot;, &quot;Simple and Short&quot;]&gt;&gt;

&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
	&lt;&lt;set $racestats.choosablehairstyles = [&quot;Completely Bald&quot;, &quot;Bob Cut&quot;, &quot;Short Bob Cut&quot;, &quot;Hime Cut&quot;, &quot;Long and Wavy&quot;, &quot;Straight and Long&quot;, &quot;Pigtails&quot;, &quot;Ponytail&quot;]&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$racestats.choosablehairstyles.contains($NC.hairstyle)&gt;&gt;
	&lt;&lt;set $NC.hairstyle = $racestats.choosablehairstyles[0]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _hairindex = $racestats.choosablehairstyles.indexOf($NC.hairstyle)&gt;&gt;

&lt;&lt;if [&quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
	&lt;&lt;set $PC.hairstyle = $simplehairstyles[&quot;female&quot;][_hairindex]&gt;&gt;
	
&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.hairstyle = $simplehairstyles[$PC.gender][_hairindex]&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $racestats.choosablehaircolors = [&quot;Black&quot;, &quot;Brown&quot;, &quot;Red&quot;, &quot;Blonde&quot;, &quot;Pink&quot;, &quot;Purple&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Silver&quot;, &quot;White&quot;]&gt;&gt;

&lt;&lt;if $PC.fur&gt;&gt;
	&lt;&lt;set $NC.haircolor = $NC.skintone&gt;&gt;

&lt;&lt;elseif !$racestats.choosablehaircolors.contains($NC.haircolor)&gt;&gt;
	&lt;&lt;set $NC.haircolor = $racestats.choosablehaircolors[0]&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $PC.haircolor = lowercase($NC.haircolor)&gt;&gt;

&lt;&lt;set $racestats.choosableyecolors = [&quot;Amber&quot;, &quot;Blue&quot;, &quot;Brown&quot;, &quot;Gray&quot;, &quot;Green&quot;, &quot;Hazel&quot;, &quot;Red&quot;, &quot;Violet&quot;]&gt;&gt;

&lt;&lt;if !$racestats.choosableyecolors.contains($NC.eyecolor)&gt;&gt;
	&lt;&lt;set $NC.eyecolor = lowercase($racestats.choosableyecolors[0])&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $PC.eyecolor = lowercase($NC.eyecolor)&gt;&gt;

&lt;&lt;if [&quot;orc&quot;, &quot;giant&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 215&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 260&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 200&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 245&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;minotaur&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 185&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 230&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 170&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 215&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 125&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 170&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 110&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 115&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;, &quot;goblin&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 95&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 140&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 80&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 125&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 155&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 200&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;set $racestats.heightmin = 140&gt;&gt;
		&lt;&lt;set $racestats.heightmax = 185&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$NC.maturity&gt;&gt;
	&lt;&lt;set $NC.maturity = &quot;Adult&quot;&gt;&gt;
	&lt;&lt;set $PC.maturity = 2&gt;&gt;

&lt;&lt;elseif $NC.maturity == &quot;Young Adult&quot;&gt;&gt;
	&lt;&lt;set $PC.maturity = 1&gt;&gt;

&lt;&lt;elseif $NC.maturity == &quot;Adult&quot;&gt;&gt;
	&lt;&lt;set $PC.maturity = 2&gt;&gt;

&lt;&lt;elseif $NC.maturity == &quot;Mature&quot;&gt;&gt;
	&lt;&lt;set $PC.maturity = 3&gt;&gt;
&lt;&lt;/if&gt;&gt;


&lt;&lt;set $PC.height = Math.clamp($PC.height, $racestats.heightmin, $racestats.heightmax)&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 100&gt;Character Creation - Physical Traits&lt;/th&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot; colspan = 34&gt;&lt;b&gt;Name:&lt;/b&gt; &lt;&lt;textbox &quot;$PC.name&quot; $PC.name&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 20&gt;&lt;b&gt;Race:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.tribe&quot; $tribes&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 21&gt;&lt;b&gt;Weight:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.weight&quot; $racestats.choosableweight&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 25&gt;&lt;b&gt;_skinfur:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.skintone&quot; $racestats.choosableskin&gt;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot; colspan = 16&gt;&lt;b&gt;Sex:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.sex&quot; $racestats.choosablesexes&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 18&gt;&lt;b&gt;Gender:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.gender&quot; &quot;Male&quot; &quot;Female&quot;&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 26&gt;&lt;b&gt;Hairstyle:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.hairstyle&quot; $racestats.choosablehairstyles&gt;&gt;&lt;/td&gt;

	&lt;&lt;if _skinfur == &quot;Skin&quot;&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 20&gt;&lt;b&gt;Haircolor:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.haircolor&quot; $racestats.choosablehaircolors&gt;&gt;&lt;/td&gt;

	&lt;&lt;else&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 20&gt;&lt;b&gt;Haircolor:&lt;/b&gt; $NC.haircolor&lt;/td&gt;

	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 20&gt;&lt;b&gt;Eyecolor:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.eyecolor&quot; $racestats.choosableyecolors&gt;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot; colspan = 50&gt;&lt;b&gt;Height [$racestats.heightmin cm - $racestats.heightmax cm] [Metric]:&lt;/b&gt; &lt;&lt;textbox &quot;$PC.height&quot; $PC.height &quot;CC - Physical Traits&quot;&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 27&gt;&lt;b&gt;Height [&lt;&lt;print getHeight($racestats.heightmin)&gt;&gt; - &lt;&lt;print getHeight($racestats.heightmax)&gt;&gt;] [Imperial]:&lt;/b&gt;  &lt;&lt;print getHeight($PC.height)&gt;&gt; &lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 23&gt;&lt;b&gt;Maturity:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.maturity&quot; &quot;Young Adult&quot; &quot;Adult&quot; &quot;Mature&quot;&gt;&gt;&lt;/td&gt;
&lt;/tr&gt;


&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 100&gt;Genetics&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 100&gt;Choose and edit your character&#39;s genetics. You will start out with a template based on your race, which you can edit with statpoints. You start with 20, increasing the strength of a genetic will take up one point. You can also decrease the strength of genetics relevant to your character&#39;s sex, increasing the amount of statpoints you have up to 20. You can take away 2 points from primary stats, and 1 from secondary stats. &lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 100&gt;General Stats&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 100&gt;Most of these stats affect both sexes, but there are a few secondary stats that are dependent upon which sex you chose for your character. Lip size, shoulder size, hip size and torso size all fall under that category, while leg and butt size are secondary stats that affect both sexes.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
  @@color:#3A82FF;You are biologically male (♂) so any points you put in your lip or hip size won&#39;t be apparent unless you transition into being biologically female or futanari.@@
	
&lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
  @@color:#FD81CA;You are biologically female (♀) so any points you put in your shoulder or torso size won&#39;t be apparent unless you transition into being biologically male.@@
	
&lt;&lt;elseif [&quot;futanari&quot;].contains($PC.sex)&gt;&gt;
  @@color:#9A63FF;You are biologically futanari (⚥) so any points you put in your shoulder or torso size won&#39;t be apparent unless you transition into being biologically male.@@
	
&lt;&lt;elseif [&quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		@@color:#9A63FF;You are biologically shemale(⚦) so any points you put in your shoulder or torso size won&#39;t be apparent unless you transition into being biologically male.@@
	
&lt;&lt;/if&gt;&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Beauty&lt;br&gt;&lt;span id=&#39;beauty&#39;&gt;&lt;&lt;racestatbar $NC.stats.beauty 10&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPbeauty&#39;&gt;&lt;&lt;statpoints &quot;beauty&quot; $NC.stats.beauty $racestats.beauty 1 10&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Intelligence&lt;br&gt;&lt;span id=&#39;intelligence&#39;&gt;&lt;&lt;racestatbar $NC.stats.intelligence 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPintelligence&#39;&gt;&lt;&lt;statpoints &quot;intelligence&quot; $NC.stats.intelligence $racestats.intelligence 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Lips&lt;br&gt;&lt;span id=&#39;lips&#39;&gt;&lt;&lt;racestatbar $NC.stats.lips 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPlips&#39;&gt;&lt;&lt;statpoints &quot;lips&quot; $NC.stats.lips $racestats.lips 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPlips&#39;&gt;&lt;&lt;statpoints &quot;lips&quot; $NC.stats.lips $racestats.lips 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Shoulders&lt;br&gt;&lt;span id=&#39;shoulders&#39;&gt;&lt;&lt;racestatbar $NC.stats.shoulders 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPshoulders&#39;&gt;&lt;&lt;statpoints &quot;shoulders&quot; $NC.stats.shoulders $racestats.shoulders 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPshoulders&#39;&gt;&lt;&lt;statpoints &quot;shoulders&quot; $NC.stats.shoulders $racestats.shoulders 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Hips&lt;br&gt;&lt;span id=&#39;hips&#39;&gt;&lt;&lt;racestatbar $NC.stats.hips 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPhips&#39;&gt;&lt;&lt;statpoints &quot;hips&quot; $NC.stats.hips $racestats.hips 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPhips&#39;&gt;&lt;&lt;statpoints &quot;hips&quot; $NC.stats.hips $racestats.hips 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Torso&lt;br&gt;&lt;span id=&#39;torso&#39;&gt;&lt;&lt;racestatbar $NC.stats.torso 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPtorso&#39;&gt;&lt;&lt;statpoints &quot;torso&quot; $NC.stats.torso $racestats.torso 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPtorso&#39;&gt;&lt;&lt;statpoints &quot;torso&quot; $NC.stats.torso $racestats.torso 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Legs&lt;br&gt;&lt;span id=&#39;legs&#39;&gt;&lt;&lt;racestatbar $NC.stats.legs 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPlegs&#39;&gt;&lt;&lt;statpoints &quot;legs&quot; $NC.stats.legs $racestats.legs 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Butt&lt;br&gt;&lt;span id=&#39;butt&#39;&gt;&lt;&lt;racestatbar $NC.stats.butt 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPbutt&#39;&gt;&lt;&lt;statpoints &quot;butt&quot; $NC.stats.butt $racestats.butt 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Sexual Stamina&lt;br&gt;&lt;span id=&#39;sexualstamina&#39;&gt;&lt;&lt;racestatbar $NC.stats.sexual.stamina 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPsexualstamina&#39;&gt;&lt;&lt;statpoints &quot;sexual.stamina&quot; $NC.stats.sexual.stamina $racestats.sexual.stamina 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Orgasm Control&lt;br&gt;&lt;span id=&#39;sexualcontrol&#39;&gt;&lt;&lt;racestatbar $NC.stats.sexual.control 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPsexualcontrol&#39;&gt;&lt;&lt;statpoints &quot;sexual.control&quot; $NC.stats.sexual.control $racestats.sexual.control 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Libido&lt;br&gt;&lt;span id=&#39;sexuallibido&#39;&gt;&lt;&lt;racestatbar $NC.stats.sexual.libido 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPsexuallibido&#39;&gt;&lt;&lt;statpoints &quot;sexual.libido&quot; $NC.stats.sexual.libido $racestats.sexual.libido 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Fertility&lt;br&gt;&lt;span id=&#39;sexualfertility&#39;&gt;&lt;&lt;racestatbar $NC.stats.sexual.fertility 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPsexualfertility&#39;&gt;&lt;&lt;statpoints &quot;sexual.fertility&quot; $NC.stats.sexual.fertility $racestats.sexual.fertility 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 100&gt;Male Genitalia Stats&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 100&gt;The stats in this section affect the physical properties of your character&#39;s male genitalia and also your semen&#39;s attributes.

&lt;br&gt;&lt;br&gt;

&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
  @@color:#3A82FF;You are biologically male (♂) so any points you put into these stats will be immediately apparent after your character is created.@@
	
&lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
  @@color:#FD81CA;You are biologically female (♀) so any points you put into any of these stats won&#39;t be apparent unless you transition into being biologically male/futanari or use an appropriate potion.@@
	
&lt;&lt;elseif [&quot;futanari&quot;].contains($PC.sex)&gt;&gt;
  @@color:#9A63FF;You are biologically futanari (⚥) so any points you put into these stats will be immediately apparent after your character is created.@@
	
&lt;&lt;elseif [&quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		@@color:#9A63FF;You are biologically shemale(⚦) so any points you put into these stats will be immediately apparent after your character is created.@@
	
&lt;&lt;/if&gt;&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
  &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Cock Length&lt;br&gt;&lt;span id=&#39;cock&#39;&gt;&lt;&lt;racestatbar $NC.stats.cock 10&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPcock&#39;&gt;&lt;&lt;statpoints &quot;cock&quot; $NC.stats.cock $racestats.cock 1 10&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPcock&#39;&gt;&lt;&lt;statpoints &quot;cock&quot; $NC.stats.cock $racestats.cock 0 10&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Cock Girth&lt;br&gt;&lt;span id=&#39;girth&#39;&gt;&lt;&lt;racestatbar $NC.stats.girth 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPgirth&#39;&gt;&lt;&lt;statpoints &quot;girth&quot; $NC.stats.girth $racestats.girth 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPgirth&#39;&gt;&lt;&lt;statpoints &quot;girth&quot; $NC.stats.girth $racestats.girth 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Testicle Size&lt;br&gt;&lt;span id=&#39;balls&#39;&gt;&lt;&lt;racestatbar $NC.stats.balls 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPballs&#39;&gt;&lt;&lt;statpoints &quot;balls&quot; $NC.stats.balls $racestats.balls 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPballs&#39;&gt;&lt;&lt;statpoints &quot;balls&quot; $NC.stats.balls $racestats.balls 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Cum Quality&lt;br&gt;&lt;span id=&#39;cumquality&#39;&gt;&lt;&lt;racestatbar $NC.stats.cum.quality 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPcumquality&#39;&gt;&lt;&lt;statpoints &quot;cum.quality&quot; $NC.stats.cum.quality $racestats.cum.quality 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPcumquality&#39;&gt;&lt;&lt;statpoints &quot;cum.quality&quot; $NC.stats.cum.quality $racestats.cum.quality 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Cum Quantity&lt;br&gt;&lt;span id=&#39;cumquantity&#39;&gt;&lt;&lt;racestatbar $NC.stats.cum.quantity 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPcumquantity&#39;&gt;&lt;&lt;statpoints &quot;cum.quantity&quot; $NC.stats.cum.quantity $racestats.cum.quantity 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPcumquantity&#39;&gt;&lt;&lt;statpoints &quot;cum.quantity&quot; $NC.stats.cum.quantity $racestats.cum.quantity 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Cum Taste&lt;br&gt;&lt;span id=&#39;cumtaste&#39;&gt;&lt;&lt;racestatbar $NC.stats.cum.taste 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPcumtaste&#39;&gt;&lt;&lt;statpoints &quot;cum.taste&quot; $NC.stats.cum.taste $racestats.cum.taste 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPcumtaste&#39;&gt;&lt;&lt;statpoints &quot;cum.taste&quot; $NC.stats.cum.taste $racestats.cum.taste 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 100&gt;Breast Stats&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 100&gt;The stats in this section affect the physical properties of your character&#39;s breast size and also your milk&#39;s attributes. &lt;b&gt;Holstaurs are the only female creatures that naturally release nectar.&lt;/b&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
  @@color:#3A82FF;You are biologically male (♂) so any points you put into any of these stats won&#39;t be apparent unless you transition into being biologically female/futanari or use an appropriate potion.@@
	
&lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
  @@color:#FD81CA;You are biologically female (♀) so any points you put into these stats will be immediately apparent after your character is created.@@
	
&lt;&lt;elseif [&quot;futanari&quot;].contains($PC.sex)&gt;&gt;
  @@color:#9A63FF;You are biologically futanari (⚥) so any points you put into these stats will be immediately apparent after your character is created.@@
	
&lt;&lt;elseif [&quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		@@color:#9A63FF;You are biologically shemale(⚦) so any points you put into these stats will be immediately apparent after your character is created.@@
	
&lt;&lt;/if&gt;&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Bust&lt;br&gt;&lt;span id=&#39;bust&#39;&gt;&lt;&lt;racestatbar $NC.stats.bust 10&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPbust&#39;&gt;&lt;&lt;statpoints &quot;bust&quot; $NC.stats.bust $racestats.bust 0 10&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPbust&#39;&gt;&lt;&lt;statpoints &quot;bust&quot; $NC.stats.bust $racestats.bust 1 10&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Milk Quantity&lt;br&gt;&lt;span id=&#39;milkquantity&#39;&gt;&lt;&lt;racestatbar $NC.stats.milk.quantity 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPmilkquantity&#39;&gt;&lt;&lt;statpoints &quot;milk.quantity&quot; $NC.stats.milk.quantity $racestats.milk.quantity 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPmilkquantity&#39;&gt;&lt;&lt;statpoints &quot;milk.quantity&quot; $NC.stats.milk.quantity $racestats.milk.quantity 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Milk Quality&lt;br&gt;&lt;span id=&#39;milkquality&#39;&gt;&lt;&lt;racestatbar $NC.stats.milk.quality 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPmilkquality&#39;&gt;&lt;&lt;statpoints &quot;milk.quality&quot; $NC.stats.milk.quality $racestats.milk.quality 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPmilkquality&#39;&gt;&lt;&lt;statpoints &quot;milk.quality&quot; $NC.stats.milk.quality $racestats.milk.quality 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Milk Taste&lt;br&gt;&lt;span id=&#39;milktaste&#39;&gt;&lt;&lt;racestatbar $NC.stats.milk.taste 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPmilktaste&#39;&gt;&lt;&lt;statpoints &quot;milk.taste&quot; $NC.stats.milk.taste $racestats.milk.taste 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPmilktaste&#39;&gt;&lt;&lt;statpoints &quot;milk.taste&quot; $NC.stats.milk.taste $racestats.milk.taste 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 100&gt;Female Genitalia Stats&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 100&gt;The stats in this section affect the physical properties of your character&#39;s female genitalia and also your nectar&#39;s attributes. &lt;b&gt;Elves are the only female creatures that naturally release nectar.&lt;/b&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if [&quot;male&quot;].contains($PC.sex)&gt;&gt;
  @@color:#3A82FF;You are biologically male (♂) so any points you put into any of these stats won&#39;t be apparent unless you transition into being biologically female/futanari or use an appropriate potion.@@
	
&lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
  @@color:#FD81CA;You are biologically female (♀) so any points you put into these stats will be immediately apparent after your character is created.@@
	
&lt;&lt;elseif [&quot;futanari&quot;].contains($PC.sex)&gt;&gt;
  @@color:#9A63FF;You are biologically futanari (⚥) so any points you put into these stats other than clit size will be immediately apparent after your character is created.@@
	
&lt;&lt;elseif [&quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		@@color:#9A63FF;You are biologically shemale(⚦) so any points you put into any of these stats won&#39;t be apparent unless you transition into being biologically female/futanari or use an appropriate potion.@@
	
&lt;&lt;/if&gt;&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Pussy Size&lt;br&gt;&lt;span id=&#39;pussy&#39;&gt;&lt;&lt;racestatbar $NC.stats.pussy 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;if [&quot;male&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPpussy&#39;&gt;&lt;&lt;statpoints &quot;pussy&quot; $NC.stats.pussy $racestats.pussy 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPpussy&#39;&gt;&lt;&lt;statpoints &quot;pussy&quot; $NC.stats.pussy $racestats.pussy 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Clit Size&lt;br&gt;&lt;span id=&#39;clit&#39;&gt;&lt;&lt;racestatbar $NC.stats.clit 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPclit&#39;&gt;&lt;&lt;statpoints &quot;clit&quot; $NC.stats.clit $racestats.clit 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPclit&#39;&gt;&lt;&lt;statpoints &quot;clit&quot; $NC.stats.clit $racestats.clit 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Nectar Quantity&lt;br&gt;&lt;span id=&#39;nectarquantity&#39;&gt;&lt;&lt;racestatbar $NC.stats.nectar.quantity 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPnectarquantity&#39;&gt;&lt;&lt;statpoints &quot;nectar.quantity&quot; $NC.stats.nectar.quantity $racestats.nectar.quantity 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPnectarquantity&#39;&gt;&lt;&lt;statpoints &quot;nectar.quantity&quot; $NC.stats.nectar.quantity $racestats.nectar.quantity 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Nectar Quality&lt;br&gt;&lt;span id=&#39;nectarquality&#39;&gt;&lt;&lt;racestatbar $NC.stats.nectar.quality 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;if [&quot;male&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPnectarquality&#39;&gt;&lt;&lt;statpoints &quot;nectar.quality&quot; $NC.stats.nectar.quality $racestats.nectar.quality 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains($PC.sex)&gt;&gt;
		&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPnectarquality&#39;&gt;&lt;&lt;statpoints &quot;nectar.quality&quot; $NC.stats.nectar.quality $racestats.nectar.quality 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Nectar Taste&lt;br&gt;&lt;span id=&#39;nectartaste&#39;&gt;&lt;&lt;racestatbar $NC.stats.nectar.taste 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;if [&quot;male&quot;, &quot;shemale&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPnectartaste&#39;&gt;&lt;&lt;statpoints &quot;nectar.taste&quot; $NC.stats.nectar.taste $racestats.nectar.taste 0 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;].contains($PC.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;span id=&#39;SPnectartaste&#39;&gt;&lt;&lt;statpoints &quot;nectar.taste&quot; $NC.stats.nectar.taste $racestats.nectar.taste 1 5&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;/table&gt;

&lt;center&gt;[[Continue|Start]]&lt;/center&gt;</tw-passagedata><tw-passagedata pid="268" name="CC - Sexuality" tags="nobr" position="12,1822" size="100,100">&lt;&lt;set $Continue = &quot;CC - Physical Traits&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;CC - Race Selection&quot;&gt;&gt;

&lt;&lt;if $NC.pregnancy == &quot;None&quot;&gt;&gt;
	&lt;&lt;set $PC.pregnancy.type = null&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.pregnancy.type = lowercase($NC.pregnancy)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $NC.virgin == &quot;Virgin&quot;&gt;&gt;
	&lt;&lt;set $PC.virgin = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.virgin = 0&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $NC.analvirgin == &quot;Virgin&quot;&gt;&gt;
	&lt;&lt;set $PC.analvirgin = 1&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set $PC.analvirgin = 0&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $PC.sex = lowercase($NC.sex)&gt;&gt;
&lt;&lt;set $PC.gender = lowercase($NC.gender)&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 2&gt;Sexual Identity&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 2&gt;
	Your sex mainly affects which genitals you start out with. It will also slightly affect your training methods. For example, a female will train female characters with dildos while a male character can train female characters with their own dick.
&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Sex:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.sex&quot; $racestats.choosablesexes&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Gender:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.gender&quot; &quot;Male&quot; &quot;Female&quot;&gt;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;
		&lt;&lt;if $PC.sex == &quot;male&quot;&gt;&gt;
			@@color:#3A82FF;You are biologically male(♂). You have male genitalia(cock and balls) and you will start flat-chested.@@

		&lt;&lt;elseif $PC.sex == &quot;female&quot;&gt;&gt;
			@@color:#FD81CA;You are biologically female(♀). You have female genitalia(pussy and clit) and while you can start flat chested, you can start with a naturally developed bust depending on race.@@
			
		&lt;&lt;elseif $PC.sex == &quot;futanari&quot;&gt;&gt;
				@@color:#9A63FF;You are biologically futanari(⚥). You have both female genitalia(pussy) and male genitalia(cock and balls). While you can start flat chested, you can start with a naturally developed bust depending on race.@@
				
			&lt;&lt;elseif $PC.sex == &quot;shemale&quot;&gt;&gt;
					@@color:#9A63FF;You are biologically shemale(⚦). You have male genitalia(cock and balls) and a body with female characteristics. While you can start flat chested, you can start with a naturally developed bust depending on race.@@
				
		&lt;&lt;/if&gt;&gt;
	&lt;/td&gt;

	&lt;td class = &quot;noborder&quot;&gt;
		&lt;&lt;if $PC.gender == &quot;male&quot;&gt;&gt;
			@@color:#3A82FF;You identify as male(♂). Characters will use male pronouns when referring or speaking to you.@@

		&lt;&lt;elseif $PC.gender == &quot;female&quot;&gt;&gt;
			@@color:#FD81CA;You identify as female(♀). Characters will use female pronouns when referring or speaking to you.@@

		&lt;&lt;/if&gt;&gt;
	&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 2&gt;Sexual Experience&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 2&gt;
	A player&#39;s viginities doesn&#39;t affect gameplay in any significant way. They&#39;re there only for descriptive purposes, and for flavour text during some dialogue and when the player&#39;s viginity is finally given (or taken).
&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Virginity:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.virgin&quot; &quot;Virgin&quot; &quot;Deflowered&quot;&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot;&gt;&lt;b&gt;Anal Virginity:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.analvirgin&quot; &quot;Virgin&quot; &quot;Deflowered&quot;&gt;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot;&gt;
		&lt;&lt;if $PC.virgin == 0&gt;&gt;
			@@color:#7CAB20;You are not a virgin.@@

		&lt;&lt;elseif $PC.virgin == 1&gt;&gt;
			@@color:#00923f;You are a virgin.@@

		&lt;&lt;/if&gt;&gt;
	&lt;/td&gt;

	&lt;td class = &quot;noborder&quot;&gt;
		&lt;&lt;if $PC.analvirgin == 0&gt;&gt;
			@@color:#7CAB20;You don&#39;t have your anal virginity.@@

		&lt;&lt;elseif $PC.analvirgin == 1&gt;&gt;
			@@color:#00923f;You still have your anal virginity.@@

		&lt;&lt;/if&gt;&gt;
	&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 2&gt;Fertility&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 2&gt;
	Select the type of pregnancy that you would like to have. Pregnancies are mainly potion induced, so birth control is unneeded. There are three types of pregnancies; Normal, Multipregnancy and Hyperpregnancy. They all have their own costs, pros, cons and affect the length of your pregnancy. Biological males will give their sexual partners the potion (when possible), while biological females will drink the potion themselves.
&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot; colspan = 2&gt;&lt;b&gt;Pregnancy Type:&lt;/b&gt; &lt;&lt;dropdown &quot;$NC.pregnancy&quot; &quot;None&quot; &quot;Normal&quot; &quot;Multipregnancy&quot; &quot;Hyperpregnancy&quot;&gt;&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td colspan = 2 class = &quot;noborder&quot;&gt;
		&lt;&lt;if $PC.sex == &quot;male&quot;&gt;&gt;
			@@color:#f8c301;Your partners@@
		&lt;&lt;else&gt;&gt;
			@@color:#f8c301;You@@
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;if !$PC.pregnancy.type&gt;&gt;
			@@color:#f8c301;will not get pregnant after having intercourse.@@

		&lt;&lt;elseif $PC.pregnancy.type == &quot;normal&quot;&gt;&gt;
			@@color:#f8c301;will have normal pregnancies. Standard pregnancy elixirs allow the fetus to feed on the mana of the mother, siphoning information as well nutrients from the mother with it. Offspring have no deficiencies but don&#39;t gain any surplus either. When the child is born, the mana collected transforms them into a fully formed young adult. The pregnancy period will last 12 weeks; 4 weeks in lactation begins, 8 weeks in the child is born and at 12 weeks lactation stops and the recovery period has ended, allowing for another pregnancy to begin.@@

		&lt;&lt;elseif $PC.pregnancy.type == &quot;multipregnancy&quot;&gt;&gt;
			@@color:#f8c301;will have multipregnancies. Multipregnancies allow a mother to produce multiple offspring from multiple fathers in one pregnancy. The pregnancy period starts at 8 weeks, and increases by 2 for every offspring added to the pregnancy. Six is the maximum amount of offspring per pregnancy, meaning a 18 week pregnancy period maximum. Each subsequent offspring has less time to grow in the womb and has to share resources with their siblings, resulting in a growth deficiency. The mother&#39;s stomach will grow greatly in size which will result in lower energy. The pregnancy period will last 8-18 weeks; at 4 weeks lactation begins, at 8 weeks plus 2 per offspring after the first the offspring will be born and 4 weeks after that lactation stops and the recovery period has ended, allowing for another pregnancy to begin.@@

		&lt;&lt;elseif $PC.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
			@@color:#f8c301;will have hyperpregnancies. Hyperpregnancies extend the pregnancy period from 12 weeks to 20 weeks. Instead of being birthed at the end of the fetus stage, offspring spend 8 more weeks growing inside their mother&#39;s womb. Once born the child is about half-way through puberty and will become a young adult within hours. This grants a bonus is stat growth, but reduces the amount of energy the mother has as her womb will balloon to an enormous size. The pregnancy period will last 20 weeks; at 4 weeks lactation begins, at 8 weeks the child is fully formed but continues to grow in the womb, at 16 weeks the child is born and at 20 weeks lactation stops and the recovery period has ended, allowing for another pregnancy to begin.@@

		&lt;&lt;/if&gt;&gt;
		
		&lt;br&gt;&lt;br&gt;
		
		&lt;&lt;if $PC.sex == &quot;male&quot;&gt;&gt;
			&lt;b&gt;@@color:forestgreen;Female sex partner&#39;s pregnancy rate increased to 100% while their fatigue is at 0.@@&lt;/b&gt;
			
		&lt;&lt;elseif $PC.sex == &quot;female&quot;&gt;&gt;
			&lt;b&gt;@@color:forestgreen;Male sex partner&#39;s insemination rate increased to 100% while their fatigue is at 0.@@&lt;/b&gt;
		
		&lt;&lt;elseif $PC.sex == &quot;futanri&quot;&gt;&gt;
			&lt;b&gt;@@color:forestgreen;Female sex partner&#39;s pregnancy rate and male sex partner&#39;s insemination rate increased to 100% while their fatigue is at 0.@@&lt;/b&gt;
		
		&lt;&lt;/if&gt;&gt;
	&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;center&gt;[[Continue|CC - Physical Traits]]&lt;/center&gt;</tw-passagedata><tw-passagedata pid="269" name="Race Statpoints" tags="nobr widget" position="1622,1351" size="100,100">&lt;&lt;widget &quot;statpoints&quot;&gt;&gt;
&lt;&lt;set _stat = $args[1]&gt;&gt;
&lt;&lt;set _cap = $args[4]&gt;&gt;

&lt;&lt;if $args[3] == 0&gt;&gt;
  &lt;&lt;set _min = $args[2]&gt;&gt;

&lt;&lt;else&gt;&gt;
  &lt;&lt;set _min = $args[3]&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _stat &gt;= _cap || $NC.statpoints &lt;= 0&gt;&gt;
  ＋
&lt;&lt;else&gt;&gt;
  /*&lt;&lt;print &quot;[[ADD|CC - Physical Traits][$NC.stats.&quot; + $args[0] + &quot;++, $NC.statpoints--]]&quot;&gt;&gt;*/
  &lt;&lt;link &quot;＋&quot;&gt;&gt;
    &lt;&lt;print &quot;&lt;&lt;set $NC.stats.&quot; + $args[0] + &quot;++&gt;&gt;&quot;&gt;&gt;
    &lt;&lt;print &quot;&lt;&lt;replace #&quot; + $args[0].replace(&#39;.&#39;,&#39;&#39;) + &quot; t8n&gt;&gt;&lt;&lt;racestatbar $NC.stats.&quot; + $args[0] + &quot; &quot; + $args[4] + &quot;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
    &lt;&lt;print &quot;&lt;&lt;replace #SP&quot; + $args[0].replace(&#39;.&#39;,&#39;&#39;) + &quot; t8n&gt;&gt;&lt;&lt;statpoints &quot; + $args[0] + &quot; $NC.stats.&quot; + $args[0] + &quot; $racestats.&quot; + $args[0] + &quot; &quot; + $args[3] + &quot; &quot; + $args[4] + &quot;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
    
    &lt;&lt;if !$cheats.includes(&quot;perfectCharacter&quot;)&gt;&gt;
    	&lt;&lt;set $NC.statpoints--&gt;&gt;
      &lt;&lt;replace &quot;#statpoints&quot; t8n&gt;&gt;$NC.statpoints&lt;&lt;/replace&gt;&gt;
      
      &lt;&lt;if $NC.statpoints == 0&gt;&gt;
        &lt;&lt;goto &quot;CC - Physical Traits&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/link&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _stat &lt;= _min || $NC.statpoints &gt;= 30&gt;&gt;
  －
&lt;&lt;else&gt;&gt;
  /*&lt;&lt;print &quot;[[SUB|CC - Physical Traits][$NC.stats.&quot; + $args[0] + &quot;--, $NC.statpoints++]]&quot;&gt;&gt;*/
  &lt;&lt;link &quot;－&quot;&gt;&gt;
    &lt;&lt;print &quot;&lt;&lt;set $NC.stats.&quot; + $args[0] + &quot;--&gt;&gt;&quot;&gt;&gt;
    &lt;&lt;print &quot;&lt;&lt;replace #&quot; + $args[0].replace(&#39;.&#39;,&#39;&#39;) + &quot; t8n&gt;&gt;&lt;&lt;racestatbar $NC.stats.&quot; + $args[0] + &quot; &quot; + $args[4] + &quot;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
    &lt;&lt;print &quot;&lt;&lt;replace #SP&quot; + $args[0].replace(&#39;.&#39;,&#39;&#39;) + &quot; t8n&gt;&gt;&lt;&lt;statpoints &quot; + $args[0] + &quot; $NC.stats.&quot; + $args[0] + &quot; $racestats.&quot; + $args[0] + &quot; &quot; + $args[3] + &quot; &quot; + $args[4] + &quot;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
    
    &lt;&lt;if !$cheats.includes(&quot;perfectCharacter&quot;)&gt;&gt;
    	&lt;&lt;set $NC.statpoints++&gt;&gt;
      &lt;&lt;replace &quot;#statpoints&quot; t8n&gt;&gt;$NC.statpoints&lt;&lt;/replace&gt;&gt;
      
      &lt;&lt;if $NC.statpoints == 1&gt;&gt;
        &lt;&lt;goto &quot;CC - Physical Traits&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/link&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="270" name="Complete Player" tags="nobr" position="141,1821" size="100,100">&lt;&lt;if $cheats.includes(&quot;perfectCharacter&quot;)&gt;&gt;
	&lt;&lt;run toggleCheat(&quot;perfectCharacter&quot;)&gt;&gt;
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $PC.sexual = {fertility: &quot;&quot;, libido: &quot;&quot;, strength: &quot;&quot;, speed: &quot;&quot;, stamina: &quot;&quot;, control: &quot;&quot;}&gt;&gt;

&lt;&lt;set $PC.sexual.fertility = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.libido = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.strength = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.speed = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.stamina = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.sexual.control = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.impermanent = {cock:0, bust:0, clit:0, pussy:0, balls:0}&gt;&gt;

&lt;&lt;set $PC.stats = {sissification: 0, bimbofication: 0, femininity: 0, masculinity: 0, strumpetry: 0, dominant: 0, submissive: 0}&gt;&gt;

&lt;&lt;set $PC.lips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.shoulders = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.hips = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.torso = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.legs = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.butt = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.cock = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.bust = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.clit = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.pussy = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.girth = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.balls = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.sensitivity = {cock:0, breasts:0, anus:0, clit:0, pussy:0, balls:0, mouth:0}&gt;&gt;

&lt;&lt;set $PC.lactating = {temporary:0, permanent:0}&gt;&gt;
&lt;&lt;set $PC.nectaring = {temporary:0, permanent:0}&gt;&gt;

&lt;&lt;set $PC.cum = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.cum.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.cum.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.cum.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.milk = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.milk.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.milk.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.milk.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.nectar = {quantity:&quot;&quot;, quality:&quot;&quot;, taste:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.nectar.quantity = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.nectar.quality = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;
&lt;&lt;set $PC.nectar.taste = {current:0, base:0, supplement:0, bonus:0, multi:1, mod:0}&gt;&gt;

&lt;&lt;set $PC.appointment = {type:null, location:null, detail:null}&gt;&gt;

&lt;&lt;set $PC.clothes = {outfit: null, head: null, eyes: null, neck: null, hands: null, top: null, bottom: null, legs: null, shoes: null}&gt;&gt;
&lt;&lt;set $PC.clothes.outfit = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.head = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.eyes = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.neck = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.hands = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.top = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.bottom = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.legs = {attire:&quot;&quot;, style: 0}&gt;&gt;
&lt;&lt;set $PC.clothes.shoes = {attire:&quot;&quot;, style: 0}&gt;&gt;

&lt;&lt;set $PC.piercing = {ear:&quot;&quot;, eyebrow:&quot;&quot;, nose:&quot;&quot;, tongue:&quot;&quot;, lip:&quot;&quot;, nipple:&quot;&quot;, navel:&quot;&quot;, pussy:&quot;&quot;, cock:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.piercing.ear = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.eyebrow = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.nose = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.tongue = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.lip = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.nipple = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.navel = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.pussy = {type:0, jewelry:0}&gt;&gt;
&lt;&lt;set $PC.piercing.cock = {type:0, jewelry:0}&gt;&gt;

&lt;&lt;set $PC.tattoo = {body:null, face:null, innerlip:null, neck:null, upperback:null, shoulder:null, upperarm:null, lowerarm:null, hands:null, chest:null, ribcage:null, lowerback:null, abdomen:null, pelvis:null, hips:null, buttocks:null, upperleg:null, lowerleg:null, ankle:null, feet:null}&gt;&gt;

&lt;&lt;set $PC.titles = []&gt;&gt;
&lt;&lt;set $PC.likes = []&gt;&gt;
&lt;&lt;set $PC.dislikes = []&gt;&gt;
&lt;&lt;set $PC.fears = []&gt;&gt;
&lt;&lt;set $PC.update = []&gt;&gt;

&lt;&lt;set $PC.health = 4&gt;&gt;
&lt;&lt;set $PC.ID = &quot;PLAYER&quot;&gt;&gt;
&lt;&lt;set $PC.cooldown = {title:0}&gt;&gt;
&lt;&lt;set $PC.info = {endweek:null}&gt;&gt;
&lt;&lt;set $PC.transformation = {progress:0, item:&quot;None&quot;, circulating: &quot;None&quot;, duration:0}&gt;&gt;
&lt;&lt;set $PC.incense = {item:&quot;None&quot;}&gt;&gt;
&lt;&lt;set $PC.clothes = {butt: null, vagina: null, cock: null}&gt;&gt;
&lt;&lt;set $PC.echo = {subtype:&quot;&quot;, total:0}&gt;&gt;
&lt;&lt;set $PC.promise = {made:0,weeks:0}&gt;&gt;
&lt;&lt;set $PC.threaten = {made:0,weeks:0}&gt;&gt;
&lt;&lt;set $PC.diet = {status:&quot;Normal&quot;, progress:0}&gt;&gt;
&lt;&lt;set $PC.fitness = {status:&quot;None&quot;, progress:0}&gt;&gt;
&lt;&lt;set $PC.fatigue = {status:&quot;None&quot;, mental:null, physical:null, max:null, progress:0}&gt;&gt;
&lt;&lt;set $PC.popularity = {brothel:0, ranch:0}&gt;&gt;
&lt;&lt;set $PC.condition = {status:&quot;None&quot;, progress:100}&gt;&gt;
&lt;&lt;set $PC.traits = {ears:&quot;&quot;, tail:&quot;&quot;, feet:&quot;&quot;, hands:&quot;&quot;, body:&quot;&quot;, description:&quot;&quot;}&gt;&gt;

&lt;&lt;set $PC.hypno = {bimbo:&quot;&quot;, cum:&quot;&quot;, masochism:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.hypno.bimbo = {current:0, airheadedness:0, cleansing:0, predilection: 0}&gt;&gt;
&lt;&lt;set $PC.hypno.cum = {current:0, craving:0, reverence:0, predilection:0}&gt;&gt;
&lt;&lt;set $PC.hypno.masochism = {current:0, humiliation:0, euphoria:0, predilection: 0}&gt;&gt;

&lt;&lt;set $PC.known = {virginity:1, analvirginity:1, nature:0, sexualskill:0}&gt;&gt;

&lt;&lt;set $PC.sexualskill = {oral:&quot;&quot;, mammary:&quot;&quot;, manual:&quot;&quot;, intercourse:&quot;&quot;}&gt;&gt;
&lt;&lt;set $PC.sexualskill.oral = {kissing: 0, fellatio: 0, cunnilingus: 0, analingus: 0}&gt;&gt;
&lt;&lt;set $PC.sexualskill.mammary = {breastplay: 0, breastfeeding: 0, intercourse: 0}&gt;&gt;
&lt;&lt;set $PC.sexualskill.manual = {masturbation: 0, fingering: 0, handjob: 0, fisting: 0}&gt;&gt;
&lt;&lt;set $PC.sexualskill.intercourse = {vaginal: 0, anal: 0, pitching: 0, pegging: 0}&gt;&gt;

&lt;&lt;set $PC.sensitivity.cock = 0&gt;&gt;
&lt;&lt;set $PC.sensitivity.breasts = 0&gt;&gt;
&lt;&lt;set $PC.sensitivity.clit = 0&gt;&gt;
&lt;&lt;set $PC.sensitivity.pussy = 0&gt;&gt;
&lt;&lt;set $PC.sensitivity.balls = 0&gt;&gt;
&lt;&lt;set $PC.sensitivity.mouth = 0&gt;&gt;
&lt;&lt;set $PC.sensitivity.anus = 0&gt;&gt;

&lt;&lt;set $PC.gape = 0&gt;&gt;

&lt;&lt;set $PC.eyedescriptor = $eyedesc.random()&gt;&gt;
&lt;&lt;set $PC.height = Math.clamp($PC.height, $racestats.heightmin, $racestats.heightmax)&gt;&gt;

&lt;&lt;set $PC.beauty = $NC.stats.beauty&gt;&gt;
&lt;&lt;set $PC.intelligence = $NC.stats.intelligence&gt;&gt;
&lt;&lt;set $PC.lips.mod = $NC.stats.lips&gt;&gt;
&lt;&lt;set $PC.shoulders.mod = $NC.stats.shoulders&gt;&gt;
&lt;&lt;set $PC.hips.mod = $NC.stats.hips&gt;&gt;
&lt;&lt;set $PC.torso.mod = $NC.stats.torso&gt;&gt;
&lt;&lt;set $PC.legs.mod = $NC.stats.legs&gt;&gt;
&lt;&lt;set $PC.butt.mod = $NC.stats.butt&gt;&gt;
&lt;&lt;set $PC.bust.mod = $NC.stats.bust&gt;&gt;
&lt;&lt;set $PC.milk.quality.mod = $NC.stats.milk.quality&gt;&gt;
&lt;&lt;set $PC.milk.quantity.mod = $NC.stats.milk.quantity&gt;&gt;
&lt;&lt;set $PC.milk.taste.mod = $NC.stats.milk.taste&gt;&gt;
&lt;&lt;set $PC.cock.mod = $NC.stats.cock&gt;&gt;
&lt;&lt;set $PC.girth.mod = $NC.stats.girth&gt;&gt;
&lt;&lt;set $PC.balls.mod = $NC.stats.balls&gt;&gt;
&lt;&lt;set $PC.cum.quantity.mod = $NC.stats.cum.quantity&gt;&gt;
&lt;&lt;set $PC.cum.quality.mod = $NC.stats.cum.quality&gt;&gt;
&lt;&lt;set $PC.cum.taste.mod = $NC.stats.cum.taste&gt;&gt;
&lt;&lt;set $PC.lactating.permanent = $NC.stats.lactating.permanent&gt;&gt;
&lt;&lt;set $PC.pussy.mod = $NC.stats.pussy&gt;&gt;
&lt;&lt;set $PC.clit.mod = $NC.stats.clit&gt;&gt;
&lt;&lt;set $PC.nectar.quantity.mod = $NC.stats.nectar.quantity&gt;&gt;
&lt;&lt;set $PC.nectar.quality.mod = $NC.stats.nectar.quality&gt;&gt;
&lt;&lt;set $PC.nectar.taste.mod = $NC.stats.nectar.taste&gt;&gt;
&lt;&lt;set $PC.nectaring.permanent = $NC.stats.nectaring.permanent&gt;&gt;
&lt;&lt;set $PC.sexual.strength.mod = $NC.stats.sexual.strength&gt;&gt;
&lt;&lt;set $PC.sexual.speed.mod = $NC.stats.sexual.speed&gt;&gt;
&lt;&lt;set $PC.sexual.control.mod = $NC.stats.sexual.control&gt;&gt;
&lt;&lt;set $PC.sexual.stamina.mod = $NC.stats.sexual.stamina&gt;&gt;
&lt;&lt;set $PC.sexual.libido.mod = $NC.stats.sexual.libido&gt;&gt;
&lt;&lt;set $PC.sexual.fertility.mod = $NC.stats.sexual.fertility&gt;&gt;

&lt;&lt;run generateSexTraits($PC)&gt;&gt;

&lt;&lt;set $PC.diet.progress = setDietProgress($PC)&gt;&gt;
&lt;&lt;set $PC.fitness.progress = setFitnessProgress($PC)&gt;&gt;
&lt;&lt;set $PC.condition.progress = setConditionProgress($PC)&gt;&gt;

&lt;&lt;if [&quot;human&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have no discernible traits.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;giant&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;Other than being an overly large human, you have no discernible traits.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;gnome&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You are very short and has pointed ears.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;dwarf&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You are short, stout and has thick facial hair.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;pantheran&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You are an anthropomorphic beastman. Your ears, tail, face, body, hands and feet are that of a cat.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;mongrel&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You are an anthropomorphic beastman. Your ears, tail, face, body, hands and feet are that of a dog.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;neko&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have $PC.haircolor colored cat-like ears and a tail.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;canus&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have $PC.haircolor colored dog-like ears and a tail.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;moon rabbit&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have $PC.haircolor colored rabbit-like ears and a tail.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;minotaur&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have hoofed feet and bull-like horns protruding from your head.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;holstaur&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have hoofed feet and two small horns protruding from your head.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;elf&quot;].contains($PC.race)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have long and pointed ears.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;orc&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have tusk-like lower canines that rest above your upper lip.&quot;&gt;&gt;

&lt;&lt;elseif [&quot;goblin&quot;].contains($PC.tribe)&gt;&gt;
	&lt;&lt;set $PC.traits.description = &quot;You have pointed ears and jagged teeth.&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="271" name="Status" tags="nobr noreturn" position="1082,8" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Descriptors&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $playerStatus = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set $PC.expense = updateExpense($PC)&gt;&gt;
&lt;&lt;set $PC.weight = updateWeight($PC)&gt;&gt;
&lt;&lt;set _diet = $PC.diet.status&gt;&gt;
&lt;&lt;set _dietProgress = $PC.diet.progress&gt;&gt;
&lt;&lt;set _workout = $PC.fitness.status&gt;&gt;
&lt;&lt;set _workoutProgress = $PC.fitness.progress&gt;&gt;

&lt;&lt;set _name = $PC.name&gt;&gt;
&lt;&lt;set _maturity = $maturity[$PC.maturity]&gt;&gt;
&lt;&lt;set _intelligence = $intelligence[$PC.intelligence]&gt;&gt;
&lt;&lt;set _beauty = $beauty[$PC.beauty]&gt;&gt;
&lt;&lt;set _health = $health[$PC.health]&gt;&gt;
&lt;&lt;set _weight = $weight[$PC.weight]&gt;&gt;
&lt;&lt;set _height = getHeight($PC.height, $PC.legs.current-$PC.legs.base)&gt;&gt;

&lt;&lt;set _cumquantity = $quantity[$PC.cum.quantity.current]&gt;&gt;
&lt;&lt;set _cumquality = $quality[$PC.cum.quality.current]&gt;&gt;
&lt;&lt;set _cumtaste = $taste.cum[$PC.cum.taste.current]&gt;&gt;

&lt;&lt;set _milkquantity = $quantity[$PC.milk.quantity.current]&gt;&gt;
&lt;&lt;set _milkquality = $quality[$PC.milk.quality.current]&gt;&gt;
&lt;&lt;set _milktaste = $taste.milk[$PC.milk.taste.current]&gt;&gt;

&lt;&lt;set _nectarquantity = $quantity[$PC.nectar.quantity.current]&gt;&gt;
&lt;&lt;set _nectarquality = $quality[$PC.nectar.quality.current]&gt;&gt;
&lt;&lt;set _nectartaste = $taste.nectar[$PC.nectar.taste.current]&gt;&gt;

&lt;&lt;set _fatigue = getFatigue($PC)&gt;&gt;
&lt;&lt;set _an = AvsAn.query(extractWord(_maturity))&gt;&gt;
&lt;&lt;set _nature = capitalize($PC.nature)&gt;&gt;
&lt;&lt;set _exoticism = getExoticism($PC.exoticism)&gt;&gt;
&lt;&lt;set _exoticism = lowercasecolor(_exoticism)&gt;&gt;
&lt;&lt;set _gape = getGape($PC.gape)&gt;&gt;

&lt;&lt;set _cockSens = getSensitivity($PC.sensitivity.cock)&gt;&gt;
&lt;&lt;set _breastSens = getSensitivity($PC.sensitivity.breasts)&gt;&gt;
&lt;&lt;set _anusSens = getSensitivity($PC.sensitivity.anus)&gt;&gt;
&lt;&lt;set _ballsSens = getSensitivity($PC.sensitivity.balls)&gt;&gt;
&lt;&lt;set _clitSens = getSensitivity($PC.sensitivity.clit)&gt;&gt;
&lt;&lt;set _pussySens = getSensitivity($PC.sensitivity.pussy)&gt;&gt;
&lt;&lt;set _mouthSens = getSensitivity($PC.sensitivity.mouth)&gt;&gt;

&lt;&lt;set _sexualstrength = getSexualStat($PC.sexual.strength.current)&gt;&gt;
&lt;&lt;set _sexualspeed = getSexualStat($PC.sexual.speed.current)&gt;&gt;
&lt;&lt;set _sexualstamina = getSexualStat($PC.sexual.stamina.current)&gt;&gt;
&lt;&lt;set _sexualcontrol = getSexualStat($PC.sexual.control.current)&gt;&gt;

&lt;&lt;if !$PC.pregnancy.recovery&gt;&gt;
	&lt;&lt;set _weeksuntilbirth = $PC.pregnancy.duration - $PC.pregnancy.weeks&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;knotted&quot;&gt;&gt;

&lt;&lt;elseif $PC.tribe == &quot;pantheran&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;barbed&quot;&gt;&gt;

&lt;&lt;elseif $PC.tribe == &quot;minataur&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;bull&quot;&gt;&gt;

&lt;&lt;elseif $PC.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;orc&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cock = $race[$PC.skintone]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _maturitytext = extractWord(_maturity)&gt;&gt;

&lt;br&gt;

&lt;center&gt;

&lt;&lt;if $PC.position&gt;&gt;
	&lt;&lt;traitdesc $PC.position $PC&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc $PC.tribe $PC&gt;&gt;
&lt;&lt;traitdesc $PC.sex $PC&gt;&gt;
&lt;&lt;traitdesc _maturitytext $PC&gt;&gt;

&lt;&lt;if $PC.pregnancy.status&gt;&gt;
	&lt;&lt;traitdesc &quot;pregnant&quot; $PC&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;br&gt;

You are _an _maturity

&lt;&lt;if $PC.skintone&gt;&gt;
	$PC.skintone
&lt;&lt;elseif $PC.fur&gt;&gt;
	$PC.fur furred
&lt;&lt;/if&gt;&gt;

$PC.gender

&lt;&lt;if $PC.tribe&gt;&gt;
	$PC.tribe.
&lt;&lt;else&gt;&gt;
	$PC.race.
&lt;&lt;/if&gt;&gt;

You are _beauty and also _intelligence.

&lt;&lt;if $PC.hairstyle == &quot;completely bald&quot;&gt;&gt;
	You are completely bald.

&lt;&lt;else&gt;&gt;
	You have $PC.haircolor hair styled $PC.hairstyle.

&lt;&lt;/if&gt;&gt;

You have $PC.eyedescriptor $PC.eyecolor eyes. Your are _height and are _weight. /*Your is exoticism is _exoticism, affected by your [[piercings|Piercing Description]].*/

$PC.traits.description

&lt;&lt;if $PC.lips.current&gt;&gt;
	You have &lt;&lt;print $lips[$PC.lips.current]&gt;&gt; lips.
&lt;&lt;/if&gt;&gt;

The sensitivity of your mouth is _mouthSens.

&lt;&lt;if $PC.shoulders.current &amp;&amp; $PC.torso.current&gt;&gt;
	Your &lt;&lt;print $shoulders[$PC.shoulders.current]&gt;&gt; shoulders and &lt;&lt;print $torso[$PC.torso.current]&gt;&gt; torso frames your upper body.
	
&lt;&lt;elseif $PC.shoulders.current&gt;&gt;
	Your &lt;&lt;print $shoulders[$PC.shoulders.current]&gt;&gt; shoulders frames your upper body.

&lt;&lt;elseif $PC.torso.current&gt;&gt;
	Your &lt;&lt;print $torso[$PC.torso.current]&gt;&gt; torso frames your upper body.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.hips.current&gt;&gt;
	Your hips are &lt;&lt;print $hips[$PC.hips.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.legs.current&gt;&gt;
	You have two &lt;&lt;print $legs[$PC.legs.current]&gt;&gt; legs.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.pregnancy.status&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;b&gt;[Week $PC.pregnancy.weeks (&lt;&lt;print capitalize($PC.pregnancy.type)&gt;&gt;)]&lt;/b&gt;
	&lt;&lt;if _weeksuntilbirth&gt;&gt;
	  You are due to give birth in _weeksuntilbirth weeks.

	&lt;&lt;elseif $PC.pregnancy.recovery&gt;&gt;
	  You will recover from your pregnancy in $PC.pregnancy.recovery weeks.

	&lt;&lt;/if&gt;&gt;

	$PC.pregnancy.status
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.known.sexualskill&gt;&gt;
	&lt;br&gt;&lt;br&gt;

	_name&#39;s sexual fortitude is _sexualstrength and your responsiveness  during sexual intercourse is _sexualspeed. Your sexual stamina is _sexualstamina and your sexual control is _sexualcontrol.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $PC.bust.current &gt; 1&gt;&gt;
	You have &lt;&lt;print $inverted[$PC.inverted]&gt;&gt; nipples on your &lt;&lt;print $bust[$PC.bust.current]&gt;&gt; sized breasts. The sensitivity of your breasts are _breastSens.
&lt;&lt;else&gt;&gt;
	You have &lt;&lt;print $inverted[$PC.inverted]&gt;&gt; nipples on your chest. The sensitivity of your nipples are _breastSens.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.milk.quality.current &amp;&amp; $PC.milk.quantity.current &amp;&amp; $PC.milk.taste.current&gt;&gt;
	You are lactating, and can produce a _milkquantity amount of _milkquality milk. Your milk has a _milktaste taste to it.

&lt;&lt;elseif [&quot;holstaur&quot;].contains($PC.tribe) &amp;&amp; $PC.virgin&gt;&gt;
	You are not lactating and cannot produce any milk until you lose your virginity.

&lt;&lt;else&gt;&gt;
	You are not lactating and cannot produce any milk.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.girth.current &gt; 0&gt;&gt;
	&lt;&lt;set _girth = extractWord($girth[$PC.girth.current])&gt;&gt;
	&lt;&lt;set _an = AvsAn.query(_girth)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.cock.current &gt; 0 &amp;&amp; $PC.girth.current &gt; 0&gt;&gt;
	You have _an &lt;&lt;print $girth[$PC.girth.current]&gt;&gt; &lt;&lt;print $cock[$PC.cock.current]&gt;&gt; &lt;&lt;print $circumcised[$PC.circumcised]&gt;&gt; _cock cock hanging between your legs. The sensitivity of your cock is _cockSens.

	&lt;&lt;if $PC.cum.quality.current &amp;&amp; $PC.cum.quantity.current &amp;&amp; $PC.cum.taste.current &amp;&amp; !$PC.balls.current&gt;&gt;
		It can produce a _cumquantity amount of _cumquality semen. Your semen has a _cumtaste taste to it.
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.balls.current &gt; 0&gt;&gt;
	You have a pair of &lt;&lt;print $balls[$PC.balls.current]&gt;&gt; balls. The sensitivity of your balls are _ballsSens.

	&lt;&lt;if $PC.cum.quality.current &amp;&amp; $PC.cum.quantity.current &amp;&amp; $PC.cum.taste.current &amp;&amp; $PC.cock.current &amp;&amp; $PC.girth.current&gt;&gt;
		When full they can produce a _cumquantity amount of _cumquality semen. Your semen has a _cumtaste taste to it.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.pussy.current &gt; 0&gt;&gt;
	Your pussy is &lt;&lt;print $pussy[$PC.pussy.current]&gt;&gt;. The sensitivity of your pussy is _pussySens.

	&lt;&lt;if $PC.nectar.quality.current &amp;&amp; $PC.nectar.quantity.current &amp;&amp; $PC.nectar.taste.current&gt;&gt;
		When aroused your pussy produces a _nectarquantity amount of _nectarquality nectar. Your nectar has a _nectartaste taste to it.
		
	&lt;&lt;elseif [&quot;elf&quot;].contains($PC.race) &amp;&amp; $PC.virgin&gt;&gt;
		You are not nectaring and cannot produce any nectar until you lose your virginity.
	
	&lt;&lt;else&gt;&gt;
		You are not nectaring so you cannot produce any nectar.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.clit.current &gt; 0&gt;&gt;
	You have a &lt;&lt;print $clitoris[$PC.clit.current]&gt;&gt; and &lt;&lt;print $hooded[$PC.hooded]&gt;&gt; clit. The sensitivity of your is _clitSens.
&lt;&lt;/if&gt;&gt;

_name&#39;s ass is &lt;&lt;print $butt[$PC.gender][$PC.butt.current]&gt;&gt;.

&lt;&lt;if $PC.gape == 100&gt;&gt;
	 Your asshole has been _gape to the point that you can fit multiple intrusions into your asshole without causing &lt;&lt;print $himher[$PC.gender]&gt;&gt; any pain.

&lt;&lt;elseif $PC.gape &gt;= 80&gt;&gt;
	$Your asshole is _gape and can accommodate almost any size intrusion.

&lt;&lt;elseif $PC.gape &gt;= 60&gt;&gt;
	your asshole is _gape and as long as you uses lube you can accommodate people of any size.

&lt;&lt;elseif $PC.gape &gt;= 40&gt;&gt;
	Your ass has been _gape. It can fit a full sized intrusion but anything larger than that can cause pain even with lube.

&lt;&lt;elseif $PC.gape &gt;= 20&gt;&gt;
	Your asshole is _gape but it has seen some use.

&lt;&lt;elseif $PC.gape &gt;= 0&gt;&gt;
	Your asshole is _gape. You can barely fit your finger in it, let alone a full sized intrusion.

&lt;&lt;/if&gt;&gt;

The sensitivity of your anus is _anusSens.

&lt;&lt;if $PC.virgin || $PC.analvirgin&gt;&gt;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.virgin&gt;&gt;
	&lt;br&gt;
	You are a @@color:green;virgin@@.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.analvirgin&gt;&gt;
	&lt;br&gt;
	You are an @@color:green;anal virgin@@.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;
Do you want to change your name? &lt;&lt;textbox &quot;$PC.name&quot; $PC.name &quot;Status&quot;&gt;&gt;
&lt;hr&gt;

&lt;&lt;set _focuses = [&quot;Rest&quot;, &quot;Estate&quot;]&gt;&gt;

&lt;&lt;if $estate.brothel.active&gt;&gt;
	&lt;&lt;set _focuses.push(&quot;Brothel&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.ranch.active&gt;&gt;
	&lt;&lt;set _focuses.push(&quot;Ranch&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.chattel.active&gt;&gt;
	&lt;&lt;set _focuses.push(&quot;Chattel&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;b&gt;Player Focus&lt;/b&gt;
&lt;br&gt;
&lt;&lt;for _f=0; _f &lt; _focuses.length;_f++&gt;&gt;
	&lt;&lt;set _focus = _focuses[_f]&gt;&gt;
	&lt;&lt;set _location = lowercase(_focus)&gt;&gt;
	
	&lt;&lt;if _location == &quot;rest&quot;&gt;&gt;
		&lt;&lt;set _location = &quot;estate&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if $PC.focus == _focus&gt;&gt;
		_focus
	&lt;&lt;else&gt;&gt;
		&lt;&lt;print &quot;[[_focus|Status][$PC.focus = _focuses[&quot; + _f + &quot;], $PC.location = &#39;&quot; + _location + &quot;&#39;, $PC.position = null, $PC.position = &#39;rest&#39;]]&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if _f &lt; _focuses.length-1&gt;&gt;
		|
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/for&gt;&gt;

&lt;&lt;if $PC.location == &quot;brothel&quot;&gt;&gt;
	&lt;&lt;if [&quot;Open&quot;, null].contains($estate.brothel.style)&gt;&gt;
		&lt;&lt;if ![&quot;Procurer&quot;, &quot;Prostitute&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
			&lt;&lt;set $PC.position = &quot;Prostitute&quot;&gt;&gt;
			&lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
		&lt;&lt;if ![&quot;Procurer&quot;, &quot;Attendant&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
			&lt;&lt;set $PC.position = &quot;Attendant&quot;&gt;&gt;
			&lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
		&lt;&lt;if ![&quot;Procurer&quot;, &quot;Host&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
			&lt;&lt;set $PC.position = &quot;Host&quot;&gt;&gt;
			&lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.ID == $estate.brothel.procurer &amp;&amp; !$PC.position&gt;&gt;
	&lt;&lt;set $estate.brothel.procurer = null&gt;&gt;
&lt;&lt;/if&gt;&gt;
	
&lt;br&gt;&lt;br&gt;
&lt;&lt;if $PC.focus == &quot;Rest&quot;&gt;&gt;
	This week you will spend most of your free time resting, giving you more energy to perform more actions with your slaves next week.
&lt;&lt;elseif $PC.focus == &quot;Estate&quot;&gt;&gt;
	This week you will spend most of your free time budgeting your estate, reducing your slave expenses by 50% .
&lt;&lt;elseif $PC.focus == &quot;Brothel&quot;&gt;&gt;
	This week you will spend most of your free time managing your brothel, increasing its income by 125%.
&lt;&lt;elseif $PC.focus == &quot;Ranch&quot;&gt;&gt;
	This week you will spend most of your free time managing your ranch, increasing its income by 125%.
&lt;&lt;elseif $PC.focus == &quot;Chattel&quot;&gt;&gt;
	This week you will spend most of your free time managing your chattel, reducing your chattel expenses by 50%.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;


&lt;&lt;if $tips.slaveexpense == 0&gt;&gt;
	&lt;b&gt;[[Diet Expense|Status][$tips.slaveexpense = 1]]&lt;/b&gt;
	&lt;br&gt;
	Your weekly expnese is currently &lt;b&gt;@@color:red;💎$PC.expense@@.&lt;/b&gt;

&lt;&lt;elseif $tips.slaveexpense == 1&gt;&gt;
	&lt;b&gt;[[Slave Expense|Status][$tips.slaveexpense = 0]]&lt;/b&gt;
	&lt;br&gt;
	Your weekly expnese is currently &lt;b&gt;@@color:red;💎$PC.expense@@.&lt;/b&gt;

	&lt;br&gt;&lt;br&gt;

	Your expenses are determined by your diet.

	&lt;br&gt;&lt;br&gt;

	A @@color:orange;low calorie diet@@ costs 💎50 to maintain. &lt;br&gt;
	A @@color:orange;normal calorie diet@@ costs 💎100 to maintain. &lt;br&gt;
	A @@color:orange;high calorie diet@@ costs 💎200 to maintain.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;b&gt;Weight Management&lt;/b&gt;&lt;br&gt;
&lt;&lt;print $UCweight[$PC.weight]&gt;&gt; &lt;br&gt;

&lt;&lt;if _diet == &quot;Normal&quot;&gt;&gt;
	[[High Calorie Diet|Status][$PC.diet.status = &quot;High&quot;]] | Normal Diet | [[Low Calorie Diet|Status][$PC.diet.status = &quot;Low&quot;]]
&lt;&lt;elseif _diet == &quot;High&quot;&gt;&gt;
	High Calorie Diet | [[Normal Diet|Status][$PC.diet.status = &quot;Normal&quot;]] | [[Low Calorie Diet|Status][$PC.diet.status = &quot;Low&quot;]]
&lt;&lt;elseif _diet == &quot;Low&quot;&gt;&gt;
	[[High Calorie Diet|Status][$PC.diet.status = &quot;High&quot;]] | [[Normal Diet|Status][$PC.diet.status = &quot;Normal&quot;]] | Low Calorie Diet
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _workout == &quot;None&quot;&gt;&gt;
	[[Heavy Workout|Status][$PC.fitness.status = &quot;Heavy&quot;]] | No Workout | [[Light Workout|Status][$PC.fitness.status = &quot;Light&quot;]]
&lt;&lt;elseif _workout == &quot;Heavy&quot;&gt;&gt;
	Heavy Workout | [[No Workout|Status][$PC.fitness.status = &quot;None&quot;]] | [[Light Workout|Status][$PC.fitness.status = &quot;Light&quot;]]
&lt;&lt;elseif _workout == &quot;Light&quot;&gt;&gt;
	[[Heavy Workout|Status][$PC.fitness.status = &quot;Heavy&quot;]] | [[No Workout|Status][$PC.fitness.status = &quot;None&quot;]] | Light Workout
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;b&gt;Transformation Management&lt;/b&gt;
&lt;br&gt;

&lt;&lt;if $PC.transformation.item == &quot;None&quot;&gt;&gt;
	None
&lt;&lt;else&gt;&gt;
	[[None|Status][$PC.transformation.item = &quot;None&quot;]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _transitems = 0&gt;&gt;

&lt;&lt;for _t = 1; _t &lt;= $inventory.amount; _t++&gt;&gt;
	&lt;&lt;set _item = $inventory[_t]&gt;&gt;

	&lt;&lt;if _item.type == &quot;Transformative&quot; &amp;&amp; _item.name != $PC.transformation.item &amp;&amp; _item.amount &gt;= 1&gt;&gt;
		| &lt;&lt;print &quot;[[_item.name|Status][$PC.transformation.item = $inventory[&quot; + _t + &quot;].name]]&quot;&gt;&gt; (x_item.amount)
		&lt;&lt;set _transitems++&gt;&gt;
	&lt;&lt;elseif _item.name == $PC.transformation.item&gt;&gt;
		| _item.name (x_item.amount)

		&lt;&lt;set _itemname = _item.name&gt;&gt;
		&lt;&lt;set _itemdescription = _item.description&gt;&gt;
		&lt;&lt;set _transitems++&gt;&gt;
	&lt;&lt;/if&gt;&gt;

	&lt;&lt;if _item.name == $PC.transformation.circulating&gt;&gt;
		&lt;&lt;set _currentItem = _item&gt;&gt;
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/for&gt;&gt;

&lt;&lt;if $PC.transformation.duration &gt; 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	_currentItem.name is currently circulating through your body. You cannot give yourself any doses from a transformative tonic until the effects of the old tonic is completely flushed out of your body. It will take $PC.transformation.duration weeks for its effects to fade.

&lt;&lt;elseif $PC.transformation.duration == 1&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	_currentItem.name is currently circulating through your body. You cannot give yourself any doses from a transformative tonic until the effects of the old tonic is completely flushed out of your body. The effects will fade after this week.

&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if _itemname &amp;&amp; $PC.transformation.duration &lt;= 0&gt;&gt;
	This week you will be giving yourself doses of _itemname. _itemdescription

&lt;&lt;elseif _itemname &amp;&amp; $PC.transformation.duration &gt; 0&gt;&gt;
	You will give yourself a doses of _itemname when _currentItem.name is completely out of your system. _itemdescription

&lt;&lt;else&gt;&gt;
	This week you won&#39;t be giving yourself any doses from a transformative tonic.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !_transitems&gt;&gt;
	You currently don&#39;t have any transformative items. You can purchase them from a general store in the [[slums|Slums]].
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;b&gt;Pregnancy Type&lt;/b&gt;
&lt;br&gt;
&lt;&lt;if !$PC.pregnancy.type &gt;&gt;
 	None | [[Normal|Status][$PC.pregnancy.type = &quot;normal&quot;]] | [[Multipregnancy|Status][$PC.pregnancy.type = &quot;multipregnancy&quot;]] | [[Hyperpregnancy|Status][$PC.pregnancy.type = &quot;hyperpregnancy&quot;]]
&lt;&lt;elseif $PC.pregnancy.type == &quot;normal&quot;&gt;&gt;
	[[None|Status][$PC.pregnancy.type = null]] | Normal | [[Multipregnancy|Status][$PC.pregnancy.type = &quot;multipregnancy&quot;]] | [[Hyperpregnancy|Status][$PC.pregnancy.type = &quot;hyperpregnancy&quot;]]
&lt;&lt;elseif $PC.pregnancy.type == &quot;multipregnancy&quot;&gt;&gt;
	[[None|Status][$PC.pregnancy.type = null]] | [[Normal|Status][$PC.pregnancy.type = &quot;normal&quot;]] | Multipregnancy | [[Hyperpregnancy|Status][$PC.pregnancy.type = &quot;hyperpregnancy&quot;]]
&lt;&lt;elseif $PC.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
	[[None|Status][$PC.pregnancy.type = null]] | [[Normal|Status][$PC.pregnancy.type = &quot;normal&quot;]] | [[Multipregnancy|Status][$PC.pregnancy.type = &quot;multipregnancy&quot;]] | Hyperpregnancy
&lt;&lt;/if&gt;&gt;
&lt;br&gt;&lt;br&gt;

&lt;&lt;if $PC.pregnancy.type == &quot;normal&quot;&gt;&gt;
	&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(5000)&gt;&gt; Per Pregnancy]@@&lt;/b&gt;
&lt;&lt;elseif $PC.pregnancy.type == &quot;multipregnancy&quot;&gt;&gt;
	&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(10000)&gt;&gt; Per Pregnancy]@@&lt;/b&gt;
&lt;&lt;elseif $PC.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
	&lt;b&gt;@@color:lightgreen;[💎&lt;&lt;print commify(20000)&gt;&gt; Per Pregnancy]@@&lt;/b&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.sex == &quot;male&quot;&gt;&gt;
	Your partners
&lt;&lt;else&gt;&gt;
	You
&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$PC.pregnancy.type&gt;&gt;
	will not get pregnant after having intercourse.

&lt;&lt;elseif $PC.pregnancy.type == &quot;normal&quot;&gt;&gt;
	will have normal pregnancies. Standard pregnancy elixirs allow the fetus to feed on the mana of the mother, siphoning information as well nutrients from the mother with it. Offspring have no deficiencies but don&#39;t gain any surplus either. When the child is born, the mana collected transforms them into a fully formed young adult. The pregnancy period will last 12 weeks; 4 weeks in lactation begins, 8 weeks in the child is born and at 12 weeks lactation stops and the recovery period has ended, allowing for another pregnancy to begin.

&lt;&lt;elseif $PC.pregnancy.type == &quot;multipregnancy&quot;&gt;&gt;
	will have multipregnancies. Multipregnancies allow a mother to produce multiple offspring from multiple fathers in one pregnancy. The pregnancy period starts at 8 weeks, and increases by 2 for every offspring added to the pregnancy. Six is the maximum amount of offspring per pregnancy, meaning a 18 week pregnancy period maximum. Each subsequent offspring has less time to grow in the womb and has to share resources with their siblings, resulting in a growth deficiency. The mother&#39;s stomach will grow greatly in size which will result in lower energy. The pregnancy period will last 8-18 weeks; at 4 weeks lactation begins, at 8 weeks plus 2 per offspring after the first the offspring will be born and 4 weeks after that lactation stops and the recovery period has ended, allowing for another pregnancy to begin.

&lt;&lt;elseif $PC.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
	will have hyperpregnancies. Hyperpregnancies extend the pregnancy period from 12 weeks to 20 weeks. Instead of being birthed at the end of the fetus stage, offspring spend 8 more weeks growing inside their mother&#39;s womb. Once born the child is about half-way through puberty and will become a young adult within hours. This grants a bonus is stat growth, but reduces the amount of energy the mother has as her womb will balloon to an enormous size. The pregnancy period will last 20 weeks; at 4 weeks lactation begins, at 8 weeks the child is fully formed but continues to grow in the womb, at 16 weeks the child is born and at 20 weeks lactation stops and the recovery period has ended, allowing for another pregnancy to begin.

&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if $PC.sex == &quot;male&quot;&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Female sex partner&#39;s pregnancy rate increased to 100% while their fatigue is at 0.@@&lt;/b&gt;
	
&lt;&lt;elseif $PC.sex == &quot;female&quot;&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Male sex partner&#39;s insemination rate increased to 100% while their fatigue is at 0.@@&lt;/b&gt;

&lt;&lt;elseif $PC.sex == &quot;futanri&quot;&gt;&gt;
	&lt;b&gt;@@color:forestgreen;Female sex partner&#39;s pregnancy rate and male sex partner&#39;s insemination rate increased to 100% while their fatigue is at 0.@@&lt;/b&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="272" name="Player Report" tags="nobr" position="1490,176" size="100,100">&lt;&lt;set $maintenance.personal += updateExpense($PC)&gt;&gt;
&lt;&lt;set $PC.summary = null&gt;&gt;
&lt;&lt;set $PC.diet.progress = updateDiet($PC)&gt;&gt;
&lt;&lt;set $PC.fitness.progress = updateFitness($PC)&gt;&gt;
&lt;&lt;set $PC.condition.progress = updateCondition($PC, $difficulty, 0, $estate)&gt;&gt;
&lt;&lt;set $PC.fatigue.progress = updateFatigue($PC, $difficulty, 0, $estate)&gt;&gt;
&lt;&lt;run updateMaxFatigue($PC)&gt;&gt;

&lt;&lt;for _cn=0;_cn &lt; $PC.guild.slaver.contract.length;_cn++&gt;&gt;
  &lt;&lt;set _contract = $PC.guild.slaver.contract[_cn]&gt;&gt;
  &lt;&lt;set _contract.time--&gt;&gt;
  &lt;&lt;set _penalty = Math.round10(_contract.reward*0.25, 2)&gt;&gt;
  
  &lt;&lt;for _sn=1; _sn &lt;= $slaves.amount;_sn++&gt;&gt;
    &lt;&lt;if _contract.slave.ID == $slaves[_sn].ID&gt;&gt;
      &lt;&lt;set _character = $slaves[_sn]&gt;&gt;
      &lt;&lt;break&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;if (_character.obedience.current &gt;= _contract.virtue) &amp;&amp; (_character.trust.current &gt;= _contract.virtue) &amp;&amp; ((100-_character.fear.current) &gt;= _contract.virtue) &amp;&amp; (_character.titles.includes(_contract.title))&gt;&gt;
    &lt;&lt;set _contract.completed = 1&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _contract.completed = 0&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if _contract.time &lt; 0&gt;&gt;
    &lt;&lt;if _contract.completed&gt;&gt;
      &lt;&lt;set _character.sold = &quot;Contract Completed&quot;&gt;&gt;
      &lt;&lt;set _character.contract = {reward: _contract.reward, exp: _contract.exp}&gt;&gt;
      &lt;&lt;set _character.ogprice = _contract.reward&gt;&gt;
      &lt;&lt;set $PC.guild.slaver.contract.splice(_cn, 1)&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _character.sold = &quot;Contract End&quot;&gt;&gt;
      &lt;&lt;set _character.penalty = _penalty&gt;&gt;
      &lt;&lt;set $PC.guild.slaver.contract.splice(_cn, 1)&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/for&gt;&gt;


&lt;&lt;if $PC.focus == &quot;Rest&quot;&gt;&gt;
  &lt;&lt;set $PC.energy.max = 5&gt;&gt;
  &lt;&lt;set $PC.energy.current++&gt;&gt;

&lt;&lt;else&gt;&gt;
  &lt;&lt;set $PC.energy.max = 4&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $PC.energy.current = $PC.energy.max&gt;&gt;

&lt;&lt;if $PC.focus == &quot;Rest&quot;&gt;&gt;
  &lt;&lt;set $PC.summary = &quot;&lt;b&gt;You decided to take it easy this week and rested during your free time.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

  &lt;&lt;set $PC.summary += &quot;Your rest this week has given you a boost of energy for the coming week, allowing you to fit more actions into your schedule before the week will be over.&quot;&gt;&gt;

&lt;&lt;elseif $PC.focus == &quot;Estate&quot;&gt;&gt;
  &lt;&lt;set $PC.summary = &quot;&lt;b&gt;You decided to spend your free time during the week on lowering your slave expenses.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

  &lt;&lt;set $PC.summary += &quot;Due to your diligence you have reduced your slave expenses to half of what they normally would be without lowering the quality of amenities for your slaves.&quot;&gt;&gt;

&lt;&lt;elseif $PC.focus == &quot;Brothel&quot;&gt;&gt;
  &lt;&lt;set $PC.summary = &quot;&lt;b&gt;You decided to spend your free time during the week maximizing your brothel&#39;s income.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

  &lt;&lt;set $PC.summary += &quot;Due to your diligence you have increased your brothel&#39;s income by 125% without having to overwork your slaves or have them perform any extra activities.&quot;&gt;&gt;

&lt;&lt;elseif $PC.focus == &quot;Ranch&quot;&gt;&gt;
  &lt;&lt;set $PC.summary = &quot;&lt;b&gt;You decided to spend your free time during the week maximizing your ranch&#39;s income.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

  &lt;&lt;set $PC.summary += &quot;Due to your diligence you have increased your brothel&#39;s income by 125% without having to overwork your slaves or have them perform any extra activities.&quot;&gt;&gt;

&lt;&lt;elseif $PC.focus == &quot;Chattel&quot;&gt;&gt;
  &lt;&lt;set $PC.summary = &quot;&lt;b&gt;You decided to spend your free time during the week on lowering your chattel&#39;s expenses.&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

  &lt;&lt;set $PC.summary += &quot;Due to your diligence you have reduced your chattel expenses to half of what they normally would be without lowering the quality of life for your slaves living in the chattel.&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;
&lt;&lt;if $PC.pregnancy.child.length || $PC.pregnancy.recovery&gt;&gt;
	&lt;&lt;set $PC.pregnancy.weeks++&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.pregnancy.recovery&gt;&gt;
	&lt;&lt;set $PC.pregnancy.recovery--&gt;&gt;

	&lt;&lt;if !$PC.pregnancy.recovery&gt;&gt;
		&lt;&lt;set $PC.pregnancy.weeks = 0&gt;&gt;
		&lt;&lt;set $PC.pregnancy.status = null&gt;&gt;
		&lt;&lt;set $PC.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;You recovered from your pregnancy.@@&lt;/b&gt;&quot;&gt;&gt;
		&lt;&lt;set $PC.summary += &quot;&lt;br&gt;Your body has completely recovered from your previous pregnancy. You can now get pregnant again.&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.pregnancy.weeks&gt;&gt;
	&lt;&lt;playerPregnancyStatus&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.pregnancy.impregnated &amp;&amp; $PC.pregnancy.weeks == 1&gt;&gt;
  &lt;&lt;set $PC.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;(&lt;&lt;print capitalize(&#39;&quot; + $PC.pregnancy.type + &quot;&#39;)&gt;&gt;) You have been impregnated.@@&lt;/b&gt;&quot;&gt;&gt;

  &lt;&lt;if $PC.pregnancy.type == &quot;normal&quot;&gt;&gt;
    &lt;&lt;set $resources += 5000&gt;&gt;
    &lt;&lt;set $PC.summary += &quot;&lt;br&gt;You drank a standard pregnancy elixir, costing @@color:red;💎5,000@@. Your pregnancy will last &quot; + $PC.pregnancy.duration + &quot; weeks long and your recovery period will last for 4 weeks after that.&quot;&gt;&gt;

  &lt;&lt;elseif $PC.pregnancy.type == &quot;multipregnancy&quot;&gt;&gt;
    &lt;&lt;set $resources += 10000&gt;&gt;
    &lt;&lt;set $PC.summary += &quot;&lt;br&gt;You drank a multipregnancy elixir, costing @@color:red;💎10,000@@. Your pregnancy will last &quot; + $PC.pregnancy.duration + &quot; weeks long and your recovery period will last for 4 weeks after that. You can still be inseminated up to five more times, allowing you to birth six offspring with one pregnancy. Every offspring after the first will have a stronger deficieny in stats than the last.&quot;&gt;&gt;

  &lt;&lt;elseif $PC.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
    &lt;&lt;set $resources += 20000&gt;&gt;
    &lt;&lt;set $PC.summary += &quot;&lt;br&gt;You drank a hyperpregnancy elixir, costing @@color:red;💎20,000@@. Your pregnancy will last &quot; + $PC.pregnancy.duration + &quot; weeks long and your recovery period will last for 4 weeks after that. Your offspring will be granted a small bonus to their stats due to the extra weeks spent maturing in the womb. Offspring with parents that have the highest stats will feel this effect the most.&quot;&gt;&gt;

  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.pregnancy.impregnated &amp;&amp; $PC.pregnancy.child.length &gt; 1&gt;&gt;
  &lt;&lt;set $PC.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;You have been inseminated while pregnant.@@&lt;/b&gt;&quot;&gt;&gt;
  &lt;&lt;set $PC.summary += &quot;&lt;br&gt;Your pregnancy has been extended to &quot; + $PC.pregnancy.duration + &quot; weeks long and your recovery period will last for 4 weeks after that. You currently have &quot; + $PC.pregnancy.child.length + &quot; babies in your womb.&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $PC.pregnancy.impregnated = 0&gt;&gt;

&lt;&lt;if $PC.pregnancy.weeks &gt;= 4 &amp;&amp; !$PC.pregnancy.lactating &amp;&amp; !$PC.pregnancy.recovery&gt;&gt;
	&lt;&lt;set $PC.pregnancy.lactating = 1&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;You have started to lactate this week.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;You have progressed far enough in your pregnancy that your body has finished the process of producing milk, and is now lactating.&quot;&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.weeks &gt;= $PC.pregnancy.duration+2 &amp;&amp; $PC.pregnancy.lactating&gt;&gt;
	&lt;&lt;set $PC.pregnancy.lactating = 0&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;You have stopped lactating.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;Your body is no longer producing any milk, and as such your body has stopped lactating naturally.&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;run resetBonus($PC)&gt;&gt;
&lt;&lt;run checkItems($PC, $inventory, 0, 1)&gt;&gt;
&lt;&lt;run updateBodyHair($PC)&gt;&gt;

&lt;&lt;if $PC.info.endweek&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
	&lt;&lt;set $PC.summary += $PC.info.endweek&gt;&gt;
	&lt;&lt;set $PC.info.endweek = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.pregnancy.weeks &gt;= $PC.pregnancy.duration &amp;&amp; $PC.pregnancy.child.length&gt;&gt;
	&lt;&lt;set $PC.pregnancy.maturity++&gt;&gt;
	&lt;&lt;set $PC.pregnancy.recovery = 4&gt;&gt;
	&lt;&lt;set _children = []&gt;&gt;

	&lt;&lt;for _p = 0; _p &lt; $PC.pregnancy.child.length;_p++&gt;&gt;
		&lt;&lt;set $PC.pregnancy.child[_p].justBirthed = 1&gt;&gt;
		&lt;&lt;set _children.push($PC.pregnancy.child[_p].name)&gt;&gt;
    &lt;&lt;run addSlave($PC.pregnancy.child[_p])&gt;&gt;
	&lt;&lt;/for&gt;&gt;

	&lt;&lt;namelist _children &quot;and&quot;&gt;&gt;

	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;@@color:forestgreen;You have given birth.@@&lt;/b&gt;&quot;&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;You have given birth to &quot; + $PC.pregnancy.child.length + &quot; offspring; &quot; + _namelist + &quot;.&quot;&gt;&gt;

	&lt;&lt;set $PC.pregnancy.child = []&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.position&gt;&gt;
  &lt;&lt;set _summary = $PC.summary&gt;&gt;
  &lt;&lt;set _character = $PC&gt;&gt;
  &lt;&lt;set $activeCharacter = _character&gt;&gt;
  &lt;&lt;include &quot;Slave Income &amp; Expenses&quot;&gt;&gt;
  &lt;&lt;set $PC.summary = _summary + &quot;&lt;br&gt;&lt;br&gt;&quot; + $PC.summary&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.condition.progress &lt;= _healthreq &amp;&amp; $PC.assignment != &quot;rest&quot;&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;@@color:orange;You are too unhealthy to continue your &quot; + $PC.assignment + &quot; assignment. You are resting now.@@&quot;&gt;&gt;

	&lt;&lt;set $PC.renew = $PC.assignment&gt;&gt;
	&lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;

&lt;&lt;elseif $PC.fatigue.progress &gt; _fatiguereq &amp;&amp; $PC.assignment != &quot;rest&quot;&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;@@color:orange;You are too exhausted to continue your &quot; + $PC.assignment + &quot; assignment. You are resting now.@@&quot;&gt;&gt;

	&lt;&lt;set $PC.renew = $PC.assignment&gt;&gt;
	&lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.renew &amp;&amp; $PC.fatigue.progress == 0 &amp;&amp; $PC.condition.progress == 100 &amp;&amp; $PC.assignment == &quot;rest&quot;&gt;&gt;
	&lt;&lt;set $PC.summary += &quot;&lt;br&gt;@@color:forestgreen;You are fully rested and ready to continue your &quot; + $PC.renew + &quot; assignment.@@&quot;&gt;&gt;

	&lt;&lt;set $PC.assignment = $PC.renew&gt;&gt;
	&lt;&lt;set $PC.renew = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;unset $activeCharacter&gt;&gt;
&lt;&lt;unset _character&gt;&gt;

/*
&lt;&lt;if $PC.pregnancy.maturity &gt;= 5 &amp;&amp; $PC.gender == &quot;female&quot; &amp;&amp; $PC.maturity &lt; 2&gt;&gt;
	&lt;&lt;set $PC.maturity = 2&gt;&gt;
	&lt;&lt;set $PC.pregnancy.maturity = 0&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.maturity &gt;= 10 &amp;&amp; $PC.gender == &quot;female&quot; &amp;&amp; $PC.maturity &lt; 3&gt;&gt;
	&lt;&lt;set $PC.maturity = 3&gt;&gt;
	&lt;&lt;set $PC.pregnancy.maturity = 0&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.maturity &gt;= 10 &amp;&amp; $PC.gender == &quot;male&quot; &amp;&amp; $PC.maturity &lt; 2&gt;&gt;
	&lt;&lt;set $PC.maturity = 2&gt;&gt;
	&lt;&lt;set $PC.pregnancy.maturity = 0&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.maturity &gt;= 20 &amp;&amp; $PC.gender == &quot;male&quot; &amp;&amp; $PC.maturity &lt; 3&gt;&gt;
	&lt;&lt;set $PC.maturity = 3&gt;&gt;
	&lt;&lt;set $PC.pregnancy.maturity = 0&gt;&gt;

&lt;&lt;/if&gt;&gt;
*/</tw-passagedata><tw-passagedata pid="273" name="Player Pregnancy Widget" tags="nobr widget" position="1621,1481" size="100,100">&lt;&lt;widget playerPregnancyStatus&gt;&gt;

&lt;&lt;set _signs = []&gt;&gt;
&lt;&lt;set _feelings = []&gt;&gt;
&lt;&lt;set _reaction = []&gt;&gt;

&lt;&lt;set _weeksuntilbirth = 0&gt;&gt;

&lt;&lt;if !$PC.pregnancy.recovery&gt;&gt;
  &lt;&lt;set _weeksuntilbirth = $PC.pregnancy.duration - $PC.pregnancy.weeks&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $PC.pregnancy.recovery == 1&gt;&gt;
  &lt;&lt;if $PC.pregnancy.type == &quot;normal&quot;&gt;&gt;
    &lt;&lt;set _signs.push(&quot;Your body, mainly your stomach, has a lot of loose skin. &quot;, &quot;You have entered your recovery period. &quot;, &quot;You rest whenever you can catch a break, as your body needs all the extra energy it can get to recover from your pregnancy. &quot;)&gt;&gt;

  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _signs.push(&quot;Your &quot; + $PC.pregnancy.type + &quot; has done quite a bit of damage to your body as you have a disgusting amount of loose skin. &quot;, &quot;Your skin has become oily as your body has began working in overdrive to recover from your &quot; + $PC.pregnancy.type + &quot;. &quot;, &quot;Your skin looks a little ashen, most likely due to your body undergoing a recovery period due to the damage your &quot; + $PC.pregnancy.type + &quot; has done to yourself. &quot;)&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;You are relieved your pregnancy is finally over. &quot;, &quot;You are worried that your next pregnancy will have a rough effect on your body. &quot;, &quot;You are pleased that you have given birth to offspring, but are saddened due to the fact that they will be slaves. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You spend most of your free time lounging around, resting or thinking about your offspring. &quot;, &quot;You mope around staring miserably at your loose skin. &quot;, &quot;You try to hide yourself from others to hide your poor skin condition whenever possible. &quot;)&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.recovery &lt;= 3 &amp;&amp; $PC.pregnancy.recovery&gt;&gt;
  &lt;&lt;set _signs.push(&quot;Your skin has has tightened quite a bit from being stretched by your pregnancy. &quot;, &quot;Your skin has began to recover some of its original color and sheen. &quot;, &quot;Your skin isn&#39;t as oily as it was when you gave birth to your offspring. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;You are happy with the progress your body has made. &quot;, &quot;Your body&#39;s recovery has scared you mentally. You are afraid that you&#39;ll your body will not recover from your next pregnancy as easily. &quot;, &quot;You are worried about giving birth to more offspring that will end up as slaves. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You have began to get a more healthy amount of sleep during normal hours. &quot;, &quot;You have began to get back into the groove of working without having to rest periodically. &quot;, &quot;You seldom think about your recently birth offspring, even though you have shown obvious attachment to them. &quot;)&gt;&gt;


&lt;&lt;elseif $PC.pregnancy.recovery == 4&gt;&gt;
  &lt;&lt;set _signs.push(&quot;Your skin has completely recovered its tightness without any scarring or stretch marks. &quot;, &quot;Your skin has completely recovered its original color and sheen. &quot;, &quot;No longer is your skin greasy with sweat and other oils expunged from your body to help with your pregnancy recovery. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;You are ecstatic that you weren&#39;t permanently damaged by your pregnancy. &quot;, &quot;You are saddened that you have made a complete recovery and as you quite enjoyed being pregnant. &quot;, &quot;You are happy that your pregnancy hasn&#39;t damaged your body in any way, but you don&#39;t feel like birthing anymore offspring that will end up as slaves. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You have mourned the loss of your recently birthed children, as they are nothing but slave now. &quot;, &quot;You have returned to having normal and healthy sleep patterns. &quot;, &quot;You have returned to working as if you were never pregnant in the first place. &quot;)&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.weeks == 1&gt;&gt;
  &lt;&lt;set _signs.push(&quot;You show no signs of pregnancy yet but you do feel the &quot; + $PC.pregnancy.type + &quot; elixir slowly affecting your body. &quot;, &quot;You are much too early in your pregnancy to show any signs of your pregnancy. &quot;, &quot;You can&#39;t see any signs of your pregnancy because you have only just been impregnated. &quot;)&gt;&gt;

  &lt;&lt;if $PC.pregnancy.type == &quot;normal&quot;&gt;&gt;
    &lt;&lt;set _feelings.push(&quot;You are a little bit nervous about being pregnant. &quot;, &quot;You are a little annoyed with the fact that your pregnancy might get in the way of your work. &quot;, &quot;You have become very sad due to your pregnancy. &quot;)&gt;&gt;

    &lt;&lt;set _reaction.push(&quot;You are acutely aware pf the affects your pregnancy will have on your body in the coming weeks. &quot;, &quot;You know there isn&#39;t much you can do about it. &quot;, &quot;You aren&#39;t excited for the pregnancy due to fears of complications. &quot;)&gt;&gt;

  &lt;&lt;elseif $PC.pregnancy.type == &quot;multipregnancy&quot;&gt;&gt;
    &lt;&lt;set _feelings.push(&quot;You are quite nervous about having a multipregnancy. &quot;, &quot;You stalk the halls of your estate with an angry face ironed onto your face. &quot;, &quot;You are depressed due to your looming multipregnancy. &quot;)&gt;&gt;

    &lt;&lt;set _reaction.push(&quot;You are not looking forward to carrying multiple babies for a couple of months or birthing all of them at the same time. &quot;, &quot;Your future plans might get delayed or completely cancelled due to your multipregnancy. &quot;, &quot;You weren&#39;t exactly keen on having a multipregnancy, but had one anyways. &quot;)&gt;&gt;

  &lt;&lt;elseif $PC.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
    &lt;&lt;set _feelings.push(&quot;You are very nervous about having a hyperpregnancy. &quot;, &quot;You stalk the halls of your estate with an angry face ironed onto your face. &quot;, &quot;You are a complete mess. &quot;)&gt;&gt;

    &lt;&lt;set _reaction.push(&quot;You are very worried about the affect carrying a maturing child will have on your body. &quot;, &quot;You know the affect that a hyperpregnancy will have on your body while pregnant and your wouldn&#39;t even go through that for a loved one, let alone for your slave, but you did it anyways. &quot;, &quot;When you aren&#39;t acting hysterical about your hyperpregnancy, you are moping around doing as little as possible. &quot;)&gt;&gt;

  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.weeks &lt;= 4 &amp;&amp; $PC.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push(&quot;You have shown lots of signs of exhaustion. &quot;, &quot;You have had several bouts of nausea. &quot;, &quot;You have had many headaches of varying strength. &quot;, &quot;You show signs of dizziness due to being lightheaded. &quot;, &quot;You have had multiple mood swings. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;You are concerned about the affects your pregnancy will have on your body. &quot;, &quot;You are feeling frustrated with the lack of control over your body. &quot;, &quot;You have constant mood swings due to your issues. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You have been trying to get extra sleep whenever possible to help recover during the week. &quot;, &quot;Whenever possible, you have tried to employ multiple techniques such as deep breathing to help yourself feel better. &quot;, &quot;You try to rest whenever possible to help cope with your problems. &quot;)&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.weeks &lt;= 8 &amp;&amp; $PC.pregnancy.weeks&gt;&gt;
  &lt;&lt;if $PC.pregnancy.weeks == 5&gt;&gt;
    &lt;&lt;set _signs.push(&quot;Your breasts are tender, tingly and sore. &quot;, &quot;Your stomach has grown in size. &quot;, &quot;The areola around your nipples have grown noticeably darker as you have progressed through your pregnancy. &quot;)&gt;&gt;

  &lt;&lt;elseif $PC.pregnancy.weeks == 6&gt;&gt;
    &lt;&lt;set _signs.push(&quot;Your baby bump has become noticeable. &quot;, &quot;Your stomach has started to show stronger signs of your pregnancy. &quot;, &quot;Your stomach is large enough that you can tell you are pregnant from sight alone. &quot;)&gt;&gt;

  &lt;&lt;elseif $PC.pregnancy.weeks == 7&gt;&gt;
    &lt;&lt;set _signs.push(&quot;Your baby bump is much more pronounced. &quot;, &quot;Both your breasts have grown due to your pregnancy. &quot;, &quot;There is no disputing if you are pregnant or not due to the size of your stomach in comparison to the rest of your body. &quot;)&gt;&gt;

  &lt;&lt;elseif $PC.pregnancy.weeks == 8&gt;&gt;
    &lt;&lt;set _signs.push(&quot;Your stomach is noticeably large due to your pregnancy. &quot;, &quot;Your pregnancy has reached the state that you have a full-sized baby bump. &quot;, &quot;The size and curve of your stomach is very pronounced. &quot;)&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;You have a hard time getting used to the changes occurring to your body. &quot;, &quot;You have some reservations about being a mother but as your pregnancy gets further along, you have become more calm. &quot;, &quot;You sometimes worries about your offspring being born into slavery. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You are often found resting whenever you get the chance to. &quot;, &quot;You sometimes eat extra food during your meals to ensure that your offspring get enough nutrients. &quot;, &quot;You sometimes start caressing your stomach in an attempt to soothe or bond with your offspring. &quot;)&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.weeks &lt;= 12 &amp;&amp; $PC.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push(&quot;Your stomach is a small bit larger than what should be possible for a normal pregnancy. &quot;, &quot;Your baby bump has continued to grow in size to accommodate the extraordinary pregnancy. &quot;, &quot;You have progressed passed the point of a normal pregnancy, and the size of your baby bump reflects that. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;Your extended pregnancy has made you slightly horny. &quot;, &quot;Your skin is flushed most of the time, probably due to the arousal after-effects of having a &quot; + $PC.pregnancy.type + &quot;. &quot;, &quot;The &quot; + $PC.pregnancy.type + &quot; potion you drank has began to offset the pain of having such a large stomach with feelings of pleasure. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You pleasure yourself much more often than normal. &quot;, &quot;You take care of your sexual urges yourself whenever possible, sometimes doing it out in the open if you can&#39;t find a chance to do it privately. &quot;, &quot;You pleasure yourself by massaging your stomach while rubbing your genitalia. &quot;)&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.weeks &lt;= 14 &amp;&amp; $PC.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push(&quot;Your stomach has gotten very large but is still manageable. &quot;, &quot;Your stomach is almost twice the size of full-term baby bump. &quot;, &quot;Your stomach is so large you waddle as you walk around. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;You are in a constant state of arousal but it isn&#39;t too distracting. &quot;, &quot;You are frustrated with your body being constantly aroused. &quot;, &quot;No matter what time of day, or what you are doing, you feel small pangs of lust. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You sometimes masturbates without even realizing it. &quot;, &quot;You try to deal with your overactive libido whenever possible with masturbation or sex when possible, but it doesn&#39;t help at all. &quot;, &quot;When your arousal becomes too much to bear, you break down and masturbates right on the spot. &quot;)&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.weeks &lt;= 16 &amp;&amp; $PC.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push(&quot;Your stomach is obscenely large. &quot;, &quot;Your stomach is becoming too large for you to handle. &quot;, &quot;You have trouble adjusting to the size of your large stomach. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;Whenever the offspring in your stomach move about, which is almost always, they send pangs of pleasure coursing through your body. &quot;, &quot;Any movement from your offspring sends you into orgasmic bliss. &quot;, &quot;You constantly struggle to keep your libido in check, as you are in a constant state of arousal. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You have given up trying to sate your lust, and instead enjoy the feeling your &quot; + $PC.pregnancy.type + &quot; brings you. &quot;, &quot;You have slowly become much more comfortable pleasuring yourself out in the open due to the intense pleasure your &quot; + $PC.pregnancy.type + &quot; has brought you. &quot;, &quot;You&#39;ve already caught yourself multiple times pleasuring yourself this week alone. &quot;)&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.weeks &lt;= 18 &amp;&amp; $PC.pregnancy.weeks&gt;&gt;
  &lt;&lt;set _signs.push( &quot;You have problems seeing whats directly in front of yourself due to your huge stomach. &quot;, &quot;Your stomach has ballooned to massive proportions. &quot;, &quot;The size of your stomach is bordering on being as big as a large beach ball. &quot;)&gt;&gt;

  &lt;&lt;set _feelings.push(&quot;Your pregnancy has entered the stage where you are in an endless state of mindless pleasure. &quot;, &quot;You are too horny to do much of anything, as you feel continuous pleasure from your enlarged stomach. &quot;, &quot;From the glazed look plastered across your face, its obvious that you are in a world of pleasure. &quot;)&gt;&gt;

  &lt;&lt;set _reaction.push(&quot;You masturbate whensoever, without any care for privacy or humility. &quot;, &quot;You masturbate so frequently it isn&#39;t odd for you to find yourself with your whole fist up your pussy. &quot;, &quot;You will use anything and anyone to satisfy your sexual needs, without a care as to when, where or how. &quot;)&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set _pregtext = &quot;&quot;&gt;&gt;
&lt;&lt;set _pregtext += either(_signs)&gt;&gt;
&lt;&lt;set _pregtext += either(_feelings)&gt;&gt;
&lt;&lt;set _pregtext += either(_reaction)&gt;&gt;
&lt;&lt;set $PC.pregnancy.status = _pregtext&gt;&gt;

&lt;&lt;set $PC.summary += &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;Pregnancy Week &quot; + $PC.pregnancy.weeks + &quot;&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;

&lt;&lt;if _weeksuntilbirth&gt;&gt;
  &lt;&lt;set $PC.summary += &quot;You are due to give birth in &quot; + _weeksuntilbirth + &quot; weeks. &quot;&gt;&gt;

&lt;&lt;elseif $PC.pregnancy.recovery&gt;&gt;
  &lt;&lt;set $PC.summary += &quot;You will recover from your pregnancy in  &quot; + $PC.pregnancy.recovery + &quot; weeks. &quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $PC.summary += _pregtext&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="274" name="Basic - Dietary Concerns - Start" tags="nobr" position="1896,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Dietary Concerns&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= 80&gt;&gt;
	[[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] is perfectly obedient when it comes to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet and manners around the table. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; follows &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet without error and makes sure that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; acts as if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is happy with any portion of food that you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Since $activeCharacter.name is so obedient you can reward &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in any way that you want and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will be thankful for your praise.

	&lt;br&gt;&lt;br&gt;

	&lt;&lt;set _scenename = &quot;Give &quot; + $activeCharacter.name + &quot; a small reward for following &quot; + $hisher[$activeCharacter.gender] + &quot; diet obediently.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Reward Food&quot;]]
		&lt;br&gt;

		&lt;&lt;set _scenename = &quot;Allow &quot; + $activeCharacter.name + &quot; to eat more food when needed this week.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Give Food&quot;]]
		&lt;br&gt;

		&lt;&lt;set _scenename = &quot;Allow &quot; + $activeCharacter.name + &quot; to eat less food when needed this week.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Waste Food&quot;]]


&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 50 || $activeCharacter.fear.current &gt;= 50&gt;&gt;
	[[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] has been pretty good about sticking to the diet plan you have made for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; eats all the food given to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, does all of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; exercises as instructed and generally does not make any complaints about it. As long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; eats all the food you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; then &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet will be effective.

	&lt;br&gt;&lt;br&gt;

	&lt;&lt;if $activeCharacter.obedience.current &gt;= 50&gt;&gt;
		&lt;&lt;if $activeCharacter.diet.progress &gt;= 60&gt;&gt;
			Still, you do notice from time to time that $activeCharacter.name stares longingly at your food whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; finishes &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; meal before you. Since &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt; its clear that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants more food but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is trained well enough not to ask. You can take this opportunity to further &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience or just let &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; stare as much as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants.
			&lt;br&gt;&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Give &quot; + $activeCharacter.name + &quot; a small reward for following &quot; + $hisher[$activeCharacter.gender] + &quot; diet obediently.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Reward Food&quot;]]
			&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Scold &quot; + $activeCharacter.name + &quot; for stealing glances at your food.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Scold Food&quot;]]
			&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Allow &quot; + $activeCharacter.name + &quot; to eat more food when needed this week.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Give Food&quot;]]
			&lt;br&gt;

		&lt;&lt;elseif $activeCharacter.diet.progress &gt;= 40&gt;&gt;
			Sometimes $activeCharacter.name does have trouble eating all of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; food, other times &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still shows signs of being hungry but most of the time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems satisfied. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt; so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems to be able to deal with any proportion of food you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

			&lt;br&gt;&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Give &quot; + $activeCharacter.name + &quot; a small reward for following &quot; + $hisher[$activeCharacter.gender] + &quot; diet obediently.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Reward Food&quot;]]
			&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Scold &quot; + $activeCharacter.name + &quot; for not eating &quot; + $hisher[$activeCharacter.gender] + &quot; food without difficulty.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Scold Food&quot;]]
			&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Allow &quot; + $activeCharacter.name + &quot; to eat more food when needed this week.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Give Food&quot;]]
			&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Allow &quot; + $activeCharacter.name + &quot; to eat less food when needed this week.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Waste Food&quot;]]

		&lt;&lt;else&gt;&gt;
			Since $activeCharacter.name is &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sometimes has problems eating all of the food you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; makes sure to eat it all. You can try to fix this problem by reprimanding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for struggling to eat or try to encourage good behaviour by rewarding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for following &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet.

			&lt;br&gt;&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Give &quot; + $activeCharacter.name + &quot; a small reward for following &quot; + $hisher[$activeCharacter.gender] + &quot; diet obediently.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Reward Food&quot;]]
			&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Scold &quot; + $activeCharacter.name + &quot; for struggling to eat all &quot; + $hisher[$activeCharacter.gender] + &quot; food.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Scold Food&quot;]]
			&lt;br&gt;

			&lt;&lt;set _scenename = &quot;Allow &quot; + $activeCharacter.name + &quot; to eat less food than needed this week.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Waste Food&quot;]]
		&lt;&lt;/if&gt;&gt;

	&lt;&lt;elseif $activeCharacter.fear.current &gt;= 50&gt;&gt;
		$activeCharacter.name has been following &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet more out of fear than obedience. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t want to face any type of punishment and eating whatever you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; isn&#39;t a point of contention for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; at this point. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; won&#39;t even look up from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; plate when you&#39;re nearby and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; always eats in a controlled manner as to not garner any attention from you.
		&lt;br&gt;&lt;br&gt;

		&lt;&lt;set _scenename = &quot;Give &quot; + $activeCharacter.name + &quot; a small reward for following &quot; + $hisher[$activeCharacter.gender] + &quot; diet obediently.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Reward Food&quot;]]
		&lt;br&gt;

		&lt;&lt;set _scenename = &quot;Give &quot; + $activeCharacter.name + &quot; a real reason to fear you.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Fear Food&quot;]]
	&lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;if $activeCharacter.diet.progress &gt;= 60&gt;&gt;
		While walking through the brothel halls [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] stops you to express &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; concerns about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet. This isn&#39;t the first time. Throughout the week $activeCharacter.name has been finishing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; food early and has been challenging you about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet any chance &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gets. According to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, the amount of food you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; isn&#39;t sufficient for anybody to live off of.
		&lt;&lt;if $activeCharacter.diet.status == &quot;Normal&quot;&gt;&gt;
			You have no clue why &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thinks this, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet is completely normal for someone &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt;.

		&lt;&lt;elseif $activeCharacter.diet.status == &quot;High&quot;&gt;&gt;
			To say &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is being a little greedy would be an understatement. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is already &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt; and is currently getting fed a high calorie diet, yet &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is asking for more food.

		&lt;&lt;else&gt;&gt;
			While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is barely getting any food during mealtimes, its enough to sustain someone who is &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt;. You want &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to lose weight and giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; anymore food will probably make &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; gain more weight.
		&lt;&lt;/if&gt;&gt;

	&lt;br&gt;&lt;br&gt;

		Getting used to and accepting a diet takes a bit of discipline, which $activeCharacter.name clearly lacks, so you expected some push back from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. What you didn&#39;t expect was &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; actively challenging you about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet every step of the way. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t even polite about it, even going as far as to imply that you&#39;re an idiot for not feeding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; enough food to survive. Will you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; more food?

		&lt;br&gt;&lt;br&gt;

		&lt;&lt;set _scenename = &quot;Refuse to give &quot; + $activeCharacter.name + &quot; anymore food.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Refuse Food&quot;]]
		&lt;br&gt;

		&lt;&lt;set _scenename = &quot;Agree to give &quot; + $activeCharacter.name + &quot; food as long &quot; + $heshe[$activeCharacter.gender] + &quot; eats it from a dog bowl.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Dog Bowl&quot;]]
		&lt;br&gt;

		&lt;&lt;if $PC.cock.current &amp;&amp; $PC.girth.current&gt;&gt;
			&lt;&lt;set _scenename = &quot;Agree to give &quot; + $activeCharacter.name + &quot; food covered in your cum.&quot;&gt;&gt;
			[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Cum Food&quot;]]
			&lt;br&gt;
		&lt;&lt;/if&gt;&gt;

		&lt;&lt;set _scenename = &quot;Agree to give &quot; + $activeCharacter.name + &quot; more food.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Give Food&quot;]]

	&lt;&lt;else&gt;&gt;
		You&#39;re beginning to notice that [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] hasn&#39;t been eating all of the food you&#39;ve been giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is currently &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt; and the diet you have planned out for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; won&#39;t work if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not eating all you have to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

		&lt;&lt;if $activeCharacter.diet.status == &quot;Normal&quot;&gt;&gt;
			&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; diet should help &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; maintain a healthy weight, but only if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; eats all of the food on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; plate.

		&lt;&lt;elseif $activeCharacter.diet.status == &quot;High&quot;&gt;&gt;
			You have been giving $activeCharacter.name an abnormally high amount of food, which is why &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is struggling to finish it all. However, you are paying extra money for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is just wasting your money at this point.

		&lt;&lt;elseif $activeCharacter.diet.status == &quot;Low&quot;&gt;&gt;
			&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is already getting a low calorie diet and is still having trouble eating what little food you&#39;re giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. It seems like $activeCharacter.name has a mental block when it comes to eating food.
		&lt;&lt;/if&gt;&gt;

		&lt;br&gt;&lt;br&gt;

		$activeCharacter.name will do anything to leave the table without eating all the food on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; plate. Even in the face of the threat of punishment, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will just try to hide any food &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can while you&#39;re not watching. Of course, you can watch &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; eat every bite but you have better things to do. Sadly there is no permanent solution to this problem, you just have to deal with it routinely every time it pops up and eventually it won&#39;t be an issue. How will you deal with it this time around?

		&lt;br&gt;&lt;br&gt;

		&lt;&lt;set _scenename = &quot;Force feed &quot; + $activeCharacter.name + &quot;.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Force Feed&quot;]]
		&lt;br&gt;

		&lt;&lt;set _scenename = &quot;Let &quot; + $activeCharacter.name + &quot; continue to waste the food.&quot;&gt;&gt;
		[[_scenename|Basic - Dietary Concerns - End][$events.choice = &quot;Waste Food&quot;]]
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="275" name="Basic - Dietary Concerns - End" tags="nobr noreturn" position="1896,2260" size="100,100">&lt;center&gt;&lt;titled&gt;Dietary Concerns&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Refuse Food&quot;&gt;&gt;
    You refuse to give $activeCharacter.name any food. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is already &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt;, you don&#39;t want to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; more food and exacerbate the problem.

    &lt;&lt;if $roll &gt;= 4&gt;&gt;
      $activeCharacter.name isn&#39;t happy with your decision but has realized that all of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; complaints will fall on deaf ears. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is still of the belief that you are starving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but has decided to accept it instead of wasting energy arguing about it.

      &lt;br&gt;&lt;br&gt;

      Constantly rebuffing $activeCharacter.name&#39;s diet change requests has helped make &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; @@color:greenyellow;more obedient@@.

      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      $activeCharacter.name doubles down, increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; begging while ensuring you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will die trying to live off of the food you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. When you keep firm and explain to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; once more that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t getting anymore food, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; breaks down.

      &lt;br&gt;&lt;br&gt;

      $activeCharacter.name falls to the ground and starts blubbering unintelligibly into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fat, flabby arms. It doesn&#39;t take long before &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; big body is sprawled across the floor and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;s throwing a tantrum like a child. You wait for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to get out of breath, which doesn&#39;t take long at all, and tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will lose &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; a few meals for that pathetic display. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; completely loses it after hearing that, wailing out as if you&#39;ve sentenced &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to death. This time you don&#39;t stick around for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; performance and walk away.

      &lt;br&gt;&lt;br&gt;

      Skipping a few meals this week has helped $activeCharacter.name @@color:greenyellow;lose some extra weight@@.

      &lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress-5, 1, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
      
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Dog Bowl&quot;&gt;&gt;
    &lt;&lt;if $activeCharacter.trust.current &gt;= 80&gt;&gt;
      &lt;&lt;set _rollreq = 5&gt;&gt;
    &lt;&lt;elseif $activeCharacter.trust.current &gt;= 60&gt;&gt;
      &lt;&lt;set _rollreq = 4&gt;&gt;
    &lt;&lt;elseif $activeCharacter.trust.current &gt;= 40&gt;&gt;
      &lt;&lt;set _rollreq = 3&gt;&gt;
    &lt;&lt;elseif $activeCharacter.trust.current &gt;= 20&gt;&gt;
      &lt;&lt;set _rollreq = 2&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _rollreq = 1&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _rollreq &gt;= $roll&gt;&gt;
      When you tell $activeCharacter.name that he can eat more if he does so out of a dog bowl &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; delays &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; answer enough to cause you to smirk. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; lack of response means that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; actually thought about accepting your proposal, even if only for a second. The one thing that seemingly holding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; back from accepting is &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust in you. After some deliberation &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; decides its not worth it, looks to you with conviction but freezes as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sees the smug look on your face. $activeCharacter.name didn&#39;t realize &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mistake at first but upon seeing your face &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; understood whatever pride &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was planning on saving was gone the moment &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; began thinking about eating out of a dog bowl.

      &lt;br&gt;&lt;br&gt;

      Defeated, $activeCharacter.name keeps &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes down as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; weakly mutters affirmation to eating out of a dog bowl. You go into the kitchen to grab a dog bowl, fill it with another serving of food and hand it to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; reluctantly grabs the bowl and moves for the table but you stop &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can pull up a chair. $activeCharacter.name looks up to you with a questioning glance and you tell &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; that dog bowls don&#39;t belong on the table. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; eyes goes wide upon hearing that, only now fully understanding what you want &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do.

      &lt;br&gt;&lt;br&gt;

      $activeCharacter.name drops to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; knees and puts the bowl on the ground. Before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can even reach for a fork from the table you order &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to eat the food without hands or don&#39;t eat it at all. Quiet tears run down &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realizes what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been degraded to doing for food but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has gone too far to turn back now. Slowly &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; lowers &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head into the bowl and eats from it one mouthful of food at a time. Even the tears and snot falling from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face into the bowl of food doesn&#39;t stop &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from completely cleaning it out.

      &lt;br&gt;&lt;br&gt;

      This whole ordeal has @@color:greenyellow;increased $activeCharacter.name&#39;s trust@@ and has @@color:greenyellow;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ but at the same time has caused &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to @@color:orange;gain a little weight@@.

      &lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress+5, 1, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      $activeCharacter.name doesn&#39;t even hesitate for a second to refuse your offer. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; says &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t even believe that you thought &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would even think about accepting such an order. Although &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has too much pride to accept doing something so pitiful.

      $activeCharacter.name&#39;s response has proved to @@color:orange;decrease &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust@@. On the other hand &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; didn&#39;t get any extra meals and has @@color:greenyellow;kept to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet@@.

      &lt;&lt;run decreaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress-5, 1, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Cum Food&quot;&gt;&gt;
    &lt;&lt;if $activeCharacter.trust.current &gt;= 80&gt;&gt;
    	&lt;&lt;set _rollreq = 5&gt;&gt;
    &lt;&lt;elseif $activeCharacter.trust.current &gt;= 60&gt;&gt;
    	&lt;&lt;set _rollreq = 4&gt;&gt;
    &lt;&lt;elseif $activeCharacter.trust.current &gt;= 40&gt;&gt;
    	&lt;&lt;set _rollreq = 3&gt;&gt;
    &lt;&lt;elseif $activeCharacter.trust.current &gt;= 20&gt;&gt;
    	&lt;&lt;set _rollreq = 2&gt;&gt;
    &lt;&lt;else&gt;&gt;
    	&lt;&lt;set _rollreq = 1&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if _rollreq &gt;= $roll&gt;&gt;
    	Normally any pride $activeCharacter.name has would stop &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from doing anything sexual for you but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;s so greedy that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would do anything to get an extra meal. This would be normal for someone starving but you keep &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; fed three times a day. Its clear that even with food in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; stomach, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t help but let &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; gluttony control &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You don&#39;t even have to wait for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to answer, the look on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face tells you all that you need to know; $activeCharacter.name is nothing but a fat &lt;&lt;print $whore[$activeCharacter.gender]&gt;&gt; with no self-respect. You lead &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into the kitchen and fix another plate of food for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Placing the food on the table, you sit down and tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to come closer. You explain to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wants the food that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is going to have to get it from the source &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;.

    	&lt;br&gt;&lt;br&gt;

    	$activeCharacter.name nods in understanding, kneels down between your legs and fishes your &lt;&lt;descriptor $activeCharacter 0 &#39;cock&#39;&gt;&gt; out of your pants. Putting the tip of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue on the crown of your &lt;&lt;descriptor $activeCharacter 0 &#39;cock&#39;&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; slowly licks at you with shallow strokes. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hands move to sensually caress your thighs while &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue inches down to explore more of your length. Once satisfied, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pulls &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face from your lap and glances at you submissively before taking you completely into &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; mouth. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; mouth is hot and wet, a stark contrast to a few minutes ago when the air was coldly brushing against your saliva covered &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt;. The sudden stimulus causes you to buck you hips, forcing you deeper into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; chokes, but keeps &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lips tightly trapped around you. Even as you relax, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue continues to work while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; dutifully bobs up and down on your &lt;&lt;descriptor $activeCharacter 25 &#39;cock&#39;&gt;&gt;. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; ministrations are pleasurable and purposed, skillfully working you up to your climax.

    	&lt;br&gt;&lt;br&gt;

    	Anticipating your release, $activeCharacter.name increases the rhythm of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bobbing faster and faster, to the point that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; begins to moan on your dick with bated breath. Unable to hold it in any longer you grab the back of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head and forcefully press &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into your crotch as you jet a &lt;&lt;print extractWord($quantity[$PC.cum.quantity.current])&gt;&gt; amount of your &lt;&lt;print extractWord($quality[$PC.cum.quality.current])&gt;&gt;, &lt;&lt;print extractWord($taste.cum[$PC.cum.taste.current])&gt;&gt; spend into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; waiting mouth. Steadying &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; by placing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands on the flat of your thighs, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues to suckle on your sensitive &lt;&lt;descriptor $activeCharacter 0 &#39;cock&#39;&gt;&gt; to coax out as much cum as possible. After ensuring that there was nothing left, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; pulls &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth off of your softening member and looks at you for approval. You nod and $activeCharacter.name raises back to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; feet and opens &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth so the cum &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has collected can dribble out of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth and onto the plate of food on the table. After &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; finishes, you dutifully mix in the cum with the rest of the food and then watch as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; eats it to the last bite. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no problems with cleaning the plate of food.

      &lt;br&gt;&lt;br&gt;

      $activeCharacter.name&#39;s capitulation has @@color:forestgreen;greatly increased $activeCharacter.name&#39;s obedience@@ but the extra food you gave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; has caused &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to @@color:orange;gain a little weight@@.

      &lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress+5, 1, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
    	$activeCharacter.name doesn&#39;t even hesitate for a second to refuse your offer. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; says &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t even believe that you thought &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would even think about accepting such an offer. Although &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has too much pride to accept doing something so pitiful.

    	$activeCharacter.name&#39;s response has proved to @@color:orange;decrease &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust@@. On the other hand &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; didn&#39;t get any extra meals and has @@color:greenyellow;kept to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet@@.

    	&lt;&lt;run decreaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Give Food&quot;&gt;&gt;
    &lt;&lt;if $activeCharacter.fear.current &gt;= 50&gt;&gt;
    	You decide to give $activeCharacter.name some extra food during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; meals this week.

    	$activeCharacter.name is so scared of you that when you offer &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; some more food &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; immediately thinks that you&#39;re trying to test or trap &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Even after assuring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; multiple times that everything about your offer is aboveboard &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still refuses any extra meals. Eventually you get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to agree to the extra meals by forcing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to eat them. It causes &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be even more skeptical but after a few of the extra meals &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realizes that you were not trying to trick &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

    	&lt;br&gt;&lt;br&gt;

    	Due to your kindness $activeCharacter.name has @@color:greenyellow;began to fear you less@@ but has @@color:orange;gained some weight@@ from the extra meals.

    	&lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress+5, 1, 100)&gt;&gt;
    	&lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
    	&lt;&lt;run decreaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;elseif $activeCharacter.obedience.current &gt;= 50&gt;&gt;
    	$activeCharacter.name follows your orders well enough that you feel like you can give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; some extra food without &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; taking it for granted. You decide to give $activeCharacter.name some extra food during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; meals this week.

    	Even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a little bit surprised that you not only noticed that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wanted more food but offered &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; some as well, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; remembers to thank you generously for allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to get some extra meals.

    	&lt;br&gt;&lt;br&gt;

    	Attending to $activeCharacter.name&#39;s wants has made &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; @@color:greenyellow;more obedient@@ to you but giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; extra meals has made &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; @@color:orange;gain some weight@@.

    	&lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress+5, 1, 100)&gt;&gt;
    	&lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
    	&lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
    	You&#39;ve decided to give $activeCharacter.name food outside of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; usual diet this week. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is ecstatic about the extra food and runs off to the kitchen to get another meal. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; reaction was definitely not one of gratitude. Not only did &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; forget to thank you for your decision, $activeCharacter.name probably considers this moment a victory over you and the control you have over &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. The decision to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; more meals may end up backfiring on you in the long run.

    	&lt;br&gt;&lt;br&gt;

    	Yielding to $activeCharacter.name constant begging for more food has only taught &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to beg for food to get it, making &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; @@color:orange;more disobedient@@. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has also @@color:orange;gained some weight@@ from the few extra meals.

    	&lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress+5, 1, 100)&gt;&gt;
    	&lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
    	&lt;&lt;run decreaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Force Feed&quot;&gt;&gt;
    You decide that you&#39;re going to have to force feed $activeCharacter.name to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to stick to your diet plan for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. When you tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; what you&#39;re planning on doing &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; ignores you. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; either believes that you can&#39;t force &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to eat anything or that you&#39;re just bluffing. You quickly show &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; how serious you are. Using some rope you tie &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chair and force a ring gag into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth.

  	&lt;br&gt;&lt;br&gt;

    &lt;&lt;if $activeCharacter.diet.status == &quot;Low&quot;&gt;&gt;
    	Luckily for $activeCharacter.name &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t have much food on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; plate since you feed &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a low calorie diet.

    &lt;&lt;elseif $activeCharacter.diet.status == &quot;High&quot;&gt;&gt;
    	Its understandable that $activeCharacter.name is struggling with eating all the food on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; plate since there is so much of it. That doesn&#39;t mean that you&#39;re going to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a pass though; letting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; get away with it now will only cause more problems in the future.

    &lt;&lt;else&gt;&gt;
    	While there isn&#39;t a lot of food on $activeCharacter.name&#39;s plate, there is more than needed to feed someone with a small stomach. It isn&#39;t an amount that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should struggle this much over and letting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; get away with wasting this little food will only cause more problems in the future.

    &lt;&lt;/if&gt;&gt;

    Spoonful by spoonful you pour the food into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tongue to block the food from coming in. Every time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does so you slap &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; squarely across the jaw and verbally reprimand &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for fighting against your orders. Eventually &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gives up and just swallows whatever you put in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth. You continue until all of the food on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; plate is gone.

    &lt;br&gt;&lt;br&gt;

    Your continued correction has made $activeCharacter.name @@color:greenyellow;more obedient@@.

    &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
    &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
    &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
    
    &lt;&lt;if _mood.old != _mood.new&gt;&gt;
      &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Waste Food&quot;&gt;&gt;
    &lt;&lt;if $activeCharacter.obedience.current &gt;= 50&gt;&gt;
    	You decide to let $activeCharacter.name leave the &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t want during the week but you make sure to tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not going to get any extra food. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is obedient enough that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; won&#39;t take advantage of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; new privilege and only sees this as you rewarding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with a week of dietary lenience for obediently following &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet.

    	&lt;&lt;if $activeCharacter.diet.progress &gt;= 40&gt;&gt;
    		$activeCharacter.name usually finishes all of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; food so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; only ends up taking the food &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does like to eat.

    	&lt;&lt;else&gt;&gt;
    		$activeCharacter.name usually struggles with a lot of food so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; ends up taking a lot less food than usual.

    	&lt;&lt;/if&gt;&gt;

    	&lt;&lt;if $activeCharacter.diet.progress-5 &gt;= 40&gt;&gt;
    		&lt;&lt;set _color = &quot;@@color:greenyellow;lowered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; weight@@&quot;&gt;&gt;

    	&lt;&lt;else&gt;&gt;
    		&lt;&lt;set _color = &quot;@@color:orange;lowered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; weight@@&quot;&gt;&gt;
    	&lt;&lt;/if&gt;&gt;

    	&lt;br&gt;&lt;br&gt;

    	Attending to $activeCharacter.name&#39;s wants has @@color:greenyellow;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ and eating less food has _color.

    	&lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
    	&lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress-5, 1, 100)&gt;&gt;
    	&lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
    	You don&#39;t want to confront $activeCharacter.name on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; wasteful behaviour so you ignore &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is surprised but happy that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t have to sit around the table pretending that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is going to eat the food given to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; eventually.

    	&lt;&lt;if $activeCharacter.diet.status == &quot;Low&quot;&gt;&gt;
    		You only feeding $activeCharacter.name a low calorie diet in the first place, so you aren&#39;t going to lose much money letting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; throw out any food &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t going to eat. When you calculate it, @@color:orange;you&#39;re only wasting about 💎35 out of the 💎50@@ you spend on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; weekly diet expenses.

    	&lt;&lt;elseif $activeCharacter.diet.status == &quot;High&quot;&gt;&gt;
    		Unluckily for you, you are feeding $activeCharacter.name a high calorie diet. You&#39;re going to waste a lot of money letting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; throw out all the food that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t going to eat. When you calculate it, @@color:red;you&#39;re wasting about 💎140 out of the 💎200@@ you spend on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; weekly diet expenses.
    	&lt;&lt;else&gt;&gt;
      	You&#39;re feeding $activeCharacter.name a normal diet so you&#39;re going to lose a decent amount of money letting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; throw out any food &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t going to eat. When you calculate it, @@color:red;you&#39;re wasting about 💎70 out of the 💎100@@ you spend on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; weekly diet expenses.
        
    	&lt;&lt;/if&gt;&gt;

    	&lt;br&gt;&lt;br&gt;

    	Letting $activeCharacter.name get away with throwing away food has made &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; @@color:orange;more disobedient@@ and made &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; @@color:orange;lose weight@@.

    	&lt;&lt;run decreaseObedience($activeCharacter, 10)&gt;&gt;
    	&lt;&lt;set $activeCharacter.diet.progress = Math.clamp($activeCharacter.diet.progress-5, 1, 100)&gt;&gt;
    	&lt;&lt;set $activeCharacter.weight = updateWeight($activeCharacter)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Reward Food&quot;&gt;&gt;
    &lt;&lt;if $activeCharacter.diet.progress &gt;= 60&gt;&gt;
    	You decide to reward $activeCharacter.name for keeping to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet by giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a small treat. Its only candy but slaves don&#39;t have access to such luxuries. $activeCharacter.name is ecstatic about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; reward and is happy that you&#39;ve acknowledged &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; dedication to keeping to the diet that you&#39;ve set up for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

    	&lt;br&gt;&lt;br&gt;

    	$activeCharacter.name has become @@color:greenyellow;more obedient@@ due to your positive reinforcement.
    	&lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;


    &lt;&lt;elseif $activeCharacter.diet.progress &lt; 40&gt;&gt;
    	You decide to reward $activeCharacter.name for keeping to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet by letting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; sleep an hour more than usual tonight. Slaves don&#39;t get much sleep and they are often worked to exhaustion. $activeCharacter.name is very grateful for the extra hour of sleep and is happy that you&#39;ve acknowledged &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; dedication to keeping to the diet that you&#39;ve set up for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

    		&lt;br&gt;&lt;br&gt;

    	$activeCharacter.name has become @@color:greenyellow;more obedient@@ due to your positive reinforcement.

    	&lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
    	You decide to reward $activeCharacter.name for keeping to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet by letting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; eat a luxurious meal. $activeCharacter.name is fit enough that it won&#39;t affect &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; diet much and slaves usually don&#39;t get to eat anything that could be quantified as tasty. $activeCharacter.name is receptive to your reward and is happy that you&#39;ve acknowledged &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; dedication to keeping to the diet that you&#39;ve set up for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

    	&lt;br&gt;&lt;br&gt;

    	$activeCharacter.name has become @@color:greenyellow;more obedient@@ due to your positive reinforcement.

    	&lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Scold Food&quot;&gt;&gt;
    &lt;&lt;if $activeCharacter.diet.progress &gt;= 60&gt;&gt;
    	You scold $activeCharacter.name for stealing glances at your food while around the dinner table. You explain how pathetic it is that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is so fat and undisciplined that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t even spend half an hour around a table without keeping &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes from constantly wandering over to your plate.

    &lt;&lt;elseif $activeCharacter.diet.progress &gt;= 40&gt;&gt;
    	You scold $activeCharacter.name for not being able to eat &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; food without proper etiquette, whether it be that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; struggles to eat everything on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; plate or that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems unsatisfied with the portion &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; got. You explain that you expect a slave to readily eat anything given to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and to act like it was satisfying.

    &lt;&lt;else&gt;&gt;
    	You scold $activeCharacter.name for struggling to finish a lot, if not most of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; meals. You explain how disrespectful it is when it seems like &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to fight to finish &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; meals, its as if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not grateful for the food that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was given.
    &lt;&lt;/if&gt;&gt;

    $activeCharacter.name is trained well enough to feel shame over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; actions. You can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is remorseful but just isn&#39;t disciplined enough to act perfectly around the dinner table without constant reminders.

    &lt;br&gt;&lt;br&gt;

    $activeCharacter.name has taken your admonishment to heart and is @@color:greenyellow;more obedient@@ to you.

    &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
    &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
    &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
    
    &lt;&lt;if _mood.old != _mood.new&gt;&gt;
      &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Fear Food&quot;&gt;&gt;
    Since $activeCharacter.name is acting like you&#39;re a monster you decide to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a real reason to fear you. Instead of giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; regular meals this week you decide to feed &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; beans fermented with dead slimes. The food is harmless and actually quite nutritious but it both smells and tastes awful. After you give $activeCharacter.name a bowl of it and send &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the table &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; scrunches &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nose reflexively at the smell.

    &lt;&lt;if $activeCharacter.diet.progress &gt;= 60&gt;&gt;
    	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; might be fat but the food is too disgusting for even &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to eat.

    &lt;&lt;elseif $activeCharacter.diet.progress &gt;= 40&gt;&gt;
    	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no problem eating any of the slave slop you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no qualms with going without food today if thats what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to eat.
    &lt;&lt;else&gt;&gt;
    	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has problems eating the food &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does like, let alone the things &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; finds unpalatable.
    &lt;&lt;/if&gt;&gt;

    &lt;br&gt;&lt;br&gt;

    You grab the back of $activeCharacter.name&#39;s head and push it into the plate all while yelling at &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to start eating. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; tries to struggle against you but quickly realizes how pointless it is. You let &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; raise &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head up after &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has swallowed at least one mouthful and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; just ends up barfing it back into the plate. You don&#39;t care about that though and push &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; face back into the plate and order to eat once more. After a few failed attempts at trying to stomach the fermented beans $activeCharacter.name finally completely finishes the plate. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; looks exhausted but glad the whole thing is over until you inform &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will be fed the same food for at least one week, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to break down into tears.

    &lt;br&gt;&lt;br&gt;

    Your harsh discipline has made $activeCharacter.name @@color:greenyellow;more obedient@@ and has @@color:red;greatly increased how much &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fears you@@.

    &lt;&lt;run increaseFear($activeCharacter, 20)&gt;&gt;
    &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
    &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
    &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
    
    &lt;&lt;if _mood.old != _mood.new&gt;&gt;
      &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
    &lt;&lt;/if&gt;&gt;

&lt;&lt;/switch&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="276" name="Basic - Behavioural Dispute - Start" tags="nobr" position="2026,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Behavioural Dispute&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= 100&gt;&gt;
  [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] will complete any and all tasks that you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, both on time and to your specification. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is a perfectly competent slave except for one issue; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; puts too much pressure on &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; and suffers from frequent burnouts. This is a common problem with completely subservient slaves but can be temporarily corrected. What steps will you take to correct $activeCharacter.name&#39;s behaviour?

  &lt;br&gt;&lt;br&gt;

	&lt;&lt;set _scenename = &quot;Reward &quot; + $activeCharacter.name + &quot; for &quot; + $hisher[$activeCharacter.gender] + &quot; continued effort.&quot;&gt;&gt;
	[[_scenename|Basic - Behavioural Dispute - End][$events.choice = &quot;Reward Behaviour&quot;]]
	&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Allow &quot; + $activeCharacter.name + &quot; to take some time off to rest so that &quot; + $heshe[$activeCharacter.gender] + &quot; can properly recover.&quot;&gt;&gt;
	[[_scenename|Basic - Behavioural Dispute - End][$events.choice = &quot;Time Off&quot;]]

&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
  For the most part, [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] has been behaving very obediently but you have began to notice that when no one is watching that $activeCharacter.name will begin to slack off. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will still complete all tasks required of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but they&#39;ll be done half-heartedly or will be finished later than expected. You have already talked to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; twice about it so far and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour has not been corrected. What steps will you take to correct $activeCharacter.name&#39;s behaviour?

  &lt;br&gt;&lt;br&gt;

	&lt;&lt;set _scenename = &quot;Punish &quot; + $activeCharacter.name + &quot; physically for &quot; + $hisher[$activeCharacter.gender] + &quot; continued transgressions.&quot;&gt;&gt;
	[[_scenename|Basic - Behavioural Dispute - End][$events.choice = &quot;Punish Physically&quot;]]
	&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Reprimand &quot; + $activeCharacter.name + &quot; verbally for &quot; + $hisher[$activeCharacter.gender] + &quot; continued transgressions.&quot;&gt;&gt;
	[[_scenename|Basic - Behavioural Dispute - End][$events.choice = &quot;Reprimand Verbally&quot;]]
	&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Talk with &quot; + $activeCharacter.name + &quot; to see if there are any issues &quot; + $heshe[$activeCharacter.gender] + &quot; is dealing with that could cause &quot; + $hisher[$activeCharacter.gender] + &quot; continued transgressions.&quot;&gt;&gt;
	[[_scenename|Basic - Behavioural Dispute - End][$events.choice = &quot;Talk Understandingly&quot;]]

&lt;&lt;else&gt;&gt;
  [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] has been nothing but combative and defiant whenever you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; an order. Whether you&#39;re there or not, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; refuses to follow any of your orders no matter what the consequences are. This isn&#39;t the first time you&#39;ve had problems with $activeCharacter.name, and it won&#39;t be the last. What steps will you take to correct $activeCharacter.name&#39;s behaviour?

  &lt;br&gt;&lt;br&gt;

	&lt;&lt;set _scenename = &quot;Punish &quot; + $activeCharacter.name + &quot; physically for &quot; + $hisher[$activeCharacter.gender] + &quot; continued transgressions.&quot;&gt;&gt;
	[[_scenename|Basic - Behavioural Dispute - End][$events.choice = &quot;Punish Physically&quot;]]
	&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Reprimand &quot; + $activeCharacter.name + &quot; verbally for &quot; + $hisher[$activeCharacter.gender] + &quot; continued transgressions.&quot;&gt;&gt;
	[[_scenename|Basic - Behavioural Dispute - End][$events.choice = &quot;Reprimand Verbally&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Take &quot; + $activeCharacter.name + &quot; for a naked walk around the block.&quot;&gt;&gt;
	[[_scenename|Basic - Behavioural Dispute - End][$events.choice = &quot;Naked Walk&quot;]]
	&lt;br&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="277" name="Basic - Behavioural Dispute - End" tags="nobr noreturn" position="2026,2260" size="100,100">&lt;center&gt;&lt;titled&gt;Behavioural Dispute&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.trust &gt;= 100&gt;&gt;
  &lt;&lt;set _rollreq = 1&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust &gt;= 80&gt;&gt;
  &lt;&lt;set _rollreq = 2&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust &gt;= 60&gt;&gt;
  &lt;&lt;set _rollreq = 3&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust &gt;= 40&gt;&gt;
  &lt;&lt;set _rollreq = 4&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust &gt;= 20&gt;&gt;
  &lt;&lt;set _rollreq = 5&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _rollreq = 6&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Reward Behaviour&quot;&gt;&gt;
    You reward $activeCharacter.name for the effort &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has put into completing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; assignments and getting them done on time.

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is ecstatic that you have acknowledged &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; determination with a reward.

      &lt;&lt;if $slaves.amount &gt; 1&gt;&gt;
        Other slaves are jealous of the attention you have given &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, but that has only served to encourage others to work harder so that they can get acknowledged in a similar manner.
      &lt;&lt;else&gt;&gt;
        Even though you have no other slaves, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; still feels like you believe &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is integral to running your estate.
      &lt;&lt;/if&gt;&gt;

      &lt;br&gt;&lt;br&gt;

      Your acknowledgment of $activeCharacter.name&#39;s effort has @@color:forestgreen;greatly increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ to you.

      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; takes the reward more out of obedience than genuine happiness. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; thinks of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; effort to be expected of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, and that the reward is for appearances more than you legitimately acknowledging &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

      &lt;br&gt;&lt;br&gt;

      Your reward for $activeCharacter.name&#39;s effort has @@color:greenyellow;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ to you.

      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Time Off&quot;&gt;&gt;
    You give $activeCharacter.name time off so that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t become burnt out from overworking &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;.

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; put &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust in you and took the time to rest so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; could be as well rested for any assignment you have to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

      &lt;br&gt;&lt;br&gt;

      $activeCharacter.name&#39;s @@color:greenyellow;trust has increased@@, and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has @@color:greenyellow;completely recovered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; stamina and health@@.

      &lt;&lt;run increaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;set $activeCharacter.condition.progress = 100&gt;&gt;
    	&lt;&lt;set $activeCharacter.fatigue.progress = 0&gt;&gt;
      &lt;&lt;set $activeCharacter.health = updateHealth($activeCharacter)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      Instead of resting, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; spends &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; free time stressing over the loss of work &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is going to miss out on while resting. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is very concerned with how she will be viewed by you and other slaves if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must be given extra breaks during the week.

      &lt;br&gt;&lt;br&gt;

      Due to $activeCharacter.name&#39;s stubbornness &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has gotten no extra rest this week, @@color:orange;lowering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust@@ in you.

      &lt;&lt;run decreaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Punish Physically&quot;&gt;&gt;
    You pull $activeCharacter.name aside and bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into the training room so you can properly discipline &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
        &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is in tears, begging for forgiveness all while telling you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; won&#39;t disobey orders any longer. You continue to punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; anyways, making sure &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is aware of the punishment &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will receive if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues to disobey you and that begging for forgiveness after the fact won&#39;t affect you.

        &lt;br&gt;&lt;br&gt;

        $activeCharacter.name&#39;s punishment was very effective, @@color:forestgreen;greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ but also @@color:orange;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you.@@

        &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
        &lt;&lt;run increaseFear($activeCharacter, 10)&gt;&gt;
        &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
        &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
        
        &lt;&lt;if _mood.old != _mood.new&gt;&gt;
          &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
        &lt;&lt;/if&gt;&gt;
        
    &lt;&lt;else&gt;&gt;
      After giving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a standard punishment, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is still adamant that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; won&#39;t follow your orders. Giving up and sending &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; back to work would have disastrous effects on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience, so you physically punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; concedes to you. The punishment leaves &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body a mess but with a couple curative elixirs, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is as good as new but the psychological scars still remain.

      &lt;br&gt;&lt;br&gt;

      $activeCharacter.name&#39;s punishment was effect, @@color:greenyellow;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ but also @@color:red;greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you.@@

      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseFear($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Reprimand Verbally&quot;&gt;&gt;
    You pull $activeCharacter.name aside and verbally reprimand &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behavoiur, explaining that if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t shape up fast, a harsh punishment is waiting for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; takes your punishment to heart, promising you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will work hard to reform &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behaviour.

      &lt;br&gt;&lt;br&gt;

      Your attempt at scolding $activeCharacter.name was effective, @@color:greenyellow;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ and also @@color:greenyellow;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust.@@

      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; says that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; understands but you can tell from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tone of voice and body language that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; hasn&#39;t taken you seriously at all, and is secretly laughing at your attempt to discipline &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

      &lt;br&gt;&lt;br&gt;

      Your attempt at scolding $activeCharacter.name was ineffective, @@color:orange;decreasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ and also @@color:orange;decreasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust.@@

      &lt;&lt;run decreaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Talk Understandingly&quot;&gt;&gt;
    You pull $activeCharacter.name aside and speak to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; candidly about whether &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is having any physical or mental issues inhibiting &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from completing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; tasks properly.

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is completely surprised by your approach. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; explains that other than &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slavery, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; issues with your orders are that you gave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; too much work to complete too fast, and has not had time to acclimate to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; new duties. You tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that you will temporarily lighten up on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; workload, but that you expect &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to quickly get accustomed to the amount of work &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to do as a slave.

      &lt;br&gt;&lt;br&gt;

      Being understanding to $activeCharacter.name has @@color:forestgreen;greatly raised &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ and @@color:forestgreen;greatly lowered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear@@ of you.

      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseFear($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is left astonished by your approached. Not only has &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; slacked off whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has gotten the chance, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been working half-heartedly as well and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &#39;punishment&#39; is you asking if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is dealing with any issues. Externally &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; tells you no, but internally &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has decided that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; intends to get away with a lot more than &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; already has.

      &lt;br&gt;&lt;br&gt;

      Being understanding to $activeCharacter.name has backfired, causing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;@@color:red; obedience to be lowered greatly@@ while @@color:red;decreasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust by an equal amount@@.

      &lt;&lt;run decreaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseTrust($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Naked Walk&quot;&gt;&gt;
    You strip $activeCharacter.name naked, put a collar around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; with a leash attached to it and bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; outside for a walk.
    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t put up much of a fight, and walks with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head down as you walk &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; around the block naked. When you get back &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is very upset by the experience but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does tell you that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will be more agreeable in the future as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t have to go through that again.

      &lt;br&gt;&lt;br&gt;

      Taking $activeCharacter.name for a naked walk has served to @@color:forestgreen;greatly increase &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ and has also @@color:greenyellow;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust@@.

      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; makes the walk as difficult as possible for you by covering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; privates with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands or refusing to move any further at random points during &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; public punishment. You don&#39;t really care though, as it only prolongs the amount of embarrassment that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will endure during the whole ordeal. Once you return back to your estate &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is furious with you, explaining that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will not be following any of your orders.

      &lt;br&gt;&lt;br&gt;

      Taking $activeCharacter.name for a naked walk has served to @@color:forestgreen;greatly increase &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust@@ but has also @@color:red;greatly decreased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@.

      &lt;&lt;run decreaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;

&lt;&lt;/switch&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="278" name="Save Slave Widget" tags="nobr widget" position="1755,1481" size="100,100">&lt;&lt;widget saveSlave&gt;&gt;
&lt;&lt;if $args[0]&gt;&gt;
	&lt;&lt;for _v = 1; _v &lt;= $slaves.amount;_v++&gt;&gt;
		&lt;&lt;if $args[0].ID == $slaves[_v].ID&gt;&gt;
			&lt;&lt;set $slaves[_v] = $args[0]&gt;&gt;
			&lt;&lt;break&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="279" name="Basic - Kleptomaniac - Start" tags="nobr" position="1896,2390" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Kleptomaniac&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

You catch [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] stealing rations whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thinks you&#39;re not watching &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Slaves stealing rations is a very common thing amoung slaves but can be very detrimental to the control one has over &lt;&lt;print $hisher[$PC.gender]&gt;&gt; own slaves. They allow slaves to run their own underground trade system, form gangs and solicit sexual favours. If you don&#39;t handle this quickly and resolutely you&#39;ll have slave orginizations led by your own slaves dictating who does what. Thankfully, $activeCharacter.name doesn&#39;t seem to be stashing the rations &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; steals in an attempt to gather power. You could punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; harshly to send a message and risk severly damaging the slave-master relationship you share with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; or try a lighter method of punishment.

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Punish &quot; + $activeCharacter.name + &quot; harshly for stealing from &quot; + $hisher[$activeCharacter.gender] + &quot; master.&quot;&gt;&gt;
[[_scenename|Basic - Kleptomaniac - End][$events.choice = &quot;Punish Harshly&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Punish &quot; + $activeCharacter.name + &quot; lightly for stealing from &quot; + $heshe[$activeCharacter.gender] + &quot; master.&quot;&gt;&gt;
[[_scenename|Basic - Kleptomaniac - End][$events.choice = &quot;Punish Lightly&quot;]]</tw-passagedata><tw-passagedata pid="280" name="Basic - Kleptomaniac - End" tags="nobr noreturn" position="1897,2520" size="100,100">&lt;center&gt;&lt;titled&gt;Kleptomaniac&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.fear.current &gt;= 80&gt;&gt;
  &lt;&lt;set _rollreq = 6&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current &gt;= 60&gt;&gt;
  &lt;&lt;set _rollreq = 5&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current &gt;= 40&gt;&gt;
  &lt;&lt;set _rollreq = 4&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current &gt;= 20&gt;&gt;
  &lt;&lt;set _rollreq = 3&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current &gt; 0&gt;&gt;
  &lt;&lt;set _rollreq = 2&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current == 0&gt;&gt;
  &lt;&lt;set _rollreq = 1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Punish Harshly&quot;&gt;&gt;
    You decide to punish $activeCharacter.name harshly for stealing from you. You bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;
    &lt;&lt;if $slaves.amount &gt; 1&gt;&gt;
      onto the field of your estate and brutally whip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; all over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body in front of the other slaves so that they know whats in store for them if they steal from you.
    &lt;&lt;else&gt;&gt;
      onto the street in front of your estate and begin whipping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; brutally in front of passersby since you don&#39;t have any slaves to punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in front.
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; took &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment obediently, well aware that slaves are killed for much less than &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; offenses. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; also made a show of begging for your forgiveness and promising to be much more obedient in the future.

      &lt;br&gt;&lt;br&gt;

      Your punishment was very effective, @@color:forestgreen;greatly increasing $activeCharacter.name&#39;s obedience@@ but it also @@color:orange;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:greenyellow;[Week &quot; + $weekcount + &quot;] Kleptomaniac@@&quot;, &quot;You punished $activeCharacter.name harshly for stealing from you by brutally whipping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in front of others. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; made a dramatic show of apologizing, promising never to steal from you again.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Kleptomaniac - Punish Harshly - Success&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      Your punishment was much too heavy handed for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; spent most of the punishment begging with mercy as &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; wracked &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; apologies were obviously not sincere and only done out of fright.

      &lt;br&gt;&lt;br&gt;

      The ineffective punishment has only served to @@color:red;greatly increase $activeCharacter.name&#39;s fear of you@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:red;[Week &quot; + $weekcount + &quot;] Kleptomaniac@@&quot;, &quot;You punished $activeCharacter.name harshly for stealing from you by brutally whipping &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in front of others. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was much too frightened by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment to give a sincere apology. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; may not steal again out of fear of further punishment rather than understanding and obedience.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Kleptomaniac - Punish Harshly - Failure&quot;)&gt;&gt;
      &lt;&lt;run increaseFear($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Punish Lightly&quot;&gt;&gt;
    You decide to punish $activeCharacter.name lightly for stealing from you. You pull $activeCharacter.name into your training room and flog &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a couple dozen times on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;butt&#39;&gt;&gt; ass.

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is surprised that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; only punishment from stealing from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; master is just a simple flogging. Its well known that such punishments usually carry much, much more harsh penalties.

      &lt;br&gt;&lt;br&gt;

      Your punishment was too light for $activeCharacter.name&#39;s actions. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; @@color:orange;obedience has decreased@@ and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; @@color:greenyellow;fear of you has lowered@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:yellow;[Week &quot; + $weekcount + &quot;] Kleptomaniac@@&quot;, &quot;You punished $activeCharacter.name lightly for stealing from you by flogging &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a couple dozen times privately in the training room. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; feels as if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has gotten away with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; crime as it usually is punished much more harshly.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Kleptomaniac - Punish Lightly - Failure&quot;)&gt;&gt;
      &lt;&lt;run decreaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; terror of the thought that you were going to punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; harshly, a punishment on its own, coupled with your light punishment has temporarily set &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; straight.
      
      &lt;br&gt;&lt;br&gt;

      Your light punishment was quite effective, @@color:greenyellow;increasing $activeCharacter.name&#39;s obedience@@ and @@color:greenyellow;reducing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:greenyellow;[Week &quot; + $weekcount + &quot;] Kleptomaniac@@&quot;, &quot;You punished $activeCharacter.name lightly for stealing from you by flogging &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a couple dozen times privately in the training room. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; understands how lenient you are and how lightly you&#39;ve let &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; off.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Kleptomaniac - Punish Lightly - Success&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="281" name="Basic - Confrontation - Start" tags="nobr" position="2026,2390" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Confrontation&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

During [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]]&#39;s weekly slave inspection &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes the chance to express &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; grievances with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slave lifestyle. According to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, you&#39;re too cruel with your punishments and you don&#39;t allow &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; much downtime from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; duties. You silently acknowledge &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; concerns as you understand content slaves are good slaves but $activeCharacter.name has also overstepped &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bounds by complaining about &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; position.

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Show &quot; + $activeCharacter.name + &quot; true cruelty and punish &quot; + $himher[$activeCharacter.gender] + &quot; for speaking out of turn.&quot;&gt;&gt;
[[_scenename|Basic - Confrontation - End][$events.choice = &quot;Punish Cruelly&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Give &quot; + $activeCharacter.name + &quot; to have more downtime from &quot; + $hisher[$activeCharacter.gender] + &quot; duties.&quot;&gt;&gt;
[[_scenename|Basic - Confrontation - End][$events.choice = &quot;Give Downtime&quot;]]</tw-passagedata><tw-passagedata pid="282" name="Basic - Confrontation - End" tags="nobr noreturn" position="2026,2520" size="100,100">&lt;center&gt;&lt;titled&gt;Confrontation&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.trust.current &gt;= 100&gt;&gt;
  &lt;&lt;set _rollreq = 1&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &gt;= 80&gt;&gt;
  &lt;&lt;set _rollreq = 2&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &gt;= 60&gt;&gt;
  &lt;&lt;set _rollreq = 3&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &gt;= 40&gt;&gt;
  &lt;&lt;set _rollreq = 4&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &gt;= 20&gt;&gt;
  &lt;&lt;set _rollreq = 5&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _rollreq = 6&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Punish Cruelly&quot;&gt;&gt;
    You harshly scold $activeCharacter.name in your office, explaining that it is neither &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; to tell you how to manage your slaves, nor is it &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; to even speak to you about it. You push &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; down across your desk leaving &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;butt&#39;&gt;&gt; ass up and displayed for you. Without mercy you lay into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; behind with a cane until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a whimpering mess.

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
        $activeCharacter.name was earnest in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; attempt to reason with you in the most respectful way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; thought possible (face-to-face and secluded from the other slaves) but was harshly punished for it.

        &lt;br&gt;&lt;br&gt;

        Your punishment has @@color:red;greatly increased $activeCharacter.name&#39;s fear of you@@ but it also @@color:greenyellow;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@.
        
        &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Confrontation@@&quot;, &quot;You punished $activeCharacter.name cruelly for confronting you about your discipline methods by laying into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass with a cane until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a whimpering mess. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has learned &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; place as a slave.&quot;)&gt;&gt;
        &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Confrontation - Punish Cruelly - Failure&quot;)&gt;&gt;
        &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
        &lt;&lt;run increaseFear($activeCharacter, 20)&gt;&gt;
        &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
        &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
        
        &lt;&lt;if _mood.old != _mood.new&gt;&gt;
          &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
        &lt;&lt;/if&gt;&gt;
        
    &lt;&lt;else&gt;&gt;
      $activeCharacter.name thought &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; could get you to lower &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slave duties but you quickly removed any hope &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; had of that happening.

      &lt;br&gt;&lt;br&gt;

      Your punishment has @@color:forestgreen;greatly increasing $activeCharacter.name&#39;s trust@@ and it also @@color:greenyellow;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Confrontation@@&quot;, &quot;You punished $activeCharacter.name cruelly for confronting you about your discipline methods by laying into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ass with a cane until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a whimpering mess. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has learned that you aren&#39;t going to be swindled by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; words.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Confrontation - Punish Cruelly - Success&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Give Downtime&quot;&gt;&gt;
    You tell $activeCharacter.name that although you don&#39;t appreciate complaining slaves, you agree that you may have been too callous when assigning &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; duties. You tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that you will give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; some more downtime inbetween duties.
    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has taken your words to heart, and has resolved &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to complain less, and use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; extra downtime to rest so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can work harder.

      &lt;br&gt;&lt;br&gt;

      $activeCharacter.name&#39;s @@color:greenyellow;obedience has increased@@ and @@color:forestgreen;&lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you has greatly decreased@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Confrontation@@&quot;, &quot;You gave $activeCharacter.name more downtime inbetween &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; duties. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is very thankful for your consideration, and has resolved &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to complain less and use &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; extra downtime to rest so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can work harder.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Confrontation - Give Downtime - Success&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseFear($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; took a gamble by pretending to be overworked so that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; could get some unneeded downtime and it payed off for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

      &lt;br&gt;&lt;br&gt;

      $activeCharacter.name&#39;s @@color:orange;obedience has decreased@@ and @@color:red;&lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust has been greatly decreased@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:red;[Week &quot; + $weekcount + &quot;] Confrontation@@&quot;, &quot;You gave $activeCharacter.name more downtime inbetween &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; duties. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; pretended to be overworked so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; could get some uneeded downtime. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has become much more lazy because of it, believing that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can fool you into allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to get away with anything.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Confrontation - Give Downtime - Failure&quot;)&gt;&gt;
      &lt;&lt;run decreaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseTrust($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;

&lt;&lt;/switch&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="283" name="Basic - Work Dispute - Start" tags="nobr" position="2156,2390" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Work Dispute&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

You have caught [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] multiple times during the week cutting corners while completing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slave duties. This isn&#39;t unusual behaviour for a slave, however &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; adamantly argues that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been completing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; duties to the best of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; abilities and you&#39;re just nitpicking small, insignificant issues. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t realize it isn&#39;t a solid argument as you are &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; master and can have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; complete tasks however you want. You could punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; insolence or you could concede &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; point.

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Whip &quot; + $activeCharacter.name + &quot; for &quot; + $hisher[$activeCharacter.gender] + &quot; disobedience.&quot;&gt;&gt;
[[_scenename|Basic - Work Dispute - End][$events.choice = &quot;Whip Slave&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Admit that &quot; + $activeCharacter.name + &quot; has a point.&quot;&gt;&gt;
[[_scenename|Basic - Work Dispute - End][$events.choice = &quot;Admit Point&quot;]]</tw-passagedata><tw-passagedata pid="284" name="Basic - Work Dispute - End" tags="nobr noreturn" position="2156,2520" size="100,100">&lt;center&gt;&lt;titled&gt;Work Dispute&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.trust.current &gt;= 100&gt;&gt;
  &lt;&lt;set _rollreq = 1&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &gt;= 80&gt;&gt;
  &lt;&lt;set _rollreq = 2&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &gt;= 60&gt;&gt;
  &lt;&lt;set _rollreq = 3&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &gt;= 40&gt;&gt;
  &lt;&lt;set _rollreq = 4&gt;&gt;
&lt;&lt;elseif $activeCharacter.trust.current &gt;= 20&gt;&gt;
  &lt;&lt;set _rollreq = 5&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _rollreq = 6&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Whip Slave&quot;&gt;&gt;
    Irritated by $activeCharacter.name&#39;s complaints you pull &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; aside, strip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; naked and bind &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hands to one of the numerous chain hooks you have hanging from the walls in your estate. With no forgiveness you lay into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; back with a whip while directing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to count out each stroke before thanking you for disciplining &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

    &lt;br&gt;&lt;br&gt;

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      By the time you finish $activeCharacter.name&#39;s punishment, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is so physically exhausted that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t even cry anymore, let alone speak. She had worked in earnest to complete &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slave duties but for you, it wasn&#39;t enough. The punishment struck fear into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; heart, @@color:red;greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@ but it also @@color:greenyellow;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@.

      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Work Dispute@@&quot;, &quot;You whipped $activeCharacter.name relentlessly because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stepped out of line and said you were overworking &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; has struck fear into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; heart. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; won&#39;t be making any complaints anytime soon.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Work Dispute - Whip Slave - Failure&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseFear($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      $activeCharacter.name&#39;s punishment was not what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was expecting. Unused to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; position as a slave, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; believed that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; had a right to air &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; grievances about your perfectionism. Admittedly &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; hadn&#39;t been working to the best of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; abilities. The punishment set &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; straight, @@color:forestgreen;greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust@@ and @@color:greenyellow;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@.

      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Work Dispute@@&quot;, &quot;You whipped $activeCharacter.name relentlessly because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stepped out of line and said you were overworking &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; punishment put &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in line and reminded &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; position as a slave.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Work Dispute - Whip Slave - Success&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Admit Point&quot;&gt;&gt;
    You pull $activeCharacter.name aside and admit to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that you have been quite a bit of a perfectionist recently. You explain that while you still expect &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to work as hard as possible, you&#39;ll refrain from hassling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; unless &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; quality of work drops.

    &lt;br&gt;&lt;br&gt;

    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      $activeCharacter.name is glad &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; came to you to express &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; concerns, and is very thankful that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; master is understanding. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; devotion to you has only grown since your conversation, @@color:forestgreen;greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ to you while also @@color:greenyellow;reducing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@.

      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Work Dispute@@&quot;, &quot;You conceded the point you have been quite a bit of a perfectionist recently in terms of overworking $activeCharacter.name. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is very thankful to have an understanding master, promising to devote &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; duties.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Work Dispute - Admit Point - Success&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;else&gt;&gt;
      $activeCharacter.name personally believes that even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a slave, you shouldn&#39;t expect any quality or quantity work from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. That is clearly evident by the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t do anything more than the bare minimum. Your lack of punishment has fed into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ego, @@color:red;greatly decreasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust@@ and @@color:greenyellow;decreasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@.

      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Work Dispute@@&quot;, &quot;You conceded the point you have been quite a bit of a perfectionist recently in terms of overworking $activeCharacter.name. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; hasn&#39;t been doing anything more than the bare minimum and your lack of punishment has fed &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; belief quality or quantity work should not be expected from slaves in any capacity.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Work Dispute - Admit Point - Failure&quot;)&gt;&gt;
      &lt;&lt;run increaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseTrust($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="285" name="Basic - Scared Stiff - Start" tags="nobr" position="2286,2390" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Scared Stiff&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

You&#39;ve noticed that [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] has been dodging you as much as possible inside of your estate. The few times you do catch &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t even look in your direction. The only time you seem to have with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; alone is when you call for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; or are having a slave inspection. During those times you often catch &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; quivering or showing other signs of being terrified.

&lt;br&gt;&lt;br&gt;

Its obvious that you strike fear into $activeCharacter.name&#39;s heart. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; most likely believes that you will appear from nowhere and use &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; body to sate your sexual urges. This can be a good thing as scared slaves are obedient slaves, but if a slave is too scared &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anxiety can cause &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to mess up whatever slave duties you have assigned to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You can either try to soften &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you or you could strengthen it.

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Strengthen &quot; + $activeCharacter.name + &quot;&#39;s fear of you.&quot;&gt;&gt;
[[_scenename|Basic - Scared Stiff - End][$events.choice = &quot;Strengthen Fear&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Soften &quot; + $activeCharacter.name + &quot;&#39;s fear of you.&quot;&gt;&gt;
[[_scenename|Basic - Scared Stiff - End][$events.choice = &quot;Soften Fear&quot;]]</tw-passagedata><tw-passagedata pid="286" name="Basic - Scared Stiff - End" tags="nobr noreturn" position="2286,2520" size="100,100">&lt;center&gt;&lt;titled&gt;Scared Stiff&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= 100&gt;&gt;
  &lt;&lt;set _rollreq = 1&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 80&gt;&gt;
  &lt;&lt;set _rollreq = 2&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
  &lt;&lt;set _rollreq = 3&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 40&gt;&gt;
  &lt;&lt;set _rollreq = 4&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 20&gt;&gt;
  &lt;&lt;set _rollreq = 5&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _rollreq = 6&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Strengthen Fear&quot;&gt;&gt;
    You stalk the halls of your estate until you find $activeCharacter.name attending to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slave duties alone. Without warning you strip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; naked, thrust &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body across the nearest table and 
    
    &lt;&lt;if $PC.cock.current &amp;&amp; $PC.girth.current&gt;&gt;
      begin to mercilessly ravage &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;anus&#39;&gt;&gt; with your &lt;&lt;descriptor $PC 60 &#39;cock&#39;&gt;&gt;. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently whimpers to &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;, to afraid to take any action against you and risk getting treated much worse and waits until you&#39;ve unloaded a &lt;&lt;descriptor $PC 100 &#39;cum&#39;&gt;&gt; into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;anus&#39;&gt;&gt;.
    &lt;&lt;else&gt;&gt;
      thrust a dildo into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;anus&#39;&gt;&gt;, ruthlessly plundering it with the tool. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; silently whimpers to &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;, to afraid to take any action against you and risk getting treated much worse and waits until you&#39;ve gotten board of abusing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;descriptor $activeCharacter 0 &#39;anus&#39;&gt;&gt;.
    &lt;&lt;/if&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;

    Your actions have struck more fear into $activeCharacter.name&#39;s, @@color:red;greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@ and has @@color:greenyellow;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust@@.
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Scared Stiff@@&quot;, &quot;You cornered $activeCharacter.name in the halls of your estate, stripped &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; naked and raped &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; because you wanted to strengthen &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear. Now &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t even avoid you, but avoids interacting with any others unless necessary.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Scared Stiff - Strengthen Fear&quot;)&gt;&gt;
    &lt;&lt;run increaseTrust($activeCharacter, 10)&gt;&gt;
    &lt;&lt;run increaseFear($activeCharacter, 20)&gt;&gt;
    &lt;&lt;print checkVirginity($activeCharacter, &quot;anal virginity&quot;)&gt;&gt;
    &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
    &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
    
    &lt;&lt;if _mood.old != _mood.new&gt;&gt;
      &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;case &quot;Soften Fear&quot;&gt;&gt;
    You find $activeCharacter.name before the day begins and have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; shadow you for the entire day. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t pleased in the slightest at the start but by the end of the day &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; realizes you are much more approachable once &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sees you perform duties other than disciplining slaves. 

    &lt;br&gt;&lt;br&gt;

    Your actions have made you seem more approachable to $activeCharacter.name, @@color:forestgreen;greatly lowering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@ but it also @@color:orange;lowered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@.
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Scared Stiff@@&quot;, &quot;Since $activeCharacter.name is scared of you, you had &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; shadow you for the entire day so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gain a better understanding of your temperament. By the end of the day &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is still scared of you but realizes you are much more approachable than &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; originally thought.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Scared Stiff - Soften Fear&quot;)&gt;&gt;
    &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
    &lt;&lt;run decreaseFear($activeCharacter, 20)&gt;&gt;
    &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
    &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
    
    &lt;&lt;if _mood.old != _mood.new&gt;&gt;
      &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
    &lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="287" name="Basic - Restless Nights - Start" tags="nobr" position="2416,2390" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Restless Nights&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

[[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] has trouble sleeping peacefully at night. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not rolling in bed fretting over how horrible the next day will be, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is scared to death of you finding your way into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bed and using &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; body to sate your lust. This is troublesome as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t getting enough rest to give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; energy for the next day&#39;s work. To prevent &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from overworking and causing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; condition to get worse, you need to take action as soon as possible.

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Give &quot; + $activeCharacter.name + &quot; a potion to help &quot; + $himher[$activeCharacter.gender] + &quot; sleep.&quot;&gt;&gt;
[[_scenename|Basic - Restless Nights - End][$events.choice = &quot;Give Potion&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Attempt to calm &quot; + $activeCharacter.name + &quot; down with your words.&quot;&gt;&gt;
[[_scenename|Basic - Restless Nights - End][$events.choice = &quot;Calm Down&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Slide into &quot; + $activeCharacter.name + &quot;&#39;s bed and use &quot; + $himher[$activeCharacter.gender] + &quot; to sate your lust.&quot;&gt;&gt;
[[_scenename|Basic - Restless Nights - End][$events.choice = &quot;Sate Lust&quot;]]</tw-passagedata><tw-passagedata pid="288" name="Basic - Restless Nights - End" tags="nobr noreturn" position="2416,2520" size="100,100">&lt;center&gt;&lt;titled&gt;Restless Nights&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.obedience.current &gt;= 100&gt;&gt;
  &lt;&lt;set _rollreq = 1&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 80&gt;&gt;
  &lt;&lt;set _rollreq = 2&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 60&gt;&gt;
  &lt;&lt;set _rollreq = 3&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 40&gt;&gt;
  &lt;&lt;set _rollreq = 4&gt;&gt;
&lt;&lt;elseif $activeCharacter.obedience.current &gt;= 20&gt;&gt;
  &lt;&lt;set _rollreq = 5&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _rollreq = 6&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Give Potion&quot;&gt;&gt;
    Before $activeCharacter.name goes to sleep you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; drink a some tear with slime extract that puts people into a state of deep sleep. These potions are usually used to drug people to sleep for nefarious reasons, but it is cheap enough to use on simple situations such as these.
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      $activeCharacter.name drinks the tea obediently, even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is afraid you&#39;ve drugged it with much more than you&#39;ve indicated. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t have to worry for very long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; quickly falls asleep. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wakes up &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is @@color:forestgreen;well rested@@ and @@color:greenyellow;less fearful of you@@ since your remedy worked.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Restless Nights@@&quot;, &quot;You gave $activeCharacter.name a potion to help &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; insomnia. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; drank it even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was afraid you drugged it, allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to quickly fall asleep.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Restless Nights - Give Potion - Success&quot;)&gt;&gt;
      &lt;&lt;run decreaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;set $activeCharacter.condition.progress = 100&gt;&gt;
    	&lt;&lt;set $activeCharacter.fatigue.progress = 0&gt;&gt;
      &lt;&lt;set $activeCharacter.health = updateHealth($activeCharacter)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      $activeCharacter.name drinks the tea while you&#39;re in sight but as soon as you leave &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; rushes into the washroom and forcefully vomits into the toilet. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is much too scared of you to poisoning the remedy, leaving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as exhausted as before and @@color:orange;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Restless Nights@@&quot;, &quot;You gave $activeCharacter.name a potion to help &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; insomnia. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; drank it while you were in the room but rushed to the washroom to forcefully vomit as soon as you left. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was much too scared of you poisoning the remedy, leaving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as exhausted as before.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Restless Nights - Give Potion - Failure&quot;)&gt;&gt;
      &lt;&lt;run increaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;case &quot;Calm Down&quot;&gt;&gt;
    Before $activeCharacter.name turns in for the night you call &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to your office to explain to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bed is part of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own space and that you won&#39;t be troubling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sleeps.
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      $activeCharacter.name is feeling a little too obedient tonight. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; fear fueling &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; state of mind, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; believes that you&#39;re going to slip into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bed to test if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is truly always thinking of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; master. Instead of resting &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stays up awaiting your arrival. When you don&#39;t show up it confuses &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, @@color:orange;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Restless Nights@@&quot;, &quot;You tried to help cure $activeCharacter.name&#39;s insomnia by bringing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into your office and explaining &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; room is &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own space and that you won&#39;t be troubling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sleeps. Instead of taking you at your word, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stayed up all night in a misguided attempt to serve you.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Restless Nights - Calm Down - Failure&quot;)&gt;&gt;
      &lt;&lt;run increaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;else&gt;&gt;
      $activeCharacter.name believes every word you say. Not because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; trusts you, but it makes sense to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that you would rather have rested slaves to work and torment rather than tired husks that have no use. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; sleeps that night much more easier than usual allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to wake up @@color:forestgreen;well rested@@ the next morning and @@color:greenyellow;feeling less scared of you@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Restless Nights@@&quot;, &quot;You tried to help cure $activeCharacter.name&#39;s insomnia by bringing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into your office and explaining &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; room is &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own space and that you won&#39;t be troubling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sleeps. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; decides to believe what you say for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own sanity.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Restless Nights - Calm Down - Success&quot;)&gt;&gt;
      &lt;&lt;run decreaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;set $activeCharacter.condition.progress = 100&gt;&gt;
    	&lt;&lt;set $activeCharacter.fatigue.progress = 0&gt;&gt;
      &lt;&lt;set $activeCharacter.health = updateHealth($activeCharacter)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Sate Lust&quot;&gt;&gt;
    You slip into $activeCharacter.name&#39;s bed as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; falls asleep and bind &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bed. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; wakes up with restricted movement with you hovering over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body. You spend the next hour using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body however you feel like, satisfying your sexual need. $activeCharacter.name can do nothing but grit &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; teeth and accept your taking of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body against &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; will. Your actions have only confirmed &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fears, @@color:red;greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@. 
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:red;[Week &quot; + $weekcount + &quot;] Restless Nights@@&quot;, &quot;You decided to deal with $activeCharacter.name&#39;s insomnia due to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you, with a little fun. You slipped into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bed as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fell asleep due to pure exhaustion, tied &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; bed and proceeded to spend the next hour using &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body however you feel like, satisfying your sexual need.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Restless Nights - Sate Lust&quot;)&gt;&gt;
    &lt;&lt;run increaseFear($activeCharacter, 20)&gt;&gt;
    &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
    &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
    
    &lt;&lt;if _mood.old != _mood.new&gt;&gt;
      &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
    &lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="289" name="Basic - Egocentric Attitude - Start" tags="nobr" position="2546,2390" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Egocentric Attitude&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

Over the past week you have given [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] a number of slave duties that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has refused to do because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; believes such work is below &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You can tell from the way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; carries &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; truly thinks that even though &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a slave that you should be serving &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and not the other way around. Slaves with an ego usually take a little more effort to break in than normal but its nothing that can&#39;t be handled quickly and effectively.

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Turn &quot; + $activeCharacter.name + &quot; into a toilet for the rest of the day.&quot;&gt;&gt;
[[_scenename|Basic - Egocentric Attitude - End][$events.choice = &quot;Public Toilet&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Remind &quot; + $activeCharacter.name + &quot; of &quot; + $hisher[$activeCharacter.gender] + &quot; position in your estate.&quot;&gt;&gt;
[[_scenename|Basic - Egocentric Attitude - End][$events.choice = &quot;Remind Slave&quot;]]
&lt;br&gt;</tw-passagedata><tw-passagedata pid="290" name="Basic - Egocentric Attitude - End" tags="nobr noreturn" position="2546,2520" size="100,100">&lt;center&gt;&lt;titled&gt;Egocentric Attitude&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;if $activeCharacter.fear.current == 0&gt;&gt;
  &lt;&lt;set _rollreq = 1&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current &lt; 20&gt;&gt;
  &lt;&lt;set _rollreq = 2&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current &lt; 40&gt;&gt;
  &lt;&lt;set _rollreq = 3&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current &lt; 60&gt;&gt;
  &lt;&lt;set _rollreq = 4&gt;&gt;
&lt;&lt;elseif $activeCharacter.fear.current &lt; 80&gt;&gt;
  &lt;&lt;set _rollreq = 5&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _rollreq = 6&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Public Toilet&quot;&gt;&gt;
    Tired of $activeCharacter.name&#39;s prideful behaviour, you decide to bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; down a notch by turning &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into a public toilet for a day. You restrain &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; right next to the toilets in your estate. Since you want to temper &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ego, not traumatize &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; so you restrict everyone from using &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from everything but relieving their bladder on &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; struggled in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; restraints and cursed out the first few people who relieved themselves all over &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; quickly found out how powerless &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was. By the end of the day when you go to retrieve &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is completely silent and refuses to look you in the eye. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; experience as a toilet has @@color:forestgreen;greatly decreased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ego@@ but it also @@color:red;greatly increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you.@@
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:yellow;[Week &quot; + $weekcount + &quot;] Egocentric Attitude@@&quot;, &quot;$activeCharacter.name was refusing to do some of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slave duties forcing you to punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by turning &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into a public toilet for a day. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was feisty at first, but by the end of the day &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was completely silent and refused to look you in the eye.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Egocentric Attitude - Public Toilet&quot;)&gt;&gt;
    &lt;&lt;run increaseTrust($activeCharacter, 20)&gt;&gt;
    &lt;&lt;run increaseFear($activeCharacter, 20)&gt;&gt;
    &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
    &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
    
    &lt;&lt;if _mood.old != _mood.new&gt;&gt;
      &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Remind Slave&quot;&gt;&gt;
    When $activeCharacter.name comes to you with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; next complaint you remind &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; position as a slave. You explain that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no rights and that you have full autonomy over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body and that if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn&#39;t understand what that means that you will gladly give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a demonstration the next time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; comes to you with a complaint.
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;if $roll &gt;= _rollreq&gt;&gt;
      $activeCharacter.name&#39;s fear of you quickly materialized into reality after hearing you say that are willing to use &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; life and body however you please to demonstrate your ownership of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. Your words have @@color:greenyellow;increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you@@ but it has also @@color:forestgreen;greatly increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Egocentric Attitude@@&quot;, &quot;You verbally reminded $activeCharacter.name you aren&#39;t above demonstrating how much autonomy you have over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues to refuse to perform &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slave duties. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; quickly sobers up to the reality after hearing that and promises to do better.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Egocentric Attitude - Remind Slave - Success&quot;)&gt;&gt;
      &lt;&lt;run increaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      Your warnings fall on deaf ears. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still has a hard time acknowledging that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must always act in your best interests and not &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; does concede that you can do as you like with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but you can tell from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; defiant look that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is still very much egotistical. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; @@color:greenyellow;obedience has been increased@@ but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; @@color:red;trust has greatly decreased.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Egocentric Attitude@@&quot;, &quot;You verbally reminded $activeCharacter.name you aren&#39;t above demonstrating how much autonomy you have over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues to refuse to perform &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; slave duties. Your warning fall on deaf ears as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has a hard time accepting the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; must always act in your best interest and not &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Egocentric Attitude - Remind Slave - Failure&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseTrust($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;saveSlave $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="291" name="Display Mood Widget" tags="nobr widget" position="1755,1611" size="100,100">&lt;&lt;widget displayMood&gt;&gt;

&lt;&lt;set _scale = $args[0].mood.scale&gt;&gt;

/*&lt;&lt;if $args[0].mood.current &gt;= 100&gt;&gt;
  $args[0].name is @@color:darkturquoise;euphoric@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has reached a point where &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; disposition reflects &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; absolute love for &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; current position in &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; life. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has greatly increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience, respect towards you and has greatly lowered &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you.
*/

&lt;&lt;if _scale == &quot;Happiness&quot;&gt;&gt;
  &lt;&lt;set _mood = $args[0].mood.current&gt;&gt;
  
  &lt;&lt;if _mood &gt;= 100&gt;&gt;
    $args[0].name is @@color:forestgreen;estatic@@. Currently there is little that &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; enjoys more than working for you on your estate. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; not only enjoys &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; work but isn&#39;t afraid to do extra even if &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; may mess up from time to time. You can even see the look of pride on &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; face. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:forestgreen;greatly increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience@@ and has @@color:greenyellow;lowered &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you@@.
  
  &lt;&lt;elseif _mood &gt;= 75&gt;&gt;
    $args[0].name is @@color:greenyellow;happy@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has found multiple ways to enjoy &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; life despite &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; position. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; looks forward to working on your estate, making sure to put extra effort in everything &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; does. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:greenyellow;increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience.@@
  
  &lt;&lt;elseif _mood &gt;= 50&gt;&gt;
    $args[0].name is @@color:yellow;content@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; isn&#39;t happy with &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; life but &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; isn&#39;t sad about it either. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has simply come to an understanding about &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; position in the word and has chosen to accept &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; current lifestyle, and is simply live each day as it comes. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has no affect on &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience, trust or fear.
  
  &lt;&lt;elseif _mood &gt;= 25&gt;&gt;
    $args[0].name is @@color:orange;depressed@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; is very discontent with the fact that &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; is resigned to &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; current position in life as a slave for the rest of &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; life. A subpar living predicament coupled with no future to look forward to has slowly began to eat at &lt;&lt;print $himher[$args[0].gender]&gt;&gt;, leaving &lt;&lt;print $himher[$args[0].gender]&gt;&gt; with &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; current mood. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:orange;decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience.@@
  
  &lt;&lt;elseif _mood &gt;= 0&gt;&gt;
    $args[0].name is @@color:red;melancholic@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has given up on enjoying anything in &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; life, and has resigned &lt;&lt;print $himselfherself[$args[0].gender]&gt;&gt; to a life of misery and pain. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:red;greatly decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience@@ and has @@color:orange;increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you.@@

  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;elseif _scale == &quot;Serenity&quot;&gt;&gt;
  &lt;&lt;set _mood = $args[0].mood.current&gt;&gt;
  
  &lt;&lt;if _mood &gt;= 100&gt;&gt;
    $args[0].name is @@color:forestgreen;serene@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has become so calm there is almost nothing that could anger or upset &lt;&lt;print $himher[$args[0].gender]&gt;&gt;. As a result, &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; handles issues within &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; life with great poise. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has maximized &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; humility, @@color:forestgreen;grealty increasing &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; trust@@ and has also @@color:greenyellow;increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience.@@
  
  &lt;&lt;elseif _mood &gt;= 75&gt;&gt;
    $args[0].name is @@color:greenyellow;composed@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; is currently accustomed to the daily trials and tribulations of &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; duties. Little angers &lt;&lt;print $himher[$args[0].gender]&gt;&gt; and the very few situations that do only bother &lt;&lt;print $himher[$args[0].gender]&gt;&gt; for an hour at most. It&#39;ll take much more than a good or bad day to drastically change &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; mood. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:greenyellow;increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; trust.@@
  
  &lt;&lt;elseif _mood &gt;= 50&gt;&gt;
    $args[0].name is @@color:yellow;calm@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; is unperturbed not because &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; is particularly self-composed but more because &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; currently doesn&#39;t have anything to be angry about. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; disposition could easily become better or worse depending on &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; day to day life. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has no affect on &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience, trust or fear.
  
  &lt;&lt;elseif _mood &gt;= 25&gt;&gt;
    $args[0].name is @@color:orange;angry@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; hates &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; current position in life and is irritated that you are the cause of most of the strife &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; experiences in it. You can tell from they way &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; vindictively carries out &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; duties that &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; is filled with resentment. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:orange;decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; trust in you.@@
  
  &lt;&lt;elseif _mood &gt;= 0&gt;&gt;
    $args[0].name is @@color:red;furious@@. Not only does &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; hate you and &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; life but &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; is also upset with &lt;&lt;print $himselfherself[$args[0].gender]&gt;&gt; for allowing &lt;&lt;print $himselfherself[$args[0].gender]&gt;&gt; to end up in &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; current situation, leaving &lt;&lt;print $himher[$args[0].gender]&gt;&gt; very resentful and vindictive. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:red;greatly decreases &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; trust in you@@ and has @@color:orange;decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience@@.

  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;elseif _scale == &quot;Anxiety&quot;&gt;&gt;
  &lt;&lt;set _mood = $args[0].mood.current&gt;&gt;
  
  &lt;&lt;if _mood &gt;= 100&gt;&gt;
    $args[0].name is @@color:forestgreen;tranquil@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has absolutely no anxiety about performing &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; duties as a slave. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has a confidence about &lt;&lt;print $himher[$args[0].gender]&gt;&gt; that highlights all of &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; abilities. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:forestgreen;greatly decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you@@ and @@color:greenyellow;raised &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; trust in you.@@
  
  &lt;&lt;elseif _mood &gt;= 75&gt;&gt;
    $args[0].name is @@color:greenyellow;unworried@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; doesn&#39;t have any issue performing &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; slave duties due to nervousness nor is &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; afraid of you punishing &lt;&lt;print $himher[$args[0].gender]&gt;&gt; unnecessarily if &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; makes a mistake. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; does acknowledge that you may still punish &lt;&lt;print $himher[$args[0].gender]&gt;&gt; appropriately for any mistakes or blunders &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; might make. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:greenyellow;decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you.@@
  
  &lt;&lt;elseif _mood &gt;= 50&gt;&gt;
    $args[0].name is @@color:yellow;relaxed@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; doesn&#39;t have anything to be anxious about so &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; is in a relaxed state by default. The next incident could drastically change &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; mood for the better or for the worse. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has no affect on &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience, trust or fear.
  
  &lt;&lt;elseif _mood &gt;= 25&gt;&gt;
    $args[0].name is @@color:orange;tense@@. The punishments you have given &lt;&lt;print $himher[$args[0].gender]&gt;&gt; have made &lt;&lt;print $himher[$args[0].gender]&gt;&gt; stressed. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; often believes &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; is being watched by you for performance even though you have too much work to be eyeing down your slaves at all times during the day. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:orange;increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you.@@
  
  &lt;&lt;elseif _mood &gt;= 0&gt;&gt;
    $args[0].name is @@color:red;distressed@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; is too scared of you to do perform any of &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; duties with the confidence needed as &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; is too scared of the punishment &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; will get if &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; makes a mistake. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:red;greatly increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you@@ and has @@color:orange;decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; trust in you.@@
    
  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;elseif _scale == &quot;Sanity&quot;&gt;&gt;
  &lt;&lt;set _mood = $args[0].mood.current&gt;&gt;
  
  &lt;&lt;if _mood &gt;= 100&gt;&gt;
    $args[0].name is @@color:forestgreen;sane@@. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mental health is currently the best that it can be. Any punishments or situations that pan out badly for &lt;&lt;print $himher[$args[0].gender]&gt;&gt; will not affect &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; sanity in any major way. If &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; continues to to stay sane, &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; mood will change from the sanity scale to either the happiness, serenity or anxiety scale. If not, &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; sanity will deteriorate until &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; is mindbroken.
  
  &lt;&lt;elseif _mood &gt;= 75&gt;&gt;
    $args[0].name is @@color:greenyellow;stable@@. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; sanity has began to deteriorate but &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; mental health is still in stable condition. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has not had any negative effects on &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience, trust and fear but if &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; sanity continues to plummet, &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; will be negatively affected.
  
  &lt;&lt;elseif _mood &gt;= 50&gt;&gt;
    $args[0].name is @@color:yellow;unhinged@@. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; sanity has began to negatively impact &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; day to day life. In addition to the distant look in &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; in &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; eyes, &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; actions suggest that &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; isn&#39;t &quot;all there&quot; mentally. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:orange;decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; trust in you and obedience@@ and has @@color:orange;increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you.@@
  
  &lt;&lt;elseif _mood &gt;= 25&gt;&gt;
    $args[0].name is @@color:orange;psychotic@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has gone completely crazy. Punishments will not work on &lt;&lt;print $himher[$args[0].gender]&gt;&gt; long term, as its very evident that &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; isn&#39;t well enough mentally to care about &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; well being. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:red;greatly decreased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; trust in you and obedience@@ and has @@color:red;greatly increased &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you.@@
  
  &lt;&lt;elseif _mood &gt;= 0&gt;&gt;
    $args[0].name is @@color:red;mindbroken@@. &lt;&lt;print $HeShe[$args[0].gender]&gt;&gt; has fallen into an almost irreversible state which leaves &lt;&lt;print $himher[$args[0].gender]&gt;&gt; as nothing more than a husk of &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; former self. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mind has little to no activity meaning &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; will follow any order you give &lt;&lt;print $himher[$args[0].gender]&gt;&gt;, but @@color:red;&lt;&lt;print $heshe[$args[0].gender]&gt;&gt; isn&#39;t able to learn any skills or improve on the ones &lt;&lt;print $heshe[$args[0].gender]&gt;&gt; already has.@@ &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; mood has @@color:forestgreen;maxed out &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; obedience@@, @@color:red;&lt;&lt;print $hisher[$args[0].gender]&gt;&gt; mistrust and &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; fear of you.@@
    
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="292" name="Mood Stat Widget" tags="widget" position="1885,1481" size="100,100">&lt;&lt;widget moodStats&gt;&gt;\
&lt;&lt;if $args[0] == &quot;Obedience&quot;&gt;&gt;\
&lt;&lt;if $args[1].obedience.current &lt; 20&gt;&gt;\
@@color:red;defiant [&lt;&lt;print Math.floor($args[1].obedience.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].obedience.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].obedience.current &lt; 40&gt;&gt;\
@@color:orange;disobedient [&lt;&lt;print Math.floor($args[1].obedience.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].obedience.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].obedience.current &lt; 60&gt;&gt;\
@@color:yellow;neutral [&lt;&lt;print Math.floor($args[1].obedience.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].obedience.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].obedience.current &lt; 80&gt;&gt;\
@@color:greenyellow;tame [&lt;&lt;print Math.floor($args[1].obedience.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].obedience.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].obedience.current &lt; 100&gt;&gt;\
@@color:forestgreen;obedient [&lt;&lt;print Math.floor($args[1].obedience.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].obedience.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].obedience.current &lt; 120&gt;&gt;\
@@color:darkturquoise;subservient [&lt;&lt;print Math.floor($args[1].obedience.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].obedience.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].obedience.current &lt; 140&gt;&gt;\
@@color:mediumslateblue;acquiescent [&lt;&lt;print Math.floor($args[1].obedience.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].obedience.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].obedience.current == 140&gt;&gt;\
@@color:mediumvioletred;reverential [&lt;&lt;print Math.floor($args[1].obedience.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].obedience.base)&gt;&gt;)]@@\
&lt;&lt;/if&gt;&gt;\
&lt;&lt;elseif $args[0] == &quot;Trust&quot;&gt;&gt;\
&lt;&lt;if $args[1].trust.current &lt; 20&gt;&gt;\
@@color:red;cynical [&lt;&lt;print Math.floor($args[1].trust.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].trust.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].trust.current &lt; 40&gt;&gt;\
@@color:orange;mistrustful [&lt;&lt;print Math.floor($args[1].trust.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].trust.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].trust.current &lt; 60&gt;&gt;\
@@color:yellow;skeptical [&lt;&lt;print Math.floor($args[1].trust.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].trust.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].trust.current &lt; 80&gt;&gt;\
@@color:greenyellow;trustful [&lt;&lt;print Math.floor($args[1].trust.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].trust.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].trust.current &lt; 100&gt;&gt;\
@@color:forestgreen;credulous [&lt;&lt;print Math.floor($args[1].trust.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].trust.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].trust.current &lt; 120&gt;&gt;\
@@color:darkturquoise;faithful [&lt;&lt;print Math.floor($args[1].trust.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].trust.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].trust.current &lt; 140&gt;&gt;\
@@color:mediumslateblue;devout [&lt;&lt;print Math.floor($args[1].trust.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].trust.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].trust.current == 140&gt;&gt;\
@@color:mediumvioletred;worshipful [&lt;&lt;print Math.floor($args[1].trust.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].trust.base)&gt;&gt;)]@@\
&lt;&lt;/if&gt;&gt;\
&lt;&lt;elseif $args[0] == &quot;Fear&quot;&gt;&gt;\
&lt;&lt;if $args[1].fear.current &gt; 80&gt;&gt;\
@@color:red;spineless [&lt;&lt;print Math.floor($args[1].fear.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].fear.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].fear.current &gt; 60&gt;&gt;\
@@color:orange;weak-Willed [&lt;&lt;print Math.floor($args[1].fear.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].fear.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].fear.current &gt; 40&gt;&gt;\
@@color:yellow;fearful [&lt;&lt;print Math.floor($args[1].fear.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].fear.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].fear.current &gt; 20&gt;&gt;\
@@color:greenyellow;carefree [&lt;&lt;print Math.floor($args[1].fear.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].fear.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].fear.current &gt; 0&gt;&gt;\
@@color:forestgreen;dauntless [&lt;&lt;print Math.floor($args[1].fear.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].fear.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].fear.current &gt; -20 &gt;&gt;\
@@color:darkturquoise;fearless [&lt;&lt;print Math.floor($args[1].fear.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].fear.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].fear.current &gt; -40&gt;&gt;\
@@color:mediumslateblue;intrepid [&lt;&lt;print Math.floor($args[1].fear.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].fear.base)&gt;&gt;)]@@\
&lt;&lt;elseif $args[1].fear.current == -40&gt;&gt;\
@@color:mediumvioletred;lionhearted [&lt;&lt;print Math.floor($args[1].fear.current)&gt;&gt; (&lt;&lt;print Math.floor($args[1].fear.base)&gt;&gt;)]@@\
&lt;&lt;/if&gt;&gt;\
&lt;&lt;/if&gt;&gt;\
&lt;&lt;/widget&gt;&gt;\</tw-passagedata><tw-passagedata pid="293" name="Mobile Header" tags="nobr" position="1750,50" size="100,100">&lt;&lt;if settings.mobile&gt;&gt;
  &lt;&lt;if $Version&gt;&gt;
    &#39;&#39;&lt;center&gt;Version $version.&lt;/center&gt;&#39;&#39;
    &lt;br&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $endweek != 1 &amp;&amp; $Version != 1 &amp;&amp; $StoryTime != 1 &amp;&amp; $Training != 1&gt;&gt;
    /*&lt;&lt;set _date = &quot;Week &quot; + $weeknum + &quot; of &quot; + $month + &quot;, &quot; + $yearnum&gt;&gt;*/
    &lt;&lt;set _date = &quot;Week &quot; + $weekcount&gt;&gt;
    &#39;&#39;&lt;center&gt;_date&lt;/center&gt;&#39;&#39;
    &lt;br&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Travel&gt;&gt;
    &#39;&#39;&lt;center&gt;[[Travel|Travel]]&lt;/center&gt;&#39;&#39;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $NextWeek&gt;&gt;
    &#39;&#39;&lt;center&gt;[[End Week|End Week]]&lt;/center&gt;&#39;&#39;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Main&gt;&gt;
    &#39;&#39;&lt;center&gt;[[Home|Main]]&lt;/center&gt;&#39;&#39;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Continue&gt;&gt;
    &lt;span id=&quot;spaceAct&quot;&gt;&#39;&#39;&lt;center&gt;[[Continue|$Continue]]&lt;/center&gt;&#39;&#39;&lt;/span&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $sexContinue == 2&gt;&gt;
    &lt;&lt;if $sex.player.stamina.current&gt;&gt;
      &#39;&#39;&lt;center&gt;[[Continue Sex|Sex Results][$sex.continue = 1]]&lt;/center&gt;&#39;&#39;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif $sexContinue == 1&gt;&gt;
    &lt;&lt;if $sex.player.stamina.current&gt;&gt;
      &#39;&#39;&lt;center&gt;[[End Continuing Sex|Sex Battle][$sex.continue = 0]]&lt;/center&gt;&#39;&#39;
    &lt;&lt;else&gt;&gt;
      &#39;&#39;&lt;center&gt;[[End Continuing Sex|End Sex][$sex.continue = 0]]&lt;/center&gt;&#39;&#39;
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Next&gt;&gt;
    &#39;&#39;&lt;center&gt;[[$Next|$Next]]&lt;/center&gt;&#39;&#39;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Previous&gt;&gt;
    &#39;&#39;&lt;center&gt;[[Return|$Previous]]&lt;/center&gt;&#39;&#39;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Return&gt;&gt;
    &#39;&#39;&lt;center&gt;[[Return|$return]]&lt;/center&gt;&#39;&#39;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $TrueReturn&gt;&gt;
    &#39;&#39;&lt;center&gt;[[Return|$truereturn]]&lt;/center&gt;&#39;&#39;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $EndTraining&gt;&gt;
    &#39;&#39;&lt;center&gt;[[End Training|$EndTraining]]&lt;/center&gt;&#39;&#39;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $NextWeek || $Main || $Continue || $Next || $Return || $TrueReturn || $Previous || $EndTraining&gt;&gt;
    &lt;&lt;if $Version != 1 &amp;&amp; $StoryTime != 1&gt;&gt;
      &lt;br&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $Version != 1 &amp;&amp; $StoryTime != 1&gt;&gt;
    &lt;&lt;if $Training&gt;&gt;
      &lt;center&gt;&#39;&#39;$activeCharacter.name&#39;s Stats&#39;&#39;
      &lt;br&gt;
      &#39;&#39;&lt;&lt;include &quot;Battle Stats&quot;&gt;&gt;&#39;&#39;&lt;/center&gt;
    &lt;&lt;else&gt;&gt;
      &#39;&#39;&lt;center&gt;&lt;&lt;include &quot;Stats&quot;&gt;&gt;&lt;/center&gt;&#39;&#39;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;hr&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="294" name="Traits" tags="nobr" position="13,144" size="100,100">&lt;&lt;set $traits = {common:[], uncommon:[], unique:[], rare:[], special:[], facial:[], nipples:[], areolae:[]}&gt;&gt;

&lt;&lt;set $traits.common = [&quot;cleft chin&quot;, &quot;dimples&quot;, &quot;birthmark&quot;, &quot;beauty mark&quot;, &quot;male&quot;, &quot;female&quot;, &quot;human&quot;, &quot;canus&quot;, &quot;neko&quot;, &quot;goblin&quot;, &quot;young, adult&quot;, &quot;adult&quot;, &quot;mature&quot;, &quot;Bimbo&quot;, &quot;Dominant&quot;, &quot;Masochist&quot;, &quot;Sadist&quot;, &quot;Sissy&quot;, &quot;Slave&quot;, &quot;Slut&quot;, &quot;Submissive&quot;, &quot;Cumsar&quot;, &quot;Superjock&quot;, &quot;Domesticated&quot;]&gt;&gt;

&lt;&lt;set $traits.uncommon = [&quot;sissy&quot;, &quot;freckles&quot;, &quot;pregnant&quot;, &quot;dwarf&quot;, &quot;gnome&quot;, &quot;mongrel&quot;, &quot;pantheran&quot;, &quot;holstaur&quot;, &quot;minotaur&quot;, &quot;Bimbo Slut&quot;, &quot;Confident Slave&quot;, &quot;Cumslut&quot;, &quot;Feminine&quot;, &quot;Loyal Slave&quot;, &quot;Masculine&quot;, &quot;Painslut&quot;, &quot;Trustful Slave&quot;, &quot;Sissy Bimbo&quot;, &quot;Switch&quot;, &quot;Transformed Sissy&quot;, &quot;Femme Sub&quot;, &quot;Bimboy&quot;, &quot;Feminine Bimbo&quot;, &quot;Feminine Sissy&quot;, &quot;Gigolo&quot;, &quot;Muscle Bimbo&quot;, &quot;Domesticated Bitch&quot;, &quot;Man Eater&quot;]&gt;&gt;

&lt;&lt;set $traits.unique = [&quot;shemale&quot;, &quot;giant&quot;, &quot;forest elf&quot;, &quot;moon rabbit&quot;, &quot;orc&quot;, &quot;Masculine Bottom&quot;, &quot;Masculine Top&quot;, &quot;Perfect Slave&quot;, &quot;Sissy Slut&quot;, &quot;Feminine Sissy Bimbo&quot;, &quot;Muscle Bitch&quot;, &quot;Muscle Slave&quot;, &quot;Masculine Muscle Bimbo&quot;, &quot;Succubus&quot;, &quot;Incubus&quot;, &quot;Dominatrix&quot;]&gt;&gt;

&lt;&lt;set $traits.rare = [&quot;futanari&quot;, &quot;high elf&quot;, &quot;dark elf&quot;, &quot;Sissy Slut Bimbo&quot;]&gt;&gt;

&lt;&lt;set $traits.special = []&gt;&gt;

&lt;&lt;set $traits.sex = [&quot;male&quot;, &quot;female&quot;, &quot;shemale&quot;, &quot;futanari&quot;]&gt;&gt;

&lt;&lt;set $traits.physical = [&quot;cleft chin&quot;, &quot;dimples&quot;, &quot;birthmark&quot;, &quot;beauty mark&quot;, &quot;freckles&quot;]&gt;&gt;

&lt;&lt;set $traits.nipples = [&quot;normal nipples&quot;, &quot;flat nipples&quot;, &quot;prominent nipples&quot;, &quot;inverted nipples&quot;]&gt;&gt;

&lt;&lt;set $traits.areolae = [&quot;normal areolae&quot;, &quot;small areolae&quot;, &quot;puffy areolae&quot;, &quot;large areolae&quot;]&gt;&gt;</tw-passagedata><tw-passagedata pid="295" name="Traits Widget" tags="nobr widget" position="1623,1611" size="100,100">&lt;&lt;widget &quot;traitdesc&quot;&gt;&gt;
&lt;&lt;set _trait = {name:null, description:null}&gt;&gt;
&lt;&lt;include &quot;Traits&quot;&gt;&gt;

&lt;&lt;switch $args[0]&gt;&gt;
  &lt;&lt;case &quot;Procurer&quot;&gt;&gt;
    &lt;&lt;set _skill = &quot;manager&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; manages your brothel and the slaves working it.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Guard&quot;&gt;&gt;
    &lt;&lt;set _skill = &quot;guard&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; protect your brothel from unsavory customers and those looking to damage your business.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Prostitute&quot;&gt;&gt;
    &lt;&lt;set _skill = &quot;solicitor&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; provides sexual services to customers.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Host&quot;&gt;&gt;
    &lt;&lt;set _skill = &quot;host&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; serves food and sexual services to customers.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Attendant&quot;&gt;&gt;
    &lt;&lt;set _skill = &quot;attendant&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; provides any service, be it sexual or otherwise, to customers who have rented a private room.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Bimbo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being hypnotized into being an airhead.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Bimboy&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being hypnotized into an airhead who only thinks of superficial things and has been trained to act like a true masculine.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Bimbo Slut&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being completely being hypnotized into an airhead as well as trained to love and crave sex.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Brody&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being completely brodified.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Breeding Slave&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being trained to be a breeding slave.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Bull&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being trained to be a domesticated breeding animal.&quot;&gt;&gt;
    
  &lt;&lt;case &quot;Cavalier&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being trained to be chivalrous.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Cicisbeo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being taught the masculine role as well as how to be chivalrous.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Confident Slave&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this title upon reaching minimum fear.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Courtesan&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being trained to love and crave sex as well as being taught to act like a true feminine.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Cumsar&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being hypnotized to love and crave cum.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Cumslut&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being trained to love and crave sex as well as being hypnotized to love cum.&quot;&gt;&gt;
    
  &lt;&lt;case &quot;Domesticated&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being hypnotized into loving being treated, and acting like a domesticated animal.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Domesticated Bitch&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being hypnotized into loving being treated, acting like a domesticated animal and trained to love sex.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Dominant&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being trained to be dominant.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Dominatrix&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this unique title by being trained to act like a dominant feminine who has been hypnotized to feel pleasure giving and seeing others in pain.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Drag King&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being psychologically trained to think and act like a completely masculine man.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Feminine&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being taught the feminine role.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Feminine Bimbo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being hypnotized into an airhead who only thinks of superficial things and has been trained to act like a true feminine.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Feminine Sissy&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being psychologically trained to think and act like a completely feminine woman.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Feminine Sissy Bimbo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this unique title by being hypnotized into an airhead who only thinks of superficial things and has been trained to think and act like a completely feminine woman.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Femme Sub&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being trained to act like a true feminine as well as trained on how to be a proper submissive.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Gigolo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being trained to be a masculine who thoroughly enjoys having sex.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Incubus&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this unique title by being trained to be a masculine who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Loyal Slave&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this title upon reaching maximum obedience.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Man Eater&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being trained to be a sex loving slut who has been hypnotized to feel pleasure giving and seeing others in pain.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Masculine&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being taught the masculine role.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Masculine Bottom&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being taught the masculine role as well as how to be submissive.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Masculine Top&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being taught the masculine role as well as how to be dominant.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Masochist&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being hypnotized to feel pain as pleasure.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Masculine Muscle Bimbo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this unique title by being hypnotized into an air headed bimbo who acts masculine and is obsessed with &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; fitness.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Muscle Bimbo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being hypnotized into an air headed bimbo obsessed with &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; fitness.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Muscle Bitch&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this unique title by being hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; own fitness and has been trained to act like a true feminine as well as trained on how to be a proper submissive.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Muscle Slave&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this unique title by being hypnotized into an airhead who thinks about nothing except &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; own fitness and trained to act like a submissive masculine.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Painslut&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being trained to love and crave sex as well as being hypnotized to love pain.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Perfect Slave&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this title upon this slave reaching maximum obedience, trust and minimum fear.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Trustful Slave&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this title upon reaching maximum trust.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Sadist&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being hypnotized to feel pleasure giving and seeing others in pain.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Sex Fiend&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being trained to be an expert on giving sexual pleasure.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Sex Slave&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being hypnotized to feel pain as pleasure as well as trained to play the submissive role during and outside of sexual intercourse.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Sissy&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being completely sissified.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Slave&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being enslaved. &quot;&gt;&gt;
  
  &lt;&lt;case &quot;Sissy Bimbo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being completely sissified as well as being hypnotized into an airhead.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Sissy Slut&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this unique title by being completely sissified, being transformed into a woman as well as being trained to be a slut.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Sissy Slut Bimbo&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this rare title by being completely sissified, being transformed into a woman, being trained to be a slut as well as being hypnotized into an airhead.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Slut&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being thoroughly trained in strumpetry&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Sow&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being trained to be a domesticated breeding animal.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Submissive&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being trained to be submissive.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Succubus&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this unique title by being trained to be a sex loving slut who has been hypnotized to feel pleasure giving or seeing others in pain and to love/crave cum.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Superjock&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this common title by being hypnotized into an airhead who thinks about nothing but &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; own fitness.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Switch&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being trained to be both submissive and dominant.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Transformed Brody&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being completely brodified as well as being transformed into a man.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;Transformed Sissy&quot;&gt;&gt;
    &lt;&lt;set _trait.name = $args[0]&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; gained this uncommon title by being completely sissified as well as being transformed into a woman.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;young, adult&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Young Adult&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a young adult between the ages of 18 - 25. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is still fertile.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;adult&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Adult&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is an adult between the ages of 26 - 40. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is still fertile.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;mature&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Mature&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is mature as &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is older than 40. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is no longer fertile.&quot;&gt;&gt;  
    
  &lt;&lt;case &quot;male&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Male&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot;&#39;s biological sex is male. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; can mate and produce offspring with any female &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is compatible with.&quot;&gt;&gt;  
    
  &lt;&lt;case &quot;sissy&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Sissy&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot;&#39;s biological sex is male but &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is technically considered a sissy. &lt;&lt;print $HisHer[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; mannerisms are feminine and if it weren&#39;t for &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; genitalia &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; would be completely indistinguishable from a woman. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; can mate and produce offspring with any female &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is compatible with.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;female&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Female&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot;&#39;s biological sex is female. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; can mate and produce offspring with any male &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is compatible with.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;pregnant&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Pregnant&quot;&gt;&gt;
    
    &lt;&lt;if !$args[1].pregnancy.recovery&gt;&gt;
      &lt;&lt;set _WUB = $args[1].pregnancy.duration - $args[1].pregnancy.weeks&gt;&gt;
      &lt;&lt;set _trait.description = &quot;&lt;b&gt;[Week &quot; + $args[1].pregnancy.weeks + &quot; (&lt;&lt;print capitalize(&#39;&quot; + $args[1].pregnancy.type + &quot;&#39;)&gt;&gt;)]&lt;/b&gt; &lt;br&gt; &quot; + $args[1].name + &quot; is due to give birth in &quot; + _WUB + &quot; weeks.&quot;&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _trait.description = &quot;&lt;b&gt;[Week &quot; + $args[1].pregnancy.weeks + &quot; (&lt;&lt;print capitalize(&#39;&quot; + $args[1].pregnancy.type + &quot;&#39;)&gt;&gt;)]&lt;/b&gt; &lt;br&gt; &quot; + $args[1].name + &quot; will recover from &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; pregnancy in &quot; + $args[1].pregnancy.recovery + &quot; weeks.&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;human&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Human&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;canus&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Canus&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;neko&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Neko&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;goblin&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Goblin&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;dwarf&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Dwarf&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;gnome&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Gnome&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;mongrel&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Mongrel&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;pantheran&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Pantheran&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;holstaur&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Holstaur&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;minotaur&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Minotaur&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;giant&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Giant&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;forest elf&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Forest Elf&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;moon rabbit&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Moon Rabbit&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;orc&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Orc&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is an &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;high elf&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;High Elf&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;dark elf&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Dark Elf&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; is a &quot; + _trait.name + &quot;.&quot;&gt;&gt;
    
  &lt;&lt;case &quot;cleft chin&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Cleft Chin&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; has a dimple in the middle of &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; chin. This is a common physical trait.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;dimples&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Dimples&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; has a small, natural indentation in &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; cheeks. This is a common physical trait.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;birthmark&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Birthmark&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; has an unique birthmark on &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; body. This is a common physical trait.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;beauty mark&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Beauty Mark&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; has a beauty mark on &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; face. This is a common physical trait.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;freckles&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Freckles&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot;&#39;s face and &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; body is covered with freckles that compliment &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; skin-tone. This is an uncommon physical trait.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;futanari&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Futanari&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; has both male and female reproductive organs. Instead of a clit, &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; has a fully functioning cock. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; can impregnate others and be impregnated. This is a rare physical trait.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;shemale&quot;&gt;&gt;
    &lt;&lt;set _trait.name = &quot;Shemale&quot;&gt;&gt;
    &lt;&lt;set _trait.description = $args[1].name + &quot; has a male reproductive organ and a mostly female body, including &lt;&lt;print $hisher[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; breasts but &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; does not have a female reproductive organ. &lt;&lt;print $HeShe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; can mate and produce offspring with any female &lt;&lt;print $heshe[&#39;&quot; + $args[1].gender + &quot;&#39;]&gt;&gt; is compatible with.&quot;&gt;&gt;
    
&lt;&lt;/switch&gt;&gt;

&lt;&lt;if [&quot;Procurer&quot;, &quot;Guard&quot;, &quot;Prostitute&quot;, &quot;Host&quot;, &quot;Attendant&quot;].includes($args[0])&gt;&gt;
  &lt;&lt;if !$args[1].skills[_skill]&gt;&gt;
    &lt;&lt;set _level = 1&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _level = $args[1].skills[_skill].level&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if _level &lt; 2.5&gt;&gt;
    &lt;div class=&quot;hover&quot;&gt;
    &lt;span class=&quot;common&quot;&gt;
    _trait.name
    &lt;/span&gt;
    &lt;span class=&quot;hoverblock&quot;&gt;
    _trait.description
    &lt;/span&gt;
    &lt;/div&gt;

  &lt;&lt;elseif _level &lt; 5&gt;&gt;
    &lt;div class=&quot;hover&quot;&gt;
    &lt;span class=&quot;uncommon&quot;&gt;
    _trait.name
    &lt;/span&gt;
    &lt;span class=&quot;hoverblock&quot;&gt;
    _trait.description
    &lt;/span&gt;
    &lt;/div&gt;

  &lt;&lt;elseif _level &lt; 7.5&gt;&gt;
    &lt;div class=&quot;hover&quot;&gt;
    &lt;span class=&quot;unique&quot;&gt;
    _trait.name
    &lt;/span&gt;
    &lt;span class=&quot;hoverblock&quot;&gt;
    _trait.description
    &lt;/span&gt;
    &lt;/div&gt;

  &lt;&lt;elseif _level &lt; 10&gt;&gt;
    &lt;div class=&quot;hover&quot;&gt;
    &lt;span class=&quot;rare&quot;&gt;
    _trait.name
    &lt;/span&gt;
    &lt;span class=&quot;hoverblock&quot;&gt;
    _trait.description
    &lt;/span&gt;
    &lt;/div&gt;

  &lt;&lt;/if&gt;&gt;

&lt;&lt;else&gt;&gt;
  &lt;&lt;if $traits.common.includes($args[0])&gt;&gt;
    &lt;div class=&quot;hover&quot;&gt;
    &lt;span class=&quot;common&quot;&gt;
    _trait.name
    &lt;/span&gt;
    &lt;span class=&quot;hoverblock&quot;&gt;
    _trait.description
    &lt;/span&gt;
    &lt;/div&gt;

  &lt;&lt;elseif $traits.uncommon.includes($args[0])&gt;&gt;
    &lt;div class=&quot;hover&quot;&gt;
    &lt;span class=&quot;uncommon&quot;&gt;
    _trait.name
    &lt;/span&gt;
    &lt;span class=&quot;hoverblock&quot;&gt;
    _trait.description
    &lt;/span&gt;
    &lt;/div&gt;

  &lt;&lt;elseif $traits.unique.includes($args[0])&gt;&gt;
    &lt;div class=&quot;hover&quot;&gt;
    &lt;span class=&quot;unique&quot;&gt;
    _trait.name
    &lt;/span&gt;
    &lt;span class=&quot;hoverblock&quot;&gt;
    _trait.description
    &lt;/span&gt;
    &lt;/div&gt;

  &lt;&lt;elseif $traits.rare.includes($args[0])&gt;&gt;
    &lt;div class=&quot;hover&quot;&gt;
    &lt;span class=&quot;rare&quot;&gt;
    _trait.name
    &lt;/span&gt;
    &lt;span class=&quot;hoverblock&quot;&gt;
    _trait.description
    &lt;/span&gt;
    &lt;/div&gt;

  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="296" name="Practicum" tags="nobr noreturn" position="136,2768" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Shops&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;h3&gt;$Store.name&lt;/h3&gt;&lt;/center&gt;

&lt;&lt;set _characterlist = [&quot;[0] &quot; + $PC.name]&gt;&gt;

&lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
  &lt;&lt;set _characterlist.push(&quot;[&quot; + _i + &quot;] &quot; + $slaves[_i].name)&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;if !$choice&gt;&gt;
  &lt;&lt;set $choice = _characterlist[0]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $choice == &quot;[0] &quot; + $PC.name&gt;&gt;
  &lt;&lt;set $character = $PC&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _number = $choice.slice($choice.indexOf(&quot;[&quot;) + 1, $choice.indexOf(&quot;]&quot;))&gt;&gt;
  &lt;&lt;set $character = $slaves[_number]&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if !$ragdoll&gt;&gt;
  &lt;&lt;set $ragdoll = {}&gt;&gt;
  &lt;&lt;run setRagdoll($ragdoll, $character)&gt;&gt;
  &lt;&lt;set $ragdoll.tempsex = capitalize($ragdoll.sex)&gt;&gt;
  &lt;&lt;set $cost = {sex:0, cock:0, girth:0, balls:0, bust:0, pussy:0, clit:0, lips:0, shoulders:0, hips:0, torso:0, legs:0, butt:0, base:0, total:0, purchase:0}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $character.ID != $ragdoll.ID&gt;&gt;
  &lt;&lt;run setRagdoll($ragdoll, $character)&gt;&gt;
  &lt;&lt;set $ragdoll.tempsex = capitalize($ragdoll.sex)&gt;&gt;
  &lt;&lt;set $cost = {sex:0, cock:0, girth:0, balls:0, bust:0, pussy:0, clit:0, lips:0, shoulders:0, hips:0, torso:0, legs:0, butt:0, base:0, total:0, purchase:0}&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $cost.purchase&gt;&gt;
  &lt;&lt;run purchaseRunes($ragdoll, $character, $cost)&gt;&gt;
  &lt;&lt;run getSexTraits($character)&gt;&gt;
  
  &lt;&lt;if $character.ID == 0&gt;&gt;
    &lt;&lt;set $PC = $character&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;saveSlave $character&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;run setRagdoll($ragdoll, $character)&gt;&gt;
  &lt;&lt;set $ragdoll.tempsex = capitalize($ragdoll.sex)&gt;&gt;
  &lt;&lt;set $cost = {sex:0, cock:0, girth:0, balls:0, bust:0, pussy:0, clit:0, lips:0, shoulders:0, hips:0, torso:0, legs:0, butt:0, base:0, total:0, purchase:0}&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if [&quot;Goblin&quot;].contains($ragdoll.tribe)&gt;&gt;
	&lt;&lt;set $racestats.choosablesexes = [&quot;Male&quot;, &quot;Shemale&quot;]&gt;&gt;

&lt;&lt;else&gt;&gt;
  &lt;&lt;if $character.pregnancy.recovery || $character.pregnancy.weeks&gt;&gt;
	 &lt;&lt;set $racestats.choosablesexes = [&quot;Female&quot;, &quot;Futanari&quot;]&gt;&gt;
   &lt;&lt;set _pregnant = 1&gt;&gt;
  
  &lt;&lt;else&gt;&gt;
	 &lt;&lt;set $racestats.choosablesexes = [&quot;Male&quot;, &quot;Female&quot;, &quot;Futanari&quot;, &quot;Shemale&quot;]&gt;&gt;
   
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if lowercase($ragdoll.tempsex) != $ragdoll.sex&gt;&gt;
  &lt;&lt;run setRagdoll($ragdoll, $character)&gt;&gt;
  &lt;&lt;set $cost = {sex:0, cock:0, girth:0, balls:0, bust:0, pussy:0, clit:0, lips:0, shoulders:0, hips:0, torso:0, legs:0, butt:0, base:0, total:0, purchase:0}&gt;&gt;
  &lt;&lt;set $ragdoll.sex = lowercase($ragdoll.tempsex)&gt;&gt;
&lt;&lt;/if&gt;&gt;


&lt;&lt;if $ragdoll.oldsex != $ragdoll.sex&gt;&gt;
  &lt;&lt;if $ragdoll.sex == &quot;futanari&quot;&gt;&gt;
    &lt;&lt;set $cost.sex = 100000&gt;&gt;
    
  &lt;&lt;elseif $ragdoll.sex == &quot;shemale&quot;&gt;&gt;
    &lt;&lt;set $cost.sex = 75000&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $cost.sex = 50000&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;set $cost.sex = 0&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;run runeCost($cost, $ragdoll, $character)&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;

&lt;tr&gt;
  &lt;th class = &quot;nblisting&quot; colspan = 27&gt;Character&lt;/th&gt;
  &lt;th class = &quot;nblisting&quot; colspan = 18&gt;Sex&lt;/th&gt;
  &lt;th class = &quot;nblisting&quot; colspan = 12&gt;Base Price&lt;/th&gt;
  &lt;th class = &quot;nblisting&quot; colspan = 16&gt;Rarity Multi&lt;/th&gt;
  &lt;th class = &quot;nblisting&quot; colspan = 12&gt;Total Price&lt;/th&gt;
  &lt;th class = &quot;nblisting&quot; colspan = 15&gt;&lt;/th&gt;
&lt;/tr&gt;

&lt;tr&gt;
	&lt;td class = &quot;noborder&quot; colspan = 27&gt;&lt;&lt;dropdown &quot;$choice&quot; _characterlist&gt;&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 18&gt;&lt;&lt;dropdown &quot;$ragdoll.tempsex&quot; $racestats.choosablesexes&gt;&gt;&lt;/td&gt;
  &lt;&lt;if $PC.money &gt;= $cost.base&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 12&gt;@@color:lightgreen;💎&lt;&lt;print commify($cost.base)&gt;&gt;@@&lt;/td&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 12&gt;@@color:red;💎&lt;&lt;print commify($cost.base)&gt;&gt;@@&lt;/td&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;td class = &quot;noborder&quot; colspan = 16&gt;&lt;&lt;race $character.tribe &quot;Rarity&quot;&gt;&gt;&lt;/td&gt;
  
  &lt;&lt;if $PC.money &gt;= $cost.total&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 12&gt;@@color:lightgreen;💎&lt;&lt;print commify($cost.total)&gt;&gt;@@&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;[[Purchase Runes|Practicum][$cost.purchase = 1]]&lt;/b&gt;&lt;/td&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 12&gt;@@color:red;💎&lt;&lt;print commify($cost.total)&gt;&gt;@@&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Purchase Runes&lt;/b&gt;&lt;/td&gt;
    
  &lt;&lt;/if&gt;&gt;
  
&lt;/tr&gt;

&lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 100&gt;Runes&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class = &quot;noborder&quot; colspan = 100&gt;$character.name&#39;s current stats will be shown in the bars below. You can increase or decrease whichever stats you want, as long as they are applicable. Stats that are enhanced by runes are permament but they can be later reduced for the same cost. These rune-enhanced attributes do not affect offspring in any way, but they do affect things like how a slave is recieved in a brothel (depending on the brothel style/fetish), ranch, etc. 

&lt;&lt;if _pregnant &amp;&amp; $character.pregnancy.recovery&gt;&gt;
  &lt;br&gt;&lt;br&gt;&#39;&#39;@@color:orange;$character.name is still recovering from &lt;&lt;print $hisher[$character.gender]&gt;&gt; pregnancy. &lt;&lt;print $HeShe[$character.gender]&gt;&gt; cannot have &lt;&lt;print $hisher[$character.gender]&gt;&gt; sex changed to a sex without a pussy until &lt;&lt;print $heshe[$character.gender]&gt;&gt; is fully recovered.@@&#39;&#39; &lt;br&gt;
  
&lt;&lt;elseif _pregnant &amp;&amp; $character.pregnancy.weeks&gt;&gt;
  &lt;br&gt;&lt;br&gt;&#39;&#39;@@color:orange;$character.name is still $character.pregnancy.weeks pregnant. &lt;&lt;print $HeShe[$character.gender]&gt;&gt; cannot have &lt;&lt;print $hisher[$character.gender]&gt;&gt; sex changed to a sex without a pussy until &lt;&lt;print $heshe[$character.gender]&gt;&gt; has given birth and is fully recovered.@@&#39;&#39; &lt;br&gt;
  
&lt;&lt;/if&gt;&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
  &lt;&lt;if [&quot;male&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Cock&lt;br&gt;&lt;&lt;racestatbar $ragdoll.cock 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;cock&quot; $ragdoll.cock 1 1 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;, &quot;futanari&quot;, &quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Bust&lt;br&gt;&lt;&lt;racestatbar $ragdoll.bust 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;bust&quot; $ragdoll.bust 1 1 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;&lt;if [&quot;male&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Girth&lt;br&gt;&lt;&lt;racestatbar $ragdoll.girth 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;girth&quot; $ragdoll.girth 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Pussy&lt;br&gt;&lt;&lt;racestatbar $ragdoll.pussy 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;pussy&quot; $ragdoll.pussy 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;futanari&quot;, &quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Cock&lt;br&gt;&lt;&lt;racestatbar $ragdoll.cock 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;cock&quot; $ragdoll.cock 1 1 10&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;&lt;if [&quot;male&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Balls&lt;br&gt;&lt;&lt;racestatbar $ragdoll.balls 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;balls&quot; $ragdoll.balls 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Clit&lt;br&gt;&lt;&lt;racestatbar $ragdoll.clit 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;clit&quot; $ragdoll.clit 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;futanari&quot;, &quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Girth&lt;br&gt;&lt;&lt;racestatbar $ragdoll.girth 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;girth&quot; $ragdoll.girth 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;&lt;if [&quot;male&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Shoulders&lt;br&gt;&lt;&lt;racestatbar $ragdoll.shoulders 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;shoulders&quot; $ragdoll.shoulders 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Lips&lt;br&gt;&lt;&lt;racestatbar $ragdoll.lips 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;lips&quot; $ragdoll.lips 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;futanari&quot;, &quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Balls&lt;br&gt;&lt;&lt;racestatbar $ragdoll.balls 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;balls&quot; $ragdoll.balls 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;&lt;if [&quot;male&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Torso&lt;br&gt;&lt;&lt;racestatbar $ragdoll.torso 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;torso&quot; $ragdoll.torso 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;female&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Hips&lt;br&gt;&lt;&lt;racestatbar $ragdoll.hips 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;hips&quot; $ragdoll.hips 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;futanari&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Pussy&lt;br&gt;&lt;&lt;racestatbar $ragdoll.pussy 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;pussy&quot; $ragdoll.pussy 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Lips&lt;br&gt;&lt;&lt;racestatbar $ragdoll.lips 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;lips&quot; $ragdoll.lips 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;&lt;if [&quot;male&quot;, &quot;female&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Legs&lt;br&gt;&lt;&lt;racestatbar $ragdoll.legs 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;legs&quot; $ragdoll.legs 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;futanari&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Lips&lt;br&gt;&lt;&lt;racestatbar $ragdoll.lips 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;lips&quot; $ragdoll.lips 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Hips&lt;br&gt;&lt;&lt;racestatbar $ragdoll.hips 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;hips&quot; $ragdoll.hips 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;&lt;if [&quot;male&quot;, &quot;female&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Butt&lt;br&gt;&lt;&lt;racestatbar $ragdoll.butt 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;butt&quot; $ragdoll.butt 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;futanari&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Hips&lt;br&gt;&lt;&lt;racestatbar $ragdoll.hips 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;hips&quot; $ragdoll.hips 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Legs&lt;br&gt;&lt;&lt;racestatbar $ragdoll.legs 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;legs&quot; $ragdoll.legs 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;&lt;if [&quot;male&quot;, &quot;female&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;futanari&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Legs&lt;br&gt;&lt;&lt;racestatbar $ragdoll.legs 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;legs&quot; $ragdoll.legs 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Butt&lt;br&gt;&lt;&lt;racestatbar $ragdoll.butt 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;butt&quot; $ragdoll.butt 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;&lt;if [&quot;male&quot;, &quot;female&quot;, &quot;shemale&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;
  &lt;&lt;elseif [&quot;futanari&quot;].contains($ragdoll.sex)&gt;&gt;
    &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;b&gt;Butt&lt;br&gt;&lt;&lt;racestatbar $ragdoll.butt 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
    &lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;b&gt;&lt;&lt;editing &quot;butt&quot; $ragdoll.butt 1 1 5&gt;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;&lt;/if&gt;&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

  &lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 7&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 15&gt;&lt;/td&gt;
	&lt;td class = &quot;noborder&quot; colspan = 4&gt;&lt;/td&gt;

	&lt;td class = &quot;noborder&quot; colspan = 3&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;/table&gt;</tw-passagedata><tw-passagedata pid="297" name="Editing" tags="nobr widget" position="1623,1741" size="100,100">&lt;&lt;widget &quot;editing&quot;&gt;&gt;
&lt;&lt;set _stat = $args[1]&gt;&gt;
&lt;&lt;set _min = $args[2]&gt;&gt;
&lt;&lt;set _cap = $args[4]&gt;&gt;

&lt;&lt;if _stat &gt;= _cap&gt;&gt;
  ADD
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _cost = getCost($args[0], $ragdoll, $character, &quot;add&quot;)&gt;&gt;
  &lt;&lt;print &quot;[[ADD|Practicum][$ragdoll.&quot; + $args[0] + &quot;++, $cost.&quot; + $args[0] + &quot; += &quot; + _cost + &quot;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;br&gt;

&lt;&lt;if _stat &lt;= _min&gt;&gt;
  SUB
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _cost = getCost($args[0], $ragdoll, $character, &quot;sub&quot;)&gt;&gt;
  &lt;&lt;print &quot;[[SUB|Practicum][$ragdoll.&quot; + $args[0] + &quot;--, $cost.&quot; + $args[0] + &quot; -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="298" name="Slaver Slave Description" tags="nobr noreturn notruereturn" position="1177,2378" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Slaver Guild&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;include &quot;Descriptors&quot;&gt;&gt;

&lt;&lt;set _name = $activeCharacter.name&gt;&gt;
&lt;&lt;set _maturity = $maturity[$activeCharacter.maturity]&gt;&gt;
&lt;&lt;set _intelligence = $intelligence[$activeCharacter.intelligence]&gt;&gt;
&lt;&lt;set _beauty = $beauty[$activeCharacter.beauty]&gt;&gt;
&lt;&lt;set _health = $health[$activeCharacter.health]&gt;&gt;
&lt;&lt;set _weight = $weight[$activeCharacter.weight]&gt;&gt;
&lt;&lt;set _height = getHeight($activeCharacter.height, $activeCharacter.legs.current-$activeCharacter.legs.base)&gt;&gt;

&lt;&lt;set _cumquantity = $quantity[$activeCharacter.cum.quantity.current]&gt;&gt;
&lt;&lt;set _cumquality = $quality[$activeCharacter.cum.quality.current]&gt;&gt;
&lt;&lt;set _cumtaste = $taste.cum[$activeCharacter.cum.taste.current]&gt;&gt;

&lt;&lt;set _milkquantity = $quantity[$activeCharacter.milk.quantity.current]&gt;&gt;
&lt;&lt;set _milkquality = $quality[$activeCharacter.milk.quality.current]&gt;&gt;
&lt;&lt;set _milktaste = $taste.milk[$activeCharacter.milk.taste.current]&gt;&gt;

&lt;&lt;set _nectarquantity = $quantity[$activeCharacter.nectar.quantity.current]&gt;&gt;
&lt;&lt;set _nectarquality = $quality[$activeCharacter.nectar.quality.current]&gt;&gt;
&lt;&lt;set _nectartaste = $taste.nectar[$activeCharacter.nectar.taste.current]&gt;&gt;

&lt;&lt;set _fatigue = getFatigue($activeCharacter)&gt;&gt;
&lt;&lt;set _an = AvsAn.query(extractWord(_maturity))&gt;&gt;
&lt;&lt;set _obedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _obedience = lowercasecolor(_obedience)&gt;&gt;
&lt;&lt;set _fear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _fear = lowercasecolor(_fear)&gt;&gt;
&lt;&lt;set _trust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _trust = lowercasecolor(_trust)&gt;&gt;
&lt;&lt;set _nature = capitalize($activeCharacter.nature)&gt;&gt;
&lt;&lt;set _exoticism = getExoticism($activeCharacter.exoticism)&gt;&gt;
&lt;&lt;set _exoticism = lowercasecolor(_exoticism)&gt;&gt;
&lt;&lt;set _gape = getGape($activeCharacter.gape)&gt;&gt;

&lt;&lt;set _cockSens = getSensitivity($activeCharacter.sensitivity.cock)&gt;&gt;
&lt;&lt;set _breastSens = getSensitivity($activeCharacter.sensitivity.breasts)&gt;&gt;
&lt;&lt;set _anusSens = getSensitivity($activeCharacter.sensitivity.anus)&gt;&gt;
&lt;&lt;set _ballsSens = getSensitivity($activeCharacter.sensitivity.balls)&gt;&gt;
&lt;&lt;set _clitSens = getSensitivity($activeCharacter.sensitivity.clit)&gt;&gt;
&lt;&lt;set _pussySens = getSensitivity($activeCharacter.sensitivity.pussy)&gt;&gt;
&lt;&lt;set _mouthSens = getSensitivity($activeCharacter.sensitivity.mouth)&gt;&gt;

&lt;&lt;set _sexualstrength = getSexualStat($activeCharacter.sexual.strength.current)&gt;&gt;
&lt;&lt;set _sexualspeed = getSexualStat($activeCharacter.sexual.speed.current)&gt;&gt;
&lt;&lt;set _sexualstamina = getSexualStat($activeCharacter.sexual.stamina.current)&gt;&gt;
&lt;&lt;set _sexualcontrol = getSexualStat($activeCharacter.sexual.control.current)&gt;&gt;

&lt;&lt;if !$activeCharacter.pregnancy.recovery&gt;&gt;
	&lt;&lt;set _weeksuntilbirth = $activeCharacter.pregnancy.duration - $activeCharacter.pregnancy.weeks&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;knotted&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;pantheran&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;barbed&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;minataur&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;bull&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;orc&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cock = $race[$activeCharacter.skintone]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _maturitytext = extractWord(_maturity)&gt;&gt;

&lt;br&gt;

&lt;center&gt;
&lt;&lt;traitdesc $activeCharacter.title $activeCharacter&gt;&gt;
&lt;&lt;traitdesc $activeCharacter.tribe $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.sex == &quot;male&quot; &amp;&amp; $activeCharacter.stats.sissification == 100&gt;&gt;
	&lt;&lt;traitdesc &quot;sissy&quot; $activeCharacter&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;traitdesc $activeCharacter.sex $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc _maturitytext $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.pregnancy.status&gt;&gt;
	&lt;&lt;traitdesc &quot;pregnant&quot; $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;br&gt;

_name&#39;s _an _maturity

&lt;&lt;if $activeCharacter.skintone&gt;&gt;
	$activeCharacter.skintone
&lt;&lt;elseif $activeCharacter.fur&gt;&gt;
	$activeCharacter.fur furred
&lt;&lt;/if&gt;&gt;

$activeCharacter.gender

&lt;&lt;if $activeCharacter.tribe&gt;&gt;
	$activeCharacter.tribe.
&lt;&lt;else&gt;&gt;
	$activeCharacter.race.
&lt;&lt;/if&gt;&gt;

&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; was $activeCharacter.occupation before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was a slave.

$activeCharacter.origin
&lt;br&gt;&lt;br&gt;

&lt;&lt;displayMood $activeCharacter&gt;&gt;

From the interactions you&#39;ve had with $activeCharacter.name you can tell that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $intelligence[$activeCharacter.intelligence]&gt;&gt;. In regards to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; discipline, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;moodStats &quot;Obedience&quot; $activeCharacter&gt;&gt;. When it comes to having trust, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;moodStats &quot;Trust&quot; $activeCharacter&gt;&gt;. As for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; courage, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is &lt;&lt;moodStats &quot;Fear&quot; $activeCharacter&gt;&gt;.
&lt;br&gt;&lt;br&gt;

_name is _beauty. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has $activeCharacter.haircolor hair styled $activeCharacter.hairstyle. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has $activeCharacter.eyedescriptor $activeCharacter.eyecolor eyes. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is _height and is _weight.

&lt;&lt;physicalTraits $activeCharacter &quot;Race&quot;&gt;&gt;

&lt;&lt;if $activeCharacter.lips.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has &lt;&lt;print $lips[$activeCharacter.lips.current]&gt;&gt; lips.
	&lt;&lt;attributeDescriptor &quot;Lips&quot; $activeCharacter.lips.current $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth is _mouthSens.

&lt;&lt;if $activeCharacter.shoulders.current &amp;&amp; $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders and &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.shoulders.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;

&lt;&lt;elseif $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.hips.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips are &lt;&lt;print $hips[$activeCharacter.hips.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.legs.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has two &lt;&lt;print $legs[$activeCharacter.legs.current]&gt;&gt; legs.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.pregnancy.status&gt;&gt;
	&lt;br&gt;&lt;br&gt;
	&lt;b&gt;[Week $activeCharacter.pregnancy.weeks (&lt;&lt;print capitalize($activeCharacter.pregnancy.type)&gt;&gt;)]&lt;/b&gt;
	&lt;&lt;if _weeksuntilbirth&gt;&gt;
	  $activeCharacter.name is due to give birth in _weeksuntilbirth weeks.

	&lt;&lt;elseif $activeCharacter.pregnancy.recovery&gt;&gt;
	  $activeCharacter.name will recover from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pregnancy in $activeCharacter.pregnancy.recovery weeks.

	&lt;&lt;/if&gt;&gt;

	$activeCharacter.pregnancy.status
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.known.sexualskill&gt;&gt;
	&lt;br&gt;&lt;br&gt;

	_name&#39;s sexual fortitude is _sexualstrength and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; responsiveness  during sexual intercourse is _sexualspeed. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; sexual stamina is _sexualstamina and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual control is _sexualcontrol.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.bust.current&gt;&gt;
	_name has &lt;&lt;print $inverted[$activeCharacter.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $bust[$activeCharacter.bust.current]&gt;&gt; sized breasts. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; breasts are _breastSens.
&lt;&lt;else&gt;&gt;
	_name has &lt;&lt;print $inverted[$activeCharacter.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chest. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nipples are _breastSens.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.milk.quality.current &amp;&amp; $activeCharacter.milk.quantity.current &amp;&amp; $activeCharacter.milk.taste.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is lactating, and can produce a _milkquantity amount of _milkquality milk. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; milk has a _milktaste taste to it.

&lt;&lt;else&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is not lactating and cannot produce any milk.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.girth.current&gt;&gt;
	&lt;&lt;set _girth = extractWord($girth[$activeCharacter.girth.current])&gt;&gt;
	&lt;&lt;set _an = AvsAn.query(_girth)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current&gt;&gt;
	$activeCharacter.name has _an &lt;&lt;print $girth[$activeCharacter.girth.current]&gt;&gt; &lt;&lt;print $cock[$activeCharacter.cock.current]&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; _cock cock hanging between &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; legs. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cock is _cockSens.

	&lt;&lt;if $activeCharacter.cum.quality.current &amp;&amp; $activeCharacter.cum.quantity.current &amp;&amp; $activeCharacter.cum.taste.current &amp;&amp; !$activeCharacter.balls.current&gt;&gt;
		It can produce a _cumquantity amount of _cumquality semen. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; semen has a _cumtaste taste to it.
	&lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.balls.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a pair of &lt;&lt;print $balls[$activeCharacter.balls.current]&gt;&gt; balls. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; balls are _ballsSens.

	&lt;&lt;if $activeCharacter.cum.quality.current &amp;&amp; $activeCharacter.cum.quantity.current &amp;&amp; $activeCharacter.cum.taste.current &amp;&amp; $activeCharacter.cock.current &amp;&amp; $activeCharacter.girth.current&gt;&gt;
		When full they can produce a _cumquantity amount of _cumquality semen. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; semen has a _cumtaste taste to it.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.pussy.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; pussy is &lt;&lt;print $pussy[$activeCharacter.pussy.current]&gt;&gt;. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pussy is _pussySens.

	&lt;&lt;if $activeCharacter.nectar.quality.current &amp;&amp; $activeCharacter.nectar.quantity.current &amp;&amp; $activeCharacter.nectar.taste.current&gt;&gt;
		When aroused &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pussy produces a _nectarquantity amount of _nectarquality nectar. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; nectar has a _nectartaste taste to it.
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.clit.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a &lt;&lt;print $clitoris[$activeCharacter.clit.current]&gt;&gt; and &lt;&lt;print $hooded[$activeCharacter.hooded]&gt;&gt; clit. The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; is _clitSens.
&lt;&lt;/if&gt;&gt;

_name&#39;s ass is &lt;&lt;print $butt[$activeCharacter.gender][$activeCharacter.butt.current]&gt;&gt;.

&lt;&lt;if $activeCharacter.gape == 100&gt;&gt;
	 &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole has been _gape to the point that you can fit multiple intrusions into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole without causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; any pain.

&lt;&lt;elseif $activeCharacter.gape &gt;= 80&gt;&gt;
	$&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape and can accommodate almost any size intrusion.

&lt;&lt;elseif $activeCharacter.gape &gt;= 60&gt;&gt;
	&lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole is _gape and as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses lube &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can accommodate people of any size.

&lt;&lt;elseif $activeCharacter.gape &gt;= 40&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; ass has been _gape. It can fit a full sized intrusion but anything larger than that can cause pain even with lube.

&lt;&lt;elseif $activeCharacter.gape &gt;= 20&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape but it has seen some use.

&lt;&lt;elseif $activeCharacter.gape &gt;= 0&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape. You can barely fit your finger in it, let alone a full sized intrusion.

&lt;&lt;/if&gt;&gt;

The sensitivity of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; anus is _anusSens.

&lt;&lt;if $activeCharacter.virgin || $activeCharacter.analvirgin&gt;&gt;
	&lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.virgin&gt;&gt;
	&lt;br&gt;
	$activeCharacter.name is a @@color:green;virgin@@.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
	&lt;br&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is an @@color:green;anal virgin@@.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="299" name="Slaver Contracts" tags="nobr" position="1307,2378" size="100,100">&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
  &lt;tr&gt;&lt;th class = &quot;nobottom&quot; colspan = 2&gt;&lt;h3&gt;~Slaver Contracts~&lt;/h3&gt;&lt;/th&gt;&lt;/tr&gt;
  &lt;&lt;for _c=0;_c &lt; $PC.guild.slaver.contract.length;_c++&gt;&gt;
    &lt;&lt;set _contract = $PC.guild.slaver.contract[_c]&gt;&gt;
    &lt;&lt;set _color = null&gt;&gt;
    &lt;&lt;set _penalty = Math.round10(_contract.reward*0.25, 2)&gt;&gt;
    
    &lt;&lt;for _s=1; _s &lt;= $slaves.amount;_s++&gt;&gt;
      &lt;&lt;if _contract.slave.ID == $slaves[_s].ID&gt;&gt;
        &lt;&lt;set _character = $slaves[_s]&gt;&gt;
        &lt;&lt;break&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/for&gt;&gt;
    
    &lt;&lt;if _contract.difficulty == &quot;Easy&quot;&gt;&gt;
      &lt;&lt;set _color = &quot;forestgreen&quot;&gt;&gt;
    
    &lt;&lt;elseif _contract.difficulty == &quot;Medium&quot;&gt;&gt;
      &lt;&lt;set _color = &quot;yellow&quot;&gt;&gt;
    
    &lt;&lt;elseif _contract.difficulty == &quot;Hard&quot;&gt;&gt;
      &lt;&lt;set _color = &quot;red&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if (_character.obedience.current &gt;= _contract.virtue) &amp;&amp; (_character.trust.current &gt;= _contract.virtue) &amp;&amp; ((100-_character.fear.current) &gt;= _contract.virtue) &amp;&amp; (_character.titles.includes(_contract.title))&gt;&gt;
      &lt;&lt;set _contract.completed = 1&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _textexp = &quot;&lt;&lt;print Math.round10(&quot; + (_contract.exp / $PC.guild.slaver.maxexp) * 100 + &quot;, -2)&gt;&gt;%&quot;&gt;&gt;
    
    &lt;tr&gt;&lt;td class = &quot;contract&quot; colspan = 2&gt;
    &lt;&lt;if _contract.completed&gt;&gt;
      &lt;b&gt;&lt;&lt;print &quot;[[Complete Contract|Slaver Guild][$completedContract = _contract, $contractSlave = $slaves[&quot; + _s + &quot;], $PC.guild.slaver.contract.splice(&quot; + _c + &quot;, 1)]]&quot;&gt;&gt;&lt;/b&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Difficulty:&lt;/b&gt; _contract.difficulty@@&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Time Limit:&lt;/b&gt; _contract.time Weeks&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;EXP:&lt;/b&gt; _textexp&quot;&gt;&gt; | @@color:lightgreen;&lt;b&gt;Reward:&lt;/b&gt; 💎&lt;&lt;print commify(_contract.reward)&gt;&gt;@@
      
    &lt;&lt;else&gt;&gt;
      &lt;b&gt;&lt;&lt;print &quot;[[Abandon Contract|Slaver Guild][$PC.money -= _penalty, $contractSlave = $slaves[&quot; + _s + &quot;], $PC.guild.slaver.contract.splice(&quot; + _c + &quot;, 1)]]&quot;&gt;&gt; [@@color:red;💎&lt;&lt;print commify(_penalty)&gt;&gt; Penalty@@]&lt;/b&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Difficulty:&lt;/b&gt; _contract.difficulty@@&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;Time Limit:&lt;/b&gt; _contract.time Weeks&quot;&gt;&gt; | &lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&lt;b&gt;EXP:&lt;/b&gt; _textexp&quot;&gt;&gt; | @@color:lightgreen;&lt;b&gt;Reward:&lt;/b&gt; 💎&lt;&lt;print commify(_contract.reward)&gt;&gt;@@
      
    &lt;&lt;/if&gt;&gt;

    &lt;br&gt;&lt;br&gt;
    _contract.name the _contract.race has put up a request for someone to train &lt;&lt;print &quot;[[_character.name|Slaver Slave Description][$activeCharacter = $slaves[&quot; + _s + &quot;]]]&quot;&gt;&gt; to become a &lt;&lt;displayTitle _contract.title &quot;title&quot;&gt;&gt; titled slave who is no less than &lt;&lt;print getObedience(_contract.virtue)&gt;&gt;, &lt;&lt;print getTrust(_contract.virtue)&gt;&gt; and &lt;&lt;print getFear(100-_contract.virtue)&gt;&gt;.
    &lt;br&gt;
    &lt;&lt;print &quot;[[_character.name|Slaver Slave Description][$activeCharacter = $slaves[&quot; + _s + &quot;]]]&quot;&gt;&gt; &lt;&lt;gender _character.sex _character.gender&gt;&gt; is a &lt;&lt;print $maturity[_character.maturity]&gt;&gt; &lt;&lt;race _character.tribe &quot;Description&quot;&gt;&gt; slave who is &lt;&lt;print getObedience(_character.obedience.current)&gt;&gt;, &lt;&lt;print getTrust(_character.trust.current)&gt;&gt; and &lt;&lt;print getFear(_character.fear.current)&gt;&gt;.
    
    &lt;br&gt;&lt;br&gt;
    &lt;&lt;if _character.titles.includes(_contract.title)&gt;&gt;
      @@color:forestgreen;_character.name has obtained the &lt;&lt;displayTitle _contract.title &quot;title&quot;&gt;&gt; title.@@
      
    &lt;&lt;else&gt;&gt;
      @@color:red;_character.name has yet to obtain the &lt;&lt;displayTitle _contract.title &quot;title&quot;&gt;&gt; title.@@
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;br&gt;
    &lt;&lt;if _character.obedience.current &gt;= _contract.virtue&gt;&gt;
      @@color:forestgreen;_character.name&#39;s obedience meets the contract requirement, &lt;&lt;print getObedience(_contract.virtue)&gt;&gt;.@@
      
    &lt;&lt;else&gt;&gt;
      @@color:red;_character.name&#39;s obedience has not met the contract requirement, &lt;&lt;print getObedience(_contract.virtue)&gt;&gt;.@@
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;br&gt;
    &lt;&lt;if _character.trust.current &gt;= _contract.virtue&gt;&gt;
      @@color:forestgreen;_character.name&#39;s trust meets the contract requirement, &lt;&lt;print getTrust(_contract.virtue)&gt;&gt;.@@
      
    &lt;&lt;else&gt;&gt;
      @@color:red;_character.name&#39;s trust has not met the contract requirement, &lt;&lt;print getTrust(_contract.virtue)&gt;&gt;.@@
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;br&gt;
    &lt;&lt;if (100-_character.fear.current) &gt;= _contract.virtue&gt;&gt;
      @@color:forestgreen;_character.name&#39;s fear meets the contract requirement, &lt;&lt;print getFear(100-_contract.virtue)&gt;&gt;.@@
      
    &lt;&lt;else&gt;&gt;
      @@color:red;_character.name&#39;s fear has not met the contract requirement, &lt;&lt;print getFear(100-_contract.virtue)&gt;&gt;.@@
    
    &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;
  &lt;&lt;/for&gt;&gt;

&lt;/table&gt;</tw-passagedata><tw-passagedata pid="300" name="Attribute Description" tags="nobr widget" position="1885,1611" size="100,100">&lt;&lt;widget &quot;attributeDescriptor&quot;&gt;&gt;

&lt;&lt;switch $args[0]&gt;&gt;
  &lt;&lt;case &quot;Lips&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are barely even visible enough to see, let alone be erotic enough to entice anyone.&quot;, &quot;While there are a few people who like slaves with small lips, a large majority would consider &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; small lips to be a major flaw.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is sometimes shamed by others for &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips.&quot;, &quot;Since &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are so small, &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; doesn&#39;t have to put much effort into caring for them.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are barely even visible enough to see, let alone be erotic enough to entice anyone.&quot;, &quot;While there are a few people who like slaves with small lips, a large majority would consider &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; small lips to be a major flaw.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is sometimes shamed by others for &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips.&quot;, &quot;Since &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are so small, &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; doesn&#39;t have to put much effort into caring for them.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips accentuate &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; smile greatly, but aren&#39;t very erotic.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips don&#39;t induce any erotic thoughts, but they do make for a very disarming smile.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are very normal as they are too small to garner any extra attention and are too big to cause any self-esteem issues.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; has a pair of lips that beg to be wrapped around a nice cock or clit.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips often draw some sexual attention from people who see &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are considered the perfect mix of eroticism and wholesomeness for a high-class slave to have.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either(&quot;The first thing people notice about &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is how juicy &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips look.&quot;, &quot;Most men and women consider &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; huge lips a strong indicator of &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; oral skills.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are the perfect size for &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; to be used in a brothel for oral purposes.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; has some trouble speaking due to the large size of &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips.&quot;, &quot;Sometimes &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; bits &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; tongue if &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; speaks to fast due to &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; large lips.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are beginning to get so large that it is causing &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; minor speech problems.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; has to speak slowly because &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are too large for &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; to speak without mispronouncing words.&quot;, &quot;People often consider &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; stupid due to &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; bimbo-esque lips forcing &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; to speak very carefully to prevent mispronunciation of certain words.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; has slowly come to the realization that &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is meant to be seen and used but not heard, as &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; large lips are perfect for former two but terrible for the latter.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either(&quot;When &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; opens &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; mouth to speak, &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; obscenely large lips stay together causing &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; to mispronounce words.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are much to big for &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; to speak normally no matter how hard &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; tries.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; large lips are perfect for sexual purposes but have huge negative effects to &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; ability to communicate orally.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are so large &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; can barely open &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; mouth wide enough to speak.&quot;, &quot;Most people think of forcing &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; onto &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; knees and forcefully face-fucking &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; just because of the size of &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; face-pussy lips will brand &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; as a slave to be used sexually no matter where &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; goes.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips have grown to the point that &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; can&#39;t speak at all, &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; mumbles unintelligibly.&quot;, &quot;Although &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips are too heavy for &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; to lift open &lt;&lt;print $himselfherself[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt;, anyone who wants to use &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; mouth should have no problem shoving a cock or a large enough clit into it.&quot;, &quot;By enlarging &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; lips to this size, you have effectively completely removed &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; ability to communicate orally at all. Even &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; mumbles are too muffled by &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; large lips to understand.&quot;)&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Shoulders&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; feminine shoulders often result in &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; being mistaken for a woman from certain angles.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are very feminine for a man, making &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; seem more like someone currently transitioning.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is complemented often on how womanly &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders look.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; small shoulders are often seen as a sign of weakness when sized up by other men.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is treated as very effeminate due to &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; small shoulder size.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; feminine shoulders often result in &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; being mistaken for a woman from certain angles.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are very feminine for a man, making &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; seem more like someone currently transitioning.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is complemented often on how womanly &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders look.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; small shoulders are often seen as a sign of weakness when sized up by other men.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is treated as very effeminate due to &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; small shoulder size.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are large enough that they don&#39;t make &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; seem effeminate but they are too small to be considered manly.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulder size is perfectly average for a male-sex slave such as &lt;&lt;print $himselfherself[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; isn&#39;t looked down upon for &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulder size but &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; doesn&#39;t get any second-looks because of them either.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are perfectly sized for the casual brothel audience as they are big enough to be seen but not unseemly either.&quot;, &quot;Prospective buyers and customers can tell from the size of &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders that &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; was either well bred, or taken good care of.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; decorous shoulders will bring in plenty of sales if you ever plan to sell &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; body in a brothel.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are large and very attractive, if not a little forbidding. Which is often considered a plus for many prospective slave owners and customers.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; large shoulders speaks to the pedigree of the slaves you have in your stable.&quot;, &quot;Anyone who looks at &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; will get the impression that you have at least intermediate knowledge of slave nutrition and care, which bodes very well for any business you own.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; large shoulders give &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; a boost to &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; self-esteem as people often actively avoid any conflict with &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt;.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders attracts the attention of people who are interested in slaves with larger bodies than normal.&quot;, &quot;Anytime &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; comes into contact with others &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is often complimented for &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; large shoulders.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either(&quot;Some people are scared to be around &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; due to how freakishly large &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders have become so big that it is quite hard to find any clothes that will fit his upper body.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; posture needs constant correcting due to the size of &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either(&quot;You have to order almost all customer clothing for &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; because of how unnaturally large &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; huge shoulders make it very hard for &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; to sit in any seats made for normal-sized people.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; gait has become very awkward because &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; upper body movement is dominated by &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; enormous shoulders.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; has to spend a large amount of time standing as &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; monsterous shoulders make it too difficult to sit unless &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; has a large sofa to &lt;&lt;print $himselfherself[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt;, which isn&#39;t very often for slaves.&quot;, &quot;People actively avoid &lt;&lt;print $himher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; wherever &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is brought because of &lt;&lt;print $hisher[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; scarily large shoulders.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are large enough that &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; has problems walking through doors made large enough for &quot; + $args[2].tribe + &quot;s.&quot;)&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either(&quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders are absolutely unnatural looking and frightning to look at for the normal passerby.&quot;, &quot;&lt;&lt;print $HeShe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; is actively sought out by fringe perverts who either love to be dominated by enormously proportioned slaves, or those who love to dominate them.&quot;, &quot;&lt;&lt;print $HisHer[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; shoulders have reached the absolute largest physically possible, attracting the attention of people no matter where &lt;&lt;print $heshe[&#39;&quot; + $args[2].gender + &quot;&#39;]&gt;&gt; goes.&quot;)&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Hips&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Torso&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Legs&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Butt&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Cock Length&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Cock Girth&quot;&gt;&gt;
    &lt;&lt;if $args[1] &lt;= 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 12&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 14&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 16&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 18&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 20&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Balls&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Bust&quot;&gt;&gt;
    &lt;&lt;if $args[1] &lt;= 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 12&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 14&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 16&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 18&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] &lt;= 20&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Pussy&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Clit&quot;&gt;&gt;
    &lt;&lt;if $args[1] == 1&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 2&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 3&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 4&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 5&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 6&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 7&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 8&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 9&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;elseif $args[1] == 10&gt;&gt;
      &lt;&lt;print either()&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
&lt;&lt;/switch&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="301" name="Masochism" tags="nobr" position="4202,489" size="100,100">&lt;&lt;include &quot;HypnoCheck&quot;&gt;&gt;

&lt;&lt;set _trait = $activeCharacter.hypno.masochism&gt;&gt;

&lt;&lt;switch either(&quot;Humiliation&quot;, &quot;Pain&quot;, &quot;Tool Predilection&quot;)&gt;&gt;
  &lt;&lt;case &quot;Humiliation&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session altering $activeCharacter.name&#39;s idea of humiliation.&#39;&#39;
    
    &lt;&lt;print either(&quot;You sexually arouse &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while shaming &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; the look, size, smell and taste of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; genitalia.&quot;, &quot;You foster a sense of pleasurable humiliation in &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by arousing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; normally, but only allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to cum while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is feeling ashamed.&quot;, &quot;You bar &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from all normal sexual pleasures, and only allow &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to indulge in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; carnal desires while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is performing activities that make &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; ashamed or humiliated under normal circumstances.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is completely unaroused by being humiliated to the point that it turns &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; off instead.
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; gets aroused at the idea of being humiliated but doesn&#39;t outright admit it and even goes to great lengths to hide or excuse &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; arousal when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is humiliated.
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is very open about the fact that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is aroused from feeling ashamed or being humiliated.
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      Being ashamed or humiliated is one of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; greatest sexual pleasures and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; often prefers some form of humiliation play during intercourse.
    &lt;&lt;elseif _trait == 100&gt;&gt;
      Humiliation and pleasure are so deeply ingrained in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has a hard time separating them from one another.
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;case &quot;Pain&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session converting $activeCharacter.name&#39;s sense of pain for pleasure.&#39;&#39;
    
    &lt;&lt;print either(&quot;You compel &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to feel pain inflicted upon &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as pleasure and whip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to multiple orgasms.&quot;, &quot;You induce &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to lessen &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sensitivities until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can only feel pleasure from intense pain.&quot;, &quot;While under hypnosis you raise &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sensitivity to pain and pleasure and lightly caress &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; erogenous zones, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; multiple intensely pleasurable but painful orgasms.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; does not feel any pleasure from enduring weak pain from actions such as spankings, let alone more intense ones like being whipped.
    
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; feels pleasure from light pain-play but anything more than that causes much more discomfort than pleasure.
    
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; feels pleasure from most kinds of pain-play. When aroused &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can even enjoy some of the more extreme practices.
    
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been so conditioned to feeling pain pleasurably that pain can send &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into a state of euphoria if done correctly.
    
    &lt;&lt;elseif _trait == 100&gt;&gt;
      Almost any kind of prolonged pain no matter how weak or intense sends &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into multiple orgasmic spasms, sending &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into a higher level of euphoria.
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;case &quot;Tool Predilection&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session fostering $activeCharacter.name&#39;s predilection for sexual tools used to cause pain and humiliation.&#39;&#39;
    
    &lt;&lt;print either(&quot;You mold &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to accept and enjoy the feel and touch of various sexual tools before using them to tease &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to several orgasms.&quot;, &quot;While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is under hypnosis you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; repeatedly state &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; love for sexual tools.&quot;, &quot;You foster a strong sense of longing for the use of sexual tools by arousing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the point of orgasm, forbidding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do so and only allow &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; release with the help of a sex toy.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t have any kind of predilection to sexual toys and tools that cause pain, pleasure or any form of humiliation.
    
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; can use a multitude of different sexual toys and tools to arouse &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; but prefers not to use them to orgasm.
    
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no problem using any kind of sexual toy to bring &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to orgasm no matter how much pain or humiliation it will bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
    
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is obsessed with using toys during sexual play and often times finds &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual encounters unfulfilling without them.
    
    &lt;&lt;elseif _trait == 100&gt;&gt;
      Sexual toys bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; immense pleasure to the point of bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; multiple fulfilling orgasms.
    
    &lt;&lt;/if&gt;&gt;

&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="302" name="Bimboism" tags="nobr" position="4202,229" size="100,100">&lt;&lt;include &quot;HypnoCheck&quot;&gt;&gt;

&lt;&lt;set _trait = $activeCharacter.hypno.bimbo&gt;&gt;

&lt;&lt;switch either(&quot;Airhead&quot;, &quot;Cleansing&quot;, &quot;Predilection&quot;)&gt;&gt;
  &lt;&lt;case &quot;Airhead&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session whispering bimbonic suggestions into $activeCharacter.name’s ears which increase &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; airheadedness.&#39;&#39;
    
    &lt;&lt;print either(&quot;You continuously explain to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that life would be more easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; kept &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head clear of anything requiring too much brainpower.&quot;, &quot;You unremittingly inform &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is most calm when there is nothing complex on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and that thinking of complex things causes &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; undue stress.&quot;, &quot;You tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; starts to think about anything for too long &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; feels a small headache that disappears as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stops thinking.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
    	$activeCharacter.name is completely unaffected by your hypnotic suggestions. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no inclination to be an airhead and feels no stress thinking of complex ideas.
    
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
    	$activeCharacter.name feels a little bit of stress while thinking about complex ideas, but its nothing more than a minor annoyance.
    
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
    	$activeCharacter.name is receptive to the idea of being an airhead, and already struggles with thinking of complex ideas without being stressed out.
    
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
    	$activeCharacter.name is already predisposed to your bimbonic suggestions. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; rarely thinks of complex ideas and feels at ease whenever &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind is clear of any intruding thoughts.
    
    &lt;&lt;elseif _trait == 100&gt;&gt;
    	$activeCharacter.name’s head is clear of any and all complex subject matter. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has completely fallen for your suggestions, and is now a complete and total airhead. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still has the same learning capacity but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; doesn’t have much going upstairs.
    
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;case &quot;Cleansing&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session cleansing $activeCharacter.name&#39;s mind of any non-bimbonic interests.&#39;&#39;
    
    &lt;&lt;print either(&quot;While $activeCharacter.name is a hypnotic trance, you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; state &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; interests. You focus on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; least bimbonic interests and suggest they aren’t as stimulating as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; once thought.&quot;, &quot;You attempt to remove &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hobbies having anything to do with literature, art or any intellectual interests and suggest that such interests are not only unimportant and boring, but that they cause &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; an undue amount of mental anguish.&quot;, &quot;You plant the idea in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no use for any personal belongings that don&#39;t promote how much of an airheaded and willing sex-object ready for use &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
    	$activeCharacter.name has many interests which don’t befit a bimbo and doesn’t see any problems with indulging in them.
    
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
    	$activeCharacter.name has a decent amount of interests unbefitting of a bimbo and has little to no mental anguish partaking in them.
    
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
    	$activeCharacter.name has small amount of interests which aren’t fit for a bimbo as most of them cause &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; too much mental anguish to enjoy.
    
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
    	A majority of $activeCharacter.name&#39;s intellectual interests have been hypnotically removed. The few interests &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does have which aren’t bimbonic cause &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a lot of mental pain but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is too attached to the interests to quit them completely.
    
    &lt;&lt;elseif _trait == 100&gt;&gt;
    	$activeCharacter.name has been completely cleansed of all intellectual interests. You’ve hypnotized &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the point that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has an aversion to all interests that aren’t bimbonic in nature.
    
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Predilection&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
      &#39;&#39;You spend the hypnosis session implanting bimbonic interests into $activeCharacter.name&#39;s mind.&#39;&#39;
      
      &lt;&lt;print either(&quot;While $activeCharacter.name is in a hypnotic trance you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; hypnotic suggestions that imply that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should only have interests that align with a typical bimbo such as clothing, makeup or who &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has to fuck to get the money to buy them.&quot;, &quot;You suggest that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; take up hobbies like shopping, make-up and generally anything that has to do with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical appearance.&quot;, &quot;You suggest that whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; partakes in a bimbonic interest, that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; feels a rush of dopamine, encouraging &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; attention for bimbonic interests.&quot;)&gt;&gt;
      
      &lt;br&gt;&lt;br&gt;
      
      &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
      
      &lt;&lt;if _trait &lt; 25&gt;&gt;
      	$activeCharacter.name has no interest in picking up any bimbonic hobbies.
      
      &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      	$activeCharacter.name has a kindling interest in finding some bimbonic hobbies.
      
      &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      	$activeCharacter.name has gained a fair amount of bimbonic hobbies but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; interest in them are more fleeting than lasting.
      
      &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      	$activeCharacter.name has a large amount of bimbonic hobbies and interests. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has begun to take them much more serious than what &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; deems as lesser hobbies.
      
      &lt;&lt;elseif _trait == 100&gt;&gt;
      	$activeCharacter.name has been completely consumed by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; interest in bimbonic hobbies. Your hypnotism turned &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into someone who spends most of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; time focusing on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physical appearance.
      
      &lt;&lt;/if&gt;&gt;

&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="303" name="Cum Mania" tags="nobr" position="4202,359" size="100,100">&lt;&lt;include &quot;HypnoCheck&quot;&gt;&gt;

&lt;&lt;set _trait = $activeCharacter.hypno.cum&gt;&gt;

&lt;&lt;switch either(&quot;Cravings&quot;, &quot;Reverence&quot;, &quot;Predilection&quot;)&gt;&gt;
  &lt;&lt;case &quot;Cravings&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session imprinting a craving for cum into $activeCharacter.name.&#39;&#39;
    
    &lt;&lt;print either(&quot;You continually suggest that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has an uncontrollable craving for the sexual fluids from men and women.&quot;, &quot;You have $activeCharacter.name eat a serving of cum while having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; repeat that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; not only enjoys the taste, but loves it more than any other food or drink.&quot;, &quot;You implant the thought into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t physically addicted to cum, but enjoys it so much that if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; goes a prolonged period of time without consuming any that it will eventually consume &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; thoughts until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seeks out a source of cum &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt;.&quot;, &quot;You serve &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; several different foods with cum coated all over them, telling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that the only reason the food tastes so good is because of the cum seasoning.&quot;, &quot;The whole session you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; relax in a large vat of all sorts of cum to help &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; subconsciously get used to the smell, taste, sight and feel of cum.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      $activeCharacter.name has no strong feelings about cum nor does &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; have any kind of inclination towards it.
    
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      $activeCharacter.name is responsive to cum in a positive way, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is by no means addicted to it in any way, shape or form.
    
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
    	$activeCharacter.name will slurp up any kind of cum, anywhere, without any prompting from you or anyone else but is otherwise normal outside of sexual encounters.
    
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
    	$activeCharacter.name can often be seen spacing out when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; goes prolonged periods of time without consuming some sort of cum.
    
    &lt;&lt;elseif _trait == 100&gt;&gt;
    	$activeCharacter.name is completely mentally addicted to cum. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; probably won&#39;t even last a day before without cum before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is sucking every cock and pussy on the streets for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; next fix.
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;case &quot;Reverence&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session imprinting a respect for cum into $activeCharacter.name&#39;s psyche.&#39;&#39;
    
    &lt;&lt;print either(&quot;You have $activeCharacter.name bow and pray to fictional gods of sexual natures, vowing to never allow any cum to go to waste.&quot;, &quot;Before feeding $activeCharacter.name a several bowls of cum you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; give thanks for being allowed to eat such a bountiful and luxurious despite &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lowly position.&quot;, &quot;You present $activeCharacter.name with a sack filled with cum and have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as if it were &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own child while reminding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that its not actually a living thing.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      $activeCharacter.name treats cum like a nuisance more than anything else, especially outside of the bedroom.
    
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      $activeCharacter.name has enough respect for cum to seem physically hurt at times if any goes to waste in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; presence.
    
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      $activeCharacter.name acts exalted anytime cum is deposited into or onto &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; makes sure that none of it goes to waste.
    
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      Being in the mere presence of cum, no matter who its from, causes $activeCharacter.name to elatedly worship it with a enthusiasm rivaling religious zealots.
    &lt;&lt;elseif _trait == 100&gt;&gt;
      $activeCharacter.name is completely worshipful of all cum. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; wouldn&#39;t be more respectful even if the cum was gold that cured all diseases and granted immortality.
    
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Predilection&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session fostering $activeCharacter.name&#39;s predilection for all kinds of genitalia.&#39;&#39;
    
    &lt;&lt;print either(&quot;Using a number of different slime models of different genitalia, you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; memorize the feel, taste and appearance of all of them.&quot;, &quot;You pleasure $activeCharacter.name with various slime models of different genitalia, properly explaining to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that all the pleasure granted to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; is due to the models.&quot;, &quot;You replace some of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; lesser, miscellaneous memories with positive ones featuring all kinds of different genitalia.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      $activeCharacter.name only thinks of genitalia in a sexual manner, and sees them having no other use than for pleasure and child-making.
    
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      $activeCharacter.name&#39;s opinion of genitalia seems to be varied but in general, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; views them positively.
    
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      $activeCharacter.name has a positive view of all genitalia, noting the importance of them despite who or what they might be attached or connected to.
    
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      $activeCharacter.name is almost obsessed with genitalia. If there is a foreign variety of genitalia present &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is the first one to try it out for a spin.
    
    &lt;&lt;elseif _trait == 100&gt;&gt;
      Genitalia is one of the most interesting and grand objects that $activeCharacter.name can think of. The variety in size, color, looks and many other features is more than enough to completely consume &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;&#39;s interest.
    
    &lt;&lt;/if&gt;&gt;

&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="304" name="Sadism" tags="nobr" position="4201,619" size="100,100">&lt;&lt;include &quot;HypnoCheck&quot;&gt;&gt;

&lt;&lt;set _trait = $activeCharacter.hypno.sadism&gt;&gt;

&lt;&lt;switch either(&quot;Predilection&quot;, &quot;Sadism&quot;, &quot;Implements&quot;)&gt;&gt;
  &lt;&lt;case &quot;Predilection&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session hypnotizing $activeCharacter.name into enjoying causing pain to others.&#39;&#39;
    
    &lt;&lt;print either(&quot;You sensually caress &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body, arousing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while you verbally depict erotic situations where &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is causing pain to others.&quot;, &quot;While hypnotized, you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; any erotic situations &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has remembered while you correct &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; on small details, making &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; memories a little more sadistic than before.&quot;, &quot;You have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; masturbate but forbid &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from orgasming unless &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is imagining &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; causing pain to others in an erotic scenario.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; resists the idea that sadism is erotic or that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has had any sadistic moments in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; life.
      
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; isn&#39;t completely against the idea that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; might have some sadistic tendencies, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will deny having any when not hypnotized.
      
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; acknowledges that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; might have some sadistic tendencies or might be a full on sadist but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t ready to let that part of &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; control &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; actions.
      
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is a full on sadist. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; not only fantasizes about inflicting pain on others, but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; seems most at ease when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is able to sate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sadistic desires.
      
    &lt;&lt;elseif _trait == 100&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has allowed &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; erotic desire to harm others completely consume &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; progress has reached the point that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can orgasm from just the thought of causing pain to others.
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;case &quot;Sadism&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session hypnotizing $activeCharacter.name enjoying watching others in pain.&#39;&#39;
    
    &lt;&lt;print either(&quot;You slowly masturbate &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; while describing the eroticism of the subtle muscle twitches, pained faces and contracting tendons on the body of someone experiencing pain.&quot;, &quot;You play gruesome battles through a crystal ball until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t take anymore, then switch to a much more tame erotic but sadistic sex scene, slowly desensitizing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to violence and making &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; more open to erotic sadism.&quot;, &quot;You continually repeat carefully constructed phrase such as &#39;Your sexual partners feel most pleasured while in pain&#39; or &#39;You feel something is missing during sexual encounters where pain is not present&#39; over and over again.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; completely rebels against the idea that seeing anyone in pain can cause feelings of arousal, and instead triggers feelings of compassion.
      
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; understands on a fundamental level how people in pain can seem erotic but personally &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no such feelings.
      
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; feels sexual desire when watching others in pain but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; to hide those desires deep down whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t being hypnotized.
      
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is totally comfortable with being openly aroused at the sight or idea of someone being in pain any period of time.
      
    &lt;&lt;elseif _trait == 100&gt;&gt;
      Seeing or even thinking about someone in pain sends $activeCharacter.name into a lust driven state so strong &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t return to normal until &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; gets some sort of release.
      
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;case &quot;Implements&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session fostering $activeCharacter.name&#39;s predilection for sexual tools used to cause pain and humiliation.&#39;&#39;
    
    &lt;&lt;print either(&quot;You mold &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind to accept and enjoy using various sexual tools before having &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; masturbate to the idea of using them on others.&quot;, &quot;While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is under hypnosis you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; repeatedly state &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; love for sexual tools.&quot;, &quot;You foster a strong sense of longing for the use of sexual tools by arousing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the point of orgasm, forbidding &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to do so and only allow &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; release with the help of a sex toy.&quot;)&gt;&gt;
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;
    
    &lt;&lt;if _trait &lt; 25&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t have any kind of predilection to sexual toys and tools that cause pain, pleasure or any form of humiliation.
    
    &lt;&lt;elseif _trait &lt; 50&gt;&gt;
      The idea of using a multitude of different sexual toys and tools arouses &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; prefers not to use them during sexual encounters.
    
    &lt;&lt;elseif _trait &lt; 75&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no problem using any kind of sexual toy to bring others to orgasm no matter how much pain or humiliation it will bring them.
    
    &lt;&lt;elseif _trait &lt; 100&gt;&gt;
      &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is obsessed with using toys and tools on others during sexual play and often times finds &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sexual encounters unfulfilling without them.
    
    &lt;&lt;elseif _trait == 100&gt;&gt;
      Using sexual toys on others bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; immense pleasure to the point of bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; multiple fulfilling orgasms.
    
    &lt;&lt;/if&gt;&gt;

&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="305" name="Autozoophilia" tags="nobr" position="4201,749" size="100,100">&lt;&lt;include &quot;HypnoCheck&quot;&gt;&gt;

&lt;&lt;set _trait = $activeCharacter.hypno.domesticated&gt;&gt;

&lt;&lt;switch either(&quot;Treatment&quot;, &quot;Acting&quot;, &quot;Paraphernalia&quot;)&gt;&gt;
  &lt;&lt;case &quot;Treatment&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session cultivating $activeCharacter.name&#39;s open-mindedness to being treated like an animal.&#39;&#39;
    
    &lt;&lt;print either(&quot;You degrade, dehumanize and denigrate &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; like a worthless animal while you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; slowly masturbate &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; to your words.&quot;, &quot;You strip &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; naked and have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; parade around with nothing on while under the affect of a mild aphrodisiac to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; used to wearing no clothes.&quot;, &quot;You give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; complex orders and punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; physically when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; fails. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; succeeds you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; an addictive aphrodisiac treat.&quot;)&gt;&gt;
    
  &lt;&lt;case &quot;Acting&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session imprinting animalistic behavior into $activeCharacter.name&#39;s consciousness.&#39;&#39;
    
    &lt;&lt;print either(&quot;You order &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to communicate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; basic needs to one with the stipulation that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can&#39;t use any words and must remain on all fours.&quot;, &quot;You put have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; eat from animal bowls filled with food laced with a very weak aphrodisiac. When not under hypnosis, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will get hot from the idea of eating out of a bowl on the ground.&quot;, &quot;While &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is aroused you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; shamelessly hump anything in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; immediate area if there isn&#39;t anyone to satiate &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; needs. While sober &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will have an increasing urge to hump anything in sight.&quot;)&gt;&gt;

  &lt;&lt;case &quot;Paraphernalia&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session getting $activeCharacter.name used to animal paraphernalia.&#39;&#39;
    
    &lt;&lt;print either(&quot;You apply a generous amount of monster slime around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; neck and slather a training collar with a numbing cream. Within seconds &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; is burning up and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; races to put the collar on to soothe &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pain. When &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; takes it off the pain starts up again, so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; learns to keep the collar on.&quot;, &quot;You give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; the choice to eat from terribly unappetizing food on a table and edible food from a bowl on the floor. The food on the table is quite spicy, while the food on the ground is mild. With continuous sessions &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; propensity for eating from a bowl on the ground will increase.&quot;, &quot;You have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; walk on all fours with a leash around &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; neck while &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is getting active stimulation from sex toys. With time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will associate being on all fours with pleasure.&quot;)&gt;&gt;

&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;

&lt;&lt;if _trait &lt; 25&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no interest whatsoever in being treated or acting like a domesticated animal.
  
&lt;&lt;elseif _trait &lt; 50&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a passing attraction to the idea of being treated like a domesticated animal but it isn&#39;t strong enough for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; desires to manifest in any meaningful way.
  
&lt;&lt;elseif _trait &lt; 75&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a fetish for being a domesticated animal. You&#39;ve seen &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; begin acting like one but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; often catches &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; before &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; goes through with the action.
  
&lt;&lt;elseif _trait &lt; 100&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has given up hiding &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fetish for acting like a domesticated animal. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; will eat out of bowls from the ground and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; eyes light up whenever you bring a leash around &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
  
&lt;&lt;elseif _trait == 100&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is completely domesticated. Not only does &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; have no shame in being naked, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will rarely ever use words unless prompted and refuses to use utensils to eat as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is perfectly fine eating out of a bowl on the ground.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="306" name="Muscle Minded" tags="nobr" position="4201,879" size="100,100">&lt;&lt;include &quot;HypnoCheck&quot;&gt;&gt;

&lt;&lt;set _trait = $activeCharacter.hypno.muscle&gt;&gt;

&lt;&lt;switch either(&quot;Cleansing&quot;, &quot;Predilection&quot;, &quot;Airhead&quot;)&gt;&gt;
  &lt;&lt;case &quot;Cleansing&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session cleansing $activeCharacter.name&#39;s mind of any non-fitness interests.&#39;&#39;
    
    &lt;&lt;print either(&quot;While $activeCharacter.name is a hypnotic trance, you have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; state &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; interests. You focus on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; least fitness related interests and suggest they aren’t as stimulating as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; once thought.&quot;, &quot;You attempt to remove &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; hobbies having anything to do with literature, art or any intellectual interests and suggest that such interests are not only unimportant and boring, but that they cause &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; an undue amount of mental anguish.&quot;, &quot;You plant the idea in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has no use for any personal belongings that don&#39;t promote how much of a musclebound sex symbol readily available for use &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is.&quot;)&gt;&gt;
    
  &lt;&lt;case &quot;Predilection&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session implanting fitness related interests into $activeCharacter.name&#39;s mind.&#39;&#39;
    
    &lt;&lt;print either(&quot;While $activeCharacter.name is in a hypnotic trance you give &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; hypnotic suggestions that imply that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; should only have interests that align with a typical musclehead such as working out, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; daily nutrition or how &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can look the most physically appealing through being fit.&quot;, &quot;You suggest that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; take up hobbies like working out and generally anything that has to do with obtaining and maintaining a physical fit appearance.&quot;, &quot;You suggest that whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; partakes in a fitness related interest, that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; feels a rush of dopamine, encouraging &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; attention for fitness related interests.&quot;)&gt;&gt;

  &lt;&lt;case &quot;Airhead&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;
    &#39;&#39;You spend the hypnosis session whispering fitness related suggestions into $activeCharacter.name’s ears which increase &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; airheadedness.&#39;&#39;
    
    &lt;&lt;print either(&quot;You continuously explain to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that life would be more easier for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; kept &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head clear of anything requiring too much brainpower.&quot;, &quot;You unremittingly inform &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is most calm when there is nothing complex on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mind and that thinking of complex things causes &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; undue stress.&quot;, &quot;You tell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; that whenever &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; starts to think about anything for too long &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; feels a small headache that disappears as soon as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; stops thinking.&quot;)&gt;&gt;

&lt;&lt;/switch&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;include &quot;Hypnotism Results&quot;&gt;&gt;

&lt;&lt;if _trait &lt; 25&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no interest in any fitness related activities as your hypnotic suggestions have been largely ineffective so far. With more suggestions &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will build a lasting influence on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; consciousness.
  
&lt;&lt;elseif _trait &lt; 50&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has begun to pick up some fitness related interests but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will rarely ever partake in them unless its someone else&#39;s idea.
  
&lt;&lt;elseif _trait &lt; 75&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has dropped a lot of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; normal interests and began picking up a lot more fitness related interests, increasing the amount of time &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; spends on them.
  
&lt;&lt;elseif _trait &lt; 100&gt;&gt;
  Most of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; interests are fitness related, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to spend most of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; on them. Its apparent that even when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t partaking in those interests, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is thinking about them.
  
&lt;&lt;elseif _trait == 100&gt;&gt;
  &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has been completely consumed by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fitness related interests. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has no other thoughts besides becoming the most fit version of &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; and how to properly act the role of a sex symbol.
  
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="307" name="Compendium" tags="nobr" position="966,131" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Main&quot;&gt;&gt;
&lt;&lt;set $Stats = 1&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _pages = [&quot;ages&quot;, &quot;codes&quot;, &quot;moods&quot;, &quot;natures&quot;, &quot;races&quot;, &quot;sexes&quot;]&gt;&gt;

&lt;&lt;if !$compendium.page&gt;&gt;
  &lt;&lt;set $compendium.page = &quot;Ages&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;tr&gt;&lt;th class = &quot;nobottom&quot;&gt;&lt;h3&gt;
&lt;span id=&#39;main&#39;&gt;
  &lt;&lt;set _pagecount = 0&gt;&gt;
  &lt;&lt;for _p = 0; _p &lt; _pages.length;_p++&gt;&gt;
    &lt;&lt;set _page = _pages[_p]&gt;&gt;
    &lt;&lt;set _Page = capitalizeSentence(_page)&gt;&gt;
    
    &lt;&lt;if _pagecount &gt; 0&gt;&gt;
      |
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if $compendium.page == _Page&gt;&gt;
      _Page
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _Page + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.page = &#39;&quot; + _Page + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = null&gt;&gt;&lt;&lt;replace &#39;#main&#39;&gt;&gt;&lt;&lt;compendium &#39;Main&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + _Page + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _pagecount++&gt;&gt;
    
  &lt;&lt;/for&gt;&gt;
&lt;/span&gt;
&lt;/h3&gt;&lt;/th&gt;&lt;/tr&gt;

&lt;span id=&#39;info&#39;&gt;
  &lt;&lt;compendium $compendium.page&gt;&gt;
&lt;/span&gt;
    
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="308" name="Races" tags="nobr" position="138,776" size="100,100">&lt;&lt;set $races = [&quot;Hume&quot;, &quot;Beastman&quot;, &quot;Monster&quot;, &quot;Elf&quot;]&gt;&gt;
&lt;&lt;set $tribes = [&quot;Canus&quot;, &quot;Dark Elf&quot;, &quot;Dwarf&quot;, &quot;Forest Elf&quot;, &quot;Giant&quot;, &quot;Gnome&quot;, &quot;Goblin&quot;, &quot;High Elf&quot;, &quot;Holstaur&quot;, &quot;Human&quot;, &quot;Minotaur&quot;, &quot;Mongrel&quot;, &quot;Moon Rabbit&quot;, &quot;Neko&quot;, &quot;Orc&quot;, &quot;Pantheran&quot;]&gt;&gt;

&lt;&lt;set $raceRarity = {common:null, uncommon:null, unique:null, rare:null}&gt;&gt;
&lt;&lt;set $raceRarity.common = [&quot;Human&quot;, &quot;Canus&quot;, &quot;Neko&quot;, &quot;Goblin&quot;]&gt;&gt;
&lt;&lt;set $raceRarity.uncommon = [&quot;Dwarf&quot;, &quot;Gnome&quot;, &quot;Mongrel&quot;, &quot;Pantheran&quot;, &quot;Holstaur&quot;, &quot;Minotaur&quot;]&gt;&gt;
&lt;&lt;set $raceRarity.unqiue = [&quot;Giant&quot;, &quot;Forest Elf&quot;, &quot;Moon Rabbit&quot;, &quot;Orc&quot;]&gt;&gt;
&lt;&lt;set $raceRarity.rare = [&quot;High Elf&quot;, &quot;Dark Elf&quot;]&gt;&gt;</tw-passagedata><tw-passagedata pid="309" name="Common - Backdoor Slave Sale - Start" tags="nobr" position="1896,2650" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Backdoor Slave Sale&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

During the week a hooded figure approached your estate with a chained slave in tow. You can tell by the figure&#39;s sketchy appearance that the slave they are selling isn&#39;t exactly &#39;above board&#39;. You surmise that the slave has either been kidnapped, stolen from another entity or has been tricked into slavery. Buying a slave from someone this shady just isn&#39;t good business practice but you know that you&#39;ll get the slave at a discounted price. You can buy the slave now and hope that it doesn&#39;t bite you in the ass or you can send the hooded figure away.

&lt;&lt;set _discount = 0.8&gt;&gt;
&lt;&lt;set $slavePrice = $activeCharacter.price * _discount&gt;&gt;
&lt;&lt;include &quot;Unowned Slave Description&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Buy the slave.&quot;&gt;&gt;
[[_scenename|Common - Backdoor Slave Sale - End][$events.choice = &quot;Buy Slave&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Send the hooded figure on its way.&quot;&gt;&gt;
[[_scenename|Common - Backdoor Slave Sale - End][$events.choice = &quot;Send Away&quot;]]</tw-passagedata><tw-passagedata pid="310" name="Common - Backdoor Slave Sale - End" tags="nobr noreturn" position="1896,2780" size="100,100">&lt;center&gt;&lt;titled&gt;Backdoor Slave Sale&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Buy Slave&quot;&gt;&gt;
    &lt;b&gt;You have purchased $activeCharacter.name!&lt;/b&gt; &lt;br&gt;
    The hooded figure hands over &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chain and thanks you for purchasing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You turn to let $activeCharacter.name into the estate but by the time you turn around the hooded figure has already disappeared. If you had any doubts before, now you&#39;re sure that this sale wasn&#39;t authentic but its too late to do anything now. You lead $activeCharacter.name into the estate by &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chain and close the door behind you.
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;set $activeCharacter.origin = &quot;You bought &quot; + $activeCharacter.name + &quot; from a mysterious hooded figure.&quot;&gt;&gt;
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Backdoor Slave Sale@@&quot;, &quot;You bought $activeCharacter.name from a hooded figure that showed up to your door with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in chains. There is no doubt in your mind that this transaction was not authorized by the state.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Backdoor Slave Sale - Buy Slave&quot;)&gt;&gt;
    &lt;&lt;run addSlave($activeCharacter, $slavePrice)&gt;&gt;
    
  &lt;&lt;case &quot;Send Away&quot;&gt;&gt;
    &lt;b&gt;You send the hooded figure away!&lt;/b&gt; &lt;br&gt;
    Whether you&#39;ve decided the slave is of poor quality or too expensive, you realize that this deal is much too shady to show any interest in. For all you know this slave could be from a noble family, which could cause you an unnecessary amount of trouble if it were to be found out. While it is regrettable you won&#39;t get any discounts on your store bought slaves, you are perfectly happy knowing that all the slaves you own are 100% legal.
    
&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="311" name="Unowned Slave Description" tags="nobr noreturn notruereturn" position="358,1293" size="100,100">&lt;&lt;if [&quot;Unowned Slave Description&quot;].includes(passage()) &gt;&gt;
	&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
	&lt;&lt;include &quot;Descriptors&quot;&gt;&gt;
	&lt;&lt;set $Return = 1&gt;&gt;
	&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _height = getHeight($activeCharacter.height)&gt;&gt;
&lt;&lt;set _obedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _fear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _sanity = getSanity($activeCharacter.sanity)&gt;&gt;
&lt;&lt;set _trust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _nature = capitalize($activeCharacter.nature)&gt;&gt;
&lt;&lt;set _gape = getGape($activeCharacter.gape)&gt;&gt;

&lt;&lt;if $activeCharacter.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;knotted&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;pantheran&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;barbed&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;minataur&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;bull&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;orc&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cock = $race[$activeCharacter.skintone]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _maturity = $maturity[$activeCharacter.maturity]&gt;&gt;
&lt;&lt;set _maturitytext = extractWord(_maturity)&gt;&gt;

&lt;hr&gt;&lt;center&gt;
&lt;h3&gt;&lt;&lt;race $activeCharacter.tribe &quot;Main Menu&quot;&gt;&gt; $activeCharacter.name &lt;&lt;gender $activeCharacter.sex $activeCharacter.gender&gt;&gt;&lt;/h3&gt;

&lt;br&gt;

&lt;&lt;traitdesc $activeCharacter.title $activeCharacter&gt;&gt;
&lt;&lt;traitdesc $activeCharacter.tribe $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.sex == &quot;male&quot; &amp;&amp; $activeCharacter.stats.sissification == 100&gt;&gt;
	&lt;&lt;traitdesc &quot;sissy&quot; $activeCharacter&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;traitdesc $activeCharacter.sex $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc _maturitytext $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.pregnancy.status&gt;&gt;
	&lt;&lt;traitdesc &quot;pregnant&quot; $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;&lt;if !_damage&gt;&gt;
	&lt;br&gt;
	&lt;&lt;if $slavePrice&gt;&gt;
		&lt;&lt;set $price = Math.round10($slavePrice)&gt;&gt;
	
	&lt;&lt;elseif !$price&gt;&gt;
		&lt;&lt;set $price = Math.round10($activeCharacter.price * _discount)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; costs @@color:lightgreen;💎&lt;&lt;print commify($price)&gt;&gt;@@.


	&lt;br&gt;&lt;br&gt;
	&lt;&lt;if $bupdate&gt;&gt;
		You get to the auction early so you have time to appraise $activeCharacter.name to see if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is worth the price. From what the seller has told you $activeCharacter.name is _obedience, _fear, _trust and &lt;&lt;print $intelligence[$activeCharacter.intelligence]&gt;&gt;.
		
	&lt;&lt;else&gt;&gt;
		You get the owner to give you some time to appraise $activeCharacter.name to see if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is worth the price. From what the seller has told you $activeCharacter.name is _obedience, _fear, _trust and &lt;&lt;print $intelligence[$activeCharacter.intelligence]&gt;&gt;.
		
	&lt;&lt;/if&gt;&gt;
	
&lt;&lt;elseif _workers&gt;&gt;
	&lt;br&gt;&lt;br&gt;

	The _workers bring you $activeCharacter.name so you can appraise &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. According to the _workers, $activeCharacter.name has been _obedience, _fear, _trust and &lt;&lt;print $intelligence[$activeCharacter.intelligence]&gt;&gt;. 

&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _maturity = extractWord($maturity[$activeCharacter.maturity])&gt;&gt;
&lt;&lt;set _an = AvsAn.query(_maturity)&gt;&gt;

From what you can see &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;s _an &lt;&lt;print $maturity[$activeCharacter.maturity]&gt;&gt;

&lt;&lt;if $activeCharacter.skintone&gt;&gt;
	$activeCharacter.skintone
&lt;&lt;elseif $activeCharacter.fur&gt;&gt;
	$activeCharacter.fur furred
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.tribe&gt;&gt;
	$activeCharacter.tribe.
&lt;&lt;else&gt;&gt;
	$activeCharacter.race.
&lt;&lt;/if&gt;&gt;

$activeCharacter.name&#39;s face is &lt;&lt;print $beauty[$activeCharacter.beauty]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is _height, &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt; and looks &lt;&lt;print $health[$activeCharacter.health]&gt;&gt;.

&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has $activeCharacter.eyedescriptor $activeCharacter.eyecolor eyes and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; $activeCharacter.haircolor hair is styled $activeCharacter.hairstyle.

&lt;&lt;physicalTraits $activeCharacter &quot;Race&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.lips.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has &lt;&lt;print $lips[$activeCharacter.lips.current]&gt;&gt; lips. 
	&lt;&lt;attributeDescriptor &quot;Lips&quot; $activeCharacter.lips.current $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.shoulders.current &amp;&amp; $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders and &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.shoulders.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;

&lt;&lt;elseif $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.hips.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips are &lt;&lt;print $hips[$activeCharacter.hips.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.legs.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has two &lt;&lt;print $legs[$activeCharacter.legs.current]&gt;&gt; legs.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.bust.current &gt; 1&gt;&gt;
	$activeCharacter.name has &lt;&lt;print $inverted[$activeCharacter.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $bust[$activeCharacter.bust.current]&gt;&gt; sized breasts.
&lt;&lt;else&gt;&gt;
	$activeCharacter.name has &lt;&lt;print $inverted[$activeCharacter.inverted]&gt;&gt; nipples on &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; chest.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.girth.current &gt; 0&gt;&gt;
	&lt;&lt;set _girth = extractWord($girth[$activeCharacter.girth.current])&gt;&gt;
	&lt;&lt;set _an = AvsAn.query(_girth)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.cock.current &gt; 0 &amp;&amp; $activeCharacter.girth.current &gt; 0 &amp;&amp; $activeCharacter.balls.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has _an &lt;&lt;print $girth[$activeCharacter.girth.current]&gt;&gt; &lt;&lt;print $cock[$activeCharacter.cock.current]&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; _cock cock and a pair of &lt;&lt;print $balls[$activeCharacter.balls.current]&gt;&gt; balls.

&lt;&lt;elseif $activeCharacter.cock.current &gt; 0 &amp;&amp; $activeCharacter.girth.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has _an &lt;&lt;print $girth[$activeCharacter.girth.current]&gt;&gt; &lt;&lt;print $cock[$activeCharacter.cock.current]&gt;&gt; &lt;&lt;print $circumcised[$activeCharacter.circumcised]&gt;&gt; _cock cock.

&lt;&lt;elseif $activeCharacter.balls.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a pair of &lt;&lt;print $balls[$activeCharacter.balls.current]&gt;&gt; balls.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.pussy.current &gt; 0&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; pussy is &lt;&lt;print $pussy[$activeCharacter.pussy.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.clit.current &gt; 0&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has a &lt;&lt;print $clitoris[$activeCharacter.clit.current]&gt;&gt; and &lt;&lt;print $hooded[$activeCharacter.hooded]&gt;&gt; clit.
&lt;&lt;/if&gt;&gt;

&lt;br&gt;&lt;br&gt;

You motion &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to turn around and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; does, showing you &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $butt[$activeCharacter.gender][$activeCharacter.butt.current]&gt;&gt; ass.

&lt;&lt;if $activeCharacter.gape == 100&gt;&gt;
	 &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole has been _gape to the point that you can fit multiple intrusions into &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; asshole without causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; any pain.

&lt;&lt;elseif $activeCharacter.gape &gt;= 80&gt;&gt;
	$&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape and can accommodate almost any size intrusion.

&lt;&lt;elseif $activeCharacter.gape &gt;= 60&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape and as long as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; uses lube &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can accommodate people of any size.

&lt;&lt;elseif $activeCharacter.gape &gt;= 40&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; ass has been _gape. It can fit a full sized intrusion but anything larger than that can cause pain even with lube.

&lt;&lt;elseif $activeCharacter.gape &gt;= 20&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape but it has seen some use.

&lt;&lt;elseif $activeCharacter.gape &gt;= 0&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; asshole is _gape. You can barely fit your finger in it, let alone a full sized intrusion.

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.virgin&gt;&gt;
	$activeCharacter.name is a @@color:green;virgin@@,
&lt;&lt;else&gt;&gt;
	$activeCharacter.name is not a virgin,
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.analvirgin&gt;&gt;
	&lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is an @@color:green;anal virgin@@.
&lt;&lt;else&gt;&gt;
	&lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is not an anal virgin.
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="312" name="Common - Hard Times - Start" tags="nobr" position="2026,2650" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Hard Times&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

While walking through the streets of Waiross you come across a street peddler selling a few slaves. This isn&#39;t unusual for a city with a lot of slave labour but something is a little different this time around; you actually know one of the slaves being sold. $activeCharacter.name is an acquaintance of yours who you have known to be poor with money, but you never imagined that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would end up being enslaved. You ponder whether you should buy &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; or not. On one hand since you know &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has a little more trust built up for you than regular store bought slaves but on the other hand &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will be less obedient since &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is being bought by someone who knows &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.

&lt;&lt;set _discount = 1&gt;&gt;
&lt;&lt;set $slavePrice = $activeCharacter.price * _discount&gt;&gt;
&lt;&lt;set $activeCharacter.trust.base = Math.clamp($activeCharacter.trust.base+20, 0, 100)&gt;&gt;
&lt;&lt;set $activeCharacter.obedience.base = Math.clamp($activeCharacter.obedience.base-20, 0, 100)&gt;&gt;
&lt;&lt;include &quot;Unowned Slave Description&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Buy your acquaintance.&quot;&gt;&gt;
[[_scenename|Common - Hard Times - End][$events.choice = &quot;Buy Slave&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Walk away and pretend like you never saw &quot; + $himher[$activeCharacter.gender] + &quot;.&quot;&gt;&gt;
[[_scenename|Common - Hard Times - End][$events.choice = &quot;Walk Away&quot;]]</tw-passagedata><tw-passagedata pid="313" name="Common - Hard Times - End" tags="nobr noreturn" position="2026,2780" size="100,100">&lt;center&gt;&lt;titled&gt;Hard Times&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Buy Slave&quot;&gt;&gt;
    &lt;b&gt;You have purchased $activeCharacter.name!&lt;/b&gt; &lt;br&gt;
    You give the street vendor their money and collect $activeCharacter.name from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cage. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is a little bit happier to see someone who knows &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; new master. You can tell you will need to break &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; in so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; understands &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; position as a slave now.
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
    &lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;
    &lt;&lt;run increaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
    &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
    
    &lt;&lt;if _mood.old != _mood.new&gt;&gt;
      $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set $activeCharacter.origin = &quot;You bought &quot; + $activeCharacter.name + &quot; from a street vendor.&quot;&gt;&gt;
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Hard Times@@&quot;, &quot;You bought $activeCharacter.name, an acquaintance of yours who has fallen on hard times $activeCharacter.name from a street vendor. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is a little bit happier to see someone who knows &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; is &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; new master but will most likely need extra training as &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; wasn&#39;t born a slave.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Hard Times - Buy Slave&quot;)&gt;&gt;
    &lt;&lt;run addSlave($activeCharacter, $slavePrice)&gt;&gt;
    
  &lt;&lt;case &quot;Send Away&quot;&gt;&gt;
    &lt;b&gt;You completely ignore $activeCharacter.name!&lt;/b&gt; &lt;br&gt;
    You&#39;re only acquaintances and as such you have no obligation to bring &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; out of the hole &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; put &lt;&lt;print $himselfherself[$activeCharacter.gender]&gt;&gt; into. If &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; really is so financially impaired &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; got enslaved, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; would probably have an entitled attitude if you buy &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. That is exactly what you&#39;re not looking for in a slave you plan to turn a profit on. If $activeCharacter.name is lucky &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will get an owner who isn&#39;t too cruel.
    
&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="314" name="Common - Trespasser - Start" tags="nobr" position="2156,2650" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;center&gt;&lt;titled&gt;Trespasser&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

You have been getting reports someone has been skulking around your estate. This is a large cause for concern, as someone may be targeting your merchandise, including any slaves. You alert the city authorities about the issue and temporarily keep a vigilant eye on your estate grounds during the night time. Sure enough, four days from you taking the necessary precautions the city authorities catch the perpetrator sneaking around your home and business. As it turns out, this person is a repeat offender and has been stealing small items here and there from the rich to pay for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; debts. Since this is &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; third offense, &lt;&lt;print $heshe [$activeCharacter.gender]&gt;&gt; will be sentenced to the gallows. However, since &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; last crime was committed against you, the city has offered to sell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to you first for a discounted price.

&lt;&lt;set _discount = 0.5&gt;&gt;
&lt;&lt;set $slavePrice = $activeCharacter.price * _discount&gt;&gt;
&lt;&lt;include &quot;Unowned Slave Description&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Save &quot; + $activeCharacter.name + &quot; from hanging by buying &quot; + $himher[$activeCharacter.gender] + &quot;.&quot;&gt;&gt;
[[_scenename|Common - Trespasser - End][$events.choice = &quot;Buy Slave&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Let &quot; + $activeCharacter.name + &quot; hang.&quot;&gt;&gt;
[[_scenename|Common - Trespasser - End][$events.choice = &quot;Let Hang&quot;]]</tw-passagedata><tw-passagedata pid="315" name="Common - Trespasser - End" tags="nobr noreturn" position="2156,2780" size="100,100">&lt;center&gt;&lt;titled&gt;Trespasser&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Buy Slave&quot;&gt;&gt;
    &lt;b&gt;You have purchased $activeCharacter.name!&lt;/b&gt; &lt;br&gt;
    While letting $activeCharacter.name hang is a punishment in itself, you decide that you would rather buy &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; and punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; yourself. With enough training and discipline you can remove &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; nasty predilection for stealing and turn &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; into a proper asset. For &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; current price &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a steal, so there is no real downside in buying &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. If it doesn&#39;t work out you can always sell &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for a higher price.
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;set $activeCharacter.origin = $activeCharacter.name + &quot; was caught stealing from you and was sentenced to the gallows but you bought &quot; + $himher[$activeCharacter.gender] + &quot; from the city, saving &quot; + $himher[$activeCharacter.gender] + &quot; from &quot; + $hisher[$activeCharacter.gender] + &quot; death.&quot;&gt;&gt;
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Trespasser@@&quot;, &quot;$activeCharacter.name has been caught trying to steal from your estate after performing a series of robberies. You bought &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; from the city for a discount since they were going to send &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the gallows so you could deal with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; punishment yourself.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Trespasser - Buy Slave&quot;)&gt;&gt;
    &lt;&lt;run addSlave($activeCharacter, $slavePrice)&gt;&gt;
    
  &lt;&lt;case &quot;Let Hang&quot;&gt;&gt;
    &lt;b&gt;You decide not to buy $activeCharacter.name!&lt;/b&gt; &lt;br&gt;
    You have no room for unvetted slaves, especially if they&#39;re known to be thieves. If $activeCharacter.name were to commit a crime against someone other than yourself, you would be liable for any damages that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; causes. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; cheap price isn&#39;t worth the risk, and if you want a slave similar to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; it shouldn&#39;t be too hard to find. You don&#39;t feel sorry for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; either and if your schedule allows for it, you may just go down to the gallows and watch &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; being hung.
    
&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="316" name="Common - Thicker Than Water - Start" tags="nobr" position="2286,2650" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set $identity = {seller:null, gender:null, slave:null, relation:null}&gt;&gt;
&lt;&lt;set $identity.seller = either(&quot;man&quot;, &quot;woman&quot;)&gt;&gt;

&lt;&lt;if $identity.seller == &quot;man&quot;&gt;&gt;
  &lt;&lt;set $identity.gender = &quot;male&quot;&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;set $identity.gender = &quot;female&quot;&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.maturity == 1&gt;&gt;
  &lt;&lt;if $activeCharacter.gender == &quot;male&quot;&gt;&gt;
    &lt;&lt;set $identity.slave = &quot;son&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $identity.slave = &quot;daughter&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $activeCharacter.maturity == 2&gt;&gt;
  &lt;&lt;if $activeCharacter.gender == &quot;male&quot;&gt;&gt;
    &lt;&lt;set $identity.slave = &quot;father&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $identity.slave = &quot;mother&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $activeCharacter.maturity == 3&gt;&gt;
  &lt;&lt;if $activeCharacter.gender == &quot;male&quot;&gt;&gt;
    &lt;&lt;set $identity.slave = &quot;grandfather&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $identity.slave = &quot;grandmother&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.maturity == 1&gt;&gt;
  &lt;&lt;if $identity.gender == &quot;male&quot;&gt;&gt;
    &lt;&lt;set $identity.relation = &quot;father&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $identity.relation = &quot;mother&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $activeCharacter.maturity == 2&gt;&gt;
  &lt;&lt;if $identity.gender == &quot;male&quot;&gt;&gt;
    &lt;&lt;set $identity.relation = &quot;son&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $identity.relation = &quot;daughter&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $activeCharacter.maturity == 3&gt;&gt;
  &lt;&lt;if $identity.gender == &quot;male&quot;&gt;&gt;
    &lt;&lt;set $identity.relation = &quot;grandson&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $identity.relation = &quot;granddaughter&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;center&gt;&lt;titled&gt;Thicker Than Water&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

A $identity.seller has approached you with a slave in hand. You can tell from &lt;&lt;print $hisher[$identity.gender]&gt;&gt; destitute face &lt;&lt;print $heshe[$identity.gender]&gt;&gt; is trying to sell a slave but isn&#39;t having much luck. You ask &lt;&lt;print $himher[$identity.gender]&gt;&gt; what&#39;s the story behind how &lt;&lt;print $heshe[$identity.gender]&gt;&gt; acquired &lt;&lt;print $hisher[$identity.gender]&gt;&gt; slave and &lt;&lt;print $heshe[$identity.gender]&gt;&gt; says its &lt;&lt;print $hisher[$identity.gender]&gt;&gt; $identity.slave. 

&lt;&lt;set _discount = 0.75&gt;&gt;
&lt;&lt;set $slavePrice = $activeCharacter.price * _discount&gt;&gt;
&lt;&lt;include &quot;Unowned Slave Description&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _scenename = &quot;Buy &quot; + $activeCharacter.name + &quot; from &quot; + $hisher[$activeCharacter.gender] + &quot; &quot; + $identity.relation + &quot;.&quot;&gt;&gt;
[[_scenename|Common - Thicker Than Water - End][$events.choice = &quot;Buy Slave&quot;]]
&lt;br&gt;

&lt;&lt;set _scenename = &quot;Decline to buy &quot; + $activeCharacter.name + &quot; from &quot; + $hisher[$activeCharacter.gender] + &quot; &quot; + $identity.relation + &quot;.&quot;&gt;&gt;
[[_scenename|Common - Thicker Than Water - End][$events.choice = &quot;Decline&quot;]]</tw-passagedata><tw-passagedata pid="317" name="Common - Thicker Than Water - End" tags="nobr noreturn" position="2287,2780" size="100,100">&lt;center&gt;&lt;titled&gt;Thicker Than Water&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;switch $events.choice&gt;&gt;
  &lt;&lt;case &quot;Buy Slave&quot;&gt;&gt;
    &lt;b&gt;You have purchased $activeCharacter.name!&lt;/b&gt; &lt;br&gt;
    It is quite common for slaves to be sold by their own family members and $activeCharacter.name is no exception. Whatever the reason, you&#39;re glad you were able to get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for a discounted price. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; $identity.relation is clearly sad &lt;&lt;print $heshe[$identity.gender]&gt;&gt; had to sell &lt;&lt;print $hisher[$identity.gender]&gt;&gt; $identity.slave but you see a little hope in &lt;&lt;print $hisher[$identity.gender]&gt;&gt; eyes when you hand &lt;&lt;print $himher[$identity.gender]&gt;&gt; the money. It seems like whatever desperate situation &lt;&lt;print $heshe[$identity.gender]&gt;&gt; found &lt;&lt;print $himselfherself[$identity.gender]&gt;&gt; in can be solved with money.
    
    &lt;br&gt;&lt;br&gt;
    
    &lt;&lt;set $activeCharacter.origin = $activeCharacter.name + &quot;&#39;s &quot; + $identity.relation + &quot; sold &quot; + $himher[$activeCharacter.gender] + &quot; to you.&quot;&gt;&gt;
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Thicker Than Water@@&quot;, &quot;You bought $activeCharacter.name from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &quot; + $identity.relation + &quot;. A relative being sold by another relative isn&#39;t unusual, as commoners often find themselves in desperate situations leaving them with no choice but the sell the only assets they have - their own flesh and blood.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Thicker Than Water - Buy Slave&quot;)&gt;&gt;
    &lt;&lt;run addSlave($activeCharacter, $slavePrice)&gt;&gt;
    
  &lt;&lt;case &quot;Decline&quot;&gt;&gt;
    &lt;b&gt;You decide not to buy $activeCharacter.name from &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; $identity.relation!&lt;/b&gt; &lt;br&gt;
    Normally when a person is selling their own family member its because that person can&#39;t support themselves and puts too much burden on everyone else. There is no reason for you to pay money so you can own a dead weight when there are perfectly fine slaves for you to purchase at the slave market.
    
&lt;&lt;/switch&gt;&gt;</tw-passagedata><tw-passagedata pid="318" name="Slave History" tags="nobr" position="488,1288" size="100,100">&lt;&lt;if $summary.history == 1&gt;&gt;
  &lt;b&gt;[[Slave History|Slave Description][$summary.history = 0]]&lt;/b&gt;

&lt;&lt;elseif $summary.history == 0&gt;&gt;
  &lt;b&gt;[[Slave History|Slave Description][$summary.history = 1]]&lt;/b&gt;
  
&lt;&lt;/if&gt;&gt;

| 

&lt;&lt;if !$activeCharacter.history.length&gt;&gt;
  &lt;b&gt;$activeCharacter.name has absolutely no history with you.&lt;/b&gt;
  
&lt;&lt;elseif $activeCharacter.history.length &lt;= 5&gt;&gt;
  &lt;b&gt;$activeCharacter.name has a little history with you.&lt;/b&gt;
  
&lt;&lt;elseif $activeCharacter.history.length &lt;= 10&gt;&gt;
  &lt;b&gt;$activeCharacter.name has a decent amount of history with you.&lt;/b&gt;
  
&lt;&lt;elseif $activeCharacter.history.length &lt;= 15&gt;&gt;
  &lt;b&gt;$activeCharacter.name has a very storied history with you.&lt;/b&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if $summary.history || !$activeCharacter.history.length&gt;&gt;
  &lt;br&gt;
  
  &lt;&lt;if !$activeCharacter.history.length&gt;&gt;
    This may be because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is a new slave, or by chance &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; hasn&#39;t had any event yet. Because of this, you know little about who &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is and what &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; true personality is like. It will take a lot more time to get to know &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;.
    
  &lt;&lt;elseif $activeCharacter.history.length &lt;= 5&gt;&gt;
    You still know barely enough about &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but you do understand &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; temperament to some degree. It&#39;ll take a lot more time before you will completely understand &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as the personality &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; shows now could drastically change depending on future events and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own actions.
    
  &lt;&lt;elseif $activeCharacter.history.length &lt;= 10&gt;&gt;
    You have gotten to know quite a bit about &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; actions during past events have gained you a reasonable grasp on who &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is as a person. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; still has room to grow and can change drastically but the person you know &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; as today will most likely be who &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is for the rest of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; life.
    
  &lt;&lt;elseif $activeCharacter.history.length &gt; 10&gt;&gt;
    You know a great deal about &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. You&#39;ve been close enough to &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to get a good understanding of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; personality. While it is still possible for future events to change &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; temperament, the way &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is now will likely remain the same throughout &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; life as your slave.
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;br&gt;&lt;br&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;table class=&quot;Scroll&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
    &lt;tr&gt;&lt;th class = &quot;history&quot;&gt;$activeCharacter.name&#39;s History Log&lt;/th&gt;&lt;/tr&gt;
    &lt;tbody&gt;
    &lt;&lt;for _h=0;_h &lt; $activeCharacter.history.length;_h++&gt;&gt;
      &lt;tr&gt;&lt;td class = &quot;history&quot;&gt;&lt;&lt;print $activeCharacter.history[_h]&gt;&gt;&lt;/td&gt;&lt;/tr&gt;
    &lt;&lt;/for&gt;&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;br&gt;
  
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="319" name="Healthbar Widget" tags="nobr widget" position="1755,1741" size="100,100">&lt;&lt;widget &quot;healthbar&quot;&gt;&gt;

&lt;&lt;if $args[1] == &quot;Health&quot;&gt;&gt;
  &lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
  &lt;&lt;set _ee = $args[0].condition.progress / 100&gt;&gt;
  &lt;&lt;set _bars = 30&gt;&gt;
  
&lt;&lt;elseif $args[1] == &quot;Stamina&quot;&gt;&gt;
  &lt;&lt;set _statcolor = &quot;green&quot;&gt;&gt;
  &lt;&lt;set _ee = (100 - $args[0].fatigue.progress) / 100&gt;&gt;
  &lt;&lt;set _bars = 30&gt;&gt;
  
&lt;&lt;elseif $args[1] == &quot;BPopularity&quot;&gt;&gt;
  &lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
  &lt;&lt;set _ee = $args[0].popularity.brothel / 120&gt;&gt;
  &lt;&lt;set _bars = 63&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * _bars)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * _bars)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _gone = _bars - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _cstat = &#39;[@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _gstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@]&#39;&gt;&gt;
&lt;&lt;print _cstat + _gstat&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="320" name="Brothel UI" tags="nobr" position="136,1021" size="100,100">&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;&lt;set _table = &quot;&quot;&gt;&gt;
&lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;

&lt;&lt;if $estate.brothel.page == &quot;Overview&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 30&gt;&quot;&gt;&gt;
  
  &lt;&lt;if $summary.slaveinfo == 2&gt;&gt;
    &lt;&lt;set _table += &quot;[[Overview|Main Menu][$summary.slaveinfo = 0]]&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;elseif $summary.slaveinfo == 0&gt;&gt;
    &lt;&lt;set _table += &quot;[[Overview|Main Menu][$summary.slaveinfo = 1]]&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;elseif $summary.slaveinfo == 1&gt;&gt;
    &lt;&lt;set _table += &quot;[[Overview|Main Menu][$summary.slaveinfo = 2]]&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 30&gt;[[Overview|Main Menu][$estate.brothel.page = &#39;Overview&#39;]]&lt;/th&gt;&quot;&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.page == &quot;Presentation&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 30&gt;Presentation&lt;/th&gt;&quot;&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 30&gt;[[Presentation|Main Menu][$estate.brothel.page = &#39;Presentation&#39;, $style = $estate.brothel.style]]&lt;/th&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.page == &quot;Management&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 30&gt;Management&lt;/th&gt;&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 30&gt;[[Management|Main Menu][$estate.brothel.page = &#39;Management&#39;]]&lt;/th&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.brothel.page == &quot;Competition&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 30&gt;Competition&lt;/th&gt;&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 30&gt;[[Competition|Main Menu][$estate.brothel.page = &#39;Competition&#39;]]&lt;/th&gt;&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;

&lt;&lt;if $estate.brothel.page == &quot;Overview&quot;&gt;&gt;
  &lt;&lt;set _ratio = 0&gt;&gt;
  &lt;&lt;set _characters = 0&gt;&gt;
  &lt;&lt;set _procurer = 0&gt;&gt;
  
  &lt;&lt;if $PC.location == &quot;brothel&quot;&gt;&gt;
    &lt;&lt;set _ratio += getFocusRatio($PC, $estate)&gt;&gt;
    &lt;&lt;set _characters++&gt;&gt;
    
    &lt;&lt;if $PC.position == &quot;Procurer&quot;&gt;&gt;
      &lt;&lt;set _procurer = 1&gt;&gt;
      &lt;&lt;set $estate.brothel.procurer = $PC.ID&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;for _s = 1; _s &lt;= $slaves.amount; _s++&gt;&gt;
    &lt;&lt;set _character = $slaves[_s]&gt;&gt;

    &lt;&lt;if _character.location == &quot;brothel&quot;&gt;&gt;
      &lt;&lt;set _ratio += getFocusRatio(_character, $estate)&gt;&gt;
      &lt;&lt;set _characters++&gt;&gt;
      
      &lt;&lt;if _character.position == &quot;Procurer&quot;&gt;&gt;
        &lt;&lt;set _procurer = 1&gt;&gt;
        &lt;&lt;set $estate.brothel.procurer = _character.ID&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/for&gt;&gt;

  &lt;&lt;if [0, 1].contains($summary.slaveinfo)&gt;&gt;
    &lt;&lt;if $estate.brothel.cap == 4&gt;&gt;
      &lt;&lt;set _newcap = 6&gt;&gt;
      &lt;&lt;set _cost = 12500&gt;&gt;
      &lt;&lt;set _desc = &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;b&gt;@@color:red;$estate.brothel.name&#39;s personnel capacity is extremely low.@@&lt;/b&gt; &lt;br&gt; Your brothel is running at default capacity. Gaining a steady number of customers and popularity will hard but the brothel will be easier and more cheap to run.&lt;/td&gt;&quot;&gt;&gt;

    &lt;&lt;elseif $estate.brothel.cap == 6&gt;&gt;
      &lt;&lt;set _newcap = 8&gt;&gt;
      &lt;&lt;set _cost = 25000&gt;&gt;
      &lt;&lt;set _desc = &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;b&gt;@@color:orange;$estate.brothel.name&#39;s personnel capacity is low.@@&lt;/b&gt; &lt;br&gt; Your brothel is 150% larger than default capacity, meaning it will require 150% the cost and management to run. Brothels are often mismanaged at this size due to the relative increase in size.&lt;/td&gt;&quot;&gt;&gt;

    &lt;&lt;elseif $estate.brothel.cap == 8&gt;&gt;
      &lt;&lt;set _newcap = 10&gt;&gt;
      &lt;&lt;set _cost = 50000&gt;&gt;
      &lt;&lt;set _desc = &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;b&gt;@@color:yellow;$estate.brothel.name&#39;s personnel capacity is average.@@&lt;/b&gt; &lt;br&gt; Your brothel is of average size. Brothels of this size are littered across the slums and have usually been in business for more than a year or two.&lt;/td&gt;&quot;&gt;&gt;

    &lt;&lt;elseif $estate.brothel.cap == 10&gt;&gt;
      &lt;&lt;set _newcap = 15&gt;&gt;
      &lt;&lt;set _cost = 100000&gt;&gt;
      &lt;&lt;set _desc = &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;b&gt;@@color:greenyellow;$estate.brothel.name&#39;s personnel capacity is high.@@&lt;/b&gt; &lt;br&gt; There are only a few high capacity brothels in the slums, mostly maintained by veteran brothel owners due to the high costs and the large number of personnel that need to be managed and protected from the scum skulking around.&lt;/td&gt;&quot;&gt;&gt;

    &lt;&lt;elseif $estate.brothel.cap == 15&gt;&gt;
      &lt;&lt;set _desc = &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;b&gt;@@color:forestgreen;$estate.brothel.name&#39;s personnel capacity is very high.@@&lt;/b&gt; &lt;br&gt; Your brothel is the largest brothel throughout the slums.&lt;/td&gt;&quot;&gt;&gt;

    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if $summary.brothelcapacity&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;[[Brothel Capacity|Main Menu][$summary.brothelcapacity = 0]]&quot;&gt;&gt;
      
      &lt;&lt;if $estate.brothel.cap == 4&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:red;$estate.brothel.name&#39;s personnel capacity is extremely low.@@&lt;/b&gt;&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.cap == 6&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:orange;$estate.brothel.name&#39;s personnel capacity is low.@@&lt;/b&gt;&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.cap == 8&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:yellow;$estate.brothel.name&#39;s personnel capacity is average.@@&lt;/b&gt;&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.cap == 10&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:greenyellow;$estate.brothel.name&#39;s personnel capacity is high.@@&lt;/b&gt;&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.cap == 15&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:forestgreen;$estate.brothel.name&#39;s personnel capacity is very high.@@&lt;/b&gt;&quot;&gt;&gt;
    
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;[[Brothel Capacity|Main Menu][$summary.brothelcapacity = 1]]&quot;&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if $estate.brothel.cap != 15&gt;&gt;
      &lt;&lt;if $PC.money &gt;= _cost&gt;&gt;
      	&lt;&lt;set _table += &quot; | [[Upgrade Brothel|Main Menu][$PC.money -= _cost, $estate.brothel.cap = _newcap]] | @@color:lightgreen;💎&lt;&lt;print commify(&quot; + _cost + &quot;)&gt;&gt;@@ | $estate.brothel.cap → _newcap Slave Capacity&quot;&gt;&gt;
      &lt;&lt;else&gt;&gt;
      	&lt;&lt;set _table += &quot; | You need @@color:lightgreen;💎_cost@@ to upgrade your brothel.&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
    
    &lt;&lt;if !$summary.brothelcapacity&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&quot; + _desc + &quot;&lt;br&gt;&lt;/tr&gt;&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if $summary.brothelpopularity&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;noborder&#39; colspan = 120&gt;[[Brothel Popularity|Main Menu][$summary.brothelpopularity = 0]]&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;noborder&#39; colspan = 120&gt;[[Brothel Popularity|Main Menu][$summary.brothelpopularity = 1]]&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;if !$summary.brothelpopularity&gt;&gt;
      &lt;&lt;if $summary.brothelpopularitydesc == 1&gt;&gt;
        &lt;&lt;set _table += &quot; (&lt;b&gt;Local:&lt;/b&gt; &quot;&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _table += &quot; (&lt;b&gt;[[Local|Main Menu][$summary.brothelpopularitydesc = 1]]:&lt;/b&gt; &quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $estate.brothel.popularity.total &lt; 20&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:red;Nonexistent@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 40&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:orange;Extremely Low@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 60&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:yellow;Low@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 80&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:greenyellow;Average@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 100&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:forestgreen;High@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &gt;= 100&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:darkturquoise;Very High@@&quot;&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $summary.brothelpopularitydesc == 2&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;Regional:&lt;/b&gt; &quot;&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;[[Regional|Main Menu][$summary.brothelpopularitydesc = 2]]:&lt;/b&gt; &quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $estate.brothel.popularity.total &lt; 120&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:red;Nonexistent@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 140&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:orange;Extremely Low@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 160&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:yellow;Low@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 180&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:greenyellow;Average@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 200&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:forestgreen;High@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &gt;= 200&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:darkturquoise;Very High@@&quot;&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $summary.brothelpopularitydesc == 3&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;National:&lt;/b&gt; &quot;&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;[[National|Main Menu][$summary.brothelpopularitydesc = 3]]:&lt;/b&gt; &quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $estate.brothel.popularity.total &lt; 220&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:red;Nonexistent@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 240&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:orange;Extremely Low@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 260&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:yellow;Low@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 280&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:greenyellow;Average@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &lt; 300&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:forestgreen;High@@&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.popularity.total &gt;= 300&gt;&gt;
        &lt;&lt;set _table += &quot;@@color:darkturquoise;Very High@@&quot;&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;)&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
      
      &lt;&lt;if $summary.brothelpopularitydesc == 1&gt;&gt;
        &lt;&lt;if $estate.brothel.popularity.total &lt; 25&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Not many people know about your brothel and even less people frequent it. Making your slaves consort with customers during their work days will help build a strong relationship with customers who will in turn recommended your brothel to others.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 50&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is barely known in the area and it does not garner many customers. You will gain a bigger client base by having slaves that can either cater to a specific fetish very well, or are just high quality in terms of skills and physical appearance.&quot;&gt;&gt;
          
          &lt;&lt;if $estate.brothel.popularity.total == 25 &amp;&amp; $estate.brothel.takedowns.local == 0&gt;&gt;
            &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;Your brothel can&#39;t gain anymore popularity because there are too many competing brothels. Takedown a local brothel to advance in popularity!&lt;/b&gt;&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 75&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is of average popularity. Most people in the area know about about your brothel and you have a steady client-base. If a customer isn&#39;t visiting a slave in your brothel they favorite, they most likely are doing so because there wasn&#39;t a better option available.&quot;&gt;&gt;
          
          &lt;&lt;if $estate.brothel.popularity.total == 50 &amp;&amp; $estate.brothel.takedowns.local == 1&gt;&gt;
            &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;Your brothel can&#39;t gain anymore popularity because there are too many competing brothels. Takedown another local brothel to advance in popularity!&lt;/b&gt;&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 100&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is well known in the area and it attracts many customers. It will be harder for you to gain a bigger local client-base from here on out; you&#39;ll have to maximize the amount of slaves you have in your roster, their skills and physical appearance if you plan on being the most popular brothel in the slums.&quot;&gt;&gt;
          
          &lt;&lt;if $estate.brothel.popularity.total == 75 &amp;&amp; $estate.brothel.takedowns.local == 2&gt;&gt;
            &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;Your brothel can&#39;t gain anymore popularity because there are too many competing brothels. Takedown the last local brothel to advance in popularity!&lt;/b&gt;&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &gt;= 100&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;You have the most popular brothel in your local area. Its very costly and it takes a large amount of work to run, but it brings a certain prestige to you.&quot;&gt;&gt;
          
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;if $summary.brothelpopularitydesc == 2&gt;&gt;
        &lt;&lt;if $estate.brothel.popularity.total &lt; 125&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is pretty much unknown to anyone outside your local area. Sabotaging some of the competition can help with garnering more customers for your brothel, but may result in retaliation.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 150&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is barely known outside of your local area. Slaves of low quality will massively reduce the amount of popularity the brothel can gain. Try switching lesser quality slaves for higher ones to stop any popularity leakage.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 175&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel has gained some recognition from those outside of your local area. Having well trained slaves go a long way to gaining and keeping a high level of popularity. Slaves that are poorly trained will only serve to turn customers away.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 200&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is well known in your region. It will be harder for you to gain a bigger regional client-base from here on out; destroying the businesses of competing brothels is the most effective way at garnering customers.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &gt;= 200&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is the most popular brothel in your entire region. You have to keep an eye on the competition so they don&#39;t catch up and surpass your brothel for the number one position in your region.&quot;&gt;&gt;
      
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $summary.brothelpopularitydesc == 3&gt;&gt;
        &lt;&lt;if $estate.brothel.popularity.total &lt; 225&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Outside of your region, your brothel isn&#39;t talked about at all. If you&#39;re planning to break into the national brothel scene, you&#39;ll have to make an enemy or two of currently big and known brothels.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 250&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is renowned for being the best in the region, but pales in comparison to bigger, national brothels. Taking out some of the bigger national brothels will raise the opinion others have of your brothel&#39;s quality.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 275&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;While your brothel is known nationally, its not only of average popularity. There are a lot of people who know about your brothel but they prefer to spend their money elsewhere. If they&#39;re going to travel to go to a brothel, there are much more popular options.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &lt; 300&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your brothel is well known nationally but its still not known as the best. It will be harder for you to gain a bigger national client-base from here on out; you will have to make sure your slaves are second to none and your competition must be disposed of.&quot;&gt;&gt;
      
        &lt;&lt;elseif $estate.brothel.popularity.total &gt;= 300&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;You have the most popular brothel in the whole nation. While you have to keep an eye on emergent brothels, you have a very strong stranglehold on the brothel business.&quot;&gt;&gt;
          
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot; | &lt;&lt;popularitybar &quot; + $estate.brothel.popularity.total + &quot;&gt;&gt;&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if !$summary.brothelpopularity&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _procurer == 0&gt;&gt;
      &lt;&lt;set $estate.brothel.procurer = null&gt;&gt;
    &lt;&lt;/if&gt;&gt;

  	&lt;&lt;set _ratio = _ratio / _characters&gt;&gt;
  	&lt;&lt;set _paraphilia = lowercase($estate.brothel.focus)&gt;&gt;
    
    &lt;&lt;if $summary.brothelfocus&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;noborder&#39; colspan = 120&gt;[[Brothel Focus|Main Menu][$summary.brothelfocus = 0]]&quot;&gt;&gt;
      
      &lt;&lt;if _ratio &lt; 25&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:red;Your slaves will be shunned by those with the _paraphilia paraphilia.@@&lt;/b&gt;&quot;&gt;&gt;

      &lt;&lt;elseif _ratio &lt; 50&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:orange;Your slaves will have a very hard time catering to those with the _paraphilia paraphilia.@@&lt;/b&gt;&quot;&gt;&gt;

      &lt;&lt;elseif _ratio &lt; 75&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:yellow;Your slaves meet the requirements to cater to those with the _paraphilia paraphilia.@@&lt;/b&gt;&quot;&gt;&gt;

      &lt;&lt;elseif _ratio &lt; 100&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:greenyellow;Your slaves exceed the requirements to cater to those with the _paraphilia paraphilia.@@&lt;/b&gt;&quot;&gt;&gt;

      &lt;&lt;elseif _ratio &gt;= 100&gt;&gt;
        &lt;&lt;set _table += &quot; | &lt;b&gt;@@color:forestgreen;Your brothel is a sexual haven for those with the _paraphilia paraphilia.@@&lt;/b&gt;&quot;&gt;&gt;

      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;

    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;noborder&#39; colspan = 120&gt;[[Brothel Focus|Main Menu][$summary.brothelfocus = 1]]&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&quot;&gt;&gt;
      
    	&lt;&lt;if _ratio &lt; 25&gt;&gt;
    		&lt;&lt;set _table += &quot;&lt;b&gt;@@color:red;Your slaves will be shunned by those with the _paraphilia paraphilia.@@&lt;/b&gt; &lt;br&gt;The slaves you do have working your brothel do not match its focus in the slightest. You may as well not have any slaves working here. Either groom your slaves to cater to people with the _paraphilia paraphilia, get slaves that do, or completely change your brothel&#39;s focus.&quot;&gt;&gt;

    	&lt;&lt;elseif _ratio &lt; 50&gt;&gt;
    		&lt;&lt;set _table += &quot;&lt;b&gt;@@color:orange;Your slaves will have a very hard time catering to those with the _paraphilia paraphilia.@@&lt;/b&gt; &lt;br&gt;Your slaves do not meet the requirements to cater to those with the _paraphilia paraphilia, and will have a very hard time gaining customers working for your brothel. It would be wise to change the brothel&#39;s focus or groom your slaves so they can better serve their customers.&quot;&gt;&gt;

    	&lt;&lt;elseif _ratio &lt; 75&gt;&gt;
    		&lt;&lt;set _table += &quot;&lt;b&gt;@@color:yellow;Your slaves meet the requirements to cater to those with the _paraphilia paraphilia.@@&lt;/b&gt; &lt;br&gt;Your slaves won&#39;t be losing any customers for not meeting the brothel&#39;s focus requirements, but they probably won&#39;t gain any either. Overall, your slaves should bring in neither a net gain or a net loss for catering to customers with a _paraphilia paraphilia.&quot;&gt;&gt;

    	&lt;&lt;elseif _ratio &lt; 100&gt;&gt;
    		&lt;&lt;set _table += &quot;&lt;b&gt;@@color:greenyellow;Your slaves exceed the requirements to cater to those with the _paraphilia paraphilia.@@&lt;/b&gt; &lt;br&gt;People with the _paraphilia paraphilia will be very pleased with the selection of slaves you have inside of your brothel. Your slaves should bring a net gain of customers and gold, as well as popularity.&quot;&gt;&gt;

    	&lt;&lt;elseif _ratio &gt;= 100&gt;&gt;
    		&lt;&lt;set _table += &quot;&lt;b&gt;@@color:forestgreen;Your brothel is a sexual haven for those with the _paraphilia paraphilia.@@&lt;/b&gt; &lt;br&gt;People with the _paraphilia paraphilia only dream of slaves you have working inside of your brothel. The quality of the slaves you have meet, and sometimes exceed the expectations customers have set for the brothel. Your slaves should bring in a large net gain of customers, gold and popularity.&quot;&gt;&gt;

    	&lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;nbleft&#39; colspan = 80&gt;&lt;b&gt;@@color:lightskyblue;Player Focus@@&lt;/b&gt; -- &quot;&gt;&gt;
  
  &lt;&lt;set _focuses = [&quot;Rest&quot;, &quot;Estate&quot;]&gt;&gt;
  
  &lt;&lt;if $estate.brothel.active&gt;&gt;
  	&lt;&lt;set _focuses.push(&quot;Brothel&quot;)&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $estate.ranch.active&gt;&gt;
  	&lt;&lt;set _focuses.push(&quot;Ranch&quot;)&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $estate.chattel.active&gt;&gt;
  	&lt;&lt;set _focuses.push(&quot;Chattel&quot;)&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $PC.location == &quot;brothel&quot;&gt;&gt;
    &lt;&lt;if [&quot;Open&quot;, null].contains($estate.brothel.style)&gt;&gt;
      &lt;&lt;set _positions = [&quot;Prostitute&quot;, &quot;Guard&quot;]&gt;&gt;
      &lt;&lt;if ![&quot;Procurer&quot;, &quot;Prostitute&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
        &lt;&lt;set $PC.position = &quot;Prostitute&quot;&gt;&gt;
        &lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
      &lt;&lt;set _positions = [&quot;Attendant&quot;, &quot;Guard&quot;]&gt;&gt;
      &lt;&lt;if ![&quot;Procurer&quot;, &quot;Attendant&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
        &lt;&lt;set $PC.position = &quot;Attendant&quot;&gt;&gt;
        &lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
      &lt;&lt;set _positions = [&quot;Host&quot;, &quot;Guard&quot;]&gt;&gt;
      &lt;&lt;if ![&quot;Procurer&quot;, &quot;Host&quot;, &quot;Guard&quot;].contains($PC.position)&gt;&gt;
        &lt;&lt;set $PC.position = &quot;Host&quot;&gt;&gt;
        &lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if !$estate.brothel.procurer || $PC.ID == $estate.brothel.procurer&gt;&gt;
      &lt;&lt;set _positions.push(&quot;Procurer&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;for _f=0; _f &lt; _focuses.length;_f++&gt;&gt;
  	&lt;&lt;set _focus = _focuses[_f]&gt;&gt;
    &lt;&lt;set _location = lowercase(_focus)&gt;&gt;
    
    &lt;&lt;if _location == &quot;rest&quot;&gt;&gt;
      &lt;&lt;set _location = &quot;estate&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  
  	&lt;&lt;if $PC.focus == _focus&gt;&gt;
  		&lt;&lt;set _table += _focus&gt;&gt;
  	&lt;&lt;else&gt;&gt;
  		&lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[&quot; + _focus + &quot;|Main Menu][$PC.focus = _focuses[&quot; + _f + &quot;], $PC.location = \&quot;&quot; + _location + &quot;\&quot;, $PC.position = null, $PC.assignment = \&quot;rest\&quot;]]&#39;&gt;&gt;&quot;&gt;&gt;
  	&lt;&lt;/if&gt;&gt;
  
  	&lt;&lt;if _f &lt; _focuses.length-1&gt;&gt;
  		&lt;&lt;set _table += &quot; | &quot;&gt;&gt;
  	&lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;br&gt;&quot;&gt;&gt;
  
  &lt;&lt;if $PC.focus == &quot;Rest&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot;This week you will spend most of your free time resting, giving you more energy to perform more actions with your slaves next week.&quot;&gt;&gt;
  &lt;&lt;elseif $PC.focus == &quot;Estate&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot;This week you will spend most of your free time budgeting your estate, reducing your slave expenses by 50%.&quot;&gt;&gt;
  &lt;&lt;elseif $PC.focus == &quot;Brothel&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot;This week you will spend most of your free time managing your brothel, increasing its income by 125%. &lt;br&gt;&lt;b&gt;You are working at your brothel.&lt;/b&gt;&quot;&gt;&gt;
  &lt;&lt;elseif $PC.focus == &quot;Ranch&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot;This week you will spend most of your free time managing your ranch, increasing its income by 125%.&quot;&gt;&gt;
  &lt;&lt;elseif $PC.focus == &quot;Chattel&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot;This week you will spend most of your free time managing your chattel, reducing your chattel expenses by 50%.&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;td class = &#39;nbright&#39; colspan = 40&gt;&lt;&lt;race &#39;&quot; + $PC.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString($PC.name) + &quot;|Status]]&#39;&gt;&gt; &lt;&lt;gender &quot; + $PC.sex + &quot; &quot; + $PC.gender + &quot;&gt;&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;&lt;&lt;healthbar $PC &#39;Health&#39;&gt;&gt; &lt;&lt;healthbar $PC &#39;Stamina&#39;&gt;&gt;&lt;/b&gt;&quot;&gt;&gt;
  
  &lt;&lt;if $PC.location == &quot;brothel&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;dropdown &#39;$PC.position&#39;&quot;&gt;&gt;
    
    &lt;&lt;for _p = 0; _p &lt; _positions.length;_p++&gt;&gt;
      &lt;&lt;set _table += &quot; &quot; + _positions[_p]&gt;&gt;
    &lt;&lt;/for&gt;&gt;
    
    &lt;&lt;set _table += &quot;&gt;&gt; | &lt;&lt;print getPopularityText(&quot; + $PC.popularity.brothel + &quot;, &#39;Brothel&#39;)&gt;&gt;&quot;&gt;&gt;
    
    &lt;&lt;if $PC.assignment == &quot;rest&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;Resting | [[Work|Main Menu][$PC.assignment = &#39;brothel&#39;]]&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;[[Rest|Main Menu][$PC.assignment = &#39;rest&#39;]] | Working&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt; &lt;&lt;print getPopularityText(&quot; + $PC.popularity.brothel + &quot;, &#39;Brothel&#39;)&gt;&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _position = 0&gt;&gt;
  &lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
    &lt;&lt;set _character = $slaves[_i]&gt;&gt;
    &lt;&lt;include &quot;Modernize Slave&quot;&gt;&gt;
    
    &lt;&lt;if _character.location == $main.page&gt;&gt;
      &lt;&lt;set _position++&gt;&gt;
      &lt;&lt;if _position == 1&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if [&quot;Open&quot;, null].contains($estate.brothel.style)&gt;&gt;
        &lt;&lt;set _positions = [&quot;Prostitute&quot;, &quot;Guard&quot;]&gt;&gt;
        &lt;&lt;if ![&quot;Procurer&quot;, &quot;Prostitute&quot;, &quot;Guard&quot;].contains(_character.position)&gt;&gt;
          &lt;&lt;set _character.position = &quot;Prostitute&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
        &lt;&lt;set _positions = [&quot;Attendant&quot;, &quot;Guard&quot;]&gt;&gt;
        &lt;&lt;if ![&quot;Procurer&quot;, &quot;Attendant&quot;, &quot;Guard&quot;].contains(_character.position)&gt;&gt;
          &lt;&lt;set _character.position = &quot;Attendant&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
        &lt;&lt;set _positions = [&quot;Host&quot;, &quot;Guard&quot;]&gt;&gt;
        &lt;&lt;if ![&quot;Procurer&quot;, &quot;Host&quot;, &quot;Guard&quot;].contains(_character.position)&gt;&gt;
          &lt;&lt;set _character.position = &quot;Host&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if _character.obedience.current &gt;= 60 &amp;&amp; !$estate.brothel.procurer&gt;&gt;
        &lt;&lt;set _positions.push(&quot;Procurer&quot;)&gt;&gt;
        
      &lt;&lt;elseif _character.ID == $estate.brothel.procurer&gt;&gt;
        &lt;&lt;set _positions.push(&quot;Procurer&quot;)&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;td colspan = 40&gt;&lt;&lt;displayTitle &#39;&quot; + _character.title + &quot;&#39; &#39;Main Menu&#39;&gt;&gt;&lt;&lt;race &#39;&quot; + _character.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString(_character.name) + &quot;|Main Menu][$activeCharacter = $slaves[&quot; + _i + &quot;]]]&#39;&gt;&gt; &lt;&lt;gender &quot; + _character.sex + &quot; &quot; + _character.gender + &quot;&gt;&gt; &lt;&lt;print &#39;[[✓|Slave Description][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&#39;&gt;&gt;&quot;&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;&lt;&lt;healthbar $slaves[&quot; + _i + &quot;] &#39;Health&#39;&gt;&gt;&lt;&lt;healthbar $slaves[&quot; + _i + &quot;] &#39;Stamina&#39;&gt;&gt;&lt;/b&gt;&quot;&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;dropdown &#39;$slaves[&quot; + _i + &quot;].position&#39; &quot; + stringToList(_positions, 2) + &quot; &gt;&gt; | &quot;&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;&lt;print getPopularityText(&quot; + _character.popularity.brothel + &quot;, &#39;Brothel&#39;)&gt;&gt;&quot;&gt;&gt;
      
      &lt;&lt;if !$summary.slaveinfo&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;print getObedience(&quot; + _character.obedience.current + &quot;)&gt;&gt; / &lt;&lt;print getTrust(&quot; + _character.trust.current + &quot;)&gt;&gt; / &lt;&lt;print getFear(&quot; + _character.fear.current + &quot;)&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;print getMood($slaves[&quot; + _i + &quot;])&gt;&gt; / &lt;&lt;print $UCweight[&quot; + _character.weight + &quot;]&gt;&gt;&quot;&gt;&gt;
        
        &lt;&lt;if _character.assignment == &quot;rest&quot;&gt;&gt;
          &lt;&lt;set _table += &quot; / @@color:gray;&lt;span id=&#39;assignment&quot; + _character.ID + &quot;&#39;&gt;Resting&lt;/span&gt;@@&quot;&gt;&gt;
          
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot; / @@color:gray;&lt;span id=&#39;assignment&quot; + _character.ID + &quot;&#39;&gt;Working&lt;/span&gt;@@&quot;&gt;&gt;
        
        &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
      
      &lt;&lt;if _position == 3&gt;&gt;
        &lt;&lt;set _position = 0&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;if _position != 0&gt;&gt;
    &lt;&lt;set _emptyboxes = 3 - _position&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td colspan = 40&gt;&lt;/td&gt;&quot;.repeat(_emptyboxes)&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;elseif $estate.brothel.page == &quot;Presentation&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;Brothel Focus&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;

  &lt;&lt;set $choosableparaphilias = [&quot;Variety&quot;]&gt;&gt;

  &lt;&lt;if $estate.brothel.research.common&gt;&gt;
    &lt;&lt;set $choosableparaphilias.push(&quot;Androphilia&quot;, &quot;Gynephilia&quot;, &quot;Dominance&quot;, &quot;Submission&quot;)&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $estate.brothel.research.popular&gt;&gt;
    &lt;&lt;set $choosableparaphilias.push(&quot;Megalophilia&quot;, &quot;Caligynephilia&quot;, &quot;Musculophilia&quot;)&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $estate.brothel.research.niche&gt;&gt;
    &lt;&lt;set $choosableparaphilias.push(&quot;Gynemimetophilia&quot;, &quot;Genophilia&quot;)&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set $choosableparaphilias.sort()&gt;&gt;

  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;b&gt;Paraphilia:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.focus&#39; $choosableparaphilias&gt;&gt;&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _ratio = 0&gt;&gt;
	&lt;&lt;set _characters = 0&gt;&gt;

	&lt;&lt;for _s = 1; _s &lt;= $slaves.amount; _s++&gt;&gt;
		&lt;&lt;set _character = $slaves[_s]&gt;&gt;

		&lt;&lt;if _character.location == &quot;brothel&quot;&gt;&gt;
			&lt;&lt;set _ratio += getFocusRatio(_character, $estate)&gt;&gt;
			&lt;&lt;set _characters++&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;

	&lt;&lt;set _ratio = _ratio / _characters&gt;&gt;
	&lt;&lt;set _paraphilia = lowercase($estate.brothel.focus)&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&quot;&gt;&gt;
  
	&lt;&lt;if _ratio &lt; 25&gt;&gt;
		&lt;&lt;set _table += &quot;@@color:red;Your slaves will be shunned by those with the _paraphilia paraphilia. The slaves you do have working your brothel do not match its focus in the slightest. You may as well not have any slaves working here. Either groom your slaves to cater to people with the _paraphilia paraphilia, get slaves that do, or completely change your brothel&#39;s focus.@@&quot;&gt;&gt;

	&lt;&lt;elseif _ratio &lt; 50&gt;&gt;
		&lt;&lt;set _table += &quot;@@color:orange;Your slaves will have a very hard time catering to those with the _paraphilia paraphilia. Your slaves do not meet the requirements to cater to those with the _paraphilia paraphilia, and will have a very hard time gaining customers working for your brothel. It would be wise to change the brothel&#39;s focus or groom your slaves so they can better serve their customers.@@&quot;&gt;&gt;

	&lt;&lt;elseif _ratio &lt; 75&gt;&gt;
		&lt;&lt;set _table += &quot;@@color:yellow;Your slaves meet the requirements to cater to those with the _paraphilia paraphilia. Your slaves won&#39;t be losing any customers for not meeting the brothel&#39;s focus requirements, but they probably won&#39;t gain any either. Overall, your slaves should bring in neither a net gain or a net loss for catering to customers with a _paraphilia paraphilia.@@&quot;&gt;&gt;

	&lt;&lt;elseif _ratio &lt; 100&gt;&gt;
		&lt;&lt;set _table += &quot;@@color:greenyellow;Your slaves exceed the requirements to cater to those with the _paraphilia paraphilia. People with the _paraphilia paraphilia will be very pleased with the selection of slaves you have inside of your brothel. Your slaves should bring a net gain of customers and gold, as well as popularity.@@&quot;&gt;&gt;

	&lt;&lt;elseif _ratio &gt;= 100&gt;&gt;
		&lt;&lt;set _table += &quot;@@color:forestgreen;Your brothel is a sexual haven for those with the _paraphilia paraphilia. People with the _paraphilia paraphilia only dream of slaves you have working inside of your brothel. The quality of the slaves you have meet, and sometimes exceed the expectations customers have set for the brothel. Your slaves should bring in a large net gain of customers, gold and popularity.@@&quot;&gt;&gt;

	&lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _table += &quot;@@color:gray;&quot;&gt;&gt;
  &lt;&lt;if $estate.brothel.focus == &quot;Variety&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slaves that cater to a variety of visual fetishes.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Megalophilia&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slaves that cater to customers who have a fetish for large erotic organs. Megalophilia in and of itself is not an attraction to people who are heavy in size but it is an attraction to large asses, balls, breasts, clits, cocks and pussy. Slaves with a large primary erotic organ(breasts &amp; cocks) are twice as attractive to those with a large secondary erotic organ(asses, balls, clits &amp; pussy). Since megalophilia is a visual fetish, having large breasts is much more attractive than having a tight, yet deep pussy.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Caligynephilia&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slaves that cater to customers who have a fetish for beautiful women. An attraction to beautiful women isn&#39;t a fetish in and of itself but caligynephilic people are so attracted to beautiful women that all other visual traits are secondary, if not completely unimportant. Slaves whose only good traits are her looks do very well in brothels that cater to people with caligynephilia. If a slave&#39;s best trait is her beauty but still has other good traits, she will fair even better.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Musculophilia&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slave that cater to customers who have a fetish for masculine bodies. This is a very popular fetish among women and a few men. This fetish is more visual than anything, the behaviour of muscled slaves aren&#39;t required to be masculine at all. As long as a slave has a somewhat toned body, those with musculophilia will be more than happy to have their sexual needs met by any of the slaves available inside of the brothel. Slaves will less than desirable, or feminine bodies will be harshly rejected.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Androphilia&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slave that cater to customers who have a fetish for masculinity. While having a masculine body type is considered masculine, people with androphilia are more attracted to men who conform to the ideal masculine behaviour. Still, having a masculine body is very helpful as someone less than desirable will appear less masculine to his slave peers on first glance. Those who are the peak of masculinity both physically and mentally will get a lot of customers that cater androphilic customers.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Gynephilia&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slave that cater to customers who have a fetish for femininity. Gynephilic customers are attracted to women who are the peak of femininity in both appearance and temperament. Since it is a brothel it is still imperative that slaves understand how to service their customers sexually. As long as the slaves have a strong understanding in femininity they will be able to service customers without breaking the illusion that they are nothing but the height of femininity. Slaves who have good figures and are well versed in femininity will fair well in brothels catering to gynephilics.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Dominance&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slave that cater to customers who have a fetish for being dominant. Submissives are the best type of slaves to cater to dominants. Dominants that visit brothels aren&#39;t looking for slaves to bend to their will, but willing partners that can perform the role of a submissive during sexual play. Sexual skill and all visual traits are still very important, if not required quantities that customers will look for. However if they are not submissive, dominants will not be pleased with just the quality of the slave alone.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Submission&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slave that cater to customers who have a fetish for being submissive. Dominants are the best type of slaves to cater to submissives. Submissives that visit brothels aren&#39;t looking for slaves to bend them to their will, but willing partners that can perform the role of a dominant during sexual play. Sexual skill and all visual traits are still very important, if not required quantities that customers will look for. However if they are not dominant, submissives will not be pleased with just the quality of the slave alone.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Gynemimetophilia&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slave that cater to customers who have a fetish for sissies. Gynemimetophilics are attracted to both males who have transitioned into being females and men who identify and act like women. Sissies who who have transitioned and identify as women are highly desired among gynemimetophilics, but require a lot of training and money to pay for the potions to make the transition.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.focus == &quot;Genophilia&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;$estate.brothel.name will provide slave that cater to customers who have an addiction to sex. Female slaves with high-quality sexual skills to sate genophilics are highly recommended. Men often have a refractionary period between orgasms, where as women can perform sexually for as long as they have some stamina. Slaves properly trained in strumpetry who have strong sexual skills not only can sate their customers physically, but have the ability to sell themselves as a sexual being.&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;@@&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;Brothel Style&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&quot;&gt;&gt;
  
  &lt;&lt;if $style != null&gt;&gt;
  	&lt;&lt;set _table += &quot;[[None|Main Menu][$style = null]]&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
  	&lt;&lt;set _table += &quot;None&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $style != &quot;Theater&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot; | [[Theater|Main Menu][$style = &#39;Theater&#39;]]&quot;&gt;&gt;
  &lt;&lt;elseif $style == &quot;Theater&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot; | Theater&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $style != &quot;Open&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot; | [[Open|Main Menu][$style = &#39;Open&#39;]]&quot;&gt;&gt;
  &lt;&lt;elseif $style == &quot;Open&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot; | Open&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $style != &quot;Closed&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot; | [[Closed|Main Menu][$style = &#39;Closed&#39;]]&quot;&gt;&gt;
  &lt;&lt;elseif $style == &quot;Closed&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot; | Closed&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if [&quot;Closed&quot;, &quot;Open&quot;, &quot;Theater&quot;].contains($style)&gt;&gt;
    &lt;&lt;set _styleprice = commify(30000)&gt;&gt;
    &lt;&lt;set _stylefee = 30000&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _styleprice = commify(10000)&gt;&gt;
    &lt;&lt;set _stylefee = 10000&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;br&gt;&quot;&gt;&gt;
  
  &lt;&lt;if $estate.brothel.style == null &amp;&amp; $style == null&gt;&gt;
    &lt;&lt;set _table += &quot;@@color:gray;&lt;b&gt;$estate.brothel.name currently doesn&#39;t have a designated style.&lt;/b&gt; &lt;br&gt;@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.style == $style&gt;&gt;
    &lt;&lt;set _an = AvsAn.query($style)&gt;&gt;
    &lt;&lt;set _table += &quot;@@color:forestgreen;&lt;b&gt;$estate.brothel.name is _an &lt;&lt;print lowercase($style)&gt;&gt;-style brothel.&lt;/b&gt; &lt;br&gt;@@&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;if $style == null&gt;&gt;
      &lt;&lt;set _table += &quot;@@color:yellow;&lt;b&gt;You have chosen to remove your current style. Reverting to a plain brothel will cost a fee; your current brothel style is [[$estate.brothel.style|Main Menu][$style = $estate.brothel.style]].&lt;/b&gt;&lt;br&gt;@@&quot;&gt;&gt;
    
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;@@color:yellow;&lt;b&gt;You have chosen the $style brothel. Adopting this brothel style will cost a fee; your current brothel style is [[$estate.brothel.style|Main Menu][$style = $estate.brothel.style]].&lt;/b&gt;&lt;br&gt;@@&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if $PC.money &gt;= _stylefee&gt;&gt;
      &lt;&lt;set _table += &quot;[[Adopt Brothel Style|Main Menu][$estate.brothel.style = $style, $PC.money -= _stylefee]] | @@color:lightgreen;💎_styleprice@@&lt;br&gt;&quot;&gt;&gt;
    
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;b&gt;@@color:red;You need@@ @@color:lightgreen;💎_styleprice@@ @@color:red;to adopt a brothel style.@@&lt;/b&gt;&lt;br&gt;&quot;&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $estate.brothel.style == null&gt;&gt;
  	&lt;&lt;set _table += &quot;Customer volume and pricing are both a little bit under average. Slaves working this brothel will be more fatigued and marred than the average brothel worker. While there aren&#39;t any inherent disadvantages to owning a style-less brothel, it is much more profitable to run a stylized brothel.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot;Theater-style brothels provide visual and sexual entertainment as well as food. Slaves attend to one table at a time, providing customers at said table with all their sexual and foodlike needs. Working tables often require more energy than regular prostitutes, leaving slaves more fatigued at the end of the day than normal. These brothels cost the most to run and have middling popularity but can they can be insanely profitable depending on the talent working them.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.style == &quot;Open&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot;Open-style brothels are extremely popular, low maintenance businesses. Slaves working in these brothels are bound so their movement is constricted while allowing customers to use any parts of their bodies. These slaves don&#39;t get fatigued but they do get maltreated due to the high volume of cheap customers. The value of the talent working in these brothels is very small; quality slaves are much more suited for theater-style or closed-style brothels.&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;br&gt; Closed-style brothels are the most popular style of brothels but attract the least amount of customers. These brothels are very private, the slaves working these places have a clientele built off of months of hard sexual work. These brothels are great for catering to niche fetishes and the value of the talent is much higher than any other type of brothel. Health and fatigue isn&#39;t as much of an issue as they are for slaves working in open-style and theater-style brothels.&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;Brothel Research&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&quot;&gt;&gt;
  
  &lt;&lt;if !$estate.brothel.research.common &amp;&amp; $PC.money &gt;= 5000&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;[[Research Common Fetishes|Main Menu][$PC.money -= 5000, $estate.brothel.research.common = 1]] | @@color:lightgreen;💎5,000@@&lt;/b&gt; &lt;br&gt; Spend some gold to get some research done to find out common fetishes you can focus on. Common fetishes will require slaves with some level of training as they usually focus on behavioral tendencies. Common fetishes grants a moderate boost to both an individual slave&#39;s popularity gain and to the number of customers a slave can bring in.&quot;&gt;&gt;
  
  &lt;&lt;elseif $PC.money &lt; 5000&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;Research Common Fetishes | @@color:red;💎5,000@@&lt;/b&gt; &lt;br&gt; Spend some gold to get some research done to find out common fetishes you can focus on. Common fetishes will require slaves with some level of training as they usually focus on behavioral tendencies. Common fetishes grants a moderate boost to both an individual slave&#39;s popularity gain and to the number of customers a slave can bring in.&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;[Common Fetishes Researched]&lt;/b&gt; &lt;br&gt; You have researched common fetishes adding Androphilia, Gynephilia, Dominance and Submission to your brothel focus list.&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
  
  &lt;&lt;if !$estate.brothel.research.popular &amp;&amp; $PC.money &gt;= 10000&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;[[Research Popular Fetishes|Main Menu][$PC.money -= 10000, $estate.brothel.research.popular = 1]] | @@color:lightgreen;💎10,000@@&lt;/b&gt; &lt;br&gt; Spend some gold to get some research done to find out popular fetishes you can focus on. The most popular fetishes are usually the most visual, making them the most easy to cater to. Popular fetishes grants a large boost to the number of customers a slave can bring in.&quot;&gt;&gt;
  
  &lt;&lt;elseif $PC.money &lt; 10000&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;Research Popular Fetishes | @@color:red;💎10,000@@&lt;/b&gt; &lt;br&gt; Spend some gold to get some research done to find out popular fetishes you can focus on. The most popular fetishes are usually the most visual, making them the most easy to cater to. Popular fetishes grants a large boost to the number of customers a slave can bring in.&quot;&gt;&gt;
  
  &lt;&lt;else&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;[Popular Fetishes Researched]&lt;/b&gt; &lt;br&gt; You have researched popular fetishes adding Megalophilia, Caligynephilia, and Musculophilia to your brothel focus list.&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
  
  &lt;&lt;if !$estate.brothel.research.niche &amp;&amp; $PC.money &gt;= 25000&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;[[Research Niche Fetishes|Main Menu][$PC.money -= 25000, $estate.brothel.research.niche = 1]] | @@color:lightgreen;💎25,000@@&lt;/b&gt; &lt;br&gt; Spend some gold to get some research done to find out niche fetishes you can focus on. Niche fetishes will require slaves with a high level of training to cater to their clientele. Niche fetishes grants a large boost to an individual slave&#39;s popularity gain and a small boost to the number of customers a slave can bring in.&quot;&gt;&gt;
  
  &lt;&lt;elseif $PC.money &lt; 25000&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;Research Niche Fetishes | @@color:red;💎25,000@@&lt;/b&gt; &lt;br&gt; Spend some gold to get some research done to find out niche fetishes you can focus on. Niche fetishes will require slaves with a high level of training to cater to their clientele. Niche fetishes grants a large boost to an individual slave&#39;s popularity gain and a small boost to the number of customers a slave can bring in.&quot;&gt;&gt;
  
  &lt;&lt;else&gt;&gt;
  	&lt;&lt;set _table += &quot;&lt;b&gt;[Niche Fetishes Researched]&lt;/b&gt; &lt;br&gt; You have researched niche fetishes adding Gynemimetophilia and Genophilia to your brothel focus list.&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;

&lt;&lt;elseif $estate.brothel.page == &quot;Management&quot;&gt;&gt;
  &lt;&lt;if [&quot;Open&quot;, null].contains($estate.brothel.style)&gt;&gt;
    &lt;&lt;set _roles = [&quot;Procurer&quot;, &quot;Prostitute&quot;, &quot;Guard&quot;]&gt;&gt;

  &lt;&lt;elseif $estate.brothel.style == &quot;Closed&quot;&gt;&gt;
    &lt;&lt;set _roles = [&quot;Procurer&quot;, &quot;Attendant&quot;, &quot;Guard&quot;]&gt;&gt;

  &lt;&lt;elseif $estate.brothel.style == &quot;Theater&quot;&gt;&gt;
    &lt;&lt;set _roles = [&quot;Procurer&quot;, &quot;Host&quot;, &quot;Guard&quot;]&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _levels = [&quot;Min&quot;, &quot;Low&quot;, &quot;Normal&quot;, &quot;High&quot;, &quot;Max&quot;]&gt;&gt;
  
  &lt;&lt;if _roles.contains(&quot;Procurer&quot;)&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;Supervisor Roles&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Supervisor roles are duties the procurer (Madam/Monsieur) must attend to throughout a normal work day. Their skill at both managing and teaching will affect how effective and efficient they are at getting the job done, allowing for a larger workload to be put on their plate. New procurers should be given a light workload until they gain enough skill to properly jungle their duties, while veteran procurers can be overworked with minimal to no affect on their productivity.&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 60&gt;&lt;b&gt;Managing:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.levels.managing&#39; _levels&gt;&gt;&quot;&gt;&gt;
    
    &lt;&lt;if $estate.brothel.levels.managing == &quot;Min&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:red;The designated procurer will manage brothel slaves as little as physically possible. The only time they will manage any slaves is when there is an issue too large for them to ignore.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.managing == &quot;Low&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:orange;The designated procurer will take a hands off approach to managing slaves but will still periodically check in with the slaves to make sure everything is running well.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.managing == &quot;Normal&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:yellow;The designated procurer will manage brothel slaves while also giving them some room to work without having to deal with the stress of having a manager breath down their necks.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.managing == &quot;High&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:greenyellow;The designated procurer will micromanage brothel slaves performance and price, making sure to maximize the profitability and likability of all the slaves in the brothel.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.managing == &quot;Max&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:forestgreen;The designated procurer will completely control how the brothel functions, leaving nothing for the brothel slaves to manage, putting the onus of the brothel&#39;s success on themself.@@&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;

    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 60&gt;&lt;b&gt;Teaching:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.levels.teaching&#39; _levels&gt;&gt;&quot;&gt;&gt;
    
    &lt;&lt;if $estate.brothel.levels.teaching == &quot;Min&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:red;The designated procurer will not teach brothel slaves unless there is absolutely nothing else for them to do. Slaves will have to learn their skills on the job, instead of from the procurer.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.teaching == &quot;Low&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:orange;The designated procurer will teach brothel slaves as little as possible, only correcting small mistakes and guiding them in the right direction to improve and perfect their current skills.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.teaching == &quot;Normal&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:yellow;The designated procurer will teach slaves how to perform their duties effectively and efficiently as long as they have a higher level of skill than the person they are trying to teach.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.teaching == &quot;High&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:greenyellow;The designated procurer will focus on teaching, correcting and perfecting the brothel slaves skills so that they can perform them consistently at a high level with little fatigue.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.teaching == &quot;Max&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:forestgreen;The designated procurer will spend most of their time in the brothel teaching the brothel slaves how to service customers and reviewing their conduct so they can improve upon themselves.@@&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;Specialized Duties&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Specialized duties are given to slaves working in certain brothels with a certain style. Theater brothels have slaves work as hosts who serve food and sexual services to customers who are viewing live sexual performances. Closed brothels rent rooms with an attendant who provides sexual services to customers. Guards make sure customers pay the full price and don&#39;t damage the merchandise. &lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
    
  &lt;&lt;if _roles.contains(&quot;Attendant&quot;)&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 60&gt;&lt;b&gt;Attending:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.levels.attending&#39; _levels&gt;&gt;&quot;&gt;&gt;
    
    &lt;&lt;if $estate.brothel.levels.attending == &quot;Min&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:red;Attendants will remain in a bought room with a customer only when called upon. This will greatly reduce money earned as customers will pay very little for receiving completely lacking service.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.attending == &quot;Low&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:orange;Attendants will remain in a bought room with a customer for an hour maximum. This will reduce money earned as customers won&#39;t pay much for receiving what they consider subpar service.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.attending == &quot;Normal&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:yellow;Attendants will spend at least half of their time in bought rooms serving their customers. They will earn a fair price for what could be considered a middling quality of service.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.attending == &quot;High&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:greenyellow;Attendants will remain in a bought room with a customer for the majority of their time in the brothel. This will increase money earned as customers will pay a lot for receiving good service.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.attending == &quot;Max&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:forestgreen;Attendants will spend as much time as possible server their customers. This will greatly increase money earned as customers will pay exorbitantly for receiving the best service they can buy.@@&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;if _roles.contains(&quot;Host&quot;)&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 60&gt;&lt;b&gt;Hosting:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.levels.hosting&#39; _levels&gt;&gt;&quot;&gt;&gt;
    
    &lt;&lt;if $estate.brothel.levels.hosting == &quot;Min&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:red;Hosts will serve customers only when called on. This will greatly reducing their income as customers will pay very little for receiving little to no attention from your brothel slaves.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.hosting == &quot;Low&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:orange;Hosts will spend a little time with customers after being called on. This will reduce their income as customers won&#39;t pay much for receiving subpar service from your brothel slaves.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.hosting == &quot;Normal&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:yellow;Hosts will spend quality time with the customers after being called on. They will earn a decent amount of money equal to the amount of attention customers receive from your brothel slaves.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.hosting == &quot;High&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:greenyellow;Hosts will spend most of their time with a customer after serving them. This will increase their income as customers will pay a lot for receiving above average service from your brothel slaves.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.hosting == &quot;Max&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:forestgreen;Hosts will spend as much time as possible with a customer after serving them. This will greatly increase their income as customers will pay exponentially more for receiving great service.@@&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if _roles.contains(&quot;Guard&quot;)&gt;&gt;
    &lt;&lt;if _roles.contains(&quot;Host&quot;) || _roles.contains(&quot;Attendant&quot;)&gt;&gt;  
      &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 60&gt;&lt;b&gt;Guarding:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.levels.guarding&#39; _levels&gt;&gt;&quot;&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;b&gt;Guarding:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.levels.guarding&#39; _levels&gt;&gt;&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  
    &lt;&lt;if $estate.brothel.levels.guarding == &quot;Min&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:red;Guards will spend very little, if any time guarding the brothel, barely minimizing the amount customers short slaves, damage inflicted upon brothel slaves and barely raising the brothel&#39;s orderliness.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.guarding == &quot;Low&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:orange;Guards will spend some time guarding the brothel, slightly minimizing the amount customers short slaves, damage inflicted upon brothel slaves and slightly raising the brothel&#39;s orderliness.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.guarding == &quot;Normal&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:yellow;Guards will spend time guarding the brothel, minimizing the amount customers short slaves their proper pay, damage inflicted upon brothel slaves and raising the brothel&#39;s orderliness.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.guarding == &quot;High&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:greenyellow;Guards will spend most of their time guarding the brothel, greatly minimizing the amount customers short slaves, damage inflicted upon brothel slaves and greatly raising the brothel&#39;s orderliness.@@&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.levels.guarding == &quot;Max&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;@@color:forestgreen;Guards will spend as much time as possible guarding the brothel, enormously minimizing the amount customers short slaves, damage inflicted upon brothel slaves and raising the brothel&#39;s orderliness.@@&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;Normal Duties&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Normal duties can and are carried out by every slave working in the brothel. Some roles can be exempt from performing normal duties, but for the most part all other roles cannot be properly carried out without slaves performing these duties.&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 60&gt;&lt;b&gt;Soliciting:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.levels.soliciting&#39; _levels&gt;&gt;&quot;&gt;&gt;
  
  &lt;&lt;if $estate.brothel.levels.soliciting == &quot;Min&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:red;Brothel slaves will solicit as little sex as possible from their customers. This will greatly decrease the amount of customers they will personally serve during the week.@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.levels.soliciting == &quot;Low&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:orange;Brothel slaves will solicit sex from their customers only when convenient. This will decrease the amount of customers they will personally serve during the week.@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.levels.soliciting == &quot;Normal&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:yellow;Brothel slaves will solicit sex from their customers. This will allow them to amass a middling amount of customers they will personally serve during the week.@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.levels.soliciting == &quot;High&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:greenyellow;Brothel slaves will solicit sex from their customers whenever possible. This will increase the amount of customers they will personally serve during the week.@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.levels.soliciting == &quot;Max&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:forestgreen;Brothel slaves will solicit as much sex as possible from their customers. This will greatly increase the amount of customers they will personally serve during the week.@@&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 60&gt;&lt;b&gt;Consorting:&lt;/b&gt; &lt;&lt;dropdown &#39;$estate.brothel.levels.consorting&#39; _levels&gt;&gt;&quot;&gt;&gt;
  
  &lt;&lt;if $estate.brothel.levels.consorting == &quot;Min&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:red;Brothel slaves will consort with customers as little as possible. This will greatly decrease the amount of individual popularity they will gain from serving their brothel customers.@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.levels.consorting == &quot;Low&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:orange;Brothel slaves will consort with customers only when convenient. This will decrease the amount of individual popularity they will gain from serving their brothel customers.@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.levels.consorting == &quot;Normal&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:yellow;Brothel slaves will consort with customers. This will allow them to amass a middling amount of individual popularity from serving their brothel customers.@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.levels.consorting == &quot;High&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:greenyellow;Brothel slaves will consort with customers whenever possible. This will increase the amount of individual popularity they will gain from serving their brothel customers.@@&quot;&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.levels.consorting == &quot;Max&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;@@color:forestgreen;Brothel slaves will consort with customers as much as possible. This will greatly increase the amount of individual popularity they will gain from serving their brothel customers.@@&quot;&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _exceptions = [&quot;Yes&quot;, &quot;No&quot;]&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;noborder&#39; colspan = 30&gt;Procurer Exception: &lt;&lt;dropdown &#39;$estate.brothel.exceptions.pSoliciting&#39; _exceptions&gt;&gt;&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;noborder&#39; colspan = 30&gt;Guard Exception: &lt;&lt;dropdown &#39;$estate.brothel.exceptions.gSoliciting&#39; _exceptions&gt;&gt;&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;noborder&#39; colspan = 30&gt;Procurer Exception: &lt;&lt;dropdown &#39;$estate.brothel.exceptions.pConsorting&#39; _exceptions&gt;&gt;&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;noborder&#39; colspan = 30&gt;Guard Exception: &lt;&lt;dropdown &#39;$estate.brothel.exceptions.gConsorting&#39; _exceptions&gt;&gt;&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;if $estate.brothel.exceptions.pSoliciting == &quot;Yes&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 30&gt;The procurer is exempt from soliciting sex from customers.&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 30&gt;The procurer will solicit sex from customers as ordered.&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  
  &lt;&lt;if $estate.brothel.exceptions.gSoliciting == &quot;Yes&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 30&gt;Guards are exempt from soliciting sex from customers.&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 30&gt;Guards will solicit sex from customers as ordered.&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  
  &lt;&lt;if $estate.brothel.exceptions.pConsorting == &quot;Yes&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 30&gt;The procurer is exempt from consorting with the customers.&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 30&gt;The procurer will consort with the customers as ordered.&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  

  &lt;&lt;if $estate.brothel.exceptions.gConsorting == &quot;Yes&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 30&gt;Guards are exempt from consorting with the customers.&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;noborder&#39; colspan = 30&gt;Guards will consort with the customers as ordered.&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
&lt;&lt;elseif $estate.brothel.page == &quot;Competition&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;for _comp = 1;_comp &lt;= $estate.brothel.competition.amount;_comp++&gt;&gt;
    &lt;&lt;set _owner = $estate.brothel.competition[_comp].owner&gt;&gt;
    &lt;&lt;set _brothel = $estate.brothel.competition[_comp]&gt;&gt;
    
    &lt;&lt;if _brothel.research.name&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;th class = &#39;nobottom&#39; colspan = 40&gt;&quot; + amendString(_brothel.name) + &quot;&lt;/th&gt;&quot;&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;th class = &#39;nobottom&#39; colspan = 40&gt;Unknown Brothel&lt;/th&gt;&quot;&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;for _comp = 1;_comp &lt;= $estate.brothel.competition.amount;_comp++&gt;&gt;
    &lt;&lt;set _owner = $estate.brothel.competition[_comp].owner&gt;&gt;
    &lt;&lt;set _brothel = $estate.brothel.competition[_comp]&gt;&gt;
    
    &lt;&lt;if _brothel.heat == null &amp;&amp; !_brothel.takedown&gt;&gt;
      &lt;&lt;set _brothel.heat = {amount:100, triggered:0, week:0, success:0, nerfed:0, event:null, scene:null, choice:null}&gt;&gt; 
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;th class = &#39;lb&#39; colspan = 15&gt;&quot;&gt;&gt;
    
    &lt;&lt;set _table += &quot;Status&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;Data&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;Heat&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;Popularity&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;Investigation&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;Preparation&quot;&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/th&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;th class = &#39;rb&#39; colspan = 25&gt;&quot;&gt;&gt;
    
    &lt;&lt;if _brothel.research.name&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;&lt;statbar &quot; + _brothel.status + &quot; 100 1&gt;&gt; @@color:#111111;|@@&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;N/A&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.research.name&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;statbar &quot; + _brothel.research.total + &quot; 6 1&gt;&gt; @@color:#111111;|@@&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;N/A&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.research.name&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;statbar &quot; + _brothel.heat.amount + &quot; 100 1&gt;&gt; @@color:#111111;|@@&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;N/A&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.research.popularity&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;statbar &quot; + _brothel.popularity + &quot; 100 1&gt;&gt; @@color:#111111;|@@&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;N/A&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if [&quot;Mid&quot;, &quot;End&quot;].contains(_brothel.investigation.event)&gt;&gt;
      &lt;&lt;set _progress = _brothel.investigation.progress&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;progressbar &quot; +  _progress + &quot; &quot; + _brothel.investigation.type + &quot; 1&gt;&gt; @@color:#111111;|@@&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;N/A&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.preparation.choice&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;statbar &quot; +  _brothel.preparation.progress + &quot; &quot; + _brothel.preparation.time + &quot; 1&gt;&gt; @@color:#111111;|@@&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;N/A&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;for _comp = 1;_comp &lt;= $estate.brothel.competition.amount;_comp++&gt;&gt;
    &lt;&lt;set _owner = $estate.brothel.competition[_comp].owner&gt;&gt;
    &lt;&lt;set _brothel = $estate.brothel.competition[_comp]&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;th class = &#39;nobottom&#39; colspan = 40&gt;&quot;&gt;&gt;
    
    &lt;&lt;if _brothel.option == &quot;Investigation&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;Investigation | &lt;&lt;print &#39;[[Preparation|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].option = \&quot;Preparation\&quot;]]&#39;&gt;&gt;&quot;&gt;&gt;
      
    &lt;&lt;elseif _brothel.option == &quot;Preparation&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[Investigation|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].option = \&quot;Investigation\&quot;]]&#39;&gt;&gt; | Preparation&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;      
    
    &lt;&lt;if _brothel.option == &quot;Investigation&quot;&gt;&gt;
      &lt;&lt;if _brothel.status &lt;= 0 || _brothel.research.total == 6&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[_comp].investigation.event = null&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[_comp].investigation.type = null&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if ![&quot;Mid&quot;, &quot;End&quot;].contains(_brothel.investigation.event) &amp;&amp; _brothel.research.total != 6 &amp;&amp; !_brothel.takedown&gt;&gt;
        &lt;&lt;if !_brothel.investigation.type&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;br&gt;None | &quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;print &#39;[[None|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].investigation.type = null, $estate.brothel.competition[&quot; + _comp + &quot;].investigation.event = null]]&#39;&gt;&gt; | &quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _brothel.investigation.type == &quot;Extended&quot;&gt;&gt;
          &lt;&lt;set _table += &quot;Extended | &quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[Extended|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].investigation.type = \&quot;Extended\&quot;, $estate.brothel.competition[&quot; + _comp + &quot;].investigation.event = \&quot;Start\&quot;]]&#39;&gt;&gt; | &quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _brothel.investigation.type == &quot;Moderate&quot;&gt;&gt;
          &lt;&lt;set _table += &quot;Moderate | &quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[Moderate|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].investigation.type = \&quot;Moderate\&quot;, $estate.brothel.competition[&quot; + _comp + &quot;].investigation.event = \&quot;Start\&quot;]]&#39;&gt;&gt; | &quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _brothel.investigation.type == &quot;Concise&quot;&gt;&gt;
          &lt;&lt;set _table += &quot;Concise&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[Concise|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].investigation.type = \&quot;Concise\&quot;, $estate.brothel.competition[&quot; + _comp + &quot;].investigation.event = \&quot;Start\&quot;]]&#39;&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;elseif _brothel.option == &quot;Preparation&quot;&gt;&gt;
      &lt;&lt;if _brothel.status &lt;= 0 || !_brothel.research.total&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[_comp].preparation.event = null&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[_comp].preparation.scope = null&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if ![&quot;Mid&quot;, &quot;End&quot;].contains(_brothel.preparation.event) &amp;&amp; !_brothel.takedown&gt;&gt;
        &lt;&lt;if !_brothel.preparation.scope&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;br&gt;None | &quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;print &#39;[[None|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].preparation.scope = null, $estate.brothel.competition[&quot; + _comp + &quot;].preparation.event = null]]&#39;&gt;&gt; | &quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _brothel.preparation.scope == &quot;Budget&quot;&gt;&gt;
          &lt;&lt;set _table += &quot;Budget | &quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[Budget|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].preparation.scope = \&quot;Budget\&quot;, $estate.brothel.competition[&quot; + _comp + &quot;].preparation.event = \&quot;Start\&quot;]]&#39;&gt;&gt; | &quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _brothel.preparation.scope == &quot;Moderate&quot;&gt;&gt;
          &lt;&lt;set _table += &quot;Moderate | &quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[Moderate|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].preparation.scope = \&quot;Moderate\&quot;, $estate.brothel.competition[&quot; + _comp + &quot;].preparation.event = \&quot;Start\&quot;]]&#39;&gt;&gt; | &quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _brothel.preparation.scope == &quot;Expensive&quot;&gt;&gt;
          &lt;&lt;set _table += &quot;Expensive&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[Expensive|Main Menu][$estate.brothel.competition[&quot; + _comp + &quot;].preparation.scope = \&quot;Expensive\&quot;, $estate.brothel.competition[&quot; + _comp + &quot;].preparation.event = \&quot;Start\&quot;]]&#39;&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/th&gt;&quot;&gt;&gt;
    
  &lt;&lt;/for&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;

  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;for _comp = 1;_comp &lt;= $estate.brothel.competition.amount;_comp++&gt;&gt;
    &lt;&lt;set _owner = $estate.brothel.competition[_comp].owner&gt;&gt;
    &lt;&lt;set _brothel = $estate.brothel.competition[_comp]&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;td class = &#39;compendium&#39; colspan = 40&gt;&lt;center&gt;&quot;&gt;&gt;
    
    &lt;&lt;if _brothel.option == &quot;Investigation&quot;&gt;&gt;
      &lt;&lt;if _brothel.takedown&gt;&gt;
        &lt;&lt;set _table += &quot;You have ruined this brothel. All of its assets have already been sold off to pay off the debt the brothel has accrued.&quot;&gt;&gt;
        
      &lt;&lt;elseif _brothel.status &lt;= 0&gt;&gt;
        &lt;&lt;set _table += &quot;This brothel has gone bankrupt. At the end of the week everyone left working in the brothel will be sold to anyone interested in buying them.&quot;&gt;&gt;
      
      &lt;&lt;elseif _brothel.research.total &gt;= 6&gt;&gt;
        &lt;&lt;set _table += &quot;You&#39;ve already found out everything there is to know about _brothel.name! Try planning an attack on the brothel to bring it down.&quot;&gt;&gt;
      
      &lt;&lt;elseif !_brothel.investigation.type&gt;&gt;
        &lt;&lt;set _table += &quot;You currently aren&#39;t investigating this brothel. You can choose to conduct a concise, moderate or extended investigation.&quot;&gt;&gt;
        
      &lt;&lt;elseif _brothel.investigation.type == &quot;Concise&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;Concise investigations are extremely effective at gathering information in a short amount of time but are costly and are more likely to gather attention.&quot;&gt;&gt;
      
      &lt;&lt;elseif _brothel.investigation.type == &quot;Moderate&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;Moderate investigations are decent at gathering information at a good pace, don&#39;t cost too much and seldom attracts attention from the target.&quot;&gt;&gt;
      
      &lt;&lt;elseif _brothel.investigation.type == &quot;Extended&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;Extended investigations are poor at gathering information in a short amount of time, are not very costly and rarely ever garners attention from the intended target.&quot;&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;elseif _brothel.option == &quot;Preparation&quot;&gt;&gt;
      &lt;&lt;if _brothel.takedown&gt;&gt;
        &lt;&lt;set _table += &quot;You have ruined this brothel. All of its assets have already been sold off to pay off the debt the brothel has accrued.&quot;&gt;&gt;
        
      &lt;&lt;elseif _brothel.status &lt;= 0&gt;&gt;
        &lt;&lt;set _table += &quot;This brothel has gone bankrupt. At the end of the week everyone left working in the brothel will be sold to anyone interested in buying them.&quot;&gt;&gt;
      
      &lt;&lt;elseif !_brothel.research.total&gt;&gt;
        &lt;&lt;set _table += &quot;You currently don&#39;t have any information on this brothel. Perform an investigation to gather data before you plan an attack.&quot;&gt;&gt;

      &lt;&lt;elseif !_brothel.preparation.scope&gt;&gt;
        &lt;&lt;set _table += &quot;You currently aren&#39;t planning an attacking on this brothel. You can choose to conduct an inexpensive, moderate or expensive attack.&quot;&gt;&gt;
        
      &lt;&lt;elseif _brothel.preparation.scope == &quot;Budget&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;Budget plans may not cost a lot, but they are not very effective. They have a low chance of doing any lasting damage against a brothel.&quot;&gt;&gt;
      
      &lt;&lt;elseif _brothel.preparation.scope == &quot;Moderate&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;Moderate plans don&#39;t cost too much and are decent at causing some damage to brothels. They a lower chance of failure than inexpensive plans.&quot;&gt;&gt;
      
      &lt;&lt;elseif _brothel.preparation.scope == &quot;Expensive&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;Expensive plans are extremely effective and can cause an extensive amount of damage to brothels. They also have a very low chance of failure.&quot;&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/center&gt;&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;for _comp = 1;_comp &lt;= $estate.brothel.competition.amount;_comp++&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;th class = &#39;nobottom&#39; colspan = 40&gt;Information&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;/for&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
  
  &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
  &lt;&lt;for _comp = 1;_comp &lt;= $estate.brothel.competition.amount;_comp++&gt;&gt;
    &lt;&lt;set _owner = $estate.brothel.competition[_comp].owner&gt;&gt;
    &lt;&lt;set _procurer = $estate.brothel.competition[_comp].procurer&gt;&gt;
    &lt;&lt;set _idol = $estate.brothel.competition[_comp].idol&gt;&gt;
    &lt;&lt;set _brothel = $estate.brothel.competition[_comp]&gt;&gt;
    &lt;&lt;set _guards = $estate.brothel.competition[_comp].guards&gt;&gt;
    
    &lt;&lt;if _procurer == &quot;Owner&quot;&gt;&gt;
      &lt;&lt;set _procurer = _owner&gt;&gt;
    &lt;&lt;/if&gt;&gt;    
    
    &lt;&lt;set _table += &quot;&lt;th class = &#39;lb&#39; colspan = 12&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;b&gt;Owner&lt;/b&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;Procurer&lt;/b&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;Idol&lt;/b&gt;&quot;&gt;&gt;
    
    &lt;&lt;for _g = 1; _g &lt;= 2; _g++&gt;&gt;
      &lt;&lt;set _guard = $estate.brothel.competition[_comp].guards[_g]&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;Guard &quot; + _g + &quot;&lt;/b&gt;&quot;&gt;&gt;
    &lt;&lt;/for&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/th&gt;&quot;&gt;&gt;
  
    &lt;&lt;set _table += &quot;&lt;td class = &#39;rb&#39; colspan = 28&gt;&lt;center&gt;&quot;&gt;&gt;
    &lt;&lt;if !_brothel.owner &amp;&amp; _brothel.research.owner&gt;&gt;
      &lt;&lt;set _table += &quot;None&quot;&gt;&gt;
    
    &lt;&lt;elseif _brothel.research.owner&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;&lt;race &#39;&quot; + _owner.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString(_owner.name) + &quot;|NPC Description][$activeCharacter to $estate.brothel.competition[&quot; + _comp + &quot;].owner]]&#39;&gt;&gt; &lt;&lt;gender &quot; + _owner.sex + &quot; &quot; + _owner.gender + &quot;&gt;&gt;&quot;&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;Insufficient Data&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if !_brothel.procurer &amp;&amp; _brothel.research.procurer&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;None&quot;&gt;&gt;
    
    &lt;&lt;elseif _brothel.research.procurer&gt;&gt;
      &lt;&lt;if _procurer != _owner&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;race &#39;&quot; + _procurer.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString(_procurer.name) + &quot;|NPC Description][$activeCharacter to $estate.brothel.competition[&quot; + _comp + &quot;].procurer]]&#39;&gt;&gt; &lt;&lt;gender &quot; + _procurer.sex + &quot; &quot; + _procurer.gender + &quot;&gt;&gt;&quot;&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;race &#39;&quot; + _owner.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString(_owner.name) + &quot;|NPC Description][$activeCharacter to $estate.brothel.competition[&quot; + _comp + &quot;].owner]]&#39;&gt;&gt; &lt;&lt;gender &quot; + _owner.sex + &quot; &quot; + _owner.gender + &quot;&gt;&gt;&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;Insufficient Data&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
    &lt;&lt;if !_brothel.idol &amp;&amp; _brothel.research.idol&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;None&quot;&gt;&gt;
    
    &lt;&lt;elseif _brothel.research.idol&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;race &#39;&quot; + _idol.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString(_idol.name) + &quot;|NPC Description][$activeCharacter to $estate.brothel.competition[&quot; + _comp + &quot;].idol]]&#39;&gt;&gt; &lt;&lt;gender &quot; + _idol.sex + &quot; &quot; + _idol.gender + &quot;&gt;&gt;&quot;&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;br&gt;Insufficient Data&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;for _g = 1; _g &lt;= 2; _g++&gt;&gt;
      &lt;&lt;set _guard = $estate.brothel.competition[_comp].guards[_g]&gt;&gt;
      
      &lt;&lt;if !_brothel.research.guards&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;br&gt;Insufficient Data&quot;&gt;&gt;
      
      &lt;&lt;elseif _guard&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;race &#39;&quot; + _guard.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString(_guard.name) + &quot;|NPC Description][$activeCharacter to $estate.brothel.competition[&quot; + _comp + &quot;].guards[&quot; + _g + &quot;]]]&#39;&gt;&gt; &lt;&lt;gender &quot; + _guard.sex + &quot; &quot; + _guard.gender + &quot;&gt;&gt;&quot;&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;br&gt;None&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/for&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;/center&gt;&lt;/td&gt;&quot;&gt;&gt;
  &lt;&lt;/for&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;

_table
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="321" name="Slave Skills" tags="nobr" position="488,1418" size="100,100">&lt;&lt;if $summary.skills == 1&gt;&gt;
  &lt;b&gt;[[Slave Skills|Slave Description][$summary.skills = 0]]&lt;/b&gt;

&lt;&lt;elseif $summary.skills == 0&gt;&gt;
  &lt;b&gt;[[Slave Skills|Slave Description][$summary.skills = 1]]&lt;/b&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _tabs = []&gt;&gt;
&lt;&lt;set _skillcount = 0&gt;&gt;

&lt;&lt;for _s=0;_s &lt; $skills.all.length;_s++&gt;&gt;
  &lt;&lt;set _skill = $skills.all[_s]&gt;&gt;
  
  &lt;&lt;if $activeCharacter.skills[_skill]&gt;&gt;
    &lt;&lt;if $skills.general.contains(_skill) &amp;&amp; !_tabs.contains(&quot;General&quot;)&gt;&gt;
      &lt;&lt;set _tabs.push(&quot;General&quot;)&gt;&gt;
      
    &lt;&lt;elseif $skills.brothel.contains(_skill) &amp;&amp; !_tabs.contains(&quot;Brothel&quot;)&gt;&gt;
      &lt;&lt;set _tabs.push(&quot;Brothel&quot;)&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _skillcount++&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;if $summary.skills || !_tabs.length&gt;&gt;
  | 

  &lt;&lt;if _tabs.length&gt;&gt;
    &lt;b&gt;$activeCharacter.name has learned _skillcount skills.&lt;/b&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;b&gt;$activeCharacter.name has yet to learn any skills.&lt;/b&gt;

  &lt;&lt;/if&gt;&gt;
  
  &lt;br&gt;&lt;br&gt;

&lt;&lt;else&gt;&gt;
  &lt;&lt;set _table = &quot;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;table class=&#39;Scroll&#39; style=&#39;table-layout:fixed;width:1000px&#39;&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
    &lt;&lt;set _tablength = 150 / _tabs.length&gt;&gt;
    
    &lt;&lt;if !_tabs.contains($tabs.skills)&gt;&gt;
      &lt;&lt;set $tabs.skills = _tabs[0]&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;for _t=0;_t &lt; _tabs.length;_t++&gt;&gt;
      &lt;&lt;if _t == 0&gt;&gt;
        &lt;&lt;set _tabclass = &quot;srb&quot;&gt;&gt;
        
      &lt;&lt;elseif _t == _tabs.length-1&gt;&gt;
        &lt;&lt;set _tabclass = &quot;slb&quot;&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _tabclass = &quot;smb&quot;&gt;&gt;
         
      &lt;&lt;/if&gt;&gt;
    
      &lt;&lt;if $tabs.skills == _tabs[_t]&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;th class = &quot; + _tabclass + &quot; colspan = &quot; + _tablength + &quot;&gt;&quot; + _tabs[_t] + &quot; Skills&lt;/th&gt;&quot;&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;th class = &quot; + _tabclass + &quot; colspan = &quot; + _tablength + &quot;&gt;[[&quot; + _tabs[_t] + &quot; Skills|Slave Description][$tabs.skills = &#39;&quot; + _tabs[_t] + &quot;&#39;]]&lt;/th&gt;&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/for&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
    
    &lt;&lt;set _table += &quot;&lt;tbody class=&#39;skills&#39;&gt;&quot;&gt;&gt;
    
    &lt;&lt;set _tab = lowercase($tabs.skills)&gt;&gt;
    
    &lt;&lt;for _s=0;_s &lt; $skills.all.length;_s++&gt;&gt;
      &lt;&lt;set _skill = $skills.all[_s]&gt;&gt;
      
      &lt;&lt;if $activeCharacter.skills[_skill] &amp;&amp; $skills[_tab].contains(_skill)&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;td class = &#39;skillname&#39; colspan = 30&gt;&lt;b&gt;&lt;&lt;print capitalize(&#39;&quot; + _skill + &quot;&#39;)&gt;&gt; &lt;&lt;print romanize(&quot; + $activeCharacter.skills[_skill][&#39;level&#39;] + &quot;)&gt;&gt;&lt;/b&gt;&lt;/td&gt;&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;td class = &#39;skilldesc&#39; colspan = 120&gt;&lt;&lt;skilldesc &quot; + _skill + &quot;&gt;&gt;&lt;/td&gt;&quot;&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/for&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;/tbody&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;/table&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;br&gt;&quot;&gt;&gt;
  
  _table
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="322" name="Skills" tags="nobr" position="1041,1221" size="100,100">&lt;&lt;set $skills = {all:[], general:[], brothel:[], ranch:[], chattel:[], exp:[], duty:{}}&gt;&gt;
&lt;&lt;set $skills.duty = {manager: &quot;managing&quot;, teacher: &quot;teaching&quot;, guard: &quot;guarding&quot;, consorter: &quot;consorting&quot;, solicitor: &quot;soliciting&quot;, host: &quot;hosting&quot;, attendant: &quot;attending&quot;}&gt;&gt;
&lt;&lt;set $skills.all = [&quot;manager&quot;, &quot;teacher&quot;, &quot;guard&quot;, &quot;consorter&quot;, &quot;solicitor&quot;, &quot;host&quot;, &quot;attendant&quot;]&gt;&gt;
&lt;&lt;set $skills.general = [&quot;manager&quot;, &quot;teacher&quot;, &quot;guard&quot;, &quot;consorter&quot;]&gt;&gt;
&lt;&lt;set $skills.brothel = [&quot;solicitor&quot;, &quot;host&quot;, &quot;attendant&quot;]&gt;&gt;
&lt;&lt;set $skills.ranch = []&gt;&gt;
&lt;&lt;set $skills.chattel = []&gt;&gt;
&lt;&lt;set $skills.exp = [0, 50, 75, 125, 200, 300, 500, 650, 900, 1200]&gt;&gt;</tw-passagedata><tw-passagedata pid="323" name="Skill Description Widget" tags="nobr widget" position="1885,1741" size="100,100">&lt;&lt;widget &quot;skilldesc&quot;&gt;&gt;

&lt;&lt;switch $args[0]&gt;&gt;
  &lt;&lt;case &quot;manager&quot;&gt;&gt;
    &lt;&lt;print &quot;The ability to manage others is increased, allowing for a boost in productivity and profit for managers.&quot;&gt;&gt;
    
  &lt;&lt;case &quot;teacher&quot;&gt;&gt;
    &lt;&lt;print &quot;[Not Implemented]&quot;&gt;&gt;
    
  &lt;&lt;case &quot;guard&quot;&gt;&gt;
    &lt;&lt;print &quot;[Not Implemented]&quot;&gt;&gt;
    /*&lt;&lt;print &quot;Increases ones guarding proficiency by increasing their ability to spot troublemakers and those in distress.&quot;&gt;&gt;*/
  
  &lt;&lt;case &quot;consorter&quot;&gt;&gt;
    &lt;&lt;print &quot;Consorting with potential customers becomes easier, raising the rate one can build popularity for residences.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;solicitor&quot;&gt;&gt;
    &lt;&lt;print &quot;Both the volume of amount of customers served and the price of ones service is increased in brothels.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;host&quot;&gt;&gt;
    &lt;&lt;print &quot;Customers will form bonds easier if working as a host, boosting both proficiency and income earned.&quot;&gt;&gt;
  
  &lt;&lt;case &quot;attendant&quot;&gt;&gt;
    &lt;&lt;print &quot;Compentence attending to customers in private rooms increases, improving proficiency and price of service.&quot;&gt;&gt;
  
&lt;&lt;/switch&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="324" name="Skill Summary Widget" tags="nobr widget" position="2015,1742" size="100,100">&lt;&lt;widget &quot;skillsum&quot;&gt;&gt;

&lt;&lt;set _character = $args[0]&gt;&gt;
&lt;&lt;set _skill = $args[1]&gt;&gt;
&lt;&lt;set _duty = $skills.duty[_skill]&gt;&gt;
&lt;&lt;set _degree = $estate.brothel.levels[_duty]&gt;&gt;
&lt;&lt;set _Duty = capitalize(_duty)&gt;&gt;
&lt;&lt;set _success = 0&gt;&gt;

&lt;&lt;if _character.skills[_skill]&gt;&gt;
  &lt;&lt;set _level = _character.skills[_skill].level&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _level = 1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;b&gt;[_Duty] &lt;/b&gt;

&lt;&lt;if !$args[2]&gt;&gt;
  &lt;&lt;if _degree == &quot;Min&quot;&gt;&gt;
    &lt;&lt;if _level &lt;= 1&gt;&gt;
      &lt;&lt;set _success = 1&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _success = 2&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif _degree == &quot;Low&quot;&gt;&gt;
    &lt;&lt;if _level &lt; 2&gt;&gt;
      &lt;&lt;set _success = 0&gt;&gt;
    
    &lt;&lt;elseif _level &lt; 3&gt;&gt;
      &lt;&lt;set _success = 1&gt;&gt;
    
    &lt;&lt;elseif _level &gt;= 3&gt;&gt;
      &lt;&lt;set _success = 2&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif _degree == &quot;Normal&quot;&gt;&gt;
    &lt;&lt;if _level &lt; 3&gt;&gt;
      &lt;&lt;set _success = 0&gt;&gt;
    
    &lt;&lt;elseif _level &lt; 5&gt;&gt;
      &lt;&lt;set _success = 1&gt;&gt;
    
    &lt;&lt;elseif _level &gt;= 5&gt;&gt;
      &lt;&lt;set _success = 2&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif _degree == &quot;High&quot;&gt;&gt;
    &lt;&lt;if _level &lt; 4&gt;&gt;
      &lt;&lt;set _success = 0&gt;&gt;
    
    &lt;&lt;elseif _level &lt; 7&gt;&gt;
      &lt;&lt;set _success = 1&gt;&gt;
    
    &lt;&lt;elseif _level &gt;= 7&gt;&gt;
      &lt;&lt;set _success = 2&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif _degree == &quot;Max&quot;&gt;&gt;
    &lt;&lt;if _level &lt; 5&gt;&gt;
      &lt;&lt;set _success = 0&gt;&gt;
    
    &lt;&lt;elseif _level &lt; 10&gt;&gt;
      &lt;&lt;set _success = 1&gt;&gt;
    
    &lt;&lt;elseif _level &gt;= 10&gt;&gt;
      &lt;&lt;set _success = 2&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if _success == 2&gt;&gt;
    &lt;&lt;if _character.ID != &quot;PLAYER&quot;&gt;&gt;
      @@color:forestgreen;_character.name easily completed &lt;&lt;print $hisher[_character.gender]&gt;&gt; duty with little to no problems.@@
    &lt;&lt;else&gt;&gt;
      @@color:forestgreen;You easily completed your duty with little to no problems.@@
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;elseif _success == 1&gt;&gt;
    &lt;&lt;if _character.ID != &quot;PLAYER&quot;&gt;&gt;
      @@color:greenyellow;_character.name was able to complete &lt;&lt;print $hisher[_character.gender]&gt;&gt; duty.@@
    &lt;&lt;else&gt;&gt;
      @@color:greenyellow;You were able to complete your duty.@@
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;elseif _success == 0&gt;&gt;
    &lt;&lt;if _character.ID != &quot;PLAYER&quot;&gt;&gt;
      @@color:red;_character.name has failed to properly complete &lt;&lt;print $hisher[_character.gender]&gt;&gt; duty.@@
    &lt;&lt;else&gt;&gt;
      @@color:red;You have failed to properly complete your duty.@@
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $args[2] == &quot;job&quot;&gt;&gt;
  &lt;&lt;if _character.ID != &quot;PLAYER&quot;&gt;&gt;
    @@color:forestgreen;_character.name gained _duty experience!@@
  &lt;&lt;else&gt;&gt;
    @@color:forestgreen;You gained _duty experience!@@
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="325" name="Basic - Irate Customer" tags="nobr" position="2156,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;center&gt;&lt;titled&gt;Irate Customer&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if !$events.choice&gt;&gt;
  This week hasn&#39;t gone well for [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]]. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; had a customer visit &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; multiple times and after each session the customer has made a complaint about $activeCharacter.name&#39;s work ethic and is looking for a refund. The customer claims &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been doing a poor job and has even given attitude on occasion. $activeCharacter.name says the exact opposite- &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; says the customer has been excessively rude and abusive but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; the customer the best service anyways. Most likely the truth is somewhere in the middle. You do find it suspicious the customer returned to visit the same slave they deemed inadequate multiple times during the week but calling customers out may hurt your business in the long run.

  &lt;br&gt;&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Refund the customer for the poor service.&quot;&gt;&gt;
  [[_scenename|Basic - Irate Customer][$events.choice = &quot;Refund Customer&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Call the customer out on their bullshit.&quot;&gt;&gt;
  [[_scenename|Basic - Irate Customer][$events.choice = &quot;Callout Customer&quot;]]
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;switch $events.choice&gt;&gt;
    &lt;&lt;case &quot;Refund Customer&quot;&gt;&gt;
      &lt;b&gt;You refund the customer their money!&lt;/b&gt; &lt;br&gt;
      The customer is extremely contented, praising your brothel and your expertise as a brothel owner. The customer says they will be referring your brothel to all of their friends, as you make sure to do right by your customers. $activeCharacter.name on the other hand is completely irate. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; claims you don&#39;t stand by the slaves you&#39;ve trained to do sex work as long as you can get a quick buck or a couple more customers. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; makes it clear &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has lost trust for you, believing &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is the only one looking out for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; interests.
      
      &lt;br&gt;&lt;br&gt;
      
      Your solution has @@color:greenyellow;increased the popularity of your brothel@@ but it also @@color:orange;decreased $activeCharacter.name&#39;s trust in you.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Irate Customer@@&quot;, &quot;A customer claimed $activeCharacter.name was providing poor service and you gave them a refund despite &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; telling you the customer was making it up, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to lose trust in you.&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total+5, 0, 100)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Irate Customer - Refund Customer&quot;)&gt;&gt;
      &lt;&lt;run decreaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Callout Customer&quot;&gt;&gt;
      &lt;b&gt;You called out the customer on their bullshit!&lt;/b&gt; &lt;br&gt;
      You refuse to refund the customer, harping on the point if they really were upset with the service they received they would not have returned to receive service from the same slave multiple times this week. The customer went from being irate to completely furious, making a scene in the brothel lobby claiming you&#39;re scamming your customers with shitty service. The customers says they will be telling all their friends about your poor service and will sully your brothel&#39;s name whenever they get a chance. $activeCharacter.name is extremely happy with the outcome. You believed &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; words over a customer&#39;s, showing you place value in treating your workers right (even if they are your slaves) even if it means losing a few customers.
      
      &lt;br&gt;&lt;br&gt;
      
      Your solution has @@color:orange;decreased the popularity of your brothel@@ but it also @@color:greenyellow;increased $activeCharacter.name&#39;s trust in you.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:greenyellow;[Week &quot; + $weekcount + &quot;] Irate Customer@@&quot;, &quot;A customer claimed $activeCharacter.name was providing poor service and you refused to give them a refused when &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; told you the customer was making it up, causing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to gain trust in you.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Irate Customer - Callout Customer&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total-5, 0, 100)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="326" name="Basic - Customer Contentment" tags="nobr" position="2286,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;center&gt;&lt;titled&gt;Customer Contentment&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if !$events.choice&gt;&gt;
  Customers have been praising [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]]&#39;s service the whole week. Whether &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been giving extra effort, or &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has only been getting lucky with the people &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been servicing, this kind of job performance usually is followed by some sort of reward, though one week may not be enough time to get one.

  &lt;br&gt;&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Reward &quot; + $activeCharacter.name + &quot; for &quot; + $hisher[$activeCharacter.gender] + &quot; great performance this week.&quot;&gt;&gt;
  [[_scenename|Basic - Customer Contentment][$events.choice = &quot;Reward Performance&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Ignore &quot; + $activeCharacter.name + &quot;&#39;s week of great performance.&quot;&gt;&gt;
  [[_scenename|Basic - Customer Contentment][$events.choice = &quot;Ignore Performance&quot;]]
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;switch $events.choice&gt;&gt;
    &lt;&lt;case &quot;Reward Performance&quot;&gt;&gt;
      &lt;b&gt;You reward $activeCharacter.name for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; great performance this week!&lt;/b&gt; &lt;br&gt;
      You allow $activeCharacter.name an extra day off this week and pay for &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to have a whole day of rest and relaxation at a nearby spa. Some customers are a little bit disappointed to find out that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; isn&#39;t on the day&#39;s roster when they come by that day but most of them are eager to return the next day when you tell them &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is being pampered and rested so &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; can return good as new.
      
      &lt;br&gt;&lt;br&gt;
      
      $activeCharacter.name&#39;s @@color:greenyellow;popularity has increased@@ but &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has @@color:orange;lowered &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@ because of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; special treatment.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:yellow;[Week &quot; + $weekcount + &quot;] Customer Contentment@@&quot;, &quot;Customers have been praising $activeCharacter.name&#39;s great service this week, causing you to reward &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; with a spa day. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; one day absence has increased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity at the expense of lowering &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust.&quot;)&gt;&gt;
      &lt;&lt;set $activeCharacter.popularity.brothel = Math.clamp($activeCharacter.popularity.brothel+5, 0, 100)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Customer Contentment - Reward Performance&quot;)&gt;&gt;
      &lt;&lt;run decreaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Ignore Performance&quot;&gt;&gt;
      &lt;b&gt;You ignore $activeCharacter.name&#39;s great performance this week!&lt;/b&gt; &lt;br&gt;
      $activeCharacter.name was expecting a reward for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; great performance this week but you barely even acknowledge &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; presence, let alone all the praise &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has been getting from customers. &lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; performance visibly drops because of this, causing customers who came to check out your brothel&#39;s highly-praised slut to leave feeling unsatisfied.
      
      &lt;br&gt;&lt;br&gt;
      
      $activeCharacter.name&#39;s @@color:orange;popularity has decreased@@ but it also @@color:greenyellow;decreased &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:yellow;[Week &quot; + $weekcount + &quot;] Customer Contentment@@&quot;, &quot;Customers have been praising $activeCharacter.name&#39;s great service this week, but instead of reward &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; you decide to ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; great performance. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is visibly upset causing a drop in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; fear of you.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Customer Contentment - Ignore Performance&quot;)&gt;&gt;
      &lt;&lt;set $activeCharacter.popularity.brothel = Math.clamp($activeCharacter.popularity.brothel-5, 0, 100)&gt;&gt;
      &lt;&lt;run decreaseFear($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="327" name="Basic - Sex Slave Strike" tags="nobr" position="2425,2125" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;center&gt;&lt;titled&gt;Sex Slave Strike&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if !$events.choice&gt;&gt;
  [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] has refused to provide any sexual services to &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; customers this week. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; claims &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; customers were excessively physical with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; unscarred body and conflicting reports from the customers themselves say otherwise. The solution to this problem won&#39;t be easy to fix. You can either punish $activeCharacter.name harshly, ending &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; sex strike but damaging &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; physically in the process. Or you can leave &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; be, damaging the reputation of your brothel and increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; attitude problem.

  &lt;br&gt;&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Label &quot; + $activeCharacter.name + &quot; free use for a day.&quot;&gt;&gt;
  [[_scenename|Basic - Sex Slave Strike][$events.choice = &quot;Free Use&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Leave &quot; + $activeCharacter.name + &quot; be.&quot;&gt;&gt;
  [[_scenename|Basic - Sex Slave Strike][$events.choice = &quot;Leave Be&quot;]]
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;switch $events.choice&gt;&gt;
    &lt;&lt;case &quot;Free Use&quot;&gt;&gt;
      &lt;b&gt;You label $activeCharacter.name free use for the day!&lt;/b&gt; &lt;br&gt;
      Since $activeCharacter.name insists on refusing to perform any sexual activities, you label &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; free use for the day. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is mortified and promises to start working right away but you explain you are punishing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; past transgressions, and not for future ones. There is a struggle but eventually you get &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; fastened to a sex stockade outside the brothel, restricting &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; movement and leaving &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; genitalia and holes for use.
      
      &lt;br&gt;&lt;br&gt;
      
      $activeCharacter.name&#39;s body was thoroughly used, @@color:red;greatly damaging &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body@@ while @@color:greenyellow;greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:yellow;[Week &quot; + $weekcount + &quot;] Sex Slave Strike@@&quot;, &quot;$activeCharacter.name has gone on a sex strike, refusing to perform any sexual activity with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; customers. You punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by making &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; free use for the day, greatly increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; obedience but putting &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body through great strain.&quot;)&gt;&gt;
      &lt;&lt;set $activeCharacter.condition.progress = 1&gt;&gt;
      &lt;&lt;set $activeCharacter.renew = $activeCharacter.assignment&gt;&gt;
    	&lt;&lt;set $activeCharacter.assignment = &quot;rest&quot;&gt;&gt;
      &lt;&lt;set $activeCharacter.health = updateHealth($activeCharacter)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Sex Slave Strike - Free Use&quot;)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Leave Be&quot;&gt;&gt;
      &lt;b&gt;You leave $activeCharacter.name be!&lt;/b&gt; &lt;br&gt;
      You refuse to let $activeCharacter.name&#39;s attempts to form a personal strike on sexual acts as a sex slave get to you. Understanding that punishing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; appropriately might damage &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to the point of needing a couple weeks rest, you wait and see if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will return to working properly of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; own accord. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; eventually returns to working normally because &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is scared you might punish &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; excessively if &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; continues but make no mistake, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is well aware of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; victory over you and your brothel business has suffered because of it.
      
      &lt;br&gt;&lt;br&gt;
      
      $activeCharacter.name&#39;s @@color:orange;obedience has decreased@@ and your @@color:orange;brothel&#39;s popularity has dropped.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Sex Slave Strike@@&quot;, &quot;Customers have been praising $activeCharacter.name&#39;s great service this week, but instead of reward &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; you decide to ignore &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; great performance. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; is visibly upset causing a drop in &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; ego.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Sex Slave Strike - Leave Be&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total-5, 0, 100)&gt;&gt;
      &lt;&lt;run decreaseObedience($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="328" name="Basic - Property Damage" tags="nobr" position="2546,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;center&gt;&lt;titled&gt;Property Damage&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if !$events.choice&gt;&gt;
  You notice at the end of the day [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]] is badly bruised. It isn&#39;t unusual for customers to be a little rough with brothel slaves, but the amount of bruising &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; has is clearly over the top. This is a problem because if the damage cannot be healed with enough rest, you will have to pay out of pocket to have &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; recover with a high-grade potion. Essentially you have a customer damaging your property beyond what is socially acceptable. You question $activeCharacter.name about the bruises and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; explains &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; received them from a new customer. 

  &lt;br&gt;&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Confront the customer damaging your property.&quot;&gt;&gt;
  [[_scenename|Basic - Property Damage][$events.choice = &quot;Confront Customer&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Ignore &quot; + $activeCharacter.name + &quot;&#39;s bruises.&quot;&gt;&gt;
  [[_scenename|Basic - Property Damage][$events.choice = &quot;Ignore Bruises&quot;]]
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;switch $events.choice&gt;&gt;
    &lt;&lt;case &quot;Confront Customer&quot;&gt;&gt;
      &lt;b&gt;You confront the customer damaging your property!&lt;/b&gt; &lt;br&gt;
      You catch the customer when they come into the brothel the next day and explain to them you will ban them from entering your brothel if they continue to abuse your slaves excessively. The customer immediately goes on the defensive, claiming they barely even touched your slave. When you bring $activeCharacter.name out to show the customer the damage they caused, other customers start to gossip and point, shaming the customer and sending them into a fit of rage. You try to usher them off your property but its too late, and they begin damaging anything they can get their hands on. It takes a few minutes but you finally get rid of them. $activeCharacter.name is thankful for your help.
      
      &lt;br&gt;&lt;br&gt;
      
      $activeCharacter.name&#39;s body was @@color:orange;damaged &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;@@ but &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; @@color:forestgreen;trust in you has greatly increased.@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:greenyellow;[Week &quot; + $weekcount + &quot;] Property Damage@@&quot;, &quot;A customer has been abusing $activeCharacter.name, forcing you to confront the customer about their conduct while paying to use your brothel slaves. The customer rages, but the damage is minimal. $activeCharacter.name&#39;s trust in you increased greatly.&quot;)&gt;&gt;
      &lt;&lt;set $activeCharacter.condition.progress = Math.clamp($activeCharacter.condition.progress-50, 0, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.renew = $activeCharacter.assignment&gt;&gt;
    	&lt;&lt;set $activeCharacter.assignment = &quot;rest&quot;&gt;&gt;
      &lt;&lt;set $activeCharacter.health = updateHealth($activeCharacter)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Property Damage - Confront Customer&quot;)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Ignore Bruises&quot;&gt;&gt;
      &lt;b&gt;You ignore the customers abuse!&lt;/b&gt; &lt;br&gt;
      Customers often get handsy and sometimes outright abusive but that isn&#39;t an issue to you. At the end of the day slaves are replaceable merchandise, and confront every customer who abuses them will only hurt you in the end. $activeCharacter.name isn&#39;t happy about this at all, and feels as if you&#39;ve failed &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; by allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; to be subject to more abuse but you gain a huge boost in popularity with the local ruffians.
      
      &lt;br&gt;&lt;br&gt;
      
      $activeCharacter.name&#39;s body was @@color:red;greatly damaged &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt;@@ and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; @@color:orange;trust in you has decreased.@@ but your @@color:forestgreen;brothel&#39;s popularity has greatly increased@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:red;[Week &quot; + $weekcount + &quot;] Property Damage@@&quot;, &quot;A customer has been abusing $activeCharacter.name but you completely ignore the issue. $activeCharacter.name&#39;s body becomes greatly damaged as a result and &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; loses trust in you but your brothel&#39;s popularity increased greatly.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Property Damage - Ignore Bruises&quot;)&gt;&gt;
      &lt;&lt;set $activeCharacter.condition.progress = Math.clamp($activeCharacter.condition.progress-50, 0, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.renew = $activeCharacter.assignment&gt;&gt;
    	&lt;&lt;set $activeCharacter.assignment = &quot;rest&quot;&gt;&gt;
      &lt;&lt;set $activeCharacter.health = updateHealth($activeCharacter)&gt;&gt;
      &lt;&lt;run decreaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Serenity&quot;, 20)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total+10, 0, 100)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="329" name="Basic - Obsessed" tags="nobr" position="2676,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;center&gt;&lt;titled&gt;Obsessed&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if !$events.choice&gt;&gt;
  A customer has become absolutely obsessed with [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]]. They spend as much time as possible with &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;, paying for &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; service for the whole day, every day &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is providing service at your brothel. Whales are very profitable in the brothel industry but they are sometimes unsustainable. For this particular whale the question of when, not if, they run out of money is on the forefront of your mind. They aren&#39;t working, as they seem to be at your brothel whenever its open. The odd day they come in &#39;late&#39;, they&#39;re viciously aggressive with other customers who have bought $activeCharacter.name&#39;s service. If you don&#39;t intervene this could end up much worse than it needs to be but you won&#39;t be getting anymore of the customer&#39;s money if you do so.

  &lt;br&gt;&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Ban the customer from returning to your brothel.&quot;&gt;&gt;
  [[_scenename|Basic - Obsessed][$events.choice = &quot;Intervene&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Ignore the customer&#39;s obsession for &quot; + $activeCharacter.name + &quot;.&quot;&gt;&gt;
  [[_scenename|Basic - Obsessed][$events.choice = &quot;Ignore Obsession&quot;]]
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;switch $events.choice&gt;&gt;
    &lt;&lt;case &quot;Intervene&quot;&gt;&gt;
      &lt;b&gt;You ban the obsessed customer from returning to your brothel!&lt;/b&gt; &lt;br&gt;
      At first the customer is confused but quickly becomes enraged once they understand what you&#39;re telling them. They argue they&#39;ve done nothing wrong while being a loyal customer. You explain while having a favorite isn&#39;t a problem, their obsession with $activeCharacter.name has gone to the point they are scaring other customers away from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. After a long time arguing, the customer realizes you won&#39;t be rescinding your ban and storms out the building yelling that if they catch anyone getting service form $activeCharacter.name, they&#39;ll kill them.
      
      &lt;br&gt;&lt;br&gt;
      
      The customer&#39;s threat has @@color:orange;decreased $activeCharacter.name&#39;s popularity@@ but your @@color:greenyellow;brothel&#39;s popularity has increased@@ ever since the obsessed customer was banned.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Obsessed@@&quot;, &quot;You banned a customer obsessed with $activeCharacter.name from the brothel, causing them to exclaim they will kill anyone they catch receiving service from &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt;. The customer&#39;s threats ended up decreasing $activeCharacter.name&#39;s popularity but your brothel&#39;s popularity has increased ever since the customer was banned.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Obsessed - Intervene&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total+5, 0, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.popularity.brothel = Math.clamp($activeCharacter.popularity.brothel-5, 0, 100)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 10)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Ignore Obsession&quot;&gt;&gt;
      &lt;b&gt;You ignore the customer&#39;s obsession with $activeCharacter.name!&lt;/b&gt; &lt;br&gt;
      Everything remains the same at first, but things slowly begin to deteriorate when the customer starts to get low on cash. They try to haggle $activeCharacter.name&#39;s price down, and when you refuse their offer they become irate. Eventually the customer can no longer pay for $activeCharacter.name&#39;s service, and you have to ban them from returning. There is little fight when it happens, both you and the customer could tell this day was coming and it seems like they are on the verge of being enslaved themselves. 
      
      &lt;br&gt;&lt;br&gt;
      
      The customer&#39;s constant arguments leading up to their ban has soured some people from your brothel,  @@color:orange;lowering its popularity.@@ On the other hand, @@color:greenyellow;$activeCharacter.name&#39;s popularity has increased@@ as other customers are quite curious to see what kind of service a slave who ensnared someone to the point of bankruptcy. 
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:greenyellow;[Week &quot; + $weekcount + &quot;] Obsessed@@&quot;, &quot;You ignored a customer&#39;s obsession with $activeCharacter.name, allowing them to spend every last coin of their savings before banning them. In the process you alienated some of your customers, but a few customers gained interest in $activeCharacter.name, increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Obsessed - Ignore Obsession&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total-5, 0, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.popularity.brothel = Math.clamp($activeCharacter.popularity.brothel+5, 0, 100)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 10)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="330" name="Basic - Marital Affair" tags="nobr" position="2806,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;center&gt;&lt;titled&gt;Marital Affair&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if !$events.choice&gt;&gt;
   From gossip you&#39;ve heard from your slaves, a married customer has been paying for [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]]&#39;s service for a few weeks now. This isn&#39;t unusual at all, but the rumor also stats that their spouse is very jealous and could cause a scene if they ever found out. Though, it seems like its a little to late for &#39;ifs&#39;. The customer is bickering in your brothel&#39;s lobby with their spouse, while $activeCharacter.name stands beside them with &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; head turned down. The screaming is loud and incoherent, but from what you can tell the customer&#39;s spouse is blaming $activeCharacter.name for their partner&#39;s betrayal. The whole ordeal looks to be reaching its climax but there is still time for you to intervene.

  &lt;br&gt;&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Defend &quot; + $activeCharacter.name + &quot; from the customer&#39;s spouse.&quot;&gt;&gt;
  [[_scenename|Basic - Marital Affair][$events.choice = &quot;Defend Slave&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Let the scene play out.&quot;&gt;&gt;
  [[_scenename|Basic - Marital Affair][$events.choice = &quot;Allow Drama&quot;]]
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;switch $events.choice&gt;&gt;
    &lt;&lt;case &quot;Defend Slave&quot;&gt;&gt;
      &lt;b&gt;You defend $activeCharacter.name from the customer&#39;s spouse!&lt;/b&gt; &lt;br&gt;
      While you can sympathize with the customer&#39;s spouse for their pain, there is no reason for them to blame $activeCharacter.name. &lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; doesn&#39;t decide who &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; sleeps with as whoever has enough money can buy &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; for an alloted period of time. To the chagrin of the customer, you explain to their spouse the only one to blame in this whole debacle is the customer themself. The spouse, eager to unload their anger on anyone, turns to the customer and starts to berate them. You quietly pull $activeCharacter.name away before escorting the feuding couple away off of your property.
      
      &lt;br&gt;&lt;br&gt;
      
      A few of your married customers saw how you handled the situation and were not impressed, @@color:orange;decreasing your brothel&#39;s popularity.@@ Your slave was thankful for you pulling &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; out of the situation, @@color:greenyellow;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust in you.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:greenyellow;[Week &quot; + $weekcount + &quot;] Marital Affair@@&quot;, &quot;You defended $activeCharacter.name from a customer&#39;s angry wife. Other married customers were not happy with how you handled it, causing your brothel&#39;s popularity to decrease but $activeCharacter.name is more trustful because you stuck up for them.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Marital Affair - Defend Slave&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total-5, 0, 100)&gt;&gt;
      &lt;&lt;run increaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Allow Drama&quot;&gt;&gt;
      &lt;b&gt;You allow the customer&#39;s spouse to berate $activeCharacter.name!&lt;/b&gt; &lt;br&gt;
      The customer&#39;s spouse spews a barrage of hateful words towards $activeCharacter.name, allowing &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; no room to escape. In a final fit of rage the spouse slaps $activeCharacter.name harshly across the cheek and calls &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; a &lt;&lt;print $whore[$activeCharacter.gender]&gt;&gt;. Which, to be fair, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is. The spouse grabs the customer and drags them out of the brothel, telling them not to fall for every &lt;&lt;print $whore[$activeCharacter.gender]&gt;&gt; they see. 
      
      &lt;br&gt;&lt;br&gt;
      
      A few of your married customers saw how you handled the situation and were happy to see you allowed your slave to take the blame, @@color:greenyellow;increasing your brothel&#39;s popularity.@@ $activeCharacter.name on the other hand, wasn&#39;t as happy.  &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; was waiting for you to pull &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; out of the situation and since you didn&#39;t, &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; @@color:orange;trust in you has decreased.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:orange;[Week &quot; + $weekcount + &quot;] Marital Affair@@&quot;, &quot;You allowed $activeCharacter.name to take the blame for a customer&#39;s marital affair, increasing your brothel&#39;s popularity among married customers for the price of $activeCharacter.name&#39;s trust in you.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Marital Affair - Allow Drama&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total+5, 0, 100)&gt;&gt;
      &lt;&lt;run decreaseTrust($activeCharacter, 10)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 10)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="331" name="Basic - Renthouse" tags="nobr" position="2936,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;center&gt;&lt;titled&gt;Renthouse&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if !$events.choice&gt;&gt;
  One of [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]]&#39;s regular customers has inquired about renting the brothel for half a day for an exclusive party next week. You normally don&#39;t entertain those kind of requests, but this customer is offering @@color:lightgreen;💎10,000@@ for the day. With that amount of money you&#39;ll easily make back what you would have lost and much more. $activeCharacter.name doesn&#39;t seem to happy to hear the request, knowing that &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; will most likely be the center of attention during the party. Some customers might get upset you&#39;ve closed down the brothel for a select group of people but as long as you don&#39;t make a habit of it, it shouldn&#39;t affect your brothel&#39;s popularity too harshly.

  &lt;br&gt;&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Rent the brothel for half a day.&quot;&gt;&gt;
  [[_scenename|Basic - Renthouse][$events.choice = &quot;Rent Brothel&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Refuse &quot; + $activeCharacter.name + &quot;&#39;s customer&#39;s request to rent the brothel.&quot;&gt;&gt;
  [[_scenename|Basic - Renthouse][$events.choice = &quot;Refuse Request&quot;]]
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;switch $events.choice&gt;&gt;
    &lt;&lt;case &quot;Rent Brothel&quot;&gt;&gt;
      &lt;b&gt;You rent your brothel out for half a day to $activeCharacter.name&#39;s customer!&lt;/b&gt; &lt;br&gt;
      As you expected, $activeCharacter.name was the main &lt;&lt;print $whore[$activeCharacter.gender]&gt;&gt; used during the half-day party. You don&#39;t recall even one moment when either
      
      &lt;&lt;if haveCock($activeCharacter) &amp;&amp; havePussy($activeCharacter)&gt;&gt;
        &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cock, pussy or one of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; other holes
      &lt;&lt;elseif haveCock($activeCharacter)&gt;&gt;
        &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; cock or one of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; other holes
      &lt;&lt;elseif havePussy($activeCharacter)&gt;&gt;
        &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; pussy or one of &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; other holes
      &lt;&lt;else&gt;&gt;
        &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; mouth or ass
      &lt;&lt;/if&gt;&gt;
      
      weren&#39;t in use. In fact, most of the time they were all being used. The party itself wasn&#39;t too rowdy and was easy to clean up afterward, allowing you to open the store back up for the remainder of the day earlier than you were planning. $activeCharacter.name needed a little rest after the morning affair, but you had &lt;&lt;print $himher[$activeCharacter.gender]&gt;&gt; back on the floor within the hour.
      
      &lt;br&gt;&lt;br&gt;
      
      Hosting the party earned you @@color:lightgreen;💎10,000@@ but a few customers were upset about you renting out the brothel, @@color:orange;lowering your brothel&#39;s popularity.@@ $activeCharacter.name was thoroughly used during the party @@color:orange;damaging &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; body@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:greenyellow;[Week &quot; + $weekcount + &quot;] Renthouse@@&quot;, &quot;You rented the brothel out to one of $activeCharacter.name&#39;s customers. They payed you 💎10,000 for the use of the brothel for half a day for an exclusive party. $activeCharacter.name was the &lt;&lt;print $whore[$activeCharacter.gender]&gt;&gt; for the event.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Renthouse - Rent Brothel&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total-5, 0, 100)&gt;&gt;
      &lt;&lt;set $PC.money += 10000&gt;&gt;
      &lt;&lt;set $activeCharacter.condition.progress = 1&gt;&gt;
      &lt;&lt;set $activeCharacter.renew = $activeCharacter.assignment&gt;&gt;
    	&lt;&lt;set $activeCharacter.assignment = &quot;rest&quot;&gt;&gt;
      &lt;&lt;set $activeCharacter.health = updateHealth($activeCharacter)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Refuse Request&quot;&gt;&gt;
      &lt;b&gt;You refuse $activeCharacter.name&#39;s customer&#39;s request to rent the brothel!&lt;/b&gt; &lt;br&gt;
      The customer became upset and told you they won&#39;t return to your brothel if you don&#39;t rent it to them for half a day. You stick to your guns and give them a firm denial, causing them to storm out of the building. You don&#39;t know why they were so upset but you don&#39;t let anyone bully you with their frustration. If you did, you wouldn&#39;t last long in the brothel business. It isn&#39;t until later you hear that the customer was bragging to other customers that they were rich enough to rent out the brothel, so when you denied them they lost face and decided never to return.
      
      &lt;br&gt;&lt;br&gt;
      
      Your customers were happy that you refused to let a rich customer rent out your brothel @@color:greenyellow;increasing your brothel&#39;s popularity@@ but $activeCharacter.name has lost a customer, @@color:orange;decreasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; popularity.@@
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:yellow;[Week &quot; + $weekcount + &quot;] Renthouse@@&quot;, &quot;You denied a customer&#39;s request to rent out your brothel, causing them to storm out of the building refusing to ever set foot in your brothel ever again. Most of your customer&#39;s were happy to see this and $activeCharacter.name didn&#39;t mind losing this customer.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Renthouse - Refuse Request&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total+5, 0, 100)&gt;&gt;
      &lt;&lt;set $activeCharacter.popularity.brothel = Math.clamp($activeCharacter.popularity.brothel-5, 0, 100)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Anxiety&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="332" name="Pronouns" tags="nobr" position="1041,1351" size="100,100">&lt;&lt;set $genders = [&quot;male&quot;, &quot;female&quot;]&gt;&gt;

&lt;&lt;set $groan = {male: &quot;groan&quot;, female: &quot;moan&quot;}&gt;&gt;

&lt;&lt;set $Sir = {male: &quot;Sir&quot;, female: &quot;Ma&#39;am&quot;}&gt;&gt;
&lt;&lt;set $sir = {male: &quot;sir&quot;, female: &quot;ma&#39;am&quot;}&gt;&gt;
&lt;&lt;set $Master = {male: &quot;Master&quot;, female: &quot;Mistress&quot;}&gt;&gt;
&lt;&lt;set $master = {male: &quot;master&quot;, female: &quot;mistress&quot;}&gt;&gt;
&lt;&lt;set $Whore = {male: &quot;Manwhore&quot;, female: &quot;Slut&quot;}&gt;&gt;
&lt;&lt;set $whore = {male: &quot;manwhore&quot;, female: &quot;slut&quot;}&gt;&gt;
&lt;&lt;set $Child = {male: &quot;Son&quot;, female: &quot;Daughter&quot;}&gt;&gt;
&lt;&lt;set $child = {male: &quot;son&quot;, female: &quot;daughter&quot;}&gt;&gt;

&lt;&lt;set $heshe = {male: &quot;he&quot;, female: &quot;she&quot;, player:&quot;you&quot;}&gt;&gt;
&lt;&lt;set $HeShe = {male: &quot;He&quot;, female: &quot;She&quot;, player:&quot;You&quot;}&gt;&gt;
&lt;&lt;set $himher = {male: &quot;him&quot;, female: &quot;her&quot;, player:&quot;you&quot;}&gt;&gt;
&lt;&lt;set $HimHer = {male: &quot;Him&quot;, female: &quot;Her&quot;, player:&quot;You&quot;}&gt;&gt;
&lt;&lt;set $hishers = {male: &quot;his&quot;, female: &quot;hers&quot;, player:&quot;yours&quot;}&gt;&gt;
&lt;&lt;set $HisHers = {male: &quot;His&quot;, female: &quot;Hers&quot;, player:&quot;Yours&quot;}&gt;&gt;
&lt;&lt;set $hisher = {male: &quot;his&quot;, female: &quot;her&quot;, player:&quot;your&quot;}&gt;&gt;
&lt;&lt;set $HisHer = {male: &quot;His&quot;, female: &quot;Her&quot;, player:&quot;Your&quot;}&gt;&gt;
&lt;&lt;set $himselfherself = {male: &quot;himself&quot;, female: &quot;herself&quot;, player:&quot;yourself&quot;}&gt;&gt;
&lt;&lt;set $HimselfHerself = {male: &quot;Himself&quot;, female: &quot;Herself&quot;, player:&quot;Yourself&quot;}&gt;&gt;</tw-passagedata><tw-passagedata pid="333" name="Basic - Coming of Age" tags="nobr" position="3066,2130" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _mood = {old:null, new:null}&gt;&gt;
&lt;&lt;set _mood.old = getMood($activeCharacter)&gt;&gt;

&lt;&lt;if !$events.child&gt;&gt;
  &lt;&lt;set $events.child = either(&quot;male&quot;, &quot;female&quot;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;center&gt;&lt;titled&gt;Coming of Age&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if !$events.choice&gt;&gt;
  A customer has bought [[$activeCharacter.name|Identify][$identifySlave = $activeCharacter]]&#39;s service for their &lt;&lt;print $child[$events.child]&gt;&gt;&#39;s coming of age party. There are quite a few of the &lt;&lt;print $child[$events.child]&gt;&gt;&#39;s friends, and you think a few of them might not meet the age required for a person to enter a brothel. The customer assures you everyone attending the party is of age but you know better. Most likely a few, if not most of them are a year below the required age. You have half a mind to personally check all of their IDs but that would end up most likely breaking up the party and ruining the &lt;&lt;print $child[$events.child]&gt;&gt;&#39;s party. If you don&#39;t and an official finds out, you may get fined.

  &lt;br&gt;&lt;br&gt;

  &lt;&lt;set _scenename = &quot;Check the ID&#39;s of all the people at the party.&quot;&gt;&gt;
  [[_scenename|Basic - Coming of Age][$events.choice = &quot;Check IDs&quot;]]
  &lt;br&gt;

  &lt;&lt;set _scenename = &quot;Allow the party to continue.&quot;&gt;&gt;
  [[_scenename|Basic - Coming of Age][$events.choice = &quot;Allow Party&quot;]]
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;switch $events.choice&gt;&gt;
    &lt;&lt;case &quot;Check IDs&quot;&gt;&gt;
      &lt;b&gt;You check the IDs of everyone at the coming of age party!&lt;/b&gt; &lt;br&gt;
      Just as you expected, quite a few of the party&#39;s attendees were a year underage and in some cases, a couple years. Left with no choice but to escort them out of the building, you return their IDs and break up the party. Once there are only of age attendees, you explain they can now continue the party if they&#39;d like. They decline to do so, as you&#39;ve ruined the party&#39;s atmosphere and there aren&#39;t really enough people left to even call it a party. Its more like a small get-together. The customer is angry but understands they are completely in the wrong, so they don&#39;t ask for a refund. However its clear they won&#39;t be coming back.
      
      &lt;br&gt;&lt;br&gt;
      
      Breaking up the party may have saved you from getting a fine but you&#39;ve lost a few customers doing so, causing @@color:orange;your brothel&#39;s popularity to drop.@@ $activeCharacter.name was happy &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; didn&#39;t have to entertain a whole party, @@color:greenyellow;increasing &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; trust in you@@.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:greenyellow;[Week &quot; + $weekcount + &quot;] Coming of Age@@&quot;, &quot;A customer hosted a coming of age party for their &lt;&lt;print $child[&#39;&quot; + $events.child + &quot;&#39;]&gt;&gt; with $activeCharacter.name serving as the main &lt;&lt;print $whore[$activeCharacter.gender]&gt;&gt; but the party had a few underage attendees. You kicked out those who were underage and the customer begrudgingly decided to end the party.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Coming of Age - Check IDs&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total-5, 0, 100)&gt;&gt;
      &lt;&lt;run increaseObedience($activeCharacter, 20)&gt;&gt;
      &lt;&lt;run increaseMood($activeCharacter, &quot;Happiness&quot;, 20)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Allow Party&quot;&gt;&gt;
      &lt;b&gt;You allow the party to go on despite your suspicions of underage attendees!&lt;/b&gt; &lt;br&gt;
      There were no issues with the party and many of the attendees were extremely happy with the event. There were definitely some underage kids but as long as there aren&#39;t any officials present, it really isn&#39;t an issue. Or so at least you thought. One of the underage attendee&#39;s parents found out about the party and placed a complaint with a city official. They investigated the claim and found it truthful and decided to fine you.
      
      &lt;br&gt;&lt;br&gt;
      
      The party was a complete success! When some of the other attendees are of age, you are sure to gain some new customers,  @@color:greenyellow;increasing your brothel&#39;s popularity@@ but you were fined @@color:red;💎1,000@@ for having underage attendees in your brothel.
      
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:yellow;[Week &quot; + $weekcount + &quot;] Coming of Age@@&quot;, &quot;A customer hosted a coming of age party for their &lt;&lt;print $child[&#39;&quot; + $events.child + &quot;&#39;]&gt;&gt; with $activeCharacter.name serving as the main &lt;&lt;print $whore[$activeCharacter.gender]&gt;&gt;. You suspected the party had a few underage attendees but you decided not to check their IDs, which ended up getting you fined.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;Basic - Coming of Age - Allow Party&quot;)&gt;&gt;
      &lt;&lt;set $estate.brothel.popularity.total = Math.clamp($estate.brothel.popularity.total+5, 0, 100)&gt;&gt;
      &lt;&lt;set $PC.money -= 1000&gt;&gt;
      &lt;&lt;run decreaseMood($activeCharacter, &quot;Happiness&quot;, 10)&gt;&gt;
      &lt;&lt;set _mood.new = getMood($activeCharacter)&gt;&gt;
      
      &lt;&lt;if _mood.old != _mood.new&gt;&gt;
        &lt;br&gt; $activeCharacter.name&#39;s mood has changed from &#39;&#39;_mood.old&#39;&#39; to &#39;&#39;_mood.new&#39;&#39;.
      &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;saveSlave $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="334" name="NPC Description" tags="nobr noreturn notruereturn" position="358,1423" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Return = 1&gt;&gt;

&lt;&lt;set _height = getHeight($activeCharacter.height)&gt;&gt;
&lt;&lt;set _obedience = getObedience($activeCharacter.obedience.current)&gt;&gt;
&lt;&lt;set _fear = getFear($activeCharacter.fear.current)&gt;&gt;
&lt;&lt;set _sanity = getSanity($activeCharacter.sanity)&gt;&gt;
&lt;&lt;set _trust = getTrust($activeCharacter.trust.current)&gt;&gt;
&lt;&lt;set _nature = capitalize($activeCharacter.nature)&gt;&gt;
&lt;&lt;set _gape = getGape($activeCharacter.gape)&gt;&gt;

&lt;&lt;if $activeCharacter.tribe == &quot;mongrel&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;knotted&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;pantheran&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;barbed&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;minataur&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;bull&quot;&gt;&gt;

&lt;&lt;elseif $activeCharacter.tribe == &quot;orc&quot;&gt;&gt;
	&lt;&lt;set _cock = &quot;orc&quot;&gt;&gt;

&lt;&lt;else&gt;&gt;
	&lt;&lt;set _cock = $race[$activeCharacter.skintone]&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _maturity = $maturity[$activeCharacter.maturity]&gt;&gt;
&lt;&lt;set _maturitytext = extractWord(_maturity)&gt;&gt;

&lt;center&gt;
&lt;h3&gt;&lt;&lt;race $activeCharacter.tribe &quot;Main Menu&quot;&gt;&gt; $activeCharacter.name &lt;&lt;gender $activeCharacter.sex $activeCharacter.gender&gt;&gt;&lt;/h3&gt;

&lt;br&gt;

&lt;&lt;traitdesc $activeCharacter.title $activeCharacter&gt;&gt;
&lt;&lt;traitdesc $activeCharacter.tribe $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.sex == &quot;male&quot; &amp;&amp; $activeCharacter.stats.sissification == 100&gt;&gt;
	&lt;&lt;traitdesc &quot;sissy&quot; $activeCharacter&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;traitdesc $activeCharacter.sex $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;traitdesc _maturitytext $activeCharacter&gt;&gt;

&lt;&lt;if $activeCharacter.pregnancy.status&gt;&gt;
	&lt;&lt;traitdesc &quot;pregnant&quot; $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;set _maturity = extractWord($maturity[$activeCharacter.maturity])&gt;&gt;
&lt;&lt;set _an = AvsAn.query(_maturity)&gt;&gt;

From what you can see &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt;&#39;s _an &lt;&lt;print $maturity[$activeCharacter.maturity]&gt;&gt;

&lt;&lt;if $activeCharacter.skintone&gt;&gt;
	$activeCharacter.skintone
&lt;&lt;elseif $activeCharacter.fur&gt;&gt;
	$activeCharacter.fur furred
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.tribe&gt;&gt;
	$activeCharacter.tribe.
&lt;&lt;else&gt;&gt;
	$activeCharacter.race.
&lt;&lt;/if&gt;&gt;

$activeCharacter.name&#39;s face is &lt;&lt;print $beauty[$activeCharacter.beauty]&gt;&gt;, &lt;&lt;print $heshe[$activeCharacter.gender]&gt;&gt; is _height, &lt;&lt;print $weight[$activeCharacter.weight]&gt;&gt; and looks &lt;&lt;print $health[$activeCharacter.health]&gt;&gt;.

&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has $activeCharacter.eyedescriptor $activeCharacter.eyecolor eyes and &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; $activeCharacter.haircolor hair is styled $activeCharacter.hairstyle.

&lt;&lt;physicalTraits $activeCharacter &quot;Race&quot;&gt;&gt;

&lt;br&gt;&lt;br&gt;

&lt;&lt;if $activeCharacter.lips.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has &lt;&lt;print $lips[$activeCharacter.lips.current]&gt;&gt; lips. 
	&lt;&lt;attributeDescriptor &quot;Lips&quot; $activeCharacter.lips.current $activeCharacter&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.shoulders.current &amp;&amp; $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders and &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;
	
&lt;&lt;elseif $activeCharacter.shoulders.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $shoulders[$activeCharacter.shoulders.current]&gt;&gt; shoulders frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	&lt;&lt;attributeDescriptor &quot;Shoulders&quot; $activeCharacter.shoulders.current $activeCharacter&gt;&gt;

&lt;&lt;elseif $activeCharacter.torso.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $torso[$activeCharacter.torso.current]&gt;&gt; torso frames &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; upper body.
	
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.hips.current&gt;&gt;
	&lt;&lt;print $HisHer[$activeCharacter.gender]&gt;&gt; hips are &lt;&lt;print $hips[$activeCharacter.hips.current]&gt;&gt;.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.legs.current&gt;&gt;
	&lt;&lt;print $HeShe[$activeCharacter.gender]&gt;&gt; has two &lt;&lt;print $legs[$activeCharacter.legs.current]&gt;&gt; legs.
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $activeCharacter.bust.current &gt; 1&gt;&gt;
	$activeCharacter.name has &lt;&lt;print $bust[$activeCharacter.bust.current]&gt;&gt; sized breasts.
&lt;&lt;else&gt;&gt;
	$activeCharacter.name&#39;s chest is completely flat.
&lt;&lt;/if&gt;&gt;

From behind you can see &lt;&lt;print $hisher[$activeCharacter.gender]&gt;&gt; &lt;&lt;print $butt[$activeCharacter.gender][$activeCharacter.butt.current]&gt;&gt; ass.

&lt;&lt;unset $activeCharacter&gt;&gt;</tw-passagedata><tw-passagedata pid="335" name="Physical Trait Widget" tags="nobr widget" position="1885,1351" size="100,100">&lt;&lt;widget &quot;physicalTraits&quot;&gt;&gt;

&lt;&lt;if $args[1] == &quot;Race&quot;&gt;&gt;
  &lt;&lt;if [&quot;human&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name has no discernible traits.

  &lt;&lt;elseif [&quot;giant&quot;].contains($args[0].tribe)&gt;&gt;
  	Other than being an overly large human, $args[0].name has no discernible traits.

  &lt;&lt;elseif [&quot;gnome&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name is very short and has pointed ears.

  &lt;&lt;elseif [&quot;dwarf&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name is short, stout and has thick facial hair.

  &lt;&lt;elseif [&quot;pantheran&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name is an anthropomorphic beastman. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; ears, tail, face, body, hands and feet are that of a cat.

  &lt;&lt;elseif [&quot;mongrel&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name is an anthropomorphic beastman. &lt;&lt;print $HisHer[$args[0].gender]&gt;&gt; ears, tail, face, body, hands and feet are that of a dog.

  &lt;&lt;elseif [&quot;neko&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name has $args[0].haircolor colored cat-like ears and a tail.

  &lt;&lt;elseif [&quot;canus&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name has $args[0].haircolor colored dog-like ears and a tail.

  &lt;&lt;elseif [&quot;moon rabbit&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name has $args[0].haircolor colored rabbit-like ears and a tail.

  &lt;&lt;elseif [&quot;minotaur&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name has hoofed feet and bull-like horns protruding from &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; head.

  &lt;&lt;elseif [&quot;holstaur&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name has hoofed feet and two small horns protruding from &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; head.

  &lt;&lt;elseif [&quot;elf&quot;].contains($args[0].race)&gt;&gt;
  	$args[0].name has long and pointed ears.

  &lt;&lt;elseif [&quot;orc&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name has tusk-like lower canines that rest above &lt;&lt;print $hisher[$args[0].gender]&gt;&gt; upper lip.

  &lt;&lt;elseif [&quot;goblin&quot;].contains($args[0].tribe)&gt;&gt;
  	$args[0].name has pointed ears and jagged teeth.

  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="336" name="Brothel Competition Widget" tags="nobr widget" position="1885,1221" size="100,100">&lt;&lt;widget &quot;BrothelCompetition&quot;&gt;&gt;

&lt;&lt;for _comp = 3; _comp &gt; 0;_comp--&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp] = {}&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].update = 0&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].takedown = 0&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].name = nameGenerator(&quot;Brothel&quot;)&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].status = 100&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].popularity = 100&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].type = &quot;Local&quot;&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].option = &quot;Investigation&quot;&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].research = {total:0, name:0, popularity:0, owner:0, idol:0, guards:0, procurer:0}&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].investigation = {type:null, time:0, week:0, progress:0, success:0, event:null, scene:null, choice:null}&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].preparation = {scope:null, week:0, progress:0, success:0, event:null, scene:null, choice:null}&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].heat = {amount:0, triggered:0, week:0, success:0, nerfed:0, event:null, scene:null, choice:null}&gt;&gt;
    
  &lt;&lt;set $slavetemplate = &quot;D&quot;&gt;&gt;
  &lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].owner = _character&gt;&gt;
  
  &lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].idol = _character&gt;&gt;
  
  &lt;&lt;if random(1,4) &gt; 1&gt;&gt;
    &lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].procurer = _character&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].procurer = &quot;Owner&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _guards = random(0,2)&gt;&gt;
  &lt;&lt;set $estate.brothel.competition[_comp].guards = {amount: _guards}&gt;&gt;
  
  &lt;&lt;for _guards&gt;&gt;
    &lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].guards[_guards] = _character&gt;&gt;
    &lt;&lt;set _guards--&gt;&gt;
    
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;if !$estate.brothel.competition.amount&gt;&gt;
    &lt;&lt;set $estate.brothel.competition.amount = 1&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $estate.brothel.competition.amount++&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="337" name="Popularitybar Widget" tags="nobr widget" position="1883,1091" size="100,100">&lt;&lt;widget &quot;popularitybar&quot;&gt;&gt;

&lt;&lt;set _ee = $args[0] / 100&gt;&gt;

&lt;&lt;if _ee &lt; 0&gt;&gt;
  &lt;&lt;set _ee = 0&gt;&gt;
  
&lt;&lt;elseif _ee &gt; 1&gt;&gt;
  &lt;&lt;set _ee = 1&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .8&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .6&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .4&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .2&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * 10)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * 10)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _gone = 10 - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _fpcstat = &#39;[@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _fpgstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@]&#39;&gt;&gt;

&lt;&lt;set _ee = ($args[0] - 100) / 100&gt;&gt;

&lt;&lt;if _ee &lt; 0&gt;&gt;
  &lt;&lt;set _ee = 0&gt;&gt;
  
&lt;&lt;elseif _ee &gt; 1&gt;&gt;
  &lt;&lt;set _ee = 1&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .8&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .6&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .4&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .2&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * 10)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * 10)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _gone = 10 - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _mpcstat = &#39;[@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _mpgstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@]&#39;&gt;&gt;

&lt;&lt;set _ee = ($args[0] - 200) / 100&gt;&gt;

&lt;&lt;if _ee &lt; 0&gt;&gt;
  &lt;&lt;set _ee = 0&gt;&gt;
  
&lt;&lt;elseif _ee &gt; 1&gt;&gt;
  &lt;&lt;set _ee = 1&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .8&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .6&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .4&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .2&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * 10)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * 10)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _gone = 10 - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _epcstat = &#39;[@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _epgstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@]&#39;&gt;&gt;

&lt;&lt;print _fpcstat + _fpgstat + _mpcstat + _mpgstat + _epcstat + _epgstat&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="338" name="Event Hub" tags="nobr" position="1770,2000" size="100,100">&lt;&lt;set _chance = random(1, 100)&gt;&gt;
&lt;&lt;set $investigation = null&gt;&gt;
&lt;&lt;set $preparation = null&gt;&gt;
&lt;&lt;set $bupdate = null&gt;&gt;
&lt;&lt;set $heat = null&gt;&gt;
&lt;&lt;set $result = null&gt;&gt;
&lt;&lt;set $events.choice = null&gt;&gt;
&lt;&lt;set $events.scene = null&gt;&gt;
&lt;&lt;set $events.scenes = []&gt;&gt;

&lt;&lt;if $events.week != $weekcount&gt;&gt;
  &lt;&lt;set $events.week = $weekcount&gt;&gt;
  &lt;&lt;set $events.amount = 0&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;for _comp = 1;_comp &lt;= $estate.brothel.competition.amount;_comp++&gt;&gt;
  &lt;&lt;set _brothel = $estate.brothel.competition[_comp]&gt;&gt;
  
  &lt;&lt;if _brothel.heat == null &amp;&amp; !_brothel.takedown&gt;&gt;
    &lt;&lt;set _brothel.heat = {amount:100, triggered:0, week:0, success:0, nerfed:0, event:null, scene:null, choice:null}&gt;&gt; 
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if !_brothel.heat.triggered &amp;&amp; !_brothel.takedown&gt;&gt;
    &lt;&lt;if _brothel.heat.amount &gt;= _chance&gt;&gt;
      &lt;&lt;set _brothel.heat.triggered = 1&gt;&gt;
      &lt;&lt;set _brothel.heat.event = &quot;Start&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if _brothel.investigation.type &amp;&amp; _brothel.investigation.week != $weekcount &amp;&amp; !_brothel.takedown&gt;&gt;
    &lt;&lt;set $investigation = {brothel:null, num:null}&gt;&gt;
    &lt;&lt;set $investigation.brothel = $estate.brothel.competition[_comp]&gt;&gt;
    &lt;&lt;set $investigation.num = _comp&gt;&gt;
    
    &lt;&lt;if !$estate.brothel.competition[_comp].investigation.progress&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].investigation.progress = 0&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set $estate.brothel.competition[_comp].investigation.week = $weekcount&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].investigation.progress++&gt;&gt;
    
    &lt;&lt;if $estate.brothel.competition[_comp].investigation.progress == 1 || ($estate.brothel.competition[_comp].investigation.progress == 2 &amp;&amp; _brothel.investigation.type == &quot;Concise&quot;) || ($estate.brothel.competition[_comp].investigation.progress == 3 &amp;&amp; _brothel.investigation.type == &quot;Concise&quot;) || ($estate.brothel.competition[_comp].investigation.progress == 3 &amp;&amp; _brothel.investigation.type == &quot;Moderate&quot;) || ($estate.brothel.competition[_comp].investigation.progress == 4 &amp;&amp; _brothel.investigation.type == &quot;Extended&quot;) || ($estate.brothel.competition[_comp].investigation.progress == 5 &amp;&amp; _brothel.investigation.type == &quot;Moderate&quot;) || ($estate.brothel.competition[_comp].investigation.progress == 7 &amp;&amp; _brothel.investigation.type == &quot;Extended&quot;)&gt;&gt;
      &lt;&lt;goto &quot;Brothel Investigation&quot;&gt;&gt;
      &lt;&lt;break&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set $investigation = null&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;elseif _brothel.preparation.scope &amp;&amp; _brothel.preparation.week != $weekcount &amp;&amp; !_brothel.takedown&gt;&gt;
    &lt;&lt;set $preparation = {brothel:null, num:null}&gt;&gt;
    &lt;&lt;set $preparation.brothel = $estate.brothel.competition[_comp]&gt;&gt;
    &lt;&lt;set $preparation.num = _comp&gt;&gt;
    
    &lt;&lt;if !$estate.brothel.competition[_comp].preparation.progress&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].preparation.progress = 0&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set $estate.brothel.competition[_comp].preparation.week = $weekcount&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].preparation.progress++&gt;&gt;
    
    &lt;&lt;if ($estate.brothel.competition[_comp].preparation.progress == 1 &amp;&amp; $estate.brothel.competition[_comp].preparation.event == &quot;Start&quot;) || ($estate.brothel.competition[_comp].preparation.progress == ($estate.brothel.competition[_comp].preparation.time + 1))&gt;&gt;
      &lt;&lt;goto &quot;Brothel Preparation&quot;&gt;&gt;
      &lt;&lt;break&gt;&gt;
    
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set $preparation = null&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;elseif _brothel.heat.triggered &amp;&amp; _brothel.heat.week != $weekcount &amp;&amp; !_brothel.takedown&gt;&gt;
    &lt;&lt;set $heat = {brothel:null, num:null}&gt;&gt;
    &lt;&lt;set $heat.brothel = $estate.brothel.competition[_comp]&gt;&gt;
    &lt;&lt;set $heat.num = _comp&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].heat.week = $weekcount&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].heat.progress++&gt;&gt;
    &lt;&lt;goto &quot;Brothel Heat&quot;&gt;&gt;
    &lt;&lt;break&gt;&gt;
    
  &lt;&lt;elseif _brothel.update != $weekcount &amp;&amp; !_brothel.takedown&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].update = $weekcount&gt;&gt;
    &lt;&lt;set _brothel = $estate.brothel.competition[_comp]&gt;&gt;
    &lt;&lt;set _popregen = 0&gt;&gt;
    
    &lt;&lt;if _brothel.idol&gt;&gt;
      &lt;&lt;set _popregen += 1&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _popregen -= 2&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.procurer&gt;&gt;
      &lt;&lt;set _popregen += 2&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _popregen -= 4&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.owner&gt;&gt;
      &lt;&lt;set _popregen += 3&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _popregen -= 10&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set $estate.brothel.competition[_comp].popularity = Math.clamp(_brothel.popularity + _popregen, 0, 100)&gt;&gt;
    
    &lt;&lt;if _brothel.popularity &gt;= 100&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].status = Math.clamp(_brothel.status + 15, 0, 100)&gt;&gt;
    
    &lt;&lt;elseif _brothel.popularity &gt;= 75&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].status = Math.clamp(_brothel.status + 10, 0, 100)&gt;&gt;
    
    &lt;&lt;elseif _brothel.popularity &gt;= 50&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].status = Math.clamp(_brothel.status + 5, 0, 100)&gt;&gt;
    
    &lt;&lt;elseif _brothel.popularity &gt;= 25&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].status = Math.clamp(_brothel.status - 5, 0, 100)&gt;&gt;
    
    &lt;&lt;elseif _brothel.popularity &gt; 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].status = Math.clamp(_brothel.status - 10, 0, 100)&gt;&gt;
    
    &lt;&lt;elseif _brothel.popularity == 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].status = Math.clamp(_brothel.status - 15, 0, 100)&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.status == 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].research = {total:6, name:1, popularity:1, owner:1, idol:1, guards:1, procurer:1}&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].takedown = 1&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[_comp].popularity = 0&gt;&gt;
      &lt;&lt;set $bupdate = {brothel:null, num:null}&gt;&gt;
      &lt;&lt;set $bupdate.brothel = $estate.brothel.competition[_comp]&gt;&gt;
      &lt;&lt;set $bupdate.num = _comp&gt;&gt;
      
      &lt;&lt;if $estate.brothel.competition[_comp].type == &quot;Local&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.takedowns.local++&gt;&gt;
        
      &lt;&lt;elseif $estate.brothel.competition[_comp].type == &quot;Regional&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.takedowns.regional++&gt;&gt;
      
      &lt;&lt;elseif $estate.brothel.competition[_comp].type == &quot;National&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.takedowns.national++&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;goto &quot;Brothel End&quot;&gt;&gt;
      &lt;&lt;break&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;elseif _brothel.takedown == 1&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].takedown = 2&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].owner = null&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].procurer = null&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].idol = null&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].guards[1] = null&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[_comp].guards[2] = null&gt;&gt;
    
    
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/for&gt;&gt;
  
&lt;&lt;if !$investigation &amp;&amp; !$preparation &amp;&amp; !$heat &amp;&amp; !$bupdate&gt;&gt;
  &lt;&lt;if $events.amount &gt;= 3 || !$slaves.amount&gt;&gt;
    &lt;&lt;goto &quot;Main&quot;&gt;&gt;

  &lt;&lt;elseif !$events.amount || $slaves.amount &gt;= _chance&gt;&gt;
  	&lt;&lt;include &quot;Random Events&quot;&gt;&gt;
    &lt;&lt;set $events.amount += 1&gt;&gt;
  	&lt;&lt;goto $events.scene&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
  	&lt;&lt;goto &quot;Main&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="339" name="Brothel Investigation" tags="nobr" position="1897,2910" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _brothel = $investigation.brothel&gt;&gt;
&lt;&lt;set _investigation = $investigation.brothel.investigation&gt;&gt;
&lt;&lt;set _an = AvsAn.query(_investigation.type)&gt;&gt;

&lt;center&gt;&lt;titled&gt;_investigation.type Brothel Investigation&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if _investigation.event == &quot;Start&quot;&gt;&gt;
  You have hired someone to perform _an &lt;&lt;print lowercase(_investigation.type)&gt;&gt; investigation on
  
  &lt;&lt;if _brothel.research.name&gt;&gt;
    _brothel.name.
    
  &lt;&lt;else&gt;&gt;
    an unknown brothel.
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if _investigation.type == &quot;Extended&quot;&gt;&gt;
    &lt;&lt;set _cost = 625&gt;&gt;
    &lt;&lt;set _price = commify(_cost)&gt;&gt;
    
    This investigation will be fairly cheap but will take quite a long time to complete. These kinds of investigations also draw very minimal attention to you, but there is still a small chance an enemy brothel owner might find out someone hired a private investigator to gather information about them. The investigation will cost a paltry @@color:lightgreen;💎_price@@ but it will take seven weeks to complete. There will be an update after the fourth week where you can further guide the investigation and the final investigation report will be given to you after the seventh week. 
    
    
  &lt;&lt;elseif _investigation.type == &quot;Moderate&quot;&gt;&gt;
    &lt;&lt;set _cost = 2500&gt;&gt;
    &lt;&lt;set _price = commify(_cost)&gt;&gt;
    
    This investigation will cost a decent amount and will take a moderate amount of time to complete. These kinds of investigations can draw some attention, causing the enemy brothel owner to find out someone hired a private investigator to gather information bout them. The investigation will cost you about @@color:lightgreen;💎_price@@ and it will take five full weeks to complete. There will be an update after the third week where you can further guide the investigation and the final investigation report will be given to you after the fifth week of the investigation. 
  
  &lt;&lt;elseif _investigation.type == &quot;Concise&quot;&gt;&gt;
    &lt;&lt;set _cost = 10000&gt;&gt;
    &lt;&lt;set _price = commify(_cost)&gt;&gt;
    
    This investigation is very expensive but will take the least amount of time to complete. These kinds of investigations have a high chance of drawing attention which means there is a large chance an enemy brothel owner might find out someone hired a private investigator to gather information about them. The investigation will cost @@color:lightgreen;💎_price@@ but it will take three weeks to complete. There will be an update after the second week where you can further guide the investigation and the final investigation report will be given to you after the third week. 
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;br&gt;&lt;br&gt;
  
  &lt;&lt;if $estate.brothel.competition[$investigation.num].investigation.event == &quot;Start&quot;&gt;&gt;
    &lt;&lt;if $PC.money &gt;= _cost&gt;&gt;
      &lt;&lt;set _scenename = &quot;Continue with the investigation.&quot;&gt;&gt;
      &lt;b&gt;[@@color:lightgreen;💎_price@@]&lt;/b&gt; [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;Mid&quot;, $PC.money -= _cost, $estate.brothel.competition[$investigation.num].investigation.success = random(0,1)]]
      
    &lt;&lt;else&gt;&gt;
      &lt;b&gt;[@@color:red;💎_price@@]&lt;/b&gt; Continue with the investigation.
      
    &lt;&lt;/if&gt;&gt;
    &lt;br&gt;
    
    &lt;&lt;set _scenename = &quot;Cancel the investigation.&quot;&gt;&gt;
    [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = null, $estate.brothel.competition[$investigation.num].investigation.progress = 0, $estate.brothel.competition[$investigation.num].investigation.choice = null]]
    
  &lt;&lt;elseif $estate.brothel.competition[$investigation.num].investigation.event == &quot;Mid&quot;&gt;&gt;
    &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
    
    &lt;b&gt;You paid the investigator @@color:lightgreen;💎_price@@, officially starting the investigation!&lt;/b&gt; &lt;br&gt;
    This week will count as the first week of the investigation meaning the investigator will report back to you on the progress of their investigation in 
    
    &lt;&lt;if _investigation.type == &quot;Extended&quot;&gt;&gt;
      three weeks.
    
    &lt;&lt;elseif _investigation.type == &quot;Moderate&quot;&gt;&gt;
      two weeks.
    
    &lt;&lt;elseif _investigation.type == &quot;Concise&quot;&gt;&gt;
      one week.
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set $events.scenes = [&quot;Investigation+&quot;, &quot;Heist&quot;, &quot;Slave&quot;, &quot;Function&quot;, &quot;Fraud&quot;]&gt;&gt;
    
    &lt;&lt;if (_investigation.type == &quot;Extended&quot; &amp;&amp; _chance &gt; 8) || (_investigation.type == &quot;moderate&quot; &amp;&amp; _chance &gt; 4) || _investigation.type == &quot;Concise&quot;&gt;&gt;
      /*&lt;&lt;set $events.scenes.push(&quot;Guard Bribe&quot;, &quot;Ensnared&quot;, &quot;Suspicious Owner&quot;)&gt;&gt;*/
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set $events.scene = $events.scenes.random()&gt;&gt;
    
    &lt;&lt;set $estate.brothel.competition[$investigation.num].investigation.scene = $events.scene&gt;&gt;
  
  &lt;&lt;elseif !$estate.brothel.competition[$investigation.num].investigation.event&gt;&gt;
    &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$investigation.num].investigation = {type:null, time:0, week:0, progress:0, success:0, event:null, scene:null, choice:null}&gt;&gt;
    
    &lt;b&gt;You canceled the investigation!&lt;/b&gt; &lt;br&gt;
    You have decided its better to bide your time and investigate at either a better time, or for a more optimal amount of credits. You&#39;ll be able to start a new investigation whenever you&#39;re ready at the brothel competition screen.
  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;elseif _investigation.event == &quot;Mid&quot;&gt;&gt;
  &lt;&lt;set _extra = &quot;&quot;&gt;&gt;
  
  &lt;&lt;if !$estate.brothel.competition[$investigation.num].research.name&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$investigation.num].research.name = 1&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$investigation.num].research.total++&gt;&gt;
    &lt;&lt;set _extra = &quot;&lt;b&gt;@@color:forestgreen;You have learned the brothel&#39;s name! [_brothel.name]@@&lt;/b&gt;&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
      
  &lt;&lt;/if&gt;&gt;

  
  &lt;&lt;if [&quot;Investigation+&quot;, &quot;Heist&quot;, &quot;Slave&quot;, &quot;Function&quot;, &quot;Fraud&quot;].includes($estate.brothel.competition[$investigation.num].investigation.scene) &amp;&amp; !$events.scene&gt;&gt;
    &lt;&lt;set $events.scene = either(&quot;The investigator has been successful so far in gathering information about &lt;b&gt;_brothel.name&lt;/b&gt; without tipping off the owner about the investigation. This is good news, as you won&#39;t have to expend further funds to help promote the investigation. &quot;, &quot;The investigator has stealthily infiltrated &lt;b&gt;_brothel.name&lt;/b&gt; without gaining any attention. Any and all funds used to promote the investigation further will only gain bonus information from here on out. &quot;, 
    &quot;There has been no issues with the investigator gathering information from &lt;b&gt;_brothel.name&lt;/b&gt;. The investigator still has funds to use from your original investment but that doesn&#39;t mean you can&#39;t give more to get more. &quot;, 
    &quot;The investigation into &lt;b&gt;_brothel.name&lt;/b&gt; has been going extremely well, allowing the investigator to gather information without tipping off the owner. If you have any more funds to allocate to the investigation, it could possibly net you more advantages. &quot;, 
    &quot;Your investigation into &lt;b&gt;_brothel.name&lt;/b&gt; has been successful on multiple fronts; the investigator has evaded attention from the brothel owner and has gained some information about the brothel. Any and all additional funds you pump into the investigation will help to further it beyond the original plan&#39;s scope. &quot;)&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
    
    
  &lt;&lt;if !$estate.brothel.competition[$investigation.num].investigation.choice&gt;&gt;
    &lt;&lt;switch $estate.brothel.competition[$investigation.num].investigation.scene&gt;&gt;
      &lt;&lt;case &quot;Investigation+&quot;&gt;&gt;
        &lt;&lt;set $events.scene += &quot;According to the investigator, you can still fund the investigation further gaining a higher chance to get even more information, or you can stick with your original investment and gain the guaranteed information they are already gathering. If you invest further, you will still gain that information but you aren&#39;t guaranteed to gain the additional information. &lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
        
        &lt;&lt;set $events.scene += _extra&gt;&gt;
        
        $events.scene
        
        &lt;&lt;set _cost = 5000&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Invest more credits into the investigation.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | @@color:yellow;50% Success Rate@@]&lt;/b&gt; [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $PC.money -= _cost, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Investigation+&quot;]]
         
        &lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;Continue investigation without further investment.&quot;&gt;&gt; [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Investigation&quot;]]
        
      &lt;&lt;case &quot;Heist&quot;&gt;&gt;
        &lt;&lt;set $events.scene += &quot;The investigator tells you the brothel owner is rumored to store a cache of @@color:lightgreen;💎40,000@@ somewhere in the brothel. If you invest more money so they can pay for service from the brothel long enough to steal it. &lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
        
        &lt;&lt;set $events.scene += _extra&gt;&gt;
        
        $events.scene
        
        &lt;&lt;set _cost = 20000&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Fund the investigator&#39;s heist plan.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | @@color:orange;25% Success Rate@@]&lt;/b&gt; [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $PC.money -= _cost, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Heist&quot;, $estate.brothel.competition[$investigation.num].investigation.success = random(-2,1)]]
        
        &lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;Forgo the heist and stick to the original plan.&quot;&gt;&gt;
        [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Investigation&quot;]]
        
      &lt;&lt;case &quot;Slave&quot;&gt;&gt;
        &lt;&lt;set $events.scene += &quot;One of the brothel&#39;s slaves is very talkative and has been feeding the investigator a lot of information. Luckily for you, &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s brothel owner is selling the slave for @@color:lightgreen;💎15,000@@. You can give the funds to purchase the slave to the investigator. You won&#39;t get the slave, but you will get the information if the slave actually knows as much as they seem to. &lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
        
        &lt;&lt;set $events.scene += _extra&gt;&gt;
        
        $events.scene
        
        &lt;&lt;set _cost = 15000&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Pay for the investigator to buy the slave.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | @@color:yellow;50% Success Rate@@]&lt;/b&gt; [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $PC.money -= _cost, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Slave&quot;]]
        
        &lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;Tell the investigator to ignore buying the slave and continue with the investigation.&quot;&gt;&gt;
        [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Investigation&quot;]]
      
      &lt;&lt;case &quot;Function&quot;&gt;&gt;
        &lt;&lt;set $events.scene += &quot;&lt;b&gt;_brothel.name&lt;/b&gt; is hosting a large, fancy function sometime this week, meaning its the perfect time for the investigator to gather even more information. While the owner and guards are busy keeping the function under control, the investigator can check out the back area of the brothel. The only problem is, without an invitation there is a cover fee of @@color:lightgreen;💎5,000@@. If you pay for the cover fee and the plan works out, you can gain multiple key pieces of information about the brothel. &lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
        
        &lt;&lt;set $events.scene += _extra&gt;&gt;
        
        $events.scene
        
        &lt;&lt;set _cost = 5000&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Pay the cover fee for the investigator to get into the function.&quot;&gt;&gt; 
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | @@color:yellow;50% Success Rate@@]&lt;/b&gt; [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $PC.money -= _cost, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Function&quot;]]
        
        &lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;Decline paying the cover fee.&quot;&gt;&gt;
        [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Investigation&quot;]]
      
      &lt;&lt;case &quot;Fraud&quot;&gt;&gt;
        &lt;&lt;set $events.scene += &quot;The investigator has been working temporarily as a consultant for &lt;b&gt;_brothel.name&lt;/b&gt; without rousing any suspicion in the owner. They have found out the brothel owner has been misreporting their income so they don&#39;t have to pay their taxes. You can give the investigator @@color:lightgreen;💎10,000@@ so they can get the tools necessary to get physical evidence so you can report it to the authorities, gaining you @@color:lightgreen;💎20,000@@ for providing the tip.&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
        
        &lt;&lt;set $events.scene += _extra&gt;&gt;
        
        $events.scene
        
        &lt;&lt;set _cost = 10000&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Pay for the equipment to get physical evidence.&quot;&gt;&gt; 
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | @@color:yellow;50% Success Rate@@]&lt;/b&gt; [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $PC.money -= _cost, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Fraud&quot;]]
        
        &lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;Don&#39;t report the brothel owner&#39;s fraudulent income.&quot;&gt;&gt;
        [[_scenename|Brothel Investigation][$estate.brothel.competition[$investigation.num].investigation.event = &quot;End&quot;, $estate.brothel.competition[$investigation.num].investigation.choice = &quot;Investigation&quot;]]
      
    &lt;&lt;/switch&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
    
    $events.scene
    
    &lt;&lt;switch $estate.brothel.competition[$investigation.num].investigation.choice&gt;&gt;
      &lt;&lt;case &quot;Investigation+&quot;&gt;&gt;
        &lt;b&gt;You invested more credits into the investigation!&lt;/b&gt;
        
        &lt;br&gt;
        
        If the complete investigation ends up being fruitful, you will gain at least two pieces of information about &lt;b&gt;_brothel.name&lt;/b&gt; from the investigator. If the investigation fails you will still gain the original information the investigator gathered but you won&#39;t gain anything else or your money back.
      
      &lt;&lt;case &quot;Heist&quot;&gt;&gt;
        &lt;b&gt;You funded the investigator&#39;s heist plot!&lt;/b&gt;
        
        &lt;br&gt;
        
        If the heist ends up begin successful, you will gain double the amount you invested into it as well as any information the investigator gathered while completing the investigation. If its unsuccessful you will still gain the information the investigator has on &lt;b&gt;_brothel.name&lt;/b&gt; but you will not be refunded for the money you spent on the heist itself.
      
      &lt;&lt;case &quot;Slave&quot;&gt;&gt;
        &lt;b&gt;You bought the slave for the investigator to interrogate!&lt;/b&gt;
        
        &lt;br&gt;
        
        The investigator will interrogate the slave for any information they have on &lt;b&gt;_brothel.name&lt;/b&gt;. If it turns out the slave isn&#39;t bluffing about their knowledge of the brothel you will know everything there is to know about &lt;b&gt;_brothel.name&lt;/b&gt;. If it turns out they don&#39;t know anything past what they initially told the investigator, you will still gain that money but you won&#39;t gain the slave or a refund for purchasing them.
      
      &lt;&lt;case &quot;Function&quot;&gt;&gt;
        &lt;b&gt;You paid the cover fee for the investigator to get into the social function!&lt;/b&gt;
        
        &lt;br&gt;
        
        If the investigator fails to gain any extra information about the brothel during the function, you will get a report for the initial information gathered but you won&#39;t gain a refund for the cover fee. If the investigator is successful, you will gain additional intel.
      
      &lt;&lt;case &quot;Fraud&quot;&gt;&gt;
        &lt;b&gt;You paid for the equipment the investigator needed to get physical evidence of the brothel owner&#39;s fraud!&lt;/b&gt;
        
        &lt;br&gt;
        
        The investigator will try their best to get evidence but if they fail, you will not be able to give the city officials a tip about &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s fraud. If luck swings in favor of the investigator and they get the evidence, you will be able to send in the report while gaining a reward for doing so. No matter what happens, you will gain information about &lt;b&gt;_brothel.name&lt;/b&gt;.
      
      &lt;&lt;case &quot;Investigation&quot;&gt;&gt;
        &lt;b&gt;You decided to stick to the original investigation plan!&lt;/b&gt;
        
        &lt;br&gt;
        
        You explained to the investigator you&#39;re happy with the level of investment you have already put into the current ongoing investigation, and you aren&#39;t interested in whatever scheme he has at the moment. Since you didn&#39;t invest anymore into the investigation you won&#39;t gain any more info or money but you will still gain the intel the investigator originally gathered.
    
    &lt;&lt;/switch&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _investigation.event == &quot;End&quot;&gt;&gt;
  &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
  
  &lt;&lt;switch $estate.brothel.competition[$investigation.num].investigation.choice&gt;&gt;
    &lt;&lt;case &quot;Investigation+&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$investigation.num].investigation.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;The investigator was able to conduct an advanced investigation without being exposed!@@&lt;/b&gt;
        &lt;br&gt;
        
        Your gambit paid off! &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s owner was completely clueless about the investigation, allowing the investigator to gather a strong portfolio about the brothel for you to look at. With this information you can properly map out a plan of attack on the brothel, thinning out the competition so you can get a larger market share of potential customers.
        
        &lt;&lt;set _info = 3&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;The investigator failed their advanced investigation!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s owner caught onto the investigator&#39;s investigation and banned them before they could complete the advanced investigation. The investigator only has a small portfolio to show for their effort, but there is still some information in there which is new to you. It isn&#39;t much, but it may be enough for you to plan a targeted attack against &lt;b&gt;_brothel.name&lt;/b&gt;.
        
        &lt;&lt;set _info = 1&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;case &quot;Heist&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$investigation.num].investigation.success &gt; 0&gt;&gt;
        &lt;b&gt;@@color:forestgreen;The investigator&#39;s heist was successful!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s owner never saw it coming. There are already rumors spreading about the investigator&#39;s heist and there are absolutely no leads. Not only might this cause some discord amongst &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s workers but the owner may end up alienating customers by acting too vigilant which isn&#39;t looked fond on by those looking to spend their time at brothels. To top it all off, you still gained some new information about the brothel.
        
        &lt;&lt;set _info = 1&gt;&gt;
        &lt;&lt;set $PC.money += 40000&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;The investigator&#39;s heist failed!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;&lt;set _info = 1&gt;&gt;
        
        &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s owner discovered the investigator&#39;s plot long before they were able to put it into motion. The investigator only has a small portfolio to show for their effort, but there is still some information in there which is new to you. It isn&#39;t much, but it may be enough for you to plan a targeted attack against &lt;b&gt;_brothel.name&lt;/b&gt;.
      
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;case &quot;Slave&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$investigation.num].investigation.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;The investigator successfully interrogated the slave!@@&lt;/b&gt;
        &lt;br&gt;
        
        The slave sung like a canary as soon as the investigator put them any pressure on them. Without any advantage to staying loyal to their previous master and fearing punishment from their new master, there wasn&#39;t much of a option in the first place. The investigator checked up on the information given, and as it turns out all of it was correct, giving you a complete portfolio of &lt;b&gt;_brothel.name&lt;/b&gt;.
        
        &lt;&lt;set _info = 10&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;The slave you paid for the investigator to interrogate had little to no knowledge of &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;&lt;set _info = 1&gt;&gt;
        
        After the investigator interrogated the slave, they checked up on the information and found out that pretty much all of it was useless. The investigator only has a small portfolio to show for their effort, but there is still some information in there which is new to you. It isn&#39;t much, but it may be enough for you to plan a targeted attack against &lt;b&gt;_brothel.name&lt;/b&gt;.
      
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;case &quot;Function&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$investigation.num].investigation.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;The investigator successfully infiltrated the function!@@&lt;/b&gt;
        &lt;br&gt;
        
        Using the function as a cover, the investigator was able to sneak into the backroom of &lt;b&gt;_brothel.name&lt;/b&gt; and gather a plethora of information. They were even able to sneak back out and enjoy the rest of the function with &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s owner being none the wiser. On top of the information gained during the main investigation, the investigators portfolio of &lt;b&gt;_brothel.name&lt;/b&gt; is quite big.
        
        &lt;&lt;set _info = 3&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;The investigator failed to infiltrate the function!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;&lt;set _info = 1&gt;&gt;
        
        Even though the investigator wasn&#39;t found out, &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s owner hired security for the function, preventing the them from going into the back of the brothel. The investigator only has a small portfolio to show for their effort, but there is still some information in there which is new to you. It isn&#39;t much, but it may be enough for you to plan a targeted attack against &lt;b&gt;_brothel.name&lt;/b&gt;.
      
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;case &quot;Fraud&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$investigation.num].investigation.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;The investigator got evidence of the fraud going on in &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
        &lt;br&gt;
        
        The investigator used their time as a consultant to gather information about &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s owner&#39;s fraud. With the right tools, they were able to duplicate the evidence required for you to report &lt;b&gt;_brothel.name&lt;/b&gt; to the authorities. Only after you report the brothel does the owner realize the consultant was a plant but its far too late for them to do anything about it and they have no way of knowing it was you who hired the investigator. 
        
        &lt;&lt;set _info = 1&gt;&gt;
        &lt;&lt;set $PC.money += 2000&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;The investigator failed to get evidence of the fraud going on in &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;&lt;set _info = 1&gt;&gt;
        
        &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s owner fired the investigator before they could get any usable evidence. Whether the brothel owner knew about the plot or they didn&#39;t need a consultant anymore, you&#39;ll never know. The investigator only has a small portfolio to show for their effort, but there is still some information in there which is new to you. It isn&#39;t much, but it may be enough for you to plan a targeted attack against &lt;b&gt;_brothel.name&lt;/b&gt;.
      
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;case &quot;Investigation&quot;&gt;&gt;    
      &lt;b&gt;@@color:forestgreen;The investigator&#39;s investigation was a success!@@&lt;/b&gt;
      &lt;br&gt;
      
      Since you opted not to expand the original investigation, the investigator only had to wrap up and corroborate the information they already gathered. Its not much, but its guaranteed and only cost time and the amount of money payed for the investigation and may be plenty enough for you to plan a target attack against &lt;b&gt;_brothel.name&lt;/b&gt;.
      
      &lt;&lt;set _info = 1&gt;&gt;

  &lt;&lt;/switch&gt;&gt;
  
  &lt;br&gt;
  
  &lt;&lt;for _info&gt;&gt;
    &lt;&lt;if !$estate.brothel.competition[$investigation.num].research.owner&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.owner = 1&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.total++&gt;&gt;
      
      &lt;br&gt;&lt;b&gt;@@color:forestgreen;You have learned information about the owner of &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
    
    &lt;&lt;elseif !$estate.brothel.competition[$investigation.num].research.popularity&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.popularity = 1&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.total++&gt;&gt;
      
      &lt;br&gt;&lt;b&gt;@@color:forestgreen;You have learned information about the popularity of &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
    
    &lt;&lt;elseif !$estate.brothel.competition[$investigation.num].research.procurer&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.procurer = 1&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.total++&gt;&gt;
      
      &lt;br&gt;&lt;b&gt;@@color:forestgreen;You have learned information about the procurer of &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
    
    &lt;&lt;elseif !$estate.brothel.competition[$investigation.num].research.idol&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.idol = 1&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.total++&gt;&gt;
      
      &lt;br&gt;&lt;b&gt;@@color:forestgreen;You have learned information about the idol of &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
    
    &lt;&lt;elseif !$estate.brothel.competition[$investigation.num].research.guards&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.guards = 1&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$investigation.num].research.total++&gt;&gt;
      
      &lt;br&gt;&lt;b&gt;@@color:forestgreen;You have learned information about the guard(s) of &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set _info = 1&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
  
    &lt;&lt;set _info--&gt;&gt;
  
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;if $estate.brothel.competition[$investigation.num].investigation.success&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$investigation.num].heat.amount = Math.clamp($estate.brothel.competition[$investigation.num].heat.amount+10, 0, 100)&gt;&gt;
    &lt;br&gt;&lt;b&gt;@@color:forestgreen;_brothel.name has greatly increased they amount of heat they&#39;re putting on you!@@&lt;/b&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$investigation.num].heat.amount = Math.clamp($estate.brothel.competition[$investigation.num].heat.amount+5, 0, 100)&gt;&gt;
    &lt;br&gt;&lt;b&gt;@@color:greenyellow;You have learned information about the owner of &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set $estate.brothel.competition[$investigation.num].investigation = {type:null, week:0, progress:0, success:0, event:null, scene:null, choice:null}&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="340" name="Progressbar Widget" tags="nobr widget" position="1881,961" size="100,100">&lt;&lt;widget &quot;progressbar&quot;&gt;&gt;

&lt;&lt;if $args[1] == &quot;Extended&quot;&gt;&gt;
  &lt;&lt;set $cap = {fbar:4, sbar:7}&gt;&gt;
  
&lt;&lt;elseif $args[1] == &quot;Moderate&quot;&gt;&gt;
  &lt;&lt;set $cap = {fbar:3, sbar:5}&gt;&gt;
  
&lt;&lt;elseif $args[1] == &quot;Concise&quot;&gt;&gt;
  &lt;&lt;set $cap = {fbar:1, sbar:2}&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _ee = $args[0] / $cap.fbar&gt;&gt;

&lt;&lt;if _ee &lt; 0&gt;&gt;
  &lt;&lt;set _ee = 0&gt;&gt;
  
&lt;&lt;elseif _ee &gt; 1&gt;&gt;
  &lt;&lt;set _ee = 1&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .8&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .6&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .4&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .2&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * 10)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * 10)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _gone = 10 - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _fpcstat = &#39;[@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _fpgstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@]&#39;&gt;&gt;

&lt;&lt;set _ee = ($args[0] - $cap.fbar) / ($cap.sbar - $cap.fbar)&gt;&gt;

&lt;&lt;if _ee &lt; 0&gt;&gt;
  &lt;&lt;set _ee = 0&gt;&gt;
  
&lt;&lt;elseif _ee &gt; 1&gt;&gt;
  &lt;&lt;set _ee = 1&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .8&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .6&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .4&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .2&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * 10)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * 10)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _gone = 10 - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _mpcstat = &#39;[@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _mpgstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@]&#39;&gt;&gt;

&lt;&lt;print _fpcstat + _fpgstat + _mpcstat + _mpgstat&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="341" name="Brothel Investigation Info Widget" tags="nobr widget" position="1880,831" size="100,100">&lt;&lt;widget &quot;investigationInfo&quot;&gt;&gt;

&lt;&lt;set _num = $args[1].num&gt;&gt;

&lt;&lt;if $args[0] == &quot;Owner&quot;&gt;&gt;
  &lt;&lt;if $estate.brothel.competition[_num].research.owner == 1&gt;&gt;
    &lt;&lt;print &#39;[[&quot; + amendString(_owner.name) + &quot;|NPC Description][$activeCharacter to $estate.brothel.competition[&quot; + _num + &quot;].owner]]&#39;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    owner
  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;elseif $args[1] == &quot;Brothel Name&quot;&gt;&gt;
  &lt;&lt;if&gt;&gt;
  
  &lt;&lt;else&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="342" name="Brothel Preparation" tags="nobr" position="2027,2910" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _brothel = $preparation.brothel&gt;&gt;
&lt;&lt;set _preparation = $preparation.brothel.preparation&gt;&gt;
&lt;&lt;set _an = AvsAn.query(_preparation.scope)&gt;&gt;

&lt;center&gt;&lt;titled&gt;_preparation.scope Brothel Preparation&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if _preparation.event == &quot;Start&quot;&gt;&gt;
  You have decided to start the preparation for an attack on &lt;b&gt;_brothel.name&lt;/b&gt;. 
  
  &lt;&lt;if _preparation.scope == &quot;Budget&quot;&gt;&gt;
    Since you&#39;ve chosen an inexpensive plan, you only have the option of hiring street ruffians to put the plan into action. They&#39;re cheap to hire but because they have no loyalty to you or code of honor, they are much more likely to abandon the job if something goes south. They are also easily interrogated if caught, meaning that using them for anything dangerous may backfire. 
    &lt;&lt;set _multi = 1&gt;&gt;
    &lt;&lt;set _workers = &quot;street ruffians&quot;&gt;&gt;
    &lt;&lt;set _Workers = capitalize(_workers)&gt;&gt;
  
  &lt;&lt;elseif _preparation.scope == &quot;Moderate&quot;&gt;&gt;
    You&#39;ll be hiring mercenaries to put your plan into action. Much like street ruffians, they&#39;re only as loyal as their options. The difference is, they abide by a code. They don&#39;t divulge the information of their benefactors not out of principle, but structure. A mercenary outfit&#39;s leader is usually the only one who knows who hired them and why; the grunts are only told when, where and how, the what and why aren&#39;t apart of their briefing. If a mercenary is captured, at worst the plan will be exposed but the more sensitive information will remain safe.
    &lt;&lt;set _multi = 2.5&gt;&gt;
    &lt;&lt;set _workers = &quot;mercenaries&quot;&gt;&gt;
    &lt;&lt;set _Workers = capitalize(_workers)&gt;&gt;
  
  &lt;&lt;elseif _preparation.scope == &quot;Expensive&quot;&gt;&gt;
    You will hire a team of specialists to put your plan into action. These specialists are extremely expensive but they are both loyal and will take any information you give them to the grave. They hold a reputation of getting the job done and when they don&#39;t, its because they were killed. 
    &lt;&lt;set _multi = 5&gt;&gt;
    &lt;&lt;set _workers = &quot;specialists&quot;&gt;&gt;
    &lt;&lt;set _Workers = capitalize(_workers)&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;br&gt;&lt;br&gt;
  
  Using the information gathered, you can target &lt;b&gt;_brothel.name&lt;/b&gt; in a number of ways. Some methods require more information than others to have a good chance at success but it doesn&#39;t mean you cannot still pursue those plan of attacks. Going after an owner is much more difficult when you don&#39;t even know who the guards are or how many of them there are. On the other hand, targeting a brothel&#39;s reputation requires little to no extra information but it isn&#39;t very effective.
  
  &lt;br&gt;
  
  &lt;&lt;if !$estate.brothel.competition[$preparation.num].preparation.scene&gt;&gt;
    &lt;&lt;if _brothel.research.name&gt;&gt;
      &lt;br&gt;
      &lt;&lt;set _scenename = &quot;Target &quot; + _brothel.name + &quot;.&quot;&gt;&gt;
      [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = &quot;Target Brothel&quot;, $estate.brothel.competition[$preparation.num].preparation.success = random(0,1)]]
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.research.owner&gt;&gt;
      &lt;br&gt;
      &lt;b&gt;&lt;&lt;print &quot;[[&quot; + _brothel.owner.name + &quot;|NPC Description][$activeCharacter = $estate.brothel.competition[&quot; + $preparation.num + &quot;].owner]]&quot;&gt;&gt;&lt;/b&gt; | &lt;&lt;set _scenename = &quot;Target &quot; + _brothel.name + &quot;&#39;s owner.&quot;&gt;&gt;
      [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = &quot;Target Brothel Owner&quot;, $estate.brothel.competition[$preparation.num].preparation.success = random(0,1)]]
    &lt;&lt;/if&gt;&gt;
    
    /*&lt;&lt;if _brothel.research.guards&gt;&gt;
      &lt;br&gt;
      &lt;&lt;set _scenename = &quot;Target &quot; + _brothel.name + &quot; guards.&quot;&gt;&gt;
      [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = &quot;Target Brothel Guards&quot;, $estate.brothel.competition[$preparation.num].preparation.success = random(0,1)]]
    &lt;&lt;/if&gt;&gt;*/
    
    &lt;&lt;if _brothel.research.procurer &amp;&amp; (_brothel.procurer == &quot;Owner&quot; &amp; _brothel.owner)&gt;&gt;
      &lt;br&gt;
      &lt;&lt;set _scenename = &quot;Target &quot; + _brothel.name + &quot;&#39;s procurer.&quot;&gt;&gt;
      
      &lt;&lt;if _brothel.procurer == &quot;Owner&quot;&gt;&gt;
        &lt;b&gt;&lt;&lt;print &quot;[[&quot; + _brothel.owner.name + &quot;|NPC Description][$activeCharacter = $estate.brothel.competition[&quot; + $preparation.num + &quot;].owner]]&quot;&gt;&gt;&lt;/b&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;&lt;&lt;print &quot;[[&quot; + _brothel.procurer.name + &quot;|NPC Description][$activeCharacter = $estate.brothel.competition[&quot; + $preparation.num + &quot;].procurer]]&quot;&gt;&gt;&lt;/b&gt;
      
      &lt;&lt;/if&gt;&gt;
      
      | [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = &quot;Target Brothel Procurer&quot;, $estate.brothel.competition[$preparation.num].preparation.success = random(0,1)]]
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if _brothel.research.idol&gt;&gt;
      &lt;br&gt;
      &lt;&lt;set _scenename = &quot;Target &quot; + _brothel.name + &quot;&#39;s idol.&quot;&gt;&gt;
      &lt;b&gt;&lt;&lt;print &quot;[[&quot; + _brothel.idol.name + &quot;|NPC Description][$activeCharacter = $estate.brothel.competition[&quot; + $preparation.num + &quot;].idol]]&quot;&gt;&gt;&lt;/b&gt; | [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = &quot;Target Brothel Idol&quot;, $estate.brothel.competition[$preparation.num].preparation.success = random(0,1)]]
    &lt;&lt;/if&gt;&gt;
    
    &lt;br&gt;
    
    &lt;&lt;set _scenename = &quot;Cancel the preparation.&quot;&gt;&gt;
    [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = &quot;Cancel&quot;]]
    
  &lt;&lt;elseif !$estate.brothel.competition[$preparation.num].preparation.choice&gt;&gt;
    &lt;br&gt;
    
    &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Procurer&quot; &amp;&amp; $estate.brothel.competition[$preparation.num].procurer == &quot;Owner&quot;&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$preparation.num].preparation.scene = &quot;Target Brothel Owner&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;switch $estate.brothel.competition[$preparation.num].preparation.scene&gt;&gt;
      &lt;&lt;case &quot;Cancel&quot;&gt;&gt;
        &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$preparation.num].preparation = {scope:null, week:0, progress:0, success:0, event:null, scene:null, choice:null}&gt;&gt;
        
        &lt;b&gt;You canceled the preparation!&lt;/b&gt; &lt;br&gt;
        You have decided its better to bide your time and prepare an attack at either a better time, or for a more optimal amount of credits. You&#39;ll be able to prepare for a new plan whenever you&#39;re ready at the brothel competition screen.
      
      &lt;&lt;case &quot;Target Brothel&quot;&gt;&gt;
        &lt;&lt;set _cost = 1000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 2&gt;&gt;
        &lt;&lt;set _sr = 20&gt;&gt;
        &lt;&lt;set _scenename = &quot;Spread rumors.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Spread Rumors&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 2000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 3&gt;&gt;
        &lt;&lt;set _sr = 15&gt;&gt;
        &lt;&lt;set _scenename = &quot;Vandalize &quot; + _brothel.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Vandalize Brothel&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;&lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;RETURN&quot;&gt;&gt;
        [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = null]]
      
      &lt;&lt;case &quot;Target Brothel Owner&quot;&gt;&gt;
        &lt;&lt;set _cost = 1000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 2&gt;&gt;
        &lt;&lt;set _sr = 15&gt;&gt;
        &lt;&lt;set _scenename = &quot;Attack &quot; + _brothel.owner.name + &quot;&#39;s reputation.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Attack Owner Reputation&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 2000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 3&gt;&gt;
        &lt;&lt;set _sr = 10&gt;&gt;
        &lt;&lt;set _scenename = &quot;Attack &quot; + _brothel.owner.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Attack Owner&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 4000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 4&gt;&gt;
        &lt;&lt;set _sr = 5&gt;&gt;
        &lt;&lt;set _scenename = &quot;Kidnap &quot; + _brothel.owner.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Kidnap Owner&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 8000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 4&gt;&gt;
        &lt;&lt;set _sr = 1&gt;&gt;
        &lt;&lt;set _scenename = &quot;Hire someone to murder &quot; + _brothel.owner.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] 1&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Murder Owner&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
      
        &lt;br&gt;&lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;RETURN&quot;&gt;&gt;
        [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = null]]
      
      &lt;&lt;case &quot;Target Brothel Guards&quot;&gt;&gt;
      
        &lt;br&gt;&lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;RETURN&quot;&gt;&gt;
        [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = null]]
      
      &lt;&lt;case &quot;Target Brothel Idol&quot;&gt;&gt;
        &lt;&lt;set _cost = 1000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 2&gt;&gt;
        &lt;&lt;set _sr = 20&gt;&gt;
        &lt;&lt;set _scenename = &quot;Attack &quot; + _brothel.idol.name + &quot;&#39;s reputation.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Attack Idol Reputation&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 2000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 3&gt;&gt;
        &lt;&lt;set _sr = 15&gt;&gt;
        &lt;&lt;set _scenename = &quot;Attack &quot; + _brothel.idol.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Attack Idol&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 4000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 4&gt;&gt;
        &lt;&lt;set _sr = 10&gt;&gt;
        &lt;&lt;set _scenename = &quot;Kidnap &quot; + _brothel.idol.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Kidnap Idol&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 8000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 4&gt;&gt;
        &lt;&lt;set _sr = 5&gt;&gt;
        &lt;&lt;set _scenename = &quot;Hire someone to murder &quot; + _brothel.idol.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Murder Idol&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
      
        &lt;br&gt;&lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;RETURN&quot;&gt;&gt;
        [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = null]]
      
      &lt;&lt;case &quot;Target Brothel Procurer&quot;&gt;&gt;  
        &lt;&lt;if _brothel.procurer == &quot;Owner&quot;&gt;&gt;
          &lt;&lt;set _brothel.procurer = _brothel.owner&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
        &lt;&lt;set _cost = 1000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 2&gt;&gt;
        &lt;&lt;set _sr = 20&gt;&gt;
        &lt;&lt;set _scenename = &quot;Attack &quot; + _brothel.procurer.name + &quot;&#39;s reputation.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Attack Procurer Reputation&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 2000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 3&gt;&gt;
        &lt;&lt;set _sr = 15&gt;&gt;
        &lt;&lt;set _scenename = &quot;Attack &quot; + _brothel.procurer.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Attack Procurer&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 4000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 4&gt;&gt;
        &lt;&lt;set _sr = 10&gt;&gt;
        &lt;&lt;set _scenename = &quot;Kidnap &quot; + _brothel.procurer.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Kidnap Procurer&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;set _cost = 8000 * _multi&gt;&gt;
        &lt;&lt;set _cost = Math.round(_cost)&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _weeks = 4&gt;&gt;
        &lt;&lt;set _sr = 5&gt;&gt;
        &lt;&lt;set _scenename = &quot;Hire someone to murder &quot; + _brothel.procurer.name + &quot;.&quot;&gt;&gt;
        &lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Preparation&quot; $estate.brothel.competition[$preparation.num] _sr&gt;&gt; | _weeks Weeks]&lt;/b&gt; &lt;&lt;print &quot;[[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.choice = &#39;Murder Procurer&#39;, $estate.brothel.competition[$preparation.num].preparation.time = &quot; + _weeks + &quot;, $estate.brothel.competition[$preparation.num].preparation.success = &quot; + _sr + &quot;, $PC.money -= &quot; + _cost + &quot;]]&quot;&gt;&gt;
      
        &lt;br&gt;&lt;br&gt;
        
        &lt;&lt;set _scenename = &quot;RETURN&quot;&gt;&gt;
        [[_scenename|Brothel Preparation][$estate.brothel.competition[$preparation.num].preparation.scene = null]]
    &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene &amp;&amp; $estate.brothel.competition[$preparation.num].preparation.choice&gt;&gt;
    &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$preparation.num].preparation.event = &quot;End&quot;&gt;&gt;
    &lt;&lt;set _sr = getSuccessRate(&quot;Preparation&quot;, $estate.brothel.competition[$preparation.num], $estate.brothel.competition[$preparation.num].preparation.success)&gt;&gt;
    
    &lt;&lt;if _sr &gt;= random(0, 100)&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$preparation.num].preparation.success = 1&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$preparation.num].preparation.success = 0&gt;&gt;
      
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel&quot;&gt;&gt;
      &lt;&lt;set _target = _brothel.name&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Owner&quot;&gt;&gt;
      &lt;&lt;set _target = &quot;owner&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Guards&quot;&gt;&gt;
      &lt;&lt;set _target = &quot;guards&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Idol&quot;&gt;&gt;
      &lt;&lt;set _target = &quot;idol&quot;&gt;&gt;
    
    &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Procurer&quot;&gt;&gt;
      &lt;&lt;set _target = &quot;procurer&quot;&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if [&quot;Attack Owner Reputation&quot;, &quot;Attack Idol Reputation&quot;, &quot;Attack Procurer Reputation&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
      &lt;br&gt;&lt;b&gt;You have planned an attack on _brothel.name&#39;s _target&#39;s reputation!&lt;/b&gt; &lt;br&gt;
      The _workers will try anything from spreading slander and putting the _target in precarious situations to getting an impostor look-alike of the _target make a fool of themself in public.
    
    &lt;&lt;elseif [&quot;Attack Owner&quot;, &quot;Attack Idol&quot;, &quot;Attack Guards&quot;, &quot;Attack Procurer&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
      &lt;br&gt;&lt;b&gt;You have planned an attack on _brothel.name&#39;s _target!&lt;/b&gt; &lt;br&gt;
      The _workers will try to ambush the _target, attack them in public and if all fails they may even rush _brothel.name and attack the _target head on.
    
    &lt;&lt;elseif [&quot;Kidnap Owner&quot;, &quot;Kidnap Idol&quot;, &quot;Kidnap Guards&quot;, &quot;Kidnap Procurer&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
      &lt;br&gt;&lt;b&gt;You have planned to kidnap _brothel.name&#39;s _target!&lt;/b&gt; &lt;br&gt;
      The _workers will use any chance they get to kidnap the _target, using created distractions, traps and lures to get the target out into the open so they can do their job.
    
    &lt;&lt;elseif [&quot;Murder Owner&quot;, &quot;Murder Idol&quot;, &quot;Murder Guards&quot;, &quot;Murder Procurer&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
      &lt;br&gt;&lt;b&gt;You have planned to murder _brothel.name&#39;s _target!&lt;/b&gt; &lt;br&gt;
      The _workers doesn&#39;t have to be too careful with the _target, as their objective is to murder them. Using any tactic available, they will take all chances they have to complete the job.
    
    &lt;&lt;elseif [&quot;Spread Rumors&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
      &lt;br&gt;&lt;b&gt;You have planned to spread rumors to ruin _target&#39;s reputation!&lt;/b&gt; &lt;br&gt;
      The _workers will linger around _brothel.name&#39;s building and bars, spreading false information about the owner and its workers in an attempt to steer future customers away.
    
    &lt;&lt;elseif [&quot;Vandalize Brothel&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
      &lt;br&gt;&lt;b&gt;You have planned to vandalize _target!&lt;/b&gt; &lt;br&gt;
      The _workers will wait until night time to gather at _brothel.name before they all will damage the building in any way possible. It will cause a temporary shutdown and the owner will have to pay money to repair the building.
    
    &lt;&lt;/if&gt;&gt;
    
    They&#39;ll take &lt;&lt;print $estate.brothel.competition[$preparation.num].preparation.time&gt;&gt; weeks to complete the job, after which they will report back to you their success or failure. If they fail to complete the task, you won&#39;t be getting a refund. 
  
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif _preparation.event == &quot;End&quot;&gt;&gt;
  &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
  &lt;&lt;set _damage = 0&gt;&gt;

  &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel&quot;&gt;&gt;
    &lt;&lt;set _target = _brothel.name&gt;&gt;

  &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Owner&quot;&gt;&gt;
    &lt;&lt;set _target = &quot;owner&quot;&gt;&gt;

  &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Guards&quot;&gt;&gt;
    &lt;&lt;set _target = &quot;guards&quot;&gt;&gt;

  &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Idol&quot;&gt;&gt;
    &lt;&lt;set _target = &quot;idol&quot;&gt;&gt;

  &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Procurer&quot;&gt;&gt;
    &lt;&lt;set _target = &quot;procurer&quot;&gt;&gt;

  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if _preparation.scope == &quot;Budget&quot;&gt;&gt;
    &lt;&lt;set _workers = &quot;street ruffians&quot;&gt;&gt;
    &lt;&lt;set _Workers = capitalize(_workers)&gt;&gt;
  
  &lt;&lt;elseif _preparation.scope == &quot;Moderate&quot;&gt;&gt;
    &lt;&lt;set _workers = &quot;mercenaries&quot;&gt;&gt;
    &lt;&lt;set _Workers = capitalize(_workers)&gt;&gt;
  
  &lt;&lt;elseif _preparation.scope == &quot;Expensive&quot;&gt;&gt;
    &lt;&lt;set _workers = &quot;specialists&quot;&gt;&gt;
    &lt;&lt;set _Workers = capitalize(_workers)&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if [&quot;Attack Owner Reputation&quot;, &quot;Attack Idol Reputation&quot;, &quot;Attack Procurer Reputation&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
    &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.success&gt;&gt;
      @@color:forestgreen;&lt;b&gt;You successfully ruined _brothel.name&#39;s _target&#39;s reputation!&lt;/b&gt;@@ &lt;br&gt;
      The _workers have worked hard the past couple weeks doing anything possible to damage _brothel.name&#39;s _target&#39;s reputation. Most attempts failed but enough succeeded to make current and future customers wary about dealing with _brothel.name&#39;s _target. 
      
      &lt;&lt;set _damage = 5&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      @@color:red;&lt;b&gt;You failed to ruin _brothel.name&#39;s _target&#39;s reputation!&lt;/b&gt;@@ &lt;br&gt;
      _brothel.name&#39;s popularity and business continued on completely unperturbed despite your plans. None of the _workers&#39; attempts to damaging _brothel.name&#39;s _target&#39;s reputation were successful. No customers, future or present, believed or cared enough about the lies and deceit the _workers spread to stop visiting.
      
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;elseif [&quot;Attack Owner&quot;, &quot;Attack Idol&quot;, &quot;Attack Guards&quot;, &quot;Attack Procurer&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
    &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.success&gt;&gt;
      @@color:forestgreen;&lt;b&gt;Your attack on _brothel.name&#39;s _target was successful!&lt;/b&gt;@@ &lt;br&gt;
      _brothel.name&#39;s _target was totally unprepared for the _workers attack. They were able to locate and put the plan in motion, injuring the _target enough so they&#39;re unable to continue fulfilling their duty. _brothel.name&#39;s owner will also have to pay the price for the potions necessary to help with the recovery.
      
      &lt;&lt;set _damage = 10&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      @@color:red;&lt;b&gt;Your attack on _brothel.name&#39;s _target failed!&lt;/b&gt;@@ &lt;br&gt;
      The _workers were unable to find or lure _brothel.name&#39;s _target out into the open. With no avenue left, they attempted to storm the brothel directly but that plan was a complete failure. _brothel.name&#39;s business continued to run without any issues and its popularity growth stayed stable.
      
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif [&quot;Kidnap Owner&quot;, &quot;Kidnap Idol&quot;, &quot;Kidnap Guards&quot;, &quot;Kidnap Procurer&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
    &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.success&gt;&gt;
      @@color:forestgreen;&lt;b&gt;You have successfully kidnapped _brothel.name&#39;s _target!&lt;/b&gt;@@ &lt;br&gt;
      _brothel.name&#39;s _target was out in the open long enough for the _workers to execute a plan of attack. They were able to nab _brothel.name&#39;s _target with little to no issues, leaving the &quot;merchandise&quot; completely unharmed. This is sure to cause a disruption in _brothel.name in the coming weeks.
      
      &lt;&lt;set _damage = 15&gt;&gt;
        
      &lt;&lt;if _target == &quot;owner&quot;&gt;&gt;
        &lt;&lt;set $activeCharacter = $estate.brothel.competition[$preparation.num].owner&gt;&gt;
        
      &lt;&lt;elseif _target == &quot;idol&quot;&gt;&gt;
        &lt;&lt;set $activeCharacter = $estate.brothel.competition[$preparation.num].idol&gt;&gt;
      
      &lt;&lt;elseif _target == &quot;procurer&quot;&gt;&gt;
        &lt;&lt;set $activeCharacter = $estate.brothel.competition[$preparation.num].procurer&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      @@color:red;&lt;b&gt;You have failed to kidnap _brothel.name&#39;s _target!&lt;/b&gt;@@ &lt;br&gt;
      None of the _workers plans were any bit successful. Most of the time _brothel.name&#39;s _target wasn&#39;t in a secluded enough spot for the _workers to capture them. All of their attempts to lure _brothel.name&#39;s _target out into the open failed as well, resulting in a complete failure. _brothel.name ran without any disruption this week.
      
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif [&quot;Murder Owner&quot;, &quot;Murder Idol&quot;, &quot;Murder Guards&quot;, &quot;Murder Procurer&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
    &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.success&gt;&gt;
      @@color:forestgreen;&lt;b&gt;You have successfully murdered _brothel.name&#39;s _target!&lt;/b&gt;@@ &lt;br&gt;
      The _workers used any tactic they thought viable to take down _brothel.name&#39;s _target. Since the end result was murder, they were able to be a little more reckless than usual. Whispers about _brothel.name&#39;s _target murder has spread to the customers, causing a large disruption.
      
      &lt;&lt;set _damage = 25&gt;&gt;
      
      &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Owner&quot;&gt;&gt;
        &lt;&lt;set _target = &quot;owner&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$preparation.num].owner = null&gt;&gt;
      
        &lt;&lt;if $estate.brothel.competition[$preparation.num].procurer == &quot;Owner&quot;&gt;&gt;
          &lt;&lt;set $estate.brothel.competition[$preparation.num].procurer  = null&gt;&gt;
        &lt;&lt;/if&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Guards&quot;&gt;&gt;
        &lt;&lt;set _target = &quot;guards&quot;&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Idol&quot;&gt;&gt;
        &lt;&lt;set _target = &quot;idol&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$preparation.num].idol = null&gt;&gt;
    
      &lt;&lt;elseif $estate.brothel.competition[$preparation.num].preparation.scene == &quot;Target Brothel Procurer&quot;&gt;&gt;
        &lt;&lt;set _target = &quot;procurer&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$preparation.num].procurer = null&gt;&gt;
    
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      @@color:red;&lt;b&gt;You have failed to murder _brothel.name&#39;s _target!&lt;/b&gt;@@ &lt;br&gt;
      Whether _brothel.name&#39;s _target was too well defend, or it was the _workers incompetence, all of their plans were complete failures. In fact _brothel.name&#39;s business was just as profitable as the previous weeks, and its popularity continued to grow at a steady pace despite the assassination attempts.
      
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif [&quot;Spread Rumors&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
    &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.success&gt;&gt;
      @@color:forestgreen;&lt;b&gt;_target&#39;s reputation has been successfully damaged!&lt;/b&gt;@@ &lt;br&gt;
      The _workers have worked hard the past couple weeks doing anything possible to damage _brothel.name&#39;s reputation by spreading rumors. Most attempts failed but enough succeeded to make current and future customers wary about being a patron of _brothel.name. 
      
      &lt;&lt;set _damage = 5&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      @@color:red;&lt;b&gt;You failed to damage _target&#39;s reputation at all!&lt;/b&gt;@@ &lt;br&gt;
      _brothel.name&#39;s popularity and business continued on completely unperturbed despite your plans. None of the _workers&#39; attempts to damaging _brothel.name&#39;s reputation were successful. No customers, future or present, believed or cared enough about the lies and deceit the _workers spread to stop visiting.
      
    &lt;&lt;/if&gt;&gt;

  &lt;&lt;elseif [&quot;Vandalize Brothel&quot;].contains($estate.brothel.competition[$preparation.num].preparation.choice)&gt;&gt;
    &lt;&lt;if $estate.brothel.competition[$preparation.num].preparation.success&gt;&gt;
      @@color:forestgreen;&lt;b&gt;You successfully vandalized _target!&lt;/b&gt;@@ &lt;br&gt;
      Waiting for the cover of night, the _workers converged on _brothel.name, defacing and damaging the building. While this doesn&#39;t cause any direct damage to the business, the brothel owner will have to pay to investigate the whole incident and they will also have to pay to fix all the damages.
      
      &lt;&lt;set _damage = 10&gt;&gt;
      
    &lt;&lt;else&gt;&gt;
      @@color:red;&lt;b&gt;You failed to vandalize _target!&lt;/b&gt;@@ &lt;br&gt;
      _brothel.name&#39;s owner seemed forewarned about an impending attack, as the brothel&#39;s security during all times of the day have been increased for the past few weeks. As a result _brothel.name&#39;s business and popularity haven&#39;t been impeded in any way shape or form.
      
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if _target == _brothel.name&gt;&gt;
    &lt;&lt;set _damage *= 1&gt;&gt;

  &lt;&lt;elseif  _target == &quot;owner&quot;&gt;&gt;
    &lt;&lt;set _damage *= 3&gt;&gt;

  &lt;&lt;elseif _target == &quot;procurer&quot;&gt;&gt;
    &lt;&lt;set _damage *= 2.5&gt;&gt;

  &lt;&lt;elseif _target == &quot;idol&quot;&gt;&gt;
    &lt;&lt;set _damage *= 2&gt;&gt;

  &lt;&lt;elseif _target == &quot;guards&quot;&gt;&gt;
    &lt;&lt;set _damage *= 1.5&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set $estate.brothel.competition[$preparation.num].preparation = {scope:null, week:0, progress:0, success:0, event:null, scene:null, choice:null}&gt;&gt;
  
  &lt;&lt;set $estate.brothel.competition[$preparation.num].popularity = Math.clamp($estate.brothel.competition[$preparation.num].popularity-_damage, 0, 100)&gt;&gt;
  
  &lt;&lt;if _brothel.research.popularity&gt;&gt;
    &lt;&lt;if _damage&gt;&gt;
      &lt;br&gt;&lt;br&gt;@@color:forestgreen;&lt;b&gt;You dealt _damage% damage to _brothel.name, leaving it with &lt;&lt;print $estate.brothel.competition[$preparation.num].popularity&gt;&gt;% popularity.&lt;/b&gt;@@ &lt;br&gt;
      An unpopular brothel will slowly decay its status. Once the brothel hits 0% status the brothel will go under, putting the owner in a large amount of debt. You&#39;ll be able to purchase the owner, procurer, idol, the guards or all of them at the same time. You will also be able to raise your own brothel&#39;s popularity as you won&#39;t have to share your customers with another brothel.
    
    &lt;&lt;else&gt;&gt;
      &lt;br&gt;&lt;br&gt;@@color:red;&lt;b&gt;You failed to do any damage to _brothel.name, leaving it with &lt;&lt;print $estate.brothel.competition[$preparation.num].popularity&gt;&gt;% popularity.&lt;/b&gt;@@ &lt;br&gt;
      Try planning an attack with a higher success rate. If you&#39;re already using a plan with a high success rate, try using a moderate or even an expensive plan if its in your budget. Gathering more information from a brothel will also increase the success rate, so don&#39;t be afraid to gather as much information as possible about a brothel.
    
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $estate.brothel.competition[$preparation.num].investigation.success&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$preparation.num].heat.amount = Math.clamp($estate.brothel.competition[$preparation.num].heat.amount+_damage, 0, 100)&gt;&gt;
    &lt;br&gt;&lt;b&gt;@@color:forestgreen;_brothel.name has greatly increased they amount of heat they&#39;re putting on you!@@&lt;/b&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$preparation.num].heat.amount = Math.clamp($estate.brothel.competition[$preparation.num].heat.amount+5, 0, 100)&gt;&gt;
    &lt;br&gt;&lt;b&gt;@@color:greenyellow;You have learned information about the owner of &lt;b&gt;_brothel.name&lt;/b&gt;!@@&lt;/b&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $activeCharacter&gt;&gt;
    &lt;&lt;set $activeCharacter.origin = &quot;_name was &lt;b&gt;&quot; + _brothel.name + &quot;&#39;s&lt;/b&gt; &quot; + _target + &quot; before you had &lt;&lt;print $himher[_gender]&gt;&gt; kidnapped.&quot;&gt;&gt;
    &lt;&lt;set $activeCharacter.occupation = null&gt;&gt;
    &lt;&lt;set $activeCharacter.obedience.base = 20&gt;&gt;
    &lt;&lt;set $activeCharacter.trust.base = 20&gt;&gt;
    &lt;&lt;set $activeCharacter.mood.scale = &quot;Happiness&quot;&gt;&gt;
    &lt;&lt;set $activeCharacter.mood.current = 25&gt;&gt;
    
    &lt;&lt;include &quot;Unowned Slave Description&quot;&gt;&gt;
    &lt;br&gt;&lt;br&gt;@@color:forestgreen;&lt;b&gt;You have obtained $activeCharacter.name as a slave!&lt;/b&gt;@@ &lt;br&gt;
    
    &lt;&lt;if _target == &quot;owner&quot;&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$preparation.num].owner = null&gt;&gt;
    
      &lt;&lt;if $estate.brothel.competition[$preparation.num].procurer == &quot;Owner&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$preparation.num].procurer = null&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      Without an owner, &lt;b&gt;&lt;&lt;print $estate.brothel.competition[$preparation.num].name&gt;&gt;&lt;/b&gt; is doomed to failure. Its only a matter of time before the brothel goes under, meaning you don&#39;t have to pay any extra money to destroy whats left of the brothel. It&#39;ll slowly whittle away into nothing without proper leadership, leaving you to pick at the scraps when everything is said and done.
      
    &lt;&lt;elseif _target == &quot;idol&quot;&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$preparation.num].idol = null&gt;&gt;
      
      With &lt;b&gt;&lt;&lt;print $estate.brothel.competition[$preparation.num].name&gt;&gt;&#39;s&lt;/b&gt; idol gone, the brothel won&#39;t gain as much popularity and money as before. The idol may be eventually replaced but it&#39;ll take a while for the new idol to build up the same amount of popularity to draw in a lot of customers.
    
    &lt;&lt;elseif _target == &quot;procurer&quot;&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$preparation.num].procurer = null&gt;&gt;
      
      A procurer is integral to a brothel&#39;s success. Without one, b&gt;&lt;&lt;print $estate.brothel.competition[$preparation.num].name&gt;&gt;&lt;/b&gt; will fail to properly leverage its workers to garner the proper success needed to increase its popularity. It may still attract customers but you can expect it to restore its status more slowly than before.
    
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] Brothel Kidnapping@@&quot;, &quot;You hired &quot; + _workers + &quot; to kidnap _name. &lt;&lt;print $HeShe[_gender]&gt;&gt; put up a valiant fight but they were able to bring &lt;&lt;print $himher[_gender]&gt;&gt; back to you relatively unharmed.&quot;)&gt;&gt;
    &lt;&lt;run addEvent($activeCharacter, &quot;Brothel Preparation - Kidnapping&quot;)&gt;&gt;
    &lt;&lt;run addSlave($activeCharacter)&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="343" name="Success Rate Widget" tags="nobr widget" position="1880,701" size="100,100">&lt;&lt;widget &quot;SR&quot;&gt;&gt;
&lt;&lt;if $args[0] == &quot;Preparation&quot;&gt;&gt;
  &lt;&lt;set _brothel = $args[1]&gt;&gt;
  &lt;&lt;set _SR = $args[2]&gt;&gt;
  &lt;&lt;set _multi = 2.5 * (_brothel.research.total / 6)&gt;&gt;
  
  &lt;&lt;if _brothel.preparation.scope == &quot;Moderate&quot;&gt;&gt;
    &lt;&lt;set _multi *= 1.5&gt;&gt;
  
  &lt;&lt;elseif _brothel.preparation.scope == &quot;Expensive&quot;&gt;&gt;
    &lt;&lt;set _multi *= 2&gt;&gt;
  
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _SR = Math.round(_SR * _multi)&gt;&gt;
  
&lt;&lt;elseif $args[0] == &quot;Heat&quot;&gt;&gt;
  &lt;&lt;set _SR = Math.round($args[1])&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _SR &gt;= 100&gt;&gt;
  &lt;&lt;set _color = &quot;forestgreen&quot;&gt;&gt;

&lt;&lt;elseif _SR &gt;= 75&gt;&gt;
  &lt;&lt;set _color = &quot;greenyellow&quot;&gt;&gt;

&lt;&lt;elseif _SR &gt;= 50&gt;&gt;
  &lt;&lt;set _color = &quot;yellow&quot;&gt;&gt;

&lt;&lt;elseif _SR &gt;= 25&gt;&gt;
  &lt;&lt;set _color = &quot;orange&quot;&gt;&gt;

&lt;&lt;elseif _SR &gt;= 0&gt;&gt;
  &lt;&lt;set _color = &quot;red&quot;&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;print &quot;@@color:&quot; + _color + &quot;;&quot; + _SR + &quot;% Success Rate&quot;&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="344" name="Brothel End" tags="nobr" position="2157,2910" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;
&lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;

&lt;&lt;set _brothel = $estate.brothel.competition[$bupdate.num]&gt;&gt;

&lt;center&gt;&lt;titled&gt;_brothel.name&#39;s End&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;b&gt;_brothel.name&lt;/b&gt; has finally gone out of business. You&#39;ve strangled it dry of any customers, leaving the city no choice but to close it down and enslave all of its workers due to the brothel&#39;s debts. Now you&#39;ll be able to gain more popularity due to an influx of new customers looking for another brothel. As for the &lt;b&gt;_brothel.name&lt;/b&gt;, all of its workers including the owner will be auctioned off to cover the debts the brothel racked up. If you&#39;re interested, you can go and buy one or all of them for a premium price.

&lt;br&gt;

&lt;&lt;if $buySlave&gt;&gt;
  &lt;&lt;switch $buySlave&gt;&gt;
    &lt;&lt;case &quot;Owner&quot;&gt;&gt;
      &lt;&lt;set $activeCharacter = $estate.brothel.competition[$bupdate.num].owner&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$bupdate.num].owner = null&gt;&gt;
      
      &lt;&lt;if $estate.brothel.competition[$bupdate.num].procurer == &quot;Owner&quot;&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$bupdate.num].procurer = null&gt;&gt;
        &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] &quot; + _brothel.name + &quot;&#39;s End @@&quot;, &quot;After you took down &quot; + _brothel.name + &quot;, its owner/procurer _name was sold to you to pay off the brothel&#39;s debt.&quot;)&gt;&gt;
        &lt;&lt;run addEvent($activeCharacter, &quot;&quot; + _brothel.name + &quot;&#39;s End - Auction&quot;)&gt;&gt;
        
        &lt;br&gt;&lt;b&gt;@@color:forestgreen;You bought _brothel.name&#39;s owner/procurer $activeCharacter.name!@@&lt;/b&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] &quot; + _brothel.name + &quot;&#39;s End @@&quot;, &quot;After you took down &quot; + _brothel.name + &quot;, its owner _name was sold to you to pay off the brothel&#39;s debt.&quot;)&gt;&gt;
        &lt;&lt;run addEvent($activeCharacter, &quot;&quot; + _brothel.name + &quot;&#39;s End - Auction&quot;)&gt;&gt;
        
        
        &lt;br&gt;&lt;b&gt;@@color:forestgreen;You bought _brothel.name&#39;s owner $activeCharacter.name!@@&lt;/b&gt;
      
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Procurer&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$bupdate.num].procurer == &quot;Owner&quot;&gt;&gt;
        &lt;&lt;set $activeCharacter = $estate.brothel.competition[$bupdate.num].owner&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$bupdate.num].owner = null&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$bupdate.num].procurer = null&gt;&gt;
        &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] &quot; + _brothel.name + &quot;&#39;s End @@&quot;, &quot;After you took down &quot; + _brothel.name + &quot;, its owner/procurer _name was sold to you to pay off the brothel&#39;s debt.&quot;)&gt;&gt;
        &lt;&lt;run addEvent($activeCharacter, &quot;&quot; + _brothel.name + &quot;&#39;s End - Auction&quot;)&gt;&gt;
        
        &lt;br&gt;&lt;b&gt;@@color:forestgreen;You bought _brothel.name&#39;s owner/procurer $activeCharacter.name!@@&lt;/b&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set $activeCharacter = $estate.brothel.competition[$bupdate.num].procurer&gt;&gt;
        &lt;&lt;set $estate.brothel.competition[$bupdate.num].procurer = null&gt;&gt;
        &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] &quot; + _brothel.name + &quot;&#39;s End @@&quot;, &quot;After you took down &quot; + _brothel.name + &quot;, its procurer _name was sold to you to pay off the brothel&#39;s debt.&quot;)&gt;&gt;
        &lt;&lt;run addEvent($activeCharacter, &quot;&quot; + _brothel.name + &quot;&#39;s End - Auction&quot;)&gt;&gt;
        
        &lt;br&gt;&lt;b&gt;@@color:forestgreen;You bought _brothel.name&#39;s procurer $activeCharacter.name!@@&lt;/b&gt;
        
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Idol&quot;&gt;&gt;
      &lt;&lt;set $activeCharacter = $estate.brothel.competition[$bupdate.num].idol&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$bupdate.num].idol = null&gt;&gt;
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] &quot; + _brothel.name + &quot;&#39;s End @@&quot;, &quot;After you took down &quot; + _brothel.name + &quot;, its idol _name was sold to you to pay off the brothel&#39;s debt.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;&quot; + _brothel.name + &quot;&#39;s End - Auction&quot;)&gt;&gt;
      
      &lt;br&gt;&lt;b&gt;@@color:forestgreen;You bought _brothel.name&#39;s idol $activeCharacter.name!@@&lt;/b&gt;
      
  &lt;&lt;/switch&gt;&gt;
  
  &lt;&lt;set $buySlave = null&gt;&gt;
  &lt;&lt;run addSlave($activeCharacter)&gt;&gt;
  
  &lt;br&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $price = null&gt;&gt;

&lt;&lt;if _brothel.owner&gt;&gt;
  &lt;&lt;set $price = Math.round10($estate.brothel.competition[$bupdate.num].owner.price * 1.6)&gt;&gt;
  
  &lt;br&gt;
  &lt;b&gt;&lt;&lt;print &quot;[[&quot; + _brothel.owner.name + &quot;|Unowned Slave Description][$activeCharacter = $estate.brothel.competition[&quot; + $bupdate.num + &quot;].owner, $price = &quot; + $price + &quot;]]&quot;&gt;&gt;&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify($price)&gt;&gt;@@ | &lt;&lt;set _scenename = &quot;Purchase &quot; + _brothel.name + &quot;&#39;s owner.&quot;&gt;&gt;
  &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel End][$buySlave = &#39;Owner&#39;, $PC.money -= &quot; + $price + &quot;]]&quot;&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _brothel.procurer&gt;&gt;
  &lt;&lt;if _brothel.procurer == &quot;Owner&quot;&gt;&gt;
    &lt;&lt;set $price = Math.round10($estate.brothel.competition[$bupdate.num].owner.price * 1.6)&gt;&gt;
    
    &lt;br&gt;
    &lt;b&gt;&lt;&lt;print &quot;[[&quot; + _brothel.owner.name + &quot;|Unowned Slave Description][$activeCharacter = $estate.brothel.competition[&quot; + $bupdate.num + &quot;].owner, $price = &quot; + $price + &quot;]]&quot;&gt;&gt;&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify($price)&gt;&gt;@@ | &lt;&lt;set _scenename = &quot;Purchase &quot; + _brothel.name + &quot;&#39;s procurer.&quot;&gt;&gt;
    &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel End][$buySlave = &#39;Procurer&#39;, $PC.money -= &quot; + $price + &quot;]]&quot;&gt;&gt;
  
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $price = Math.round10($estate.brothel.competition[$bupdate.num].procurer.price * 1.4)&gt;&gt;
    
    &lt;br&gt;
    &lt;b&gt;&lt;&lt;print &quot;[[&quot; + _brothel.procurer.name + &quot;|Unowned Slave Description][$activeCharacter = $estate.brothel.competition[&quot; + $bupdate.num + &quot;].procurer, $price = &quot; + $price + &quot;]]&quot;&gt;&gt;&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify($price)&gt;&gt;@@ | &lt;&lt;set _scenename = &quot;Purchase &quot; + _brothel.name + &quot;&#39;s procurer.&quot;&gt;&gt;
    &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel End][$buySlave = &#39;Procurer&#39;, $PC.money -= &quot; + $price + &quot;]]&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/if&gt;&gt;

&lt;&lt;if _brothel.idol&gt;&gt;
  &lt;&lt;set $price = Math.round10($estate.brothel.competition[$bupdate.num].idol.price * 1.2)&gt;&gt;
  
  &lt;br&gt;
  &lt;b&gt;&lt;&lt;print &quot;[[&quot; + _brothel.idol.name + &quot;|Unowned Slave Description][$activeCharacter = $estate.brothel.competition[&quot; + $bupdate.num + &quot;].idol, $price = &quot; + $price + &quot;]]&quot;&gt;&gt;&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify($price)&gt;&gt;@@ | &lt;&lt;set _scenename = &quot;Purchase &quot; + _brothel.name + &quot;&#39;s idol.&quot;&gt;&gt;
  &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel End][$buySlave = &#39;Idol&#39;, $PC.money -= &quot; + $price + &quot;]]&quot;&gt;&gt;

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="345" name="Brothel Heat" tags="nobr" position="2287,2910" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;

&lt;&lt;set _brothel = $heat.brothel&gt;&gt;
&lt;&lt;set _heat = $heat.brothel.heat&gt;&gt;

&lt;center&gt;&lt;titled&gt;_brothel.name&#39;s Retaliation&lt;/titled&gt;&lt;/center&gt;
&lt;br&gt;

&lt;&lt;if _heat.event == &quot;Start&quot;&gt;&gt;
  &lt;&lt;if !$estate.brothel.competition[$heat.num].heat.choice&gt;&gt;
    &lt;&lt;set $events.scenes = [&quot;Vandalism&quot;, &quot;Attack&quot;, &quot;Recon&quot;, &quot;Rumors&quot;]&gt;&gt;
    &lt;&lt;set $events.scene = $events.scenes.random()&gt;&gt;
    &lt;&lt;set $estate.brothel.competition[$heat.num].heat.scene = $events.scene&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;switch $events.scene&gt;&gt;
    &lt;&lt;case &quot;Vandalism&quot;&gt;&gt;
      Your latest actions against &lt;b&gt;_brothel.name&lt;/b&gt; has earned you its attention and not in a good way. You&#39;ve heard through the grapevine of rumors about a planned vandalism attack on your brothel. The rumor was most likely spread purposely from someone within the brothel, making sure you know who was behind the attack before it even happened. While it allows you time to mount some sort of defense, you still have no clue when the attack will happen, how it will be carried out or by whom. If your own guards aren&#39;t sufficiently trained, it&#39;ll take quite a sum of money to hire a competent group of guards to protect your brothel. The only other option is telling the city guards about the attack but they can&#39;t give protection 24/7 so the chances of them successfully guarding your brothel is very little.
    
    &lt;&lt;case &quot;Attack&quot;&gt;&gt;
      A number of incidents in which your customers have been accosted near your brothel have been increasing lately. After getting the city guards to investigate, it has become clear the thugs have been trying to scare your customers away from your brothel. After putting two and two together, you figure its most likely an attack from &lt;b&gt;_brothel.name&lt;/b&gt;, as you&#39;ve been attacking the brothel as of late. Almost immediately after finding out, you get a message from them saying the attacks will stop if they get what they feel is proper compensation for the damage you&#39;ve caused them. If you pay them it&#39;ll also help towards getting them off their back but you could handle things your way with your own guards, or just completely ignore them and hope it stops before you lose a substantial number of customers.
    
    &lt;&lt;case &quot;Recon&quot;&gt;&gt;
      You&#39;ve noticed a number of &#39;customers&#39; skulking around your brothel, seldom paying for any time with your slaves while keeping an close eye on you. Most likely they&#39;re investigators working for another brothel, &lt;b&gt;_brothel.name&lt;/b&gt; you figure, trying to get information about your brothel for a future attack. While it would be easy to throw them out of your brothel and ban them from coming, it would look bad in front of the other customers and might cost you some of them. You could have your guards secretly deal with the investigator when they leave the brothel or you could completely ignore them and just prepare for the attack later if they succeed.
    
    &lt;&lt;case &quot;Rumors&quot;&gt;&gt;
      A number of vicious rumors have began to spread about your brothel claiming all sorts of things. Some of your customers have begun to inquire about them but most have either ignored them or don&#39;t care enough to stop visiting. That isn&#39;t to say the rumors have no effect though. People will start to judge and influence your current and future customers from using your brothel. The rumors will eventually die out, as they always do but in the short term it could could cause damage to your brothel&#39;s popularity. You&#39;re almost certain &lt;b&gt;_brothel.name&lt;/b&gt; is behind it but you don&#39;t have many options to combat the rumors. You can fund a smear campaign, slandering &lt;b&gt;_brothel.name&lt;/b&gt; worse than the rumors they spread, taking the attention off you and returning it. If your procurer is competent enough, they can handle the rumors themselves and minimize the damage they can cause. If none of the other options are viable at the moment, you can always just ignore them and hope they do as little damage as possible.
    
  &lt;&lt;/switch&gt;&gt;
  
  &lt;br&gt;
  
  &lt;&lt;if !$estate.brothel.competition[$heat.num].heat.choice&gt;&gt;
    &lt;&lt;switch $events.scene&gt;&gt;
      &lt;&lt;case &quot;Vandalism&quot;&gt;&gt;
        &lt;&lt;set _cost = 5000&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _sr = 100&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Hire extra guards.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $PC.money -= &quot; + _cost + &quot;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Hire Guards&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;if $estate.brothel.report.guardscore &gt;= 100&gt;&gt;
          &lt;&lt;set _sr = 100&gt;&gt;
          
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 75&gt;&gt;
          &lt;&lt;set _sr = 85&gt;&gt;
        
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 50&gt;&gt;
          &lt;&lt;set _sr = 60&gt;&gt;
        
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 25&gt;&gt;
          &lt;&lt;set _sr = 35&gt;&gt;
        
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _sr = 10&gt;&gt;
        
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
        &lt;&lt;set _scenename = &quot;Have your guards watch your brothel overnight.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Use Guards&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;set _sr = 20&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Alert City Guards.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;City Guards&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
      
      &lt;&lt;case &quot;Attack&quot;&gt;&gt;
        &lt;&lt;set _cost = 7500&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        &lt;&lt;set _sr = 100&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Pay the extortion fee.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $PC.money -= &quot; + _cost + &quot;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Pay Fee&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;if $estate.brothel.report.guardscore &gt;= 100&gt;&gt;
          &lt;&lt;set _sr = 100&gt;&gt;
          
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 75&gt;&gt;
          &lt;&lt;set _sr = 85&gt;&gt;
        
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 50&gt;&gt;
          &lt;&lt;set _sr = 60&gt;&gt;
        
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 25&gt;&gt;
          &lt;&lt;set _sr = 35&gt;&gt;
        
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _sr = 10&gt;&gt;
        
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
        &lt;&lt;set _scenename = &quot;Alert your guards to be wary of attackers.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Alert Guards&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;set _sr = 20&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Ignore the threats.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Ignore Threats&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
      
      &lt;&lt;case &quot;Recon&quot;&gt;&gt;
        &lt;&lt;set _cost = 15000&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        
        &lt;&lt;set _sr = 100&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Set a trap for the investigator.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $PC.money -= &quot; + _cost + &quot;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Set Trap&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;if $estate.brothel.report.guardscore &gt;= 100&gt;&gt;
          &lt;&lt;set _sr = 100&gt;&gt;
          
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 75&gt;&gt;
          &lt;&lt;set _sr = 85&gt;&gt;
        
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 50&gt;&gt;
          &lt;&lt;set _sr = 60&gt;&gt;
        
        &lt;&lt;elseif $estate.brothel.report.guardscore &gt;= 25&gt;&gt;
          &lt;&lt;set _sr = 35&gt;&gt;
        
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _sr = 10&gt;&gt;
        
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
        &lt;&lt;set _scenename = &quot;Have your guards deal with the investigator.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Call Guards&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;set _sr = 20&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;set _scenename = &quot;Ignore the investigator.&quot;&gt;&gt;
        &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Ignore Investigator&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;set _sr = 100&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Throw the investigator out.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Ban Investigator&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
      
      &lt;&lt;case &quot;Rumors&quot;&gt;&gt;
        &lt;&lt;set _cost = 10000&gt;&gt;
        &lt;&lt;set _price = commify(_cost)&gt;&gt;
        
        &lt;&lt;set _sr = 100&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Run a retaliation smear campaign.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[@@color:lightgreen;💎_price@@ | &lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $PC.money -= &quot; + _cost + &quot;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Smear Campaign&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;if $estate.brothel.report.procurerscore &gt;= 100&gt;&gt;
          &lt;&lt;set _sr = 100&gt;&gt;
          
        &lt;&lt;elseif $estate.brothel.report.procurerscore &gt;= 75&gt;&gt;
          &lt;&lt;set _sr = 85&gt;&gt;
        
        &lt;&lt;elseif $estate.brothel.report.procurerscore &gt;= 50&gt;&gt;
          &lt;&lt;set _sr = 60&gt;&gt;
        
        &lt;&lt;elseif $estate.brothel.report.procurerscore &gt;= 25&gt;&gt;
          &lt;&lt;set _sr = 35&gt;&gt;
        
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _sr = 10&gt;&gt;
        
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;set _scenename = &quot;Let your brothel procurer handle the rumors.&quot;&gt;&gt;
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Procurer Delegation&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
        
        &lt;&lt;set _sr = 20&gt;&gt;
        
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.nerfed&gt;&gt;
          &lt;&lt;set _sr = Math.round(_sr*0.75)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _sr &gt;= random(1,100)&gt;&gt;
          &lt;&lt;set _success = 1&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _success = 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;br&gt;&lt;b&gt;[&lt;&lt;SR &quot;Heat&quot; _sr&gt;&gt;]&lt;/b&gt; &lt;&lt;set _scenename = &quot;Let the rumors run their course.&quot;&gt;&gt;
        &lt;&lt;print &quot;[[&quot; + _scenename + &quot;|Brothel Heat][$estate.brothel.competition[&quot; + $heat.num + &quot;].heat.event = &#39;End&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.choice = &#39;Ignore Rumors&#39;, $estate.brothel.competition[&quot; + $heat.num + &quot;].heat.success = &quot; + _success + &quot;]]&quot;&gt;&gt;
      
    &lt;&lt;/switch&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
    &lt;br&gt;
    
    &lt;&lt;switch $estate.brothel.competition[$heat.num].heat.choice&gt;&gt;
      &lt;&lt;case &quot;Hire Guards&quot;&gt;&gt;
      &lt;b&gt;You have chosen to hire guards to protect your brothel from being vandalized!&lt;/b&gt;
      &lt;br&gt;The guards will watch over your brothel during the week. They come highly recommended, and will no doubt catch anyone &lt;b&gt;_brothel.name&lt;/b&gt; hires to vandalize your brothel when they think you least expect it.
      
      &lt;&lt;case &quot;Use Guards&quot;&gt;&gt;
      &lt;b&gt;You have chosen to use your own guards to protect your brothel from being vandalized!&lt;/b&gt;
      &lt;br&gt;You&#39;ll have your guards posted strategically around the brothel during the week. If your guards are good enough they&#39;ll catch anyone &lt;b&gt;_brothel.name&lt;/b&gt; hires to vandalize your brothel but if they aren&#39;t, they vandals will be sure to get away.
      
      &lt;&lt;case &quot;City Guards&quot;&gt;&gt;
      &lt;b&gt;You have chosen to call upon the city guards to help protect your brothel from being vandalized!&lt;/b&gt;
      &lt;br&gt;The city guards won&#39;t be able to guard your brothel 24/7 throughout the week, so they&#39;ll do customary checks whenever they are patrolling the city. There is very little chance they&#39;ll catch the vandals in the act, but on the chance they do they&#39;ll be able to stop them right away.
      
      &lt;&lt;case &quot;Pay Fee&quot;&gt;&gt;
      &lt;b&gt;You decided to pay the extortion fee to prevent any further attacks on your brothel customers!&lt;/b&gt;
      Whether the amount &lt;b&gt;_brothel.name&lt;/b&gt; is asking for compensation is fair or not, you decide its better to pay them the money than risk a decline in customers. 
      
      &lt;&lt;case &quot;Alert Guards&quot;&gt;&gt;
      &lt;b&gt;You alerted your guards to attacks on your brothel&#39;s customers so they can deal with them appropriately!&lt;/b&gt;
      Your guards will look out for customers and will be wary of any groups acting funny hanging around your brothel. If skilled enough they will take out any trouble makers.
      
      &lt;&lt;case &quot;Ignore Threats&quot;&gt;&gt;
      &lt;b&gt;You decided to ignore the threats and allow any altercations that can happen, happen!&lt;/b&gt;
      &lt;br&gt;The amount of money &lt;b&gt;_brothel.name&lt;/b&gt; is asking for isn&#39;t fair and you aren&#39;t going to pay it. You&#39;ll allow them retaliate however they like and absorb the damage as best as you can.
      
      &lt;&lt;case &quot;Set Trap&quot;&gt;&gt;
      &lt;b&gt;You have chosen to set a trap to capture the investigator!&lt;/b&gt;
      &lt;br&gt;To get useful information about your brothel the investigator will have to do a little snooping around. Working your advantage of knowing about the investigator, you&#39;ll lure them into a trap they won&#39;t be able to get out of.
      
      &lt;&lt;case &quot;Call Guards&quot;&gt;&gt;
      &lt;b&gt;You call your guards and tell them to discreetly deal with the investigator!&lt;/b&gt;
      &lt;br&gt;Your guards will follow the investigator outside the brothel and when they&#39;re a good distance away, your guards will strike and &#39;deal&#39; with the investigator thoroughly. If they&#39;re not skilled enough to do so, they won&#39;t even be able to properly follow the investigator, let alone deal with them.
      
      &lt;&lt;case &quot;Ignore Investigator&quot;&gt;&gt;
      &lt;b&gt;You allow the investigator to gather information uninterrupted!&lt;/b&gt;
      &lt;br&gt;No matter what information the investigator gathers, you&#39;ll still have to prepare for an attack from &lt;b&gt;_brothel.name&lt;/b&gt;. You don&#39;t see much reason to target the investigator, and instead decide to gather the necessary resources to defend against an incoming attack.
      
      &lt;&lt;case &quot;Ban Investigator&quot;&gt;&gt;
      &lt;b&gt;You ban the investigator from returning to your brothel ever again!&lt;/b&gt;
      &lt;br&gt;Whether the customers may find it in bad taste or not, you&#39;re not going to have an investigator skulking around for information in your own brothel. Banning them is the simplest solution and it gets the job done fine.
      
      &lt;&lt;case &quot;Smear Campaign&quot;&gt;&gt;
      &lt;b&gt;You decide to fund a smear campaign against _brothel.name!&lt;/b&gt;
      &lt;br&gt;With everyone focused on the rumors you&#39;re about to spread, they&#39;ll forget all the rumors &lt;b&gt;_brothel.name&lt;/b&gt; spread about your brothel in the past week. 
      
      &lt;&lt;case &quot;Procurer Delegation&quot;&gt;&gt;
      &lt;b&gt;You delegate the responsibility of dealing with the rumors to your procurer!&lt;/b&gt;
      &lt;br&gt;If your procurer is skilled enough, they can deal with the rumors with ease and completely nullify any problems. If they aren&#39;t, the negative effects of the rumors may end up being exacerbated.
      
      &lt;&lt;case &quot;Ignore Rumors&quot;&gt;&gt;
      &lt;b&gt;You choose to completely ignore the rumors!&lt;/b&gt;
      &lt;br&gt;Rumors come and go, and these string of rumors &lt;b&gt;_brothel.name&lt;/b&gt; spread about your brothel are no different. You have faith that the rumors will cause minimal damage and it&#39;ll be more work trying to deal with them than its worth.
    
    &lt;&lt;/switch&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;
&lt;&lt;elseif _heat.event == &quot;End&quot;&gt;&gt;
  &lt;&lt;switch $estate.brothel.competition[$heat.num].heat.choice&gt;&gt;
    &lt;&lt;case &quot;Hire Guards&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;The hired guards successfully prevented the vandals from damaging your brothel!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s scheme completely failed, the vandals didn&#39;t know what hit them. As soon as they attempted to attack your brothel, the hired guards swiftly subdued them and rounded them up for the city guards. You didn&#39;t get any reward for turning the thugs in despite them being hired to terrorize many businesses but you did get recognition in your area for the deed you&#39;ve done, @@color:forestgreen;increasing the popularity of your brothel.@@
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(20)&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;The hired guards failed to prevent the vandals from damaging your brothel!@@&lt;/b&gt;
        &lt;br&gt;
        
        With the information gathered on your brothel, &lt;b&gt;_brothel.name&lt;/b&gt; was able to foil your plan by planting a traitor within the hired team. As soon as the thugs attacked, the traitor caused enough chaos within for the attackers to overcome them. With no one standing in between them and your brothel, they were able to do a large amount of damage within a very small time period. You estimate the damage will end up costing you @@color:red;💎10,000.@@

        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $PC.money -= 10000&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Use Guards&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;Your guards successfully prevented the vandals from damaging your brothel!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s scheme completely failed, the vandals didn&#39;t know what hit them. As soon as they attempted to attack your brothel, your guards swiftly subdued them and rounded them up for the city guards. You didn&#39;t get any reward for turning the thugs in despite them being hired to terrorize many businesses but you did get recognition in your area for the deed you&#39;ve done, @@color:forestgreen;increasing the popularity of your brothel.@@
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(10)&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;Your guards failed to prevent the vandals from damaging your brothel!@@&lt;/b&gt;
        &lt;br&gt;
        
        The vandals were able to overpower your guards and vandalize your brothel anyways. Your guards weren&#39;t able to overcome the sheer number of thugs sent their way, and were quickly put in their place. With no one standing in between them and your brothel, they were able to do a large amount of damage within a very small time period. You estimate the damage will end up costing you @@color:red;💎10,000.@@

        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $PC.money -= 10000&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;City Guards&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;The city guards successfully prevented the vandals from damaging your brothel!@@&lt;/b&gt;
        &lt;br&gt;
        
        Luckily for you, the city guards were patrolling the area when the vandals attacked your brothel. They sprang into action and apprehended all of them. You didn&#39;t get any reward for turning the thugs in despite them being hired to terrorize many businesses nor did you gain any recognition for subduing them because you got the city guards to deal with them instead of hiring or using your own.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;The city guards failed to catch and prevent the vandals from damaging your brothel!@@&lt;/b&gt;
        &lt;br&gt;
        
        The city guards weren&#39;t patrolling the area where your brothel was located, leaving your brothel completely defenseless. With no one standing in between them and your brothel, they were able to do a large amount of damage within a very small time period. You estimate the damage will end up costing you @@color:red;💎10,000.@@
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $PC.money -= 10000&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Pay Fee&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;You paid the extortion fee, successfully stopping any further attacks on your customers!@@&lt;/b&gt;
        &lt;br&gt;
        
        After receiving the money, &lt;b&gt;_brothel.name&lt;/b&gt; called off the attack on your customers. You won&#39;t be losing any customers, but the amount of money you paid could be more than you would lose short term from any lose of customers. The money did help to @@color:forestgreen;cool down the heat@@ you&#39;ve been receiving from &lt;b&gt;_brothel.name&lt;/b&gt;. In the future you&#39;ll be less likely to be attacked by the brothel.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $estate.brothel.competition[$heat.num].heat.amount = Math.clamp($estate.brothel.competition[$heat.num].heat.amount-30, 0, 100)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;You paid the extortion fee but failed to stop any further attacks on your customers!@@&lt;/b&gt;
        &lt;br&gt;
        
        &lt;b&gt;_brothel.name&lt;/b&gt; played you for a fool. With the information they gathered on you from a previous investigation, they made a plan to extort you for money while still harassing your customers as further warning. Your customers being constantly assaulted has @@color:red;lowered your popularity.@@ The money did help to @@color:forestgreen;cool down the heat@@ you&#39;ve been receiving from &lt;b&gt;_brothel.name&lt;/b&gt;. In the future you&#39;ll be less likely to be attacked by the brothel.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(-10)&gt;&gt;
          &lt;&lt;set $estate.brothel.competition[$heat.num].heat.amount = Math.clamp($estate.brothel.competition[$heat.num].heat.amount-30, 0, 100)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
    
    &lt;&lt;case &quot;Alert Guards&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;Your guards dealt with the ruffians targeting your customers!@@&lt;/b&gt;
        &lt;br&gt;
        
        Your guards were able to track down all of the assailants and subdue every single one of them. A few times they saved customers just as they were about to get assaulted. Word spread about you sending your guards to defend your customers and @@color:forestgreen;your brothel&#39;s popularity has increased@@ because of it. While there will be no further attacks, since you didn&#39;t pay the extortion fee you can expect &lt;b&gt;_brothel.name&lt;/b&gt; to attack again in the future.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(10)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;Your guards failed to deal with the ruffians targeting your customers!@@&lt;/b&gt;
        &lt;br&gt;
        
        Your guards weren&#39;t able to track down all of the assailants and the few they did were able to subdue your guards or run away, leaving them free reign over your customers. The ruffians aggressively attacked anyone they saw leave your brothel. They conducted their all of their attacks at least a few blocks away so the guards had a hard time tracking them. Your customers being constantly assaulted has @@color:red;lowered your popularity.@@
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(-10)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Ignore Threats&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;You ignored _brothel.name&#39;s empty threats!@@&lt;/b&gt;
        &lt;br&gt;
        
        As it turns out, &lt;b&gt;_brothel.name&lt;/b&gt; was sending empty threats. They didn&#39;t hire anyone to assault your customers and were planning on extorting you for reparation money without having to spend any themselves. They&#39;re still as angry with you as before so even though this plan failed, they are sure to retaliate with another attack sooner or later.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;You ignored _brothel.name&#39;s threats, causing many of your customers to have &#39;incidents&#39;!@@&lt;/b&gt;
        &lt;br&gt;
        
        Since you refused to pay the extortion money they ordered their thugs to follow through with the attack. The ruffians aggressively attacked anyone they saw leave your brothel. They conducted their all of their attacks at least a few blocks away so the guards had a hard time tracking them. Your customers being constantly assaulted has @@color:red;lowered your popularity.@@
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(-15)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Set Trap&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;Your trap successfully captured the investigator!@@&lt;/b&gt;
        &lt;br&gt;
        
        The investigator went too deep while investigating and fell for your trap hook line and sinker. Not only did you catch them in the act of snooping around the restricted area of your brothel, you were able to capture it all with a magic ball. With the evidence of their act, you have the power to enslave the investigator through the city, which will enslave anyone for the smallest offenses if they don&#39;t have the money to pay compensation.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;Your trap failed to capture the investigator!@@&lt;/b&gt;
        &lt;br&gt;
        
        With the information &lt;b&gt;_brothel.name&lt;/b&gt; gathered on you earlier, the investigator not only knew about your trap, they were able to plan around it. The investigator was able to get into the restricted area of your brothel, @@color:red;gathering key information about your future plans.@@ If you try to counter one of &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s plots in the future, they will have a higher chance of success.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed++&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Call Guards&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;Your guards dealt with the invesitgator!@@&lt;/b&gt;
        &lt;br&gt;
        
        You guards stalked the investigator multiple times after they left your brothel, waiting for the most opportune time to attack with no one around. It didn&#39;t take long for them to find the right chance and they pounced on the investigator and left them battered and bruised, warning them never to set foot in your brothel again. The attack was so successful the state your guards left the investigator in prompted &lt;b&gt;_brothel.name&lt;/b&gt; to @@color:forestgreen;lower the amount of heat@@ they had for you.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $estate.brothel.competition[$heat.num].heat.amount = Math.clamp($estate.brothel.competition[$heat.num].heat.amount-15, 0, 100)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;Your guards failed to deal with the investigator!@@&lt;/b&gt;
        &lt;br&gt;
        
        The investigator was wise to your plot. Every time your guards stalked the investigator and tried to get them alone, they always seemed to lose trace of them within a few blocks. Conversely, the investigator was able to get into the restricted area of your brothel, @@color:red;gathering key information about your future plans.@@ If you try to counter one of &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s plots in the future, they will have a higher chance of success.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed++&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Ignore Investigator&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;You successfully ignored the investigator!@@&lt;/b&gt;
        &lt;br&gt;
        
        The investigator attempted to gather information about your brothel multiple times, but was unable to find the right opportunity to slip into the restricted area of your brothel. This was mostly just due to dumb luck on your part as there is no real way to protect against this. Guards have to look out for and handle customer problems, often allowing chances for people to sneak into the back. Either these moments were few and far between, or the investigator wasn&#39;t frequenting your brothel when they were happening.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;You ignored the investigator, allowing them to gather information on you!@@&lt;/b&gt;
        &lt;br&gt;
        
        You bet on the investigator not being able to find a way into your brothel&#39;s restricted area but it didn&#39;t pay off. The investigator was able to get into the restricted area of your brothel, @@color:red;gathering key information about your future plans.@@ If you try to counter one of &lt;b&gt;_brothel.name&lt;/b&gt;&#39;s plots in the future, they will have a higher chance of success.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed++&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Ban Investigator&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;You&#39;ve upheld your ban on the investigator!@@&lt;/b&gt;
        &lt;br&gt;
        
        You banned the investigator from your brothel in front of your brothel slaves and customers. The investigator argued you were banning them for no reason and when you revealed they were investigating for &lt;b&gt;_brothel.name&lt;/b&gt; they claimed you had the wrong person. Some of the customers empathized with the investigator, felt you were paranoid and wondered if you&#39;d accuse them of being an informant as well. @@color:red;Your brothel&#39;s popularity decreased due to the incident,@@ but at least you don&#39;t have someone sniffing around your brothel for info.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(-10)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;You failed to uphold your ban on the investigator!@@&lt;/b&gt;
        &lt;br&gt;
        
        You banned the investigator from your brothel in front of your brothel slaves and customers. The investigator argued you were banning them for no reason and when you revealed they were investigating for &lt;b&gt;_brothel.name&lt;/b&gt; they claimed you had the wrong person. Some of the customers empathized with the investigator, felt you were paranoid and wondered if you&#39;d accuse them of being an informant as well. @@color:red;Your brothel&#39;s popularity decreased due to the incident,@@ and somehow the investigator was able to sneak back into your brothel. They successfully gathered information about you, @@color:red;gathering key information about your future plans.@@ 
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
          &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed++&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(-10)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Smear Campaign&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;You smear campaign against _brothel.name was successful!@@&lt;/b&gt;
        &lt;br&gt;
        
        Almost all the rumors &lt;b&gt;_brothel.name&lt;/b&gt; spread about your brothel died down due to the host of rumors your spread about them in a smear campaign. Despite them doing their best to deal with the rumors, @@color:forestgreen;their popularity has dropped some@@ because of all the commotion. They&#39;re furious with you as well, @@color:red;increasing the amount of heat@@ they&#39;re putting on you. In the future you can expect more attacks from &lt;b&gt;_brothel.name&lt;/b&gt;.
        
        &lt;&lt;if !$result&gt;&gt;
            &lt;&lt;set $estate.brothel.competition[$heat.num].popularity = Math.clamp($estate.brothel.competition[$heat.num].popularity-10, 0, 100)&gt;&gt;
            &lt;&lt;set $estate.brothel.competition[$heat.num].heat.amount = Math.clamp($estate.brothel.competition[$heat.num].heat.amount+30, 0, 100)&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;Your smear campaign against _brothel.name failed!@@&lt;/b&gt;
        &lt;br&gt;
        
        Using information &lt;b&gt;_brothel.name&lt;/b&gt; gathered from you earlier, they were able to sabotage your smear campaign before you were able to get it off the ground. Having to deal with a failed campaign and futher pushback from &lt;b&gt;_brothel.name&lt;/b&gt;, you weren&#39;t able to properly address the rumors surrounding your brothel properly. Eventually the rumors started to damage your brothel&#39;s reputation, @@color:red;decreasing its popularity@@.
        
        &lt;&lt;if !$result&gt;&gt;
            &lt;&lt;run updateBrothelPopularity(-10)&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Procurer Delegation&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;Your procurer successfully dealt with the rumors!@@&lt;/b&gt;
        &lt;br&gt;
        
        Your procurer dealt with the rumors very effectively. Before they could gain any traction, your procurer set out to speak with as many customers as possible to set the records straight. Not only did they completely dispel all the rumors, they were able to build a stronger rapport with all of your customers, @@color:forestgreen;increasing your brothel&#39;s popularity@@.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(10)&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;Your procurer failed to deal with the rumors!@@&lt;/b&gt;
        &lt;br&gt;
        
        Your procurer couldn&#39;t find a way to deal with the rumors. The rumors gained too much traction and by the time your procurer reached out to the customers for damage control, many of them believed the rumors to be true no matter what was said.  Eventually the rumors started to damage your brothel&#39;s reputation, @@color:red;decreasing its popularity@@.
        
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(-10)&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;Ignore Rumors&quot;&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;b&gt;@@color:forestgreen;You ignored the rumors and they had little to no effect on your brothel!@@&lt;/b&gt;
        &lt;br&gt;
        
        You had faith the rumors wouldn&#39;t affect your brothel due to the rapport you&#39;ve built with your customers. Luckily for you most of your customers were well enough acquainted with your brothel to know the rumors were false. Business continues as usual for you but &lt;b&gt;_brothel.name&lt;/b&gt; has noted their approach was ineffective and will return to attack your brothel in the impending future.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;You ignored the rumors and they had a large effect on your brothel!@@&lt;/b&gt;
        &lt;br&gt;
        
        You tried to have faith the rumors wouldn&#39;t affect your brothel due to the rapport you&#39;ve built with your customers but it backfired. The rumors were too widespread for that approach to work. Even some of your most loyal customers began to question if the rumors were true or not. Eventually the rumors started to damage your brothel&#39;s reputation, @@color:red;decreasing its popularity@@.
        
        &lt;&lt;if !$result&gt;&gt;
          &lt;&lt;run updateBrothelPopularity(-10)&gt;&gt;
          &lt;&lt;set $result = 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;

  &lt;&lt;/switch&gt;&gt;
  
  &lt;br&gt;&lt;br&gt;
  
  &lt;&lt;switch $result&gt;&gt;
    &lt;&lt;case 1&gt;&gt;
      &lt;&lt;if $estate.brothel.competition[$heat.num].heat.success&gt;&gt;
        &lt;&lt;if $estate.brothel.competition[$heat.num].heat.choice == &quot;Set Trap&quot;&gt;&gt;
          &lt;&lt;set $slavetemplate = &quot;Common Enslavement Event&quot;&gt;&gt;
          &lt;&lt;include &quot;Roll Slave&quot;&gt;&gt;
          &lt;&lt;set $activeCharacter = _character&gt;&gt;
          
          &lt;&lt;set _discount = 0.5&gt;&gt;
          &lt;&lt;set $slavePrice = $activeCharacter.price * _discount&gt;&gt;
          &lt;&lt;set _sp = commify($slavePrice)&gt;&gt;
          &lt;&lt;include &quot;Unowned Slave Description&quot;&gt;&gt;
          
          &lt;br&gt;&lt;br&gt;
          
          [@@color:lightgreen;💎_sp@@] [[Enslave Investigator|Brothel Heat][$result = &quot;Enslave Investigator&quot;, $PC.money -= $slavePrice]]
          &lt;br&gt;
        &lt;&lt;/if&gt;&gt;
        
        [[Gloat|Brothel Heat][$result = &quot;Gloat&quot;]]
        &lt;br&gt;
        
        [@@color:lightgreen;💎5,000@@] [[Pay Reparations|Brothel Heat][$result = &quot;Pay Reparations&quot;]]
        &lt;br&gt;
        
        [@@color:lightgreen;💎5,000@@] [[Retaliate|Brothel Heat][$result = &quot;Pay Retaliation&quot;]]
        &lt;br&gt;
      
      &lt;&lt;else&gt;&gt;
        [@@color:lightgreen;💎5,000@@] [[Pay Reparations|Brothel Heat][$result = &quot;Pay Reparations&quot;]]
        &lt;br&gt;
        
        [@@color:lightgreen;💎5,000@@] [[Retaliate|Brothel Heat][$result = &quot;Pay Retaliation&quot;]]
        &lt;br&gt;
        
        [[Beg For Forgiveness|Brothel Heat][$result = &quot;Beg Forgiveness&quot;]]
        &lt;br&gt;
      
      &lt;&lt;/if&gt;&gt;
      
      [[Continue|Event Hub][$estate.brothel.competition[$heat.num].heat.triggered = 0, $estate.brothel.competition[$heat.num].heat.success = 0, $estate.brothel.competition[$heat.num].heat.nerfed--, $estate.brothel.competition[$heat.num].heat.event = null, $estate.brothel.competition[$heat.num].heat.scene = null, $estate.brothel.competition[$heat.num].heat.choice = null, $result = null]]
      
    &lt;&lt;case &quot;Enslave Investigator&quot;&gt;&gt;
      &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
      &lt;&lt;set $result = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.triggered = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.success = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed--&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.event = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.scene = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.choice = null&gt;&gt;
      
      &lt;&lt;set $activeCharacter.origin = &quot;_name was an investigator hired by &lt;b&gt;&quot; + _brothel.name + &quot;&lt;/b&gt; before you had &lt;&lt;print $himher[_gender]&gt;&gt; enslaved for spying on you.&quot;&gt;&gt;
      &lt;&lt;set $activeCharacter.occupation = null&gt;&gt;
      &lt;&lt;set $activeCharacter.obedience.base = 20&gt;&gt;
      &lt;&lt;set $activeCharacter.trust.base = 20&gt;&gt;
      &lt;&lt;set $activeCharacter.mood.scale = &quot;Happiness&quot;&gt;&gt;
      &lt;&lt;set $activeCharacter.mood.current = 25&gt;&gt;
      &lt;&lt;run addHistory($activeCharacter, &quot;@@color:forestgreen;[Week &quot; + $weekcount + &quot;] &quot; + _brothel.name + &quot;&#39;s Retaliation@@&quot;, _brothel.name + &quot; hired an investigator to spy on your brothel. You set a trap for _name, the investigator, and proved to the city &lt;&lt;print $heshe[_gender]&gt;&gt; wrong you, allowing you to enslave &lt;&lt;print $himher[_gender]&gt;&gt; for a discounted price.&quot;)&gt;&gt;
      &lt;&lt;run addEvent($activeCharacter, &quot;&quot; + _brothel.name + &quot;&#39;s Retaliation - Recon&quot;)&gt;&gt;
      &lt;&lt;run addSlave($activeCharacter)&gt;&gt;
      
      &lt;b&gt;You have enslaved the investigator _brothel.name hired to gather information on you!&lt;/b&gt;
      &lt;br&gt;
      
      &lt;b&gt;_brothel.name&lt;/b&gt; denies all involvement with the investigator $activeCharacter.name to prevent themself from being reprimanded by the city. The words of the investigator alone aren&#39;t enough to incriminate them, so they get off completely scot-free, aside from the money they had to pay to hire the investigator in the first place. @@color:forestgreen;You have gained a slave@@ from this whole ordeal so your efforts didn&#39;t go completely unrewarded.
      
      &lt;&lt;unset $activeCharacter&gt;&gt;
    
    &lt;&lt;case &quot;Gloat&quot;&gt;&gt;
      &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
      &lt;&lt;set $result = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.triggered = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.success = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed--&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.event = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.scene = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.choice = null&gt;&gt;
      &lt;&lt;run updateBrothelPopularity(10)&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.amount = Math.clamp($estate.brothel.competition[$heat.num].heat.amount+15, 0, 100)&gt;&gt;
      
      &lt;b&gt;You publicly gloated about getting the better of _brothel.name in a back and forth feud!&lt;/b&gt;
      &lt;br&gt;
      
      &lt;b&gt;_brothel.name&lt;/b&gt; is furious you humiliated them in front of everyone. They denounce you, claiming the next time you won&#39;t get so lucky, @@color:red;raising the amount of heat@@ they&#39;re putting on you. On the other hand the public absolutely love drama and the fact you won this time around has @@color:forestgreen;increased your brothel&#39;s popularity.@@ Being a showboat is irresponsible but very profitable. If you can keep it up without getting burned you&#39;ll only stand to gain money and popularity.
      
    &lt;&lt;case &quot;Pay Reparations&quot;&gt;&gt;
      &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
      &lt;&lt;set $result = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.triggered = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.success = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed--&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.event = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.scene = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.choice = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.amount = Math.clamp($estate.brothel.competition[$heat.num].heat.amount-15, 0, 100)&gt;&gt;
      &lt;&lt;set $PC.money -= 5000&gt;&gt;
      
      &lt;b&gt;You paid reparations to _brothel.name to make amends for your previous actions!&lt;/b&gt;
      &lt;br&gt;
      You reached out to &lt;b&gt;_brothel.name&lt;/b&gt; and made a deal to pay them reparation money. They gladly accepted it but aren&#39;t willing to forgive you completely. However the money will go a long way to mending your relationship with the brothel, @@color:forestgreen;lowering the amount of heat@@ they&#39;re putting on you currently. As long as you don&#39;t go out of your way to investigate or make plans to harm &lt;b&gt;_brothel.name&lt;/b&gt; in any way, they won&#39;t attack you as frequently as they have before.
    
    &lt;&lt;case &quot;Pay Retaliation&quot;&gt;&gt;
      &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
      &lt;&lt;set $result = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.triggered = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.success = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed--&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.event = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.scene = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.choice = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].popularity = Math.clamp($estate.brothel.competition[$heat.num].popularity-10, 0, 100)&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.amount = Math.clamp($estate.brothel.competition[$heat.num].heat.amount+15, 0, 100)&gt;&gt;
      &lt;&lt;set $PC.money -= 5000&gt;&gt;
      
      &lt;b&gt;You paid money to get a group of thugs to retaliate against _brothel.name!&lt;/b&gt;
      &lt;br&gt;
      This last minute attack wasn&#39;t coordinated by any means but it was enough cause a stir in &lt;b&gt;_brothel.name&lt;/b&gt;. Your attack on them was effective, @@color:forestgreen decreasing their popularity@@. They have recognized your ruthlessness, doing anything you can to snuff out the competition and vow to return the same energy back to you. &lt;b&gt;_brothel.name&lt;/b&gt; has @@color:red;raised the amount of heat@@ they&#39;re putting on you.
      
    &lt;&lt;case &quot;Beg Forgiveness&quot;&gt;&gt;
      &lt;&lt;set $Continue = &quot;Event Hub&quot;&gt;&gt;
      &lt;&lt;set $result = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.triggered = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.success = 0&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.nerfed--&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.event = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.scene = null&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.choice = null&gt;&gt;
      &lt;&lt;run updateBrothelPopularity(-10)&gt;&gt;
      &lt;&lt;set $estate.brothel.competition[$heat.num].heat.amount = Math.clamp($estate.brothel.competition[$heat.num].heat.amount-15, 0, 100)&gt;&gt;
      
      &lt;b&gt;You publicly begged for forgiveness from _brothel.name!&lt;/b&gt;
      &lt;br&gt;
      Not only did &lt;b&gt;_brothel.name&lt;/b&gt; get the better of you in your public feud, they were able to get you to humiliate yourself in front of your customers by having you beg for forgiveness in front of your shop. Many groups of people thoroughly enjoy seeing drama play out by more wealthy citizens but your brothel&#39;s patrons aren&#39;t one of them. Your pathetic display has soured your customers perception of you, @@color:red;decreasing your brothel&#39;s popularity@@ but it did @@color:forestgreen;lower the amount of heat@@ &lt;b&gt;_brothel.name&lt;/b&gt; is putting on you.
    
  &lt;&lt;/switch&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="346" name="Estate UI" tags="nobr" position="136,1151" size="100,100">&lt;table class=&quot;inventory&quot; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
&lt;&lt;set _table = &quot;&quot;&gt;&gt;
&lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;

&lt;&lt;if $estate.page == &quot;Overview&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 40&gt;&quot;&gt;&gt;
  
  &lt;&lt;if $summary.estateInfo == 1&gt;&gt;
    &lt;&lt;set _table += &quot;[[Overview|Main Menu][$summary.estateInfo = 0]]&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;elseif $summary.estateInfo == 0&gt;&gt;
    &lt;&lt;set _table += &quot;[[Overview|Main Menu][$summary.estateInfo = 1]]&lt;/th&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 40&gt;[[Overview|Main Menu][$estate.page = &#39;Overview&#39;]]&lt;/th&gt;&quot;&gt;&gt;
  
&lt;&lt;/if&gt;&gt;


&lt;&lt;if $estate.page == &quot;Facilities&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 40&gt;Facilities&lt;/th&gt;&quot;&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 40&gt;[[Facilities|Main Menu][$estate.page = &#39;Facilities&#39;]]&lt;/th&gt;&quot;&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $estate.page == &quot;Discipline&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 40&gt;Discipline&lt;/th&gt;&quot;&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;th class = &#39;listing&#39; colspan = 40&gt;[[Discipline|Main Menu][$estate.page = &#39;Discipline&#39;]]&lt;/th&gt;&quot;&gt;&gt;
  
&lt;&lt;/if&gt;&gt;

  
&lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;

&lt;&lt;if $estate.page == &quot;Overview&quot;&gt;&gt;
  &lt;&lt;if $summary.estateCap == 0&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;[[Estate Capacity|Main Menu][$summary.estateCap = 1]]&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;[[Estate Capacity|Main Menu][$summary.estateCap = 0]] | &quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if !$summary.estateCap&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Your estate is large enough to house up to &lt;b&gt;$estate.cap slaves&lt;/b&gt;. Currently, you&#39;re housing &lt;b&gt;$estate.pop slaves&lt;/b&gt;. You can increase the number of slaves you have by upgrading the amount of rooms you have available on your estate. &lt;br&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _cost = 0&gt;&gt;

  &lt;&lt;if $estate.cap == 4&gt;&gt;
    &lt;&lt;set _newcap = 6&gt;&gt;
    &lt;&lt;set _cost = 10000&gt;&gt;

  &lt;&lt;elseif $estate.cap == 6&gt;&gt;
    &lt;&lt;set _newcap = 8&gt;&gt;
    &lt;&lt;set _cost = 25000&gt;&gt;

  &lt;&lt;elseif $estate.cap == 8&gt;&gt;
    &lt;&lt;set _newcap = 10&gt;&gt;
    &lt;&lt;set _cost = 50000&gt;&gt;

  &lt;&lt;elseif $estate.cap == 10&gt;&gt;
    &lt;&lt;set _newcap = 12&gt;&gt;
    &lt;&lt;set _cost = 100000&gt;&gt;

  &lt;&lt;elseif $estate.cap == 12&gt;&gt;
    &lt;&lt;set _newcap = 14&gt;&gt;
    &lt;&lt;set _cost = 200000&gt;&gt;

  &lt;&lt;elseif $estate.cap == 14&gt;&gt;
    &lt;&lt;set _newcap = 16&gt;&gt;
    &lt;&lt;set _cost = 400000&gt;&gt;

  &lt;&lt;elseif $estate.cap == 16&gt;&gt;
    &lt;&lt;set _newcap = 20&gt;&gt;
    &lt;&lt;set _cost = 1000000&gt;&gt;

  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _fee = commify(_cost)&gt;&gt;

  &lt;&lt;if $estate.cap == 20&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;b&gt;You have upgraded your estate to maximum capacity.&lt;/b&gt;&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;&lt;print &#39;[[Upgrade Estate\\&#39;s Slave Capacity|Main Menu][$PC.money -= &quot; + _cost + &quot;, $estate.cap = &quot; + _newcap + &quot;]]&#39;&gt;&gt; | @@color:lightgreen;💎&quot; + _fee + &quot;@@ | $estate.cap → &quot; + _newcap + &quot; Slave Capacity&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if !$summary.estateCap&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _position = 0&gt;&gt;
  &lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
    &lt;&lt;set _character = $slaves[_i]&gt;&gt;
    &lt;&lt;include &quot;Modernize Slave&quot;&gt;&gt;
    
    &lt;&lt;if _character.location == $main.page&gt;&gt;
      &lt;&lt;set _position++&gt;&gt;
      &lt;&lt;if _position == 1&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;td colspan = 40&gt;&lt;&lt;displayTitle &#39;&quot; + _character.title + &quot;&#39; &#39;Main Menu&#39;&gt;&gt;&lt;&lt;race &#39;&quot; + _character.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString(_character.name) + &quot;|Main Menu][$activeCharacter = $slaves[&quot; + _i + &quot;]]]&#39;&gt;&gt; &lt;&lt;gender &quot; + _character.sex + &quot; &quot; + _character.gender + &quot;&gt;&gt; &lt;&lt;print &#39;[[✓|Slave Description][$activeCharacter to $slaves[&quot; + _i + &quot;]]]&#39;&gt;&gt;&quot;&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;br&gt;&lt;b&gt;&lt;&lt;healthbar $slaves[&quot; + _i + &quot;] &#39;Health&#39;&gt;&gt;&lt;&lt;healthbar $slaves[&quot; + _i + &quot;] &#39;Stamina&#39;&gt;&gt;&lt;/b&gt;&quot;&gt;&gt;
      

        &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;print getObedience(&quot; + _character.obedience.current + &quot;)&gt;&gt; / &lt;&lt;print getTrust(&quot; + _character.trust.current + &quot;)&gt;&gt; / &lt;&lt;print getFear(&quot; + _character.fear.current + &quot;)&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;br&gt;&lt;&lt;print getMood($slaves[&quot; + _i + &quot;])&gt;&gt; / &lt;&lt;print $UCweight[&quot; + _character.weight + &quot;]&gt;&gt;&quot;&gt;&gt;
        
        &lt;&lt;if _character.assignment == &quot;rest&quot;&gt;&gt;
          &lt;&lt;set _table += &quot; / @@color:gray;&lt;span id=&#39;assignment&quot; + _character.ID + &quot;&#39;&gt;Resting&lt;/span&gt;@@&quot;&gt;&gt;
          
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _table += &quot; / @@color:gray;&lt;span id=&#39;assignment&quot; + _character.ID + &quot;&#39;&gt;Working&lt;/span&gt;@@&quot;&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;/td&gt;&quot;&gt;&gt;
      
      &lt;&lt;if _position == 3&gt;&gt;
        &lt;&lt;set _position = 0&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;/for&gt;&gt;

  &lt;&lt;if _position != 0&gt;&gt;
    &lt;&lt;set _emptyboxes = 3 - _position&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td colspan = 40&gt;&lt;/td&gt;&quot;.repeat(_emptyboxes)&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
    
  &lt;&lt;/if&gt;&gt;

&lt;&lt;elseif $estate.page == &quot;Facilities&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;th class = &#39;nobottom&#39; colspan = 120&gt;&lt;span id=&#39;Facilities&#39;&gt;&lt;&lt;appendLink &#39;Facilities&#39;&gt;&gt;&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&quot;&gt;&gt;
  &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;span id=&#39;TrainingRoom&#39;&gt;&lt;&lt;appendLink &#39;TrainingRoom&#39;&gt;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
  
&lt;&lt;elseif $estate.page == &quot;Discipline&quot;&gt;&gt;
  &lt;&lt;if !$estate.facilities.trainingroom&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;span id=&#39;Discipline&#39;&gt;&lt;&lt;appendLink &#39;Discipline&#39;&gt;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;

  &lt;&lt;else&gt;&gt;
    &lt;&lt;if $trainer&gt;&gt;
      &lt;&lt;set _number = $trainer.slice($trainer.indexOf(&quot;[&quot;) + 1, $trainer.indexOf(&quot;]&quot;))&gt;&gt;
      &lt;&lt;set $trainer = $slaves[_number]&gt;&gt;
      
      &lt;&lt;if !$estate.facilities.training.trainers.includes($trainer.ID)&gt;&gt;
        &lt;&lt;set $estate.facilities.training.trainers.push($trainer.ID)&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _number = null&gt;&gt;
      &lt;&lt;set $trainer = null&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;if $student&gt;&gt;
      &lt;&lt;set _number = $student.slice($student.indexOf(&quot;[&quot;) + 1, $student.indexOf(&quot;]&quot;))&gt;&gt;
      &lt;&lt;set $student = $slaves[_number]&gt;&gt;
      &lt;&lt;set $student.training.trainer = $estate.facilities.training.trainer&gt;&gt;
      &lt;&lt;set _currentStudent = $student.ID&gt;&gt;
      
      &lt;&lt;set _number = null&gt;&gt;
      &lt;&lt;set $student = null&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  
    &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;nbleft&#39; colspan = 80&gt;&lt;span id=&#39;Discipline&#39;&gt;&lt;&lt;appendLink &#39;Discipline&#39;&gt;&gt;&lt;/span&gt;&lt;/td&gt;&quot;&gt;&gt;
    &lt;&lt;set _table += &quot;&lt;td class = &#39;nbright&#39; colspan = 40&gt;&lt;span id=&#39;DisciplineZ&#39;&gt;&lt;&lt;appendLink &#39;DisciplineZ&#39;&gt;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
    
    &lt;&lt;if $estate.facilities.training.trainers.length &lt; $estate.facilities.training.rooms&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;span id=&#39;DisciplineY&#39;&gt;&lt;&lt;appendLink &#39;DisciplineY&#39;&gt;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
    
    &lt;&lt;if $estate.facilities.training.trainers.length&gt;&gt;
      &lt;&lt;set _colspan = 120 / $estate.facilities.training.trainers.length&gt;&gt;
      
      &lt;&lt;if !$estate.facilities.training.trainer || !$estate.facilities.training.trainers.includes($estate.facilities.training.trainer)&gt;&gt;
        &lt;&lt;set $estate.facilities.training.trainer = $estate.facilities.training.trainers[0]&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _table += &quot;&lt;tr&gt;&quot;&gt;&gt;
      &lt;&lt;for _t=0; _t &lt; $estate.facilities.training.trainers.length;_t++&gt;&gt;
        &lt;&lt;set _trainer = $estate.facilities.training.trainers[_t]&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;td class = &#39;listing&#39; colspan = &quot; + _colspan + &quot;&gt;&lt;b&gt;&lt;span id=&#39;DisciplineX&#39;&gt;&lt;&lt;appendLink &#39;DisciplineX&#39; &#39;&quot; + _trainer + &quot;&#39;&gt;&gt;&lt;/span&gt;&lt;/b&gt;&lt;/td&gt;&quot;&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;
      &lt;&lt;set _table += &quot;&lt;/tr&gt;&quot;&gt;&gt;
      
      &lt;&lt;if $estate.facilities.training.trainer&gt;&gt;
        &lt;&lt;set _table += &quot;&lt;tr&gt;&lt;td class = &#39;summary&#39; colspan = 120&gt;&lt;span id=&#39;DisciplineW&#39;&gt;&lt;&lt;appendLink &#39;DisciplineW&#39; &#39;&quot; + $estate.facilities.training.trainer + &quot;&#39;&gt;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;

    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

_table
&lt;/table&gt;

&lt;&lt;if $estate.page == &quot;Discipline&quot;&gt;&gt;
  &lt;&lt;if $estate.facilities.training.trainers.length&gt;&gt;
    &lt;&lt;set _students = []&gt;&gt;

    &lt;&lt;for _sn=1; _sn &lt;= $slaves.amount;_sn++&gt;&gt;
      &lt;&lt;set _student = $slaves[_sn]&gt;&gt;
      
      &lt;&lt;if _student.location == &quot;estate&quot; &amp;&amp; _student.training.trainer == $estate.facilities.training.trainer&gt;&gt;
        &lt;&lt;set _students.push(_student.ID)&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;/for&gt;&gt;

    &lt;&lt;if _students.length&gt;&gt;
      &lt;table class=&#39;inventory&#39; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
      &lt;tr&gt;
      &lt;th class = &#39;listing&#39; colspan = 39&gt;Student&lt;/th&gt;
      &lt;th class = &#39;listing&#39; colspan = 39&gt;Attributes&lt;/th&gt;
      &lt;th class = &#39;listing&#39; colspan = 22&gt;Discipline&lt;/th&gt;
      &lt;th class = &#39;listing&#39; colspan = 20&gt;Progress&lt;/th&gt;
      &lt;/tr&gt;
      
      &lt;&lt;for _st = 0; _st &lt; _students.length;_st++&gt;&gt;
        &lt;&lt;set _studentID = _students[_st]&gt;&gt;
        
        &lt;&lt;capture _studentID&gt;&gt;
        &lt;tr&gt;
        &lt;td class = &#39;noborder&#39; colspan = 39&gt;&lt;&lt;print &quot;&lt;span id=&#39;DVCharacter&quot; + _studentID + &quot;&#39;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Character&#39; &#39;&quot; + _studentID + &quot;&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;&lt;/td&gt;
        &lt;td class = &#39;noborder&#39; colspan = 39&gt;&lt;span id=&#39;DVStats&#39;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Stats&#39; _studentID&gt;&gt;&lt;/span&gt;&lt;/td&gt;
        &lt;td class = &#39;noborder&#39; colspan = 22&gt;&lt;&lt;print &quot;&lt;span id=&#39;DVDiscipline&quot; + _studentID + &quot;&#39;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Discipline&#39; &#39;&quot; + _studentID + &quot;&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;&lt;/td&gt;
        &lt;td class = &#39;noborder&#39; colspan = 20&gt;&lt;&lt;print &quot;&lt;span id=&#39;DVProgress&quot; + _studentID + &quot;&#39;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Progress&#39; &#39;&quot; + _studentID + &quot;&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;&lt;/td&gt;
        &lt;/tr&gt;
        
        &lt;tr&gt;
        &lt;td class = &#39;summary&#39; colspan = 60&gt;&lt;&lt;print &quot;&lt;span id=&#39;DVRewards&quot; + _studentID + &quot;&#39;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Rewards&#39; &#39;&quot; + _studentID + &quot;&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;&lt;/td&gt;
        &lt;td class = &#39;summary&#39; colspan = 60&gt;&lt;&lt;print &quot;&lt;span id=&#39;DVPunishments&quot; + _studentID + &quot;&#39;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Punishments&#39; &#39;&quot; + _studentID + &quot;&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;&lt;/capture&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;
      
      &lt;/table&gt;

    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="347" name="Compendium Widget" tags="nobr widget" position="966,251" size="100,100">&lt;&lt;widget &quot;compendium&quot;&gt;&gt;

&lt;&lt;switch $args[0]&gt;&gt;
  &lt;&lt;case &quot;Main&quot;&gt;&gt;
    &lt;&lt;set _pagecount = 0&gt;&gt;
    &lt;&lt;for _p = 0; _p &lt; _pages.length;_p++&gt;&gt;
      &lt;&lt;set _page = _pages[_p]&gt;&gt;
      &lt;&lt;set _Page = capitalizeSentence(_page)&gt;&gt;
      
      &lt;&lt;if _pagecount &gt; 0&gt;&gt;
        |
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $compendium.page == _Page&gt;&gt;
        _Page
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _Page + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.page = &#39;&quot; + _Page + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = null&gt;&gt;&lt;&lt;replace &#39;#main&#39;&gt;&gt;&lt;&lt;compendium &#39;Main&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + _Page + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _pagecount++&gt;&gt;
      
    &lt;&lt;/for&gt;&gt;
    
  &lt;&lt;case &quot;Races&quot;&gt;&gt;
    &lt;tr&gt;&lt;td class = &quot;compendium&quot;&gt;&lt;center&gt;
      &lt;&lt;for _t = 0; _t &lt; $compendium.races.length;_t++&gt;&gt;
        &lt;&lt;set _tribe = capitalizeSentence($compendium.races[_t])&gt;&gt;
        
        &lt;&lt;if $compendium.leaf != _tribe&gt;&gt;
          &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _tribe + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = &#39;&quot; + _tribe + &quot;&#39;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + $compendium.page  + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          _tribe
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _t != $compendium.races.length-1&gt;&gt; -- &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;&lt;/center&gt;
      
      &lt;&lt;if $compendium.leaf&gt;&gt;
        &lt;br&gt;&lt;&lt;race $compendium.leaf&gt;&gt; &lt;br&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;switch $compendium.leaf&gt;&gt;
        &lt;&lt;case &quot;Canus&quot;&gt;&gt;
          🐶 Canus are a crossbreed between a human and a mongrel. They can live relatively normal lives in human societies as they&#39;re mentally no different from their human counterparts. That doesn&#39;t mean they do, as they are often used as sex slaves due to their dog-like ears and tails. In mongrel society canus are accepted but are treated lesser than their pure-bread counterparts. They are often found performing menial chores around mongrel villages and are often used as slaves there as well. They&#39;re physically and mentally average as a race.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;mongrel&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;canus&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Dark Elf&quot;&gt;&gt;
          🌙 Dark Elves have lived just as long as High Elves but have secluded themselves from any contact with any other race. Although they aren&#39;t hostile  they are absolutely aggressive with defending their territory. They don&#39;t trade or interact with other dark elf tribes, let alone other races. Their darkened skin and pointy ears are their defining attributes. Dark Elves are matriarchal in nature and their looks reflect that. The women have larger than average breasts, while the men have smaller than average cocks. Like most elves, they are extremely beautiful and produce good quality nectar naturally.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;dark elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;high elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;forest elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Dwarf&quot;&gt;&gt;
          ⛏️ Dwarves have lived have lived among society for the past few centuries but before were cave dwellers. Their short yet stout bodies helped them traverse through constricted tunnel systems. Most dwarves now live amongst other races, providing their trade skills for compensation. Dwarves have small breasts and cocks, and all of them have facial hair. They’re short too, but their redeeming factor is that they’re a very fit race.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;dwarf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;gnome&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Forest Elf&quot;&gt;&gt;
          🌳 Forest Elves are heralded as the peacekeepers of the forest. They aren&#39;t too much divorced from their dark and high elf cousins genetically and more numerous in number. They tend to live in grandiose forest villages protected by illusion barriers to prevent any outsiders from entering. Boasting superior magic and a longer life, the only thing preventing them from being the dominant race is their very weak fertility. Forest elves, like most elves, are extremely beautiful. They also produce good quality nectar naturally.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;dark elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;high elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;forest elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Giant&quot;&gt;&gt;
          💪 Giants live in mountainous plains sometimes in groups of two but mostly by themselves. Both sexes roam the mountains for food, only looking for companionship during mating season. Male giants will fight amongst themselves for land, providing themselves with a prosperous breeding ground. Female giants are granted access to a male&#39;s land but are also subject to his libido. Not only are giants extremely tall, they have large cocks, breasts and are generally very athletic.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;giant&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;orc&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Gnome&quot;&gt;&gt;
          ⚙️ Gnomes are the smallest race alongside goblins. Despite their small size, it is very rare for gnomes to be poor or low class. They make a living with their ingenious creations and superior wares. In the wild they often live in the hollowed out insides of giant trees. They have really small cocks and breasts but they are very intelligent.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;dwarf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;gnome&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Goblin&quot;&gt;&gt;
          🍆 Goblins are considered a plague amongst the living. Individually their abilities pale in comparison to every other race, but their unparalleled mating ability and high fertility allows them to overwhelm any race through sheer numbers. Goblins are a male only race of very small, large cocked monsters. They’re very dumb and ugly, but also very cheap. They can breed virtually any race but they only produce goblin offspring.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;dark elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;high elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;giant&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;forest elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;moon rabbit&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;dwarf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;gnome&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;holstaur&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;minotaur&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;mongrel&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;pantheran&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;canus&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;neko&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;High Elf&quot;&gt;&gt;
          🧝🏼‍♂️ High Elves can be found scattered across the world, mainly in the high echelons of human societies. High elves are patriarchal in nature and their looks reflect that. The men have larger than average cocks, while the women have smaller than average breasts. Like most elves, they are extremely beautiful and produce good quality nectar naturally.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;dark elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;high elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;forest elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Holstaur&quot;&gt;&gt;
          🐮 Holstaur are the female sex of the beastmen cattle species. They graze in the wild in herds with their offspring and one or at most two minotaur. Holstaur features are mainly human but they have extremely large busts, produce high quality milk, small horns sprouting from their heads, have hoofed feet and are female only.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;minotaur&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Human&quot;&gt;&gt;
          👤 Humans almost always live in societies consisting of other humans. They&#39;re very social, requiring some form of interaction to retain their mental health. While they have no strong points, they have no weaknesses either making them the most dominant race on the planet. Humans are the most common and average traits. There isn’t anything special about them other than the fact they are cheap and they can breed with any race.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;b&gt;@@color:#3A82FF;[♂]@@&lt;/b&gt;&lt;br&gt;
          &lt;&lt;race &quot;dark elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;high elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;giant&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;forest elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;moon rabbit&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;orc&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;dwarf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;gnome&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;holstaur&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;mongrel&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;pantheran&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;canus&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;neko&quot; &quot;Description&quot;&gt;&gt;
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;b&gt;@@color:#FD81CA;[♀]@@&lt;/b&gt;&lt;br&gt;
          &lt;&lt;race &quot;dark elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;high elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;giant&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;forest elf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;moon rabbit&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;orc&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;dwarf&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;gnome&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;minotaur&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;mongrel&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;pantheran&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;canus&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;neko&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Minotaur&quot;&gt;&gt;
          🐂 Minotaur are the male sex of the beastmen cattle species. They fight amongst themselves to control groups of cattle but sometimes may share their leadership with another minotaur. Minotaur features are mainly human but they have larger than average cocks, bull horns sprouting from their heads, hoofed feet and are male only.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;holstaur&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Mongrel&quot;&gt;&gt;
          🐺 Mongrels are a race of anthropomorphic dogs that live mainly in the forest. Both male and female mongrels share all roles within their villages equally. That includes hunting, child-rearing, leadership roles and the many trades they partake in. They are very aggressive when it comes to defending their territory. Male mongrels have knotted cocks and all mongrels are generally fit.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;mongrel&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;canus&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Moon Rabbit&quot;&gt;&gt;
          🐇 Moon rabbits are a rare, forest dwelling race that have mainly human features but have bunny like ears and tails. They reside in isolated but enormous underground villages which they only leave to gather food. Moon Rabbit villages can often go two to three centuries without being discovered by any other race. They are known to be intelligent and beautiful.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;moon rabbit&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Neko&quot;&gt;&gt;
          🐱 Neko are a crossbreed between a human and a pantheran. They can live relatively normal lives in human societies as they&#39;re mentally no different from their human counterparts. That doesn&#39;t mean they do, as they are often used as sex slaves due to their cat-like ears and tails. In pantheran society canus are completely shunned as they are considered lesser than their pure-bread counterparts. Pantherans feel they weaken the tribe and thus are only admitted into the tribe as slaves. Neko features are mainly human, but they do have cat like ears and tails. They&#39;re physically and mentally average as a race.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;pantheran&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;neko&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Orc&quot;&gt;&gt;
          🧌 Orcs are very large athletic monsters that are generally stupid and very ugly. They have a penchant for fighting, losing them more people than their enhanced libidos can keep up with. Almost every clan of orcs will eventually fight itself into extinction without intervention. Males have extraordinarily large cocks that produce high quality cum except for the taste, which is generally very bad. Females have large breasts.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;giant&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;orc&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Pantheran&quot;&gt;&gt;
          🐆 Pantherans are a race of anthropomorphic cats that live mainly in the forest. Female pantheran rule the tribes, as they are more skilled in combat than their male counterparts. A male&#39;s status in the clan is largely decided by his mother&#39;s status, making it possible for a male to rank higher in the clan than a low status female. Female pantheran fight over the right to mate a male. The male then has the right to veto if he can best his potential partner in combat, which rarely ever happens. Male pantherans have barbed cocks and all pantherans are generally fit.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;@@color:gray;[Breeding Compatibility]@@&lt;/b&gt; | Mateable Races &lt;br&gt;
          &lt;&lt;race &quot;pantheran&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;goblin&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;human&quot; &quot;Description&quot;&gt;&gt; -- &lt;&lt;race &quot;neko&quot; &quot;Description&quot;&gt;&gt;
      
      &lt;&lt;/switch&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;
    
  &lt;&lt;case &quot;Ages&quot;&gt;&gt;
    &lt;tr&gt;&lt;td class = &quot;compendium&quot;&gt;&lt;center&gt;
      Age is one of the most important traits for characters. They mainly affect whether slaves are fertile or not and how much money a person is willing to spend on their products (whether that product is their produce or their bodies). In general, the older the character the less valuable they are across the board.
      
      &lt;br&gt;
      &lt;&lt;for _t = 0; _t &lt; $compendium.ages.length;_t++&gt;&gt;
        &lt;&lt;set _age = capitalizeSentence($compendium.ages[_t])&gt;&gt;
        
        &lt;&lt;if $compendium.leaf != _age&gt;&gt;
          &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _age + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = &#39;&quot; + _age + &quot;&#39;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + $compendium.page  + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          _age
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _t != $compendium.ages.length-1&gt;&gt; -- &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;&lt;/center&gt;
      
      &lt;&lt;if $compendium.leaf&gt;&gt;
        &lt;br&gt;&lt;b&gt;@@color:gray;$compendium.leaf@@&lt;/b&gt; &lt;br&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;switch $compendium.leaf&gt;&gt;
        &lt;&lt;case &quot;Young Adult&quot;&gt;&gt;
          Young adults are in general the most desired age group for slaves. Their lifespan is longer, allowing for slave owners to make use of them for their whole adult lifespan. There are very little downsides to buying a slave who has just reached adulthood, other than their high price of course.
          
          &lt;br&gt;&lt;br&gt;
          
          &lt;b&gt;Bonuses&lt;/b&gt; &lt;br&gt;
          @@color:forestgreen;2x Brothel Price@@ &lt;br&gt;
          @@color:forestgreen;2x General Appeal@@ &lt;br&gt;
          @@color:gray;Can Produce A Few Children Before Aging@@ &lt;br&gt;
          @@color:red;2x Slave Price@@ &lt;br&gt;
        
        &lt;&lt;case &quot;Adult&quot;&gt;&gt;
          Adults don&#39;t cost as much as young adults but they don&#39;t have the same appeal as them either. Adults a middling when it comes to slave value but the one aspect they excel at is having a lot of children before they age into maturity. Adults make for decent breeding stock at cheaper prices than young adults.
        
        &lt;br&gt;&lt;br&gt;
        
        &lt;b&gt;Bonuses&lt;/b&gt; &lt;br&gt;
        @@color:forestgreen;Can Produce A Lot of Children Before Aging@@ &lt;br&gt;
        @@color:gray;1x Brothel Price@@ &lt;br&gt;
        @@color:gray;1x General Appeal@@ &lt;br&gt;
        @@color:gray;1x Slave Price@@ &lt;br&gt;
        
        &lt;&lt;case &quot;Mature&quot;&gt;&gt;
          Mature slaves have very little value to anyone. They can&#39;t breed, don&#39;t have good enough appeal to bring in large numbers of people at places such as brothels but they are priced appropriately. These slaves are great for starting any business (unless you&#39;re in the business of breeding) and getting a good incoming going before you need to replace them.
        
        &lt;br&gt;&lt;br&gt;
        
        &lt;b&gt;Bonuses&lt;/b&gt; &lt;br&gt;
        @@color:forestgreen;0.67x Slave Price@@ &lt;br&gt;
        @@color:red;0.67x Brothel Price@@ &lt;br&gt;
        @@color:red;0.67x General Appeal@@ &lt;br&gt;
        @@color:red;Cannot Produce Children@@ &lt;br&gt;
      
      &lt;&lt;/switch&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;

  &lt;&lt;case &quot;Attributes&quot;&gt;&gt;
    &lt;tr&gt;&lt;td class = &quot;compendium&quot;&gt;&lt;center&gt;
      The three main attributes for slaves are Obedience, Trust and Fear. They affect slaves in almost every facet of the game; they determine whether they follow orders or not, they affect the type of events a character can get and they can even gate some of the positions they can gain such as procurer. 
      
      &lt;br&gt;
      &lt;&lt;for _t = 0; _t &lt; $compendium.attributes.length;_t++&gt;&gt;
        &lt;&lt;set _attribute = capitalizeSentence($compendium.attributes[_t])&gt;&gt;
        
        &lt;&lt;if $compendium.leaf != _attribute&gt;&gt;
          &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _attribute + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = &#39;&quot; + _attribute + &quot;&#39;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + $compendium.page  + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          _attribute
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _t != $compendium.attributes.length-1&gt;&gt; -- &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;&lt;/center&gt;
      
      &lt;&lt;if $compendium.leaf&gt;&gt;
        &lt;br&gt;&lt;b&gt;@@color:gray;$compendium.leaf@@&lt;/b&gt; &lt;br&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;switch $compendium.leaf&gt;&gt;
        &lt;&lt;case &quot;Obedience&quot;&gt;&gt;
        
        &lt;&lt;case &quot;Trust&quot;&gt;&gt;
        
        &lt;&lt;case &quot;Fear&quot;&gt;&gt;
      
      &lt;&lt;/switch&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;

  &lt;&lt;case &quot;Sexes&quot;&gt;&gt;
    &lt;tr&gt;&lt;td class = &quot;compendium&quot;&gt;&lt;center&gt;
      There are four main sexes, all of which have their own characteristics which affects a character&#39;s appearance in large ways. Male and female sexes are fairly popular, shemale sexed characters are rare and futanari sexed characters are extremely rare. The more rare the sex, the more expensive it is to buy a character with that characteristic.
      
      &lt;br&gt;
      &lt;&lt;for _t = 0; _t &lt; $compendium.sexes.length;_t++&gt;&gt;
        &lt;&lt;set _sex = capitalizeSentence($compendium.sexes[_t])&gt;&gt;
        
        &lt;&lt;if $compendium.leaf != _sex&gt;&gt;
          &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _sex + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = &#39;&quot; + _sex + &quot;&#39;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + $compendium.page  + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          _sex
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _t != $compendium.sexes.length-1&gt;&gt; -- &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;&lt;/center&gt;
      
      &lt;&lt;if $compendium.leaf&gt;&gt;
        &lt;br&gt;&lt;b&gt;&lt;&lt;gender &quot;Compendium&quot; $compendium.leaf&gt;&gt;&lt;/b&gt;&lt;br&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;switch $compendium.leaf&gt;&gt;
        &lt;&lt;case &quot;Male&quot;&gt;&gt;
          The male sex is one of the two staple sexes in the game. Physically, male sexed characters have a cock (measured in length and girth) and balls. All males produce cum naturally. Milk can be produced through the use of tonics but they will only be at half the quantity, quality and taste of someone with at least A-sized natural breasts. Typically if a male sexed character is male gendered they will be described using the secondary stats shoulders and torsos. If they are female gendered, they will be described using the secondary stats lips and hip.
          
        &lt;&lt;case &quot;Female&quot;&gt;&gt;
          The female sex is one of the two staple sexes in the game. Physically, female sexed characters have at least A-sized natural breasts, a clit and pussy. All females can produce milk naturally when pregnant or through the use of tonics. Elves naturally produce nectar but all women can produce nectar with the use of tonics. Typically if a female sexed character is female gendered they will be described using the secondary stats lips and hip. If they are male gendered, they will be described using the secondary stats shoulders and torso.
          
        &lt;&lt;case &quot;Shemale&quot;&gt;&gt;
          The shemale sex is a rare sex in the game. Physically, shemale sexed characters have a cock (measured in length and girth), balls and they have at least A-sized natural breasts. All shemales produce cum naturally. No shemale can produce milk naturally since they cannot get pregnant but they can through the use of tonics. If a shemale sexed character is male gendered they will be described using the secondary stats shoulders and torsos. If they are female gendered, they will be described using the secondary stats lips and hip.
        
        &lt;&lt;case &quot;Futanari&quot;&gt;&gt;
          The futanari sex is the most rare sex in the game. Physically, futanari sexed characters have a cock (measured in length and girth), balls, at least A-sized natural breasts, a clit and pussy. All futanari produce cum naturally. All futanari can produce milk naturally when pregnant or through the use of tonics. Elves naturally produce nectar but all futanari can produce nectar with the use of tonics. Typically if a futanari sexed character is female gendered they will be described using the secondary stats lips and hip. If they are male gendered, they will be described using the secondary stats shoulders and torso.
        
        &lt;&lt;case &quot;Transgender&quot;&gt;&gt;
          Transgender characters are male or female characters who are gendered opposite to their sex. This could be either completely naturally, or through slave training. This can be changed through slave training or with the use of transformation tonics. If a character is female gendered they will be described using the secondary stats lips and hip. If they are male gendered, they will be described using the secondary stats shoulders and torso.
      
      &lt;&lt;/switch&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;

  &lt;&lt;case &quot;Titles&quot;&gt;&gt;
    &lt;tr&gt;&lt;td class = &quot;compendium&quot;&gt;&lt;center&gt;
      Titles are gained in a number of ways but the most prevalent one is through training. Common titles grant unique bonuses and higher level titles grant stronger bonuses and/or multiple bonuses. Gathering titles with almost guarantee unlocking higher level titles, but some titles can&#39;t be held at the same time so as soon you start training for one title, you may lose another.
      
      &lt;br&gt;
      &lt;&lt;for _t = 0; _t &lt; $compendium.titles.length;_t++&gt;&gt;
        &lt;&lt;set _title = capitalizeSentence($compendium.titles[_t])&gt;&gt;
        
        &lt;&lt;if $compendium.leaf != _title&gt;&gt;
          &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _title + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = &#39;&quot; + _title + &quot;&#39;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + $compendium.page  + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          _title
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _t != $compendium.titles.length-1&gt;&gt; -- &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;&lt;/center&gt;
      
      &lt;&lt;if $compendium.leaf&gt;&gt;
        &lt;br&gt;&lt;b&gt;@@color:gray;$compendium.leaf@@&lt;/b&gt; &lt;br&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;switch $compendium.leaf&gt;&gt;
        &lt;&lt;case &quot;Common&quot;&gt;&gt;
        
        &lt;&lt;case &quot;Uncommon&quot;&gt;&gt;
        
        &lt;&lt;case &quot;Unique&quot;&gt;&gt;
        
        &lt;&lt;case &quot;Rare&quot;&gt;&gt;
        
        &lt;&lt;case &quot;Special&quot;&gt;&gt;
      
      &lt;&lt;/switch&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;
    
  &lt;&lt;case &quot;Codes&quot;&gt;&gt;
    &lt;tr&gt;&lt;td class = &quot;compendium&quot;&gt;&lt;center&gt;
      Codes can be input in the spellbook anytime while at the main screen. Once used these codes will unlock a compendium page stating their exact effects while recording them for you to use at any time. Some codes require more than the main screen to be used. Codes with a checkmark next to them are currently active.
      &lt;br&gt;
      
      &lt;&lt;for _t = 0; _t &lt; $compendium.codes.length;_t++&gt;&gt;
        &lt;&lt;set _code = $compendium.codes[_t]&gt;&gt;
        
        &lt;&lt;if $compendium.leaf != _code&gt;&gt;
          &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _code + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = &#39;&quot; + _code + &quot;&#39;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + $compendium.page  + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          _code
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if $cheats.contains(_code)&gt;&gt;
          &lt;b&gt;@@color:gray;[✓]@@&lt;/b&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _t != $compendium.codes.length-1&gt;&gt; -- &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;&lt;/center&gt;
      
      &lt;&lt;if $compendium.leaf&gt;&gt;
        &lt;br&gt;&lt;b&gt;@@color:mediumslateblue;$compendium.leaf@@&lt;/b&gt;
        
        &lt;&lt;if $cheats.contains($compendium.code)&gt;&gt;
          &lt;b&gt;@@color:gray;[TOGGLED]@@&lt;/b&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;br&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;switch $compendium.leaf&gt;&gt;
        &lt;&lt;case &quot;energyWell&quot;&gt;&gt;
          An energy cheat. While this cheat is toggled both slaves and the player will not lose any energy from taking any actions during the week.
        
        &lt;&lt;case &quot;goldHoard&quot;&gt;&gt;
          A gold cheat. This cheat will grant the player @@color:lightgreen;💎100,000@@ gold every time its input.
          
        &lt;&lt;case &quot;healthSustain&quot;&gt;&gt;
          A health cheat. While this cheat is toggle both slaves and the player will remain at 100 health and 0 fatigue regardless of their job.
        
        &lt;&lt;case &quot;moodBlockers&quot;&gt;&gt;
          A mood cheat. While this cheat is active slaves will not drop below @@color:yellow;moderate@@ moods but they can still have their moods raised.
          
        &lt;&lt;case &quot;npcUnlimited&quot;&gt;&gt;
          A sexual stamina cheat. While this cheat is active sexual partners will not lose any sexual stamina during sexual activities.
          
        &lt;&lt;case &quot;perfectCharacter&quot;&gt;&gt;
          A character creation cheat. While this cheat is active you are granted infinite attribute points to customize your character during the creation process.
          
        &lt;&lt;case &quot;playerUnlimited&quot;&gt;&gt;
          A sexual stamina cheat. While this cheat is active you will not lose any sexual stamina during sexual activities.
        
        &lt;&lt;case &quot;spaDay&quot;&gt;&gt;
          An restoration cheat. This cheat will restore both a slave&#39;s stamina and their health anytime its input while they&#39;re being inspected.
        
        &lt;&lt;case &quot;trueOrc&quot;&gt;&gt;
          An restoration cheat. This cheat will restore the player&#39;s energy to the maximum anytime its input.
          
      &lt;&lt;/switch&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;
    
  &lt;&lt;case &quot;Moods&quot;&gt;&gt;
    &lt;tr&gt;&lt;td class = &quot;compendium&quot;&gt;&lt;center&gt;
      There are four different mood trees (anxiety, happiness, sanity &amp; serenity) that affect a slave&#39;s obedience, trust and fear. Depending on the mood they could increase or decrease these attributes drastically. Moods change frequently because of events and actions. Moods are affected by a slave&#39;s &lt;&lt;link &quot;nature&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Natures&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = null&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;.
      
      &lt;br&gt;
      &lt;&lt;for _t = 0; _t &lt; $compendium.moods.length;_t++&gt;&gt;
        &lt;&lt;set _mood = capitalizeSentence($compendium.moods[_t])&gt;&gt;
        
        &lt;&lt;if $compendium.leaf != _mood&gt;&gt;
          &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _mood + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = &#39;&quot; + _mood + &quot;&#39;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + $compendium.page  + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          _mood
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _t != $compendium.moods.length-1&gt;&gt; -- &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;&lt;/center&gt;
      
      &lt;&lt;if $compendium.leaf&gt;&gt;
        &lt;br&gt;&lt;b&gt;@@color:forestgreen;$compendium.leaf@@&lt;/b&gt; &lt;br&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;switch $compendium.leaf&gt;&gt;
        &lt;&lt;case &quot;Anxiety&quot;&gt;&gt;
          The anxiety mood tree will affect a slave&#39;s fear and it can affect a slave&#39;s trust. The better a slave&#39;s anxiety levels, the less they will fear you and the more they may possibly trust you. On the other hand if a slave&#39;s anxiety level is very poor they will fear you more and possible lose trust in you.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:forestgreen;Tranquil@@ slaves have @@color:forestgreen;greatly decreased fear of you@@ and @@color:greenyellow;increased trust in you.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:greenyellow;Unworried@@ slaves have @@color:greenyellow;decreased fear of you.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:yellow;Relaxed@@ slaves have no change in obedience, trust or fear.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:orange;Tense@@ slaves have @@color:orange;increased fear of you.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:red;Distressed@@ slaves have @@color:red;greatly increased fear of you@@ and have @@color:orange;decreased trust in you.@@
        
        &lt;&lt;case &quot;Happiness&quot;&gt;&gt;
          The happiness mood tree will affect a slave&#39;s obedience and it can affect a slave&#39;s fear. The more happy a slave is, the more obedient they will be and may fear you less. Unhappy slaves will be very disobedient which may be amplified if they&#39;re so unhappy they fear you more than normal.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:forestgreen;Estatic@@ slaves have @@color:forestgreen;greatly increased obedience@@ and have @@color:greenyellow;lowered fear of you@@.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:greenyellow;Happy@@ slaves have @@color:greenyellow;increased obedience.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:yellow;Content@@ slaves has no change in obedience, trust or fear.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:orange;Depressed@@ slaves have @@color:orange;decreased obedience.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:red;Melancholic@@ slaves have @@color:red;greatly decreased obedience@@ and have @@color:orange;increased fear of you.@@
        
        &lt;&lt;case &quot;Sanity&quot;&gt;&gt;
          The sanity mood tree will affect a slave&#39;s obedience, trust and fear. If a slave enters this tree you must care to better its condition unless you want a broken slave. A slave who has lost their sanity will follow every order you give them but they won&#39;t be able to learn any new skills or improve on the ones they have. Its hard to rehabilitate a broken slave but it can be done by treating them properly for an extended period of time.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:forestgreen;Sane@@ slaves will change from the sanity scale to either the happiness, serenity or anxiety scale if they remain sane for long enough.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:greenyellow;Stable@@ slaves don&#39;t has not had any negative effects on obedience, trust and fear but if sanity continues to plummet, they will be negatively affected.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:yellow;Unhinged@@ slaves have @@color:orange;decreased trust in you and obedience@@ and have @@color:orange;increased fear of you.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:orange;Psychotic@@ slaves have @@color:red;greatly decreased trust in you and obedience@@ and have @@color:red;greatly increased fear of you.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:red;Mindbroken@@ slaves have @@color:forestgreen;maxed out obedience@@, @@color:red;mistrust and fear of you.@@ They will not learn any new skills or improve upon them.
          
        &lt;&lt;case &quot;Serenity&quot;&gt;&gt;
          The serenity mood tree will affect a slave&#39;s trust and can affect a slave&#39;s obedience. Being serene will allow a slave to garner a lot of trust for you and will possibly increase their obedience. An angry slave will have weakened trust for you to the point they may end up disobedient.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:forestgreen;Serene@@ slaves has maximized humility, @@color:forestgreen;grealty increasing trust@@ and has also @@color:greenyellow;increased obedience.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:greenyellow;Composed@@ slaves have @@color:greenyellow;increased trust.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:yellow;Calm@@ slaves has no change in obedience, trust or fear.
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:orange;Angry@@ slaves have @@color:orange;decreased trust in you.@@
          
          &lt;br&gt;&lt;br&gt;
          
          @@color:red;Furious@@ slaves have @@color:red;greatly decreases trust in you@@ and have @@color:orange;decreased obedience@@.
      &lt;&lt;/switch&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;
      
  &lt;&lt;case &quot;Natures&quot;&gt;&gt;
    &lt;tr&gt;&lt;td class = &quot;compendium&quot;&gt;&lt;center&gt;
      Natures mainly affect which mood trees a slave will fall into most often, which in turn affects which boosts/nerfs they will naturally receive. Natures also affect how fast a slave can climb/fall down a mood tree. Events can still knock a slave into another mood tree but they will fall into their assigned trees naturally with time.
      &lt;br&gt;
      &lt;&lt;for _t = 0; _t &lt; $compendium.natures.length;_t++&gt;&gt;
        &lt;&lt;set _nature = capitalizeSentence($compendium.natures[_t])&gt;&gt;
        
        &lt;&lt;if $compendium.leaf != _nature&gt;&gt;
          &lt;&lt;print &quot;&lt;&lt;link &#39;&quot; + _nature + &quot;&#39;&gt;&gt;&lt;&lt;set $compendium.leaf = &#39;&quot; + _nature + &quot;&#39;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium &#39;&quot; + $compendium.page  + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          _nature
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _t != $compendium.natures.length-1&gt;&gt; -- &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;&lt;/center&gt;
      
      &lt;&lt;if $compendium.leaf&gt;&gt;
        &lt;br&gt;&lt;b&gt;@@color:gray;$compendium.leaf@@&lt;/b&gt; &lt;br&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;switch $compendium.leaf&gt;&gt;
        &lt;&lt;case &quot;Dandere&quot;&gt;&gt;
          Dandere slaves are usually very quiet, reserved or outright shy. Their natural trees are &lt;&lt;link &quot;Happiness&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Happiness&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt; and &lt;&lt;link &quot;Anxiety&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Anxiety&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Sanity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Sanity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:red;Sanity gains are halved.@@&lt;br&gt;
          @@color:red;Sanity loses are doubled.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Happiness&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Happiness&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:forestgreen;Happiness gains are doubled.@@&lt;br&gt;
          @@color:forestgreen;Happiness loses are halved.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Serenity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Serenity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:gray;Serenity gains are normal.@@&lt;br&gt;
          @@color:forestgreen;Serenity loses are halved.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Anxiety&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Anxiety&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:forestgreen;Anxiety gains are doubled.@@&lt;br&gt;
          @@color:red;Anxiety loses are doubled.@@
        
        &lt;&lt;case &quot;Himedere&quot;&gt;&gt;
          Himedere slaves are very pretentious. Their natural trees are &lt;&lt;link &quot;Happiness&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Happiness&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;, &lt;&lt;link &quot;Serenity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Serenity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt; and &lt;&lt;link &quot;Anxiety&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Anxiety&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Sanity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Sanity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:forestgreen;Sanity gains are doubled.@@&lt;br&gt;
          @@color:red;Sanity loses are doubled.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Happiness&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Happiness&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:gray;Happiness gains are normal.@@&lt;br&gt;
          @@color:gray;Happiness loses are normal.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Serenity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Serenity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:red;Serenity gains are halved.@@&lt;br&gt;
          @@color:gray;Serenity loses are normal.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Anxiety&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Anxiety&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:red;Anxiety gains are halved.@@&lt;br&gt;
          @@color:forestgreen;Anxiety loses are halved.@@
          
        &lt;&lt;case &quot;Kuudere&quot;&gt;&gt;
          Kuudere slaves are usually cold towards others and have cynical worldviews. Their natural trees are &lt;&lt;link &quot;Anxiety&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Anxiety&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt; and &lt;&lt;link &quot;Serenity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Serenity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Sanity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Sanity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:gray;Sanity gains are normal.@@&lt;br&gt;
          @@color:forestgreen;Sanity loses are halved.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Happiness&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Happiness&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:red;Happiness gains are halved.@@&lt;br&gt;
          @@color:red;Happiness loses are doubled.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Serenity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Serenity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:gray;Serenity gains are normal.@@&lt;br&gt;
          @@color:red;Serenity loses are doubled.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Anxiety&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Anxiety&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:gray;Anxiety gains are normal.@@&lt;br&gt;
          @@color:gray;Anxiety loses are normal.@@
        
        &lt;&lt;case &quot;Tsundere&quot;&gt;&gt;
          Tsundere characters can be very sweet one moment and completely indignant a moment later. Their natural trees are &lt;&lt;link &quot;Serenity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Serenity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt; and &lt;&lt;link &quot;Happiness&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Happiness&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;.
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Sanity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Sanity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:gray;Sanity gains are normal.@@&lt;br&gt;
          @@color:forestgreen;Sanity loses are halved.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Happiness&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Happiness&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:forestgreen;Happiness gains are doubled.@@&lt;br&gt;
          @@color:red;Happiness loses are doubled.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Serenity&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Serenity&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:forestgreen;Serenity gains are doubled.@@&lt;br&gt;
          @@color:red;Serenity loses are doubled.@@
          
          &lt;br&gt;&lt;br&gt;
          &lt;b&gt;&lt;&lt;link &quot;Anxiety&quot;&gt;&gt;&lt;&lt;set $compendium.page = &quot;Moods&quot;&gt;&gt;&lt;&lt;set $compendium.leaf = &quot;Anxiety&quot;&gt;&gt;&lt;&lt;replace &#39;#info&#39;&gt;&gt;&lt;&lt;compendium $compendium.page&gt;&gt;&lt;&lt;/replace&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/b&gt;
          &lt;br&gt;
          @@color:gray;Anxiety gains are normal.@@&lt;br&gt;
          @@color:gray;Anxiety loses are normal.@@
          
      &lt;&lt;/switch&gt;&gt;
    &lt;/td&gt;&lt;/tr&gt;

&lt;&lt;/switch&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="348" name="Appended Links Widget" tags="nobr widget" position="1880,570" size="100,100">&lt;&lt;widget &quot;appendLink&quot;&gt;&gt;
  &lt;&lt;switch $args[0]&gt;&gt;
    &lt;&lt;case &quot;SexContinue&quot;&gt;&gt;
      &lt;&lt;if $sex.stage &gt; 1&gt;&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;&lt;link &quot;Take a break.&quot;&gt;&gt;
          &lt;&lt;run increaseStage(&quot;round&quot;)&gt;&gt;
          &lt;&lt;run sexBreak()&gt;&gt;
          
          &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, &quot;break&quot;, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
          &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
          &lt;&lt;replace &#39;#SexPosition&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexPosition&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
          &lt;&lt;replace &#39;#SexActor&#39; t8n&gt;&gt;&lt;&lt;appendLink &#39;SexActor&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
          &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
          &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if getStamina($sex.action.primary.current, _actor, _patient) &amp;&amp; $sex.action.primary.current&gt;&gt;
        &lt;br&gt;&lt;span id=&quot;ctrlAct&quot;&gt;
        &lt;&lt;capture $sex, _actor, _patient&gt;&gt;&lt;&lt;link &quot;Continue. [CTRL]&quot;&gt;&gt;
          &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
          &lt;&lt;run increaseStage()&gt;&gt;
          
          &lt;&lt;if $PC.pregnancy.type &amp;&amp; _actor.combat.arousal.current == _actor.combat.arousal.max &amp;&amp; $sex.action.primary.current == &quot;cocksex&quot;&gt;&gt;
            &lt;&lt;set _mother = _patient&gt;&gt;
            &lt;&lt;set _partner = _actor&gt;&gt;
            &lt;&lt;breeding&gt;&gt;
     
            &lt;&lt;if _progeny&gt;&gt;
              &lt;&lt;set $sex.text[_mother.ID] = &quot;&lt;b&gt;@@color:forestgreen;[Impregnated: &lt;&lt;print &#39;&quot; + pronouns(&#39;Name&#39;, _mother) + &quot;&#39;&gt;&gt;]@@&lt;/b&gt;&lt;br&gt;&lt;&lt;print &#39;&quot; + pronouns(&#39;Name&#39;, _mother) + &quot;&#39;&gt;&gt; &lt;&lt;print &#39;&quot; + pronouns(&#39;has&#39;, _mother) + &quot;&#39;&gt;&gt; been impregnated by &lt;&lt;print &#39;&quot; + pronouns(&#39;name&#39;, _partner) + &quot;&#39;&gt;&gt;.&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
              
     
              &lt;&lt;set _patient.pregnancy.child.push(_progeny)&gt;&gt;
              
              &lt;&lt;if _patient.ID != $PC.ID&gt;&gt;
               &lt;&lt;set _patient.pregnancy.type == $PC.pregnancy.type&gt;&gt;
              &lt;&lt;/if&gt;&gt;
     
              &lt;&lt;if _patient.pregnancy.child.length &gt; 1&gt;&gt;
                &lt;&lt;set _patient.pregnancy.duration += 2&gt;&gt;
     
              &lt;&lt;elseif _patient.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
                &lt;&lt;set _patient.pregnancy.duration = 16&gt;&gt;
     
              &lt;&lt;else&gt;&gt;
                &lt;&lt;set _patient.pregnancy.duration = 8&gt;&gt;
     
              &lt;&lt;/if&gt;&gt;
     
              &lt;&lt;set _progeny = null&gt;&gt;
            &lt;&lt;/if&gt;&gt;
     
          &lt;&lt;/if&gt;&gt;
          
      		&lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
      		
      		&lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
      		
      		&lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
      		&lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
      		&lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
      	&lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
        &lt;/span&gt;
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;SexPosition&quot;&gt;&gt;
      &lt;&lt;set _positions = [&quot;Laying Down&quot;, &quot;All Fours&quot;, &quot;Standing&quot;, &quot;Riding&quot;, &quot;Kneeling&quot;, &quot;Faceoff&quot;]&gt;&gt;
      
      &lt;&lt;for _i = 0; _i &lt; _positions.length; _i++&gt;&gt;
        &lt;&lt;set _position = _positions[_i]&gt;&gt;
        
        &lt;&lt;if _position == $sex.position.current&gt;&gt;
          _position
          
        &lt;&lt;else&gt;&gt;
          &lt;&lt;capture _position&gt;&gt;&lt;&lt;link &quot;_position&quot;&gt;&gt;
            &lt;&lt;set $sex.position.current = _position&gt;&gt;
            &lt;&lt;replace &#39;#SexPosition&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexPosition&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
            &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
            &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
          &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
        
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if _i &lt; _positions.length-1&gt;&gt;
          --
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/for&gt;&gt;
      
      
    &lt;&lt;case &quot;SexActor&quot;&gt;&gt;
      &lt;&lt;set _actor = getSlave($sex.position.actor)&gt;&gt;
      &lt;&lt;capture _actor, _newactor&gt;&gt;&lt;&lt;link &quot;_actor.name&quot;&gt;&gt;
        &lt;&lt;for _i = 0; _i &lt; $sex.partners.length; _i++&gt;&gt;
          &lt;&lt;set _newactor = $sex.partners[_i]&gt;&gt;
      
          &lt;&lt;if _actor.ID != _newactor&gt;&gt;
            &lt;&lt;set $sex.position.actor = _newactor&gt;&gt;
          
          &lt;&lt;else&gt;&gt;
            &lt;&lt;set $sex.position.patient = _newactor&gt;&gt;
            
          &lt;&lt;/if&gt;&gt;
          
        &lt;&lt;/for&gt;&gt;
        
        &lt;&lt;replace &#39;#SexActor&#39; t8n&gt;&gt;&lt;&lt;appendLink &#39;SexActor&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
        &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
        &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
    
    &lt;&lt;case &quot;SexStats&quot;&gt;&gt;
      &lt;table class=&#39;inventory&#39; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
        &lt;tr&gt;
        &lt;th class = &#39;listing&#39; colspan = 20&gt;Round $sex.round-$sex.stage&lt;/th&gt;
        &lt;th class = &#39;listing&#39; colspan = 40&gt;Stamina&lt;/th&gt;
        &lt;th class = &#39;listing&#39; colspan = 20&gt;Libido&lt;/th&gt;
        &lt;th class = &#39;listing&#39; colspan = 20&gt;Arousal&lt;/th&gt;
        &lt;th class = &#39;listing&#39; colspan = 20&gt;Stimulation&lt;/th&gt;
        &lt;/tr&gt;
        
        &lt;&lt;for _p = 0; _p &lt; $sex.partners.length;_p++&gt;&gt;
          &lt;&lt;set _participant = getSlave($sex.partners[_p])&gt;&gt;
          
          &lt;tr&gt;
          &lt;td class = &#39;noborder&#39; colspan = 20&gt;_participant.name &lt;&lt;gender _sexPartner.sex _sexPartner.gender&gt;&gt;&lt;/td&gt;
          &lt;td class = &#39;noborder&#39; colspan = 40&gt;&lt;&lt;combatbar _participant.combat.stamina.current _participant.combat.stamina.max &#39;large&#39;&gt;&gt;&lt;/td&gt;
          &lt;td class = &#39;noborder&#39; colspan = 20&gt;&lt;&lt;combatbar _participant.combat.libido.current _participant.combat.libido.max&gt;&gt;&lt;/td&gt;
          &lt;&lt;if _participant.combat.arousal.current == _participant.combat.arousal.max-1&gt;&gt;
            &lt;td class = &#39;noborder&#39; colspan = 20&gt;&lt;&lt;combatbar 100 100&gt;&gt;&lt;/td&gt;
          &lt;&lt;else&gt;&gt;
            &lt;td class = &#39;noborder&#39; colspan = 20&gt;&lt;&lt;combatbar _participant.combat.arousal.current _participant.combat.arousal.max&gt;&gt;&lt;/td&gt;
          &lt;&lt;/if&gt;&gt;
          &lt;td class = &#39;noborder&#39; colspan = 20&gt;&lt;&lt;print getStat(&quot;Stimulation&quot;, _participant.combat.stimulation, &quot;bold&quot;)&gt;&gt;&lt;/td&gt;
          &lt;/tr&gt;
          
        &lt;&lt;/for&gt;&gt;
        
      &lt;/table&gt;
      
    &lt;&lt;case &quot;Sex&quot;&gt;&gt;
      &lt;&lt;set _sexPartner = getSlave($args[2])&gt;&gt;
      
      &lt;&lt;switch $args[1]&gt;&gt;
        &lt;&lt;case &quot;Character&quot;&gt;&gt;
          &lt;&lt;if $PC.ID != _sexPartner.ID&gt;&gt;
            &lt;&lt;displayTitle _sexPartner.title &#39;Main Menu&#39;&gt;&gt;&lt;&lt;race _sexPartner.tribe &#39;Main Menu&#39;&gt;&gt; [[amendString(_sexPartner.name)|Slave Description][$activeCharacter = _sexPartner]] &lt;&lt;gender _sexPartner.sex _sexPartner.gender&gt;&gt;
          
          &lt;&lt;else&gt;&gt;
            &lt;&lt;race _sexPartner.tribe &#39;Main Menu&#39;&gt;&gt; [[amendString(_sexPartner.name)|Status]] &lt;&lt;gender _sexPartner.sex _sexPartner.gender&gt;&gt;
          
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;case &quot;State&quot;&gt;&gt;
      
        &lt;&lt;case &quot;Experience&quot;&gt;&gt;
          &lt;&lt;set _prowess = _sexPartner.stats.manual + _sexPartner.stats.oral + _sexPartner.stats.mammary + _sexPartner.stats.vanilla + _sexPartner.stats.anal&gt;&gt;
          
          &lt;&lt;if _prowess == 300&gt;&gt;
            @@color:darkturquoise;Guru@@
          
          &lt;&lt;elseif _prowess &gt;= 240&gt;&gt;
            @@color:forestgreen;Experienced@@
          
          &lt;&lt;elseif _prowess &gt;= 180&gt;&gt;
            @@color:greenyellow;Skilled@@
          
          &lt;&lt;elseif _prowess &gt;= 120&gt;&gt;
            @@color:yellow;Proficient@@
          
          &lt;&lt;elseif _prowess &gt;= 60&gt;&gt;
            @@color:orange;Amateur@@
          
          &lt;&lt;else&gt;&gt;
            @@color:red;Inexperienced@@
            
          &lt;&lt;/if&gt;&gt;
          
        &lt;&lt;case &quot;Stamina&quot;&gt;&gt;
          &lt;&lt;set _stamina = _sexPartner.sexual.stamina.current&gt;&gt;
          
          &lt;&lt;if _stamina == 6&gt;&gt;
            @@color:darkturquoise;Overflowing@@
          
          &lt;&lt;elseif _stamina == 5&gt;&gt;
            @@color:forestgreen;Enormous@@
          
          &lt;&lt;elseif _stamina == 4&gt;&gt;
            @@color:greenyellow;Adequate@@
          
          &lt;&lt;elseif _stamina == 3&gt;&gt;
            @@color:yellow;Decent@@
          
          &lt;&lt;elseif _stamina == 2&gt;&gt;
            @@color:orange;Poor@@
          
          &lt;&lt;else&gt;&gt;
            @@color:red;Lethargic@@
            
          &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;case &quot;Libido&quot;&gt;&gt;
          &lt;&lt;set _libido = _sexPartner.sexual.libido.current&gt;&gt;
          
          &lt;&lt;if _libido == 6&gt;&gt;
            @@color:darkturquoise;Excessive@@
          
          &lt;&lt;elseif _libido == 5&gt;&gt;
            @@color:forestgreen;Vigorous@@
          
          &lt;&lt;elseif _libido == 4&gt;&gt;
            @@color:greenyellow;Robust@@
          
          &lt;&lt;elseif _libido == 3&gt;&gt;
            @@color:yellow;Modest@@
          
          &lt;&lt;elseif _libido == 2&gt;&gt;
            @@color:orange;Meager@@
          
          &lt;&lt;else&gt;&gt;
            @@color:red;Impotent@@
            
          &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;case &quot;Strength&quot;&gt;&gt;
          &lt;&lt;set _strength = _sexPartner.sexual.strength.current&gt;&gt;
          
          &lt;&lt;if _strength == 6&gt;&gt;
            @@color:darkturquoise;Mighty@@
          
          &lt;&lt;elseif _strength == 5&gt;&gt;
            @@color:forestgreen;Powerful@@
          
          &lt;&lt;elseif _strength == 4&gt;&gt;
            @@color:greenyellow;Strong@@
          
          &lt;&lt;elseif _strength == 3&gt;&gt;
            @@color:yellow;Mediocre@@
          
          &lt;&lt;elseif _strength == 2&gt;&gt;
            @@color:orange;Frail@@
          
          &lt;&lt;else&gt;&gt;
            @@color:red;Infirm@@
            
          &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;case &quot;Speed&quot;&gt;&gt;
          &lt;&lt;set _speed = _sexPartner.sexual.speed.current&gt;&gt;
          
          &lt;&lt;if _speed == 6&gt;&gt;
            @@color:darkturquoise;Dexterous@@
          
          &lt;&lt;elseif _speed == 5&gt;&gt;
            @@color:forestgreen;Agile@@
          
          &lt;&lt;elseif _speed == 4&gt;&gt;
            @@color:greenyellow;Limber@@
          
          &lt;&lt;elseif _speed == 3&gt;&gt;
            @@color:yellow;Average@@
          
          &lt;&lt;elseif _speed == 2&gt;&gt;
            @@color:orange;Sluggish@@
          
          &lt;&lt;else&gt;&gt;
            @@color:red;Sedentary@@
            
          &lt;&lt;/if&gt;&gt;
      &lt;&lt;/switch&gt;&gt;
    
    &lt;&lt;case &quot;DisciplineV&quot;&gt;&gt;
      &lt;&lt;set _disciplines = [&quot;Obedience Training&quot;, &quot;Sex Education&quot;, &quot;Dominance&quot;, &quot;Submission&quot;, &quot;Cattling&quot;]&gt;&gt;
      &lt;&lt;set _rewards = [&quot;Promise&quot;, &quot;Encourage&quot;, &quot;Praise&quot;, &quot;Caress&quot;, &quot;Coddle&quot;, &quot;Massage&quot;]&gt;&gt;
      &lt;&lt;set _punishments = [&quot;Threaten&quot;, &quot;Adminish&quot;, &quot;Scold&quot;, &quot;Slap&quot;, &quot;Spank&quot;, &quot;Beat&quot;]&gt;&gt;
      &lt;&lt;set _student = getSlave($args[2])&gt;&gt;
      &lt;&lt;set _studentNumber = getSlave($args[2], &quot;number&quot;)&gt;&gt;
      &lt;&lt;set _trainer = getSlave(_student.training.trainer)&gt;&gt;
      
      &lt;&lt;if [&quot;male&quot;].contains(_student.gender)&gt;&gt;
        &lt;&lt;set _disciplines.push(&quot;Feminization&quot;, &quot;Masculinity&quot;, &quot;Chivalry&quot;)&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if [&quot;female&quot;].contains(_student.gender)&gt;&gt;
        &lt;&lt;set _disciplines.push(&quot;Strumpetry&quot;, &quot;Femininity&quot;, &quot;Masculinization&quot;)&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $estate.facilities.training.permit&gt;&gt;
        &lt;&lt;set _rewards.push(&quot;Walk&quot;, &quot;Play&quot;, &quot;Spa&quot;)&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $estate.facilities.training.implements&gt;&gt;
        &lt;&lt;set _punishments.push(&quot;Paddle&quot;, &quot;Cane&quot;, &quot;Whip&quot;)&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $estate.facilities.training.permit == 2&gt;&gt;
        &lt;&lt;set _punishments.push(&quot;Naked Walk&quot;, &quot;Public Mouth&quot;, &quot;Public Toilet&quot;)&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $estate.facilities.training.bedding&gt;&gt;
        &lt;&lt;set _rewards.push(&quot;Sensual Kissing&quot;, &quot;Manual Release&quot;, &quot;Oral Release&quot;)&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;capture _student&gt;&gt;
      &lt;&lt;if $args[1] == &quot;Character&quot;&gt;&gt;
        &lt;&lt;displayTitle _student.title &#39;Main Menu&#39;&gt;&gt;&lt;&lt;race _student.tribe &#39;Main Menu&#39;&gt;&gt; [[amendString(_student.name)|Slave Description][$activeCharacter = _student]] &lt;&lt;gender _student.sex _student.gender&gt;&gt;
        
        &lt;&lt;if _currentStudent != _student.ID&gt;&gt;      
          &lt;&lt;link &quot;⮟&quot;&gt;&gt;
            &lt;&lt;if _currentStudent&gt;&gt;
              &lt;&lt;set _oldstudent = _currentStudent&gt;&gt;
              
            &lt;&lt;/if&gt;&gt;
          
            &lt;&lt;set _currentStudent = _student.ID&gt;&gt;
            
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVCharacter&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Character&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVProgress&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Progress&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVRewards&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Rewards&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVPunishments&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Punishments&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
            
            &lt;&lt;if _oldstudent&gt;&gt;
              &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVCharacter&quot; + _oldstudent + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Character&#39; &#39;&quot; + _oldstudent + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
              &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVProgress&quot; + _oldstudent + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Progress&#39; &#39;&quot; + _oldstudent + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
              &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVRewards&quot; + _oldstudent + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Rewards&#39; &#39;&quot; + _oldstudent + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
              &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVPunishments&quot; + _oldstudent + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Punishments&#39; &#39;&quot; + _oldstudent + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
              
              &lt;&lt;set _oldstudent = null&gt;&gt;
            &lt;&lt;/if&gt;&gt;
            
          &lt;&lt;/link&gt;&gt;
          
        &lt;&lt;else&gt;&gt;
          &lt;b&gt;&lt;&lt;link &quot;⮝&quot;&gt;&gt;&lt;/b&gt;
            &lt;&lt;set _currentStudent = null&gt;&gt;
            
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVCharacter&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Character&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVProgress&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Progress&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVRewards&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Rewards&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVPunishments&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Punishments&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
          
        &lt;&lt;/if&gt;&gt;
        
        &lt;b&gt;&lt;&lt;link &quot;❌&quot; &quot;Main Menu&quot;&gt;&gt;&lt;/b&gt;
          &lt;&lt;set _student.training = {trainer:null, discipline:null, reward:{}, punishment:{}}&gt;&gt;
          &lt;&lt;set _student.training.reward = {small:null, normal:null, large:null}&gt;&gt;
          &lt;&lt;set _student.training.punishment = {small:null, normal:null, large:null}&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      
      &lt;&lt;elseif $args[1] == &quot;Discipline&quot;&gt;&gt;
        &lt;&lt;listbox `&quot;$slaves[&quot; + _studentNumber + &quot;].training.discipline&quot;` autoselect&gt;&gt;
          &lt;&lt;optionsfrom _disciplines&gt;&gt;
        &lt;&lt;/listbox&gt;&gt;
        
      &lt;&lt;elseif $args[1] == &quot;Stats&quot;&gt;&gt;
        &lt;b&gt;&lt;&lt;print getObedience(_student.obedience.current)&gt;&gt; | &lt;&lt;print getTrust(_student.trust.current)&gt;&gt; | &lt;&lt;print getFear(_student.fear.current)&gt;&gt;&lt;/b&gt;
      
      &lt;&lt;elseif $args[1] == &quot;Progress&quot;&gt;&gt;
        &lt;&lt;print &quot;&lt;&lt;set _discipline = $slaves[&quot; + _studentNumber + &quot;].training.discipline&gt;&gt;&quot;&gt;&gt;
        &lt;&lt;switch _discipline&gt;&gt;
          &lt;&lt;case &quot;Obedience Training&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.obedience.base&gt;&gt;
            
          &lt;&lt;case &quot;Sex Education&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.manual + _student.stats.oral + _student.stats.mammary + _student.stats.vanilla + _student.stats.anal&gt;&gt;
          
          &lt;&lt;case &quot;Dominance&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.dominant&gt;&gt;
          
          &lt;&lt;case &quot;Submission&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.submissive&gt;&gt;
          
          &lt;&lt;case &quot;Feminization&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.sissification&gt;&gt;
          
          &lt;&lt;case &quot;Masculinity&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.masculinity&gt;&gt;
          
          &lt;&lt;case &quot;Femininity&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.femininity&gt;&gt;
          
          &lt;&lt;case &quot;Strumpetry&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.strumpetry&gt;&gt;
          
          &lt;&lt;case &quot;Masculinization&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.masculinization&gt;&gt;
          
          &lt;&lt;case &quot;Chivalry&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.chivalry&gt;&gt;
          
          &lt;&lt;case &quot;Cattling&quot;&gt;&gt;
            &lt;&lt;set _amount = _student.stats.breeding&gt;&gt;
          
        &lt;&lt;/switch&gt;&gt;
        
        &lt;&lt;if _amount != null&gt;&gt;
          &lt;&lt;if _discipline == &quot;Sex Education&quot;&gt;&gt;
            &lt;&lt;statbar _amount 500&gt;&gt;
          
          &lt;&lt;else&gt;&gt;
            &lt;&lt;statbar _amount 100&gt;&gt;
            
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;b&gt;&lt;&lt;link &quot;↻&quot;&gt;&gt;&lt;/b&gt;
          &lt;&lt;print &quot;&lt;&lt;replace &#39;#DVProgress&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;appendLink &#39;DisciplineV&#39; &#39;Progress&#39; &#39;&quot; + _student.ID + &quot;&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
          
        &lt;&lt;/link&gt;&gt;
      
      &lt;&lt;elseif $args[1] == &quot;Rewards&quot;&gt;&gt;
        &lt;&lt;if _currentStudent == _student.ID&gt;&gt;
          &lt;b&gt;Rewards&lt;/b&gt;&lt;br&gt;
          _student.name&#39;s reward for behaving satisfactory is; &lt;&lt;listbox `&quot;$slaves[&quot; + _studentNumber + &quot;].training.reward.small&quot;` autoselect&gt;&gt;&lt;&lt;optionsfrom _rewards&gt;&gt;&lt;&lt;/listbox&gt;&gt; &lt;br&gt; 
          _student.name&#39;s reward for being obedient is; &lt;&lt;listbox `&quot;$slaves[&quot; + _studentNumber + &quot;].training.reward.normal&quot;` autoselect&gt;&gt;&lt;&lt;optionsfrom _rewards&gt;&gt;&lt;&lt;/listbox&gt;&gt; &lt;br&gt;
          _student.name&#39;s reward for being disciplined is; &lt;&lt;listbox `&quot;$slaves[&quot; + _studentNumber + &quot;].training.reward.large&quot;` autoselect&gt;&gt;&lt;&lt;optionsfrom _rewards&gt;&gt;&lt;&lt;/listbox&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;elseif $args[1] == &quot;Punishments&quot;&gt;&gt;
        &lt;&lt;if _currentStudent == _student.ID&gt;&gt;
          &lt;b&gt;Punishments&lt;/b&gt;&lt;br&gt;
          _student.name&#39;s punishment for ignoring orders is; &lt;&lt;listbox `&quot;$slaves[&quot; + _studentNumber + &quot;].training.punishment.small&quot;` autoselect&gt;&gt;&lt;&lt;optionsfrom _punishments&gt;&gt;&lt;&lt;/listbox&gt;&gt; &lt;br&gt;
          _student.name&#39;s punishment for being disrespectful is; &lt;&lt;listbox `&quot;$slaves[&quot; + _studentNumber + &quot;].training.punishment.normal&quot;` autoselect&gt;&gt;&lt;&lt;optionsfrom _punishments&gt;&gt;&lt;&lt;/listbox&gt;&gt; &lt;br&gt;
          _student.name&#39;s punishment for being combative is; &lt;&lt;listbox `&quot;$slaves[&quot; + _studentNumber + &quot;].training.punishment.large&quot;` autoselect&gt;&gt;&lt;&lt;optionsfrom _punishments&gt;&gt;&lt;&lt;/listbox&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      &lt;&lt;/capture&gt;&gt;
      
    &lt;&lt;case &quot;DisciplineW&quot;&gt;&gt;      
      &lt;&lt;if $args[1] == &quot;PLAYER&quot;&gt;&gt;
        &lt;&lt;set _character = $PC&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _character = getSlave($args[1])&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;set _index = $estate.facilities.training.trainers.indexOf($args[1])&gt;&gt;
      &lt;&lt;capture _index, _character&gt;&gt;&lt;&lt;link &quot;Dismiss&quot; &quot;Main Menu&quot;&gt;&gt;
        &lt;&lt;set _character.assignment = &quot;rest&quot;&gt;&gt;
        &lt;&lt;set $estate.facilities.training.trainers.splice(_index, 1)&gt;&gt;
        
        &lt;&lt;for _dS = 1; _dS &lt;= $slaves.amount; _dS++&gt;&gt;
          &lt;&lt;set _dismissedSlave = $slaves[_dS]&gt;&gt;
          
          &lt;&lt;if _dismissedSlave.training.trainer == _character.ID&gt;&gt;
            &lt;&lt;set _dismissedSlave.training = {trainer:null, discipline:{}, reward:{}, punishment:null}&gt;&gt;
            &lt;&lt;set _dismissedSlave.training.reward = {small:null, normal:null, large:null}&gt;&gt;
            &lt;&lt;set _dismissedSlave.training.punishment = {small:null, normal:null, large:null}&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/for&gt;&gt;
      &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt; _character.name as a trainer.
      
      &lt;&lt;set _students = [null]&gt;&gt;
      &lt;&lt;set _capacity = 0&gt;&gt;
      
      &lt;&lt;for _cn=1; _cn &lt;= $slaves.amount;_cn++&gt;&gt;
        &lt;&lt;set _student = $slaves[_cn]&gt;&gt;
        
        &lt;&lt;if _student.ID != $estate.facilities.training.trainer &amp;&amp; !_student.training.trainer &amp;&amp; _student.location == &quot;estate&quot;&gt;&gt;
          &lt;&lt;set _students.push(&quot;[&quot; + _cn + &quot;] &quot; + _student.name)&gt;&gt;
          
        &lt;&lt;elseif _student.training.trainer == $estate.facilities.training.trainer&gt;&gt;
          &lt;&lt;set _capacity++&gt;&gt;
          
        &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;
      
      &lt;br&gt;&lt;br&gt;
      
      &lt;&lt;if _capacity &gt;= 4&gt;&gt;
        &lt;b&gt;_character.name can only train a maximum of 4 slaves. If you want &lt;&lt;print $himher[_character.gender]&gt;&gt; to train someone else, you must remove one of the slaves they are currently training.&lt;/b&gt;
      
      &lt;&lt;elseif _students.length &gt; 1&gt;&gt;
        Choose any slave to be trained by _character.name. Slaves with higher obedience or fear will be trained quickly while slaves will low obedience and fear will refuse to learn anything. You can use discipline methods to increase a slaves obedience or fear. The stronger the punishments, the more fear you will strike into the hearts of your slaves. Conversely the more you reward your slave, the less they will fear you. Punishing a slave harshly for small infractions can lower their trust while rewarding a slave handsomely for small accomplishments will increase their trust.
        
        &lt;br&gt;
        
        &lt;&lt;set $student = null&gt;&gt;
        &lt;&lt;dropdown &quot;$student&quot; _students&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:red;You don&#39;t have any slaves currently trainable in your estate. Either buy a slave or move one from your other establishments to your estate.@@&lt;/b&gt;
        
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;DisciplineX&quot;&gt;&gt;
      &lt;&lt;if $args[1] == &quot;PLAYER&quot;&gt;&gt;
        &lt;&lt;set _character = $PC&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _character = getSlave($args[1])&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;if $estate.facilities.training.trainer == $args[1]&gt;&gt;
        _character.name
        
      &lt;&lt;else&gt;&gt;
        &lt;&lt;capture _character&gt;&gt;[[_character.name|Main Menu][$estate.facilities.training.trainer = _character.ID]]&lt;&lt;/capture&gt;&gt;
        
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;DisciplineY&quot;&gt;&gt;
      &lt;&lt;set _trainers = [null]&gt;&gt;
      
      &lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
        &lt;&lt;set _character = $slaves[_i]&gt;&gt;
        
        &lt;&lt;if !$estate.facilities.training.trainers.includes(_character.ID) &amp;&amp; _character.obedience.current &gt;= 60 &amp;&amp; _character.location == &quot;estate&quot;&gt;&gt;
          &lt;&lt;set _trainers.push(&quot;[&quot; + _i + &quot;] &quot; + _character.name)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;/for&gt;&gt;
      
      &lt;br&gt;
      
      Choose any obedient slave to become a trainer. Depending on their skill level as a trainer they can train up to four slaves in any discipline they have mastered. 
      
      &lt;br&gt;
      
      &lt;&lt;if _trainers.length &gt; 1&gt;&gt;
        &lt;&lt;set $trainer = null&gt;&gt;
        &lt;&lt;dropdown &quot;$trainer&quot; _trainers&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        &lt;br&gt;
        &lt;b&gt;@@color:red;You don&#39;t have any slaves who have an obedience level of at least@@ &lt;&lt;print getObedience(60)&gt;&gt;@@color:red;.@@&lt;/b&gt;
        
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;DisciplineZ&quot;&gt;&gt;
      &lt;&lt;print &quot;&lt;&lt;race &#39;&quot; + $PC.tribe + &quot;&#39; &#39;Main Menu&#39;&gt;&gt; &lt;&lt;print &#39;[[&quot; + amendString($PC.name) + &quot;|Status]]&#39;&gt;&gt; &lt;&lt;gender &quot; + $PC.sex + &quot; &quot; + $PC.gender + &quot;&gt;&gt;&quot;&gt;&gt;
      &lt;br&gt;&lt;b&gt;&lt;&lt;healthbar $PC &#39;Health&#39;&gt;&gt; &lt;&lt;healthbar $PC &#39;Stamina&#39;&gt;&gt;&lt;/b&gt;
      
      &lt;&lt;if $PC.location == &quot;estate&quot;&gt;&gt;
        &lt;br&gt;
        &lt;&lt;set _jobs = [&quot;rest&quot;, &quot;train&quot;, &quot;manage&quot;]&gt;&gt;
        
        &lt;&lt;for _j=0;_j &lt; _jobs.length;_j++&gt;&gt;
          &lt;&lt;set _job = _jobs[_j]&gt;&gt;
          &lt;&lt;set _Job = capitalize(_job)&gt;&gt;
          
          &lt;&lt;if $PC.assignment == _job&gt;&gt;
            &lt;&lt;print capitalize(_job)&gt;&gt;
            
          &lt;&lt;else&gt;&gt;
            &lt;&lt;if _job == &quot;train&quot; &amp;&amp; ($estate.facilities.training.trainers.length &gt;= $estate.facilities.training.rooms)&gt;&gt;
              @@color:red;Train@@
            
            &lt;&lt;elseif _job == &quot;train&quot;&gt;&gt;
              [[Train|Main Menu][$PC.assignment = &quot;train&quot;, $estate.facilities.training.trainers.push($PC.ID)]]
              
            &lt;&lt;elseif $PC.assignment == &quot;train&quot; &amp;&amp; _job != &quot;train&quot;&gt;&gt;
              &lt;&lt;set _index = $estate.facilities.training.trainers.indexOf($PC.ID)&gt;&gt;
              &lt;&lt;capture _index, _job&gt;&gt;[[_Job|Main Menu][$PC.assignment = _job, $estate.facilities.training.trainers.splice(_index, 1)]]&lt;&lt;/capture&gt;&gt;
              
            &lt;&lt;else&gt;&gt;
              &lt;&lt;capture _job&gt;&gt;&lt;&lt;link _Job&gt;&gt;
                &lt;&lt;set $PC.assignment = _job&gt;&gt;
                
                &lt;&lt;replace &#39;#Discipline&#39; t8n&gt;&gt;
                  &lt;&lt;appendLink &#39;Discipline&#39;&gt;&gt;
                &lt;&lt;/replace&gt;&gt;
                
                &lt;&lt;replace &#39;#DisciplineZ&#39;&gt;&gt;
                  &lt;&lt;appendLink &#39;DisciplineZ&#39;&gt;&gt;
                &lt;&lt;/replace&gt;&gt;
              &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;/if&gt;&gt;
          
          &lt;&lt;if _j &lt; _jobs.length-1&gt;&gt;
        		|
        	&lt;&lt;/if&gt;&gt;
          
        &lt;&lt;/for&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Discipline&quot;&gt;&gt;
      &lt;&lt;if !$estate.facilities.trainingroom&gt;&gt;
        &lt;b&gt;@@color:red;You currently do not have any training rooms. To build your first training room [[click here|Main Menu][$estate.page = &quot;Facilities&quot;]].@@&lt;/b&gt;
      
      &lt;&lt;else&gt;&gt;
        &lt;b&gt;@@color:lightskyblue;Player Focus@@&lt;/b&gt; -- 
        
        &lt;&lt;set _focuses = [&quot;Estate&quot;]&gt;&gt;
        
        &lt;&lt;if $estate.brothel.active&gt;&gt;
          &lt;&lt;set _focuses.push(&quot;Brothel&quot;)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if $estate.ranch.active&gt;&gt;
          &lt;&lt;set _focuses.push(&quot;Ranch&quot;)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if $estate.chattel.active&gt;&gt;
          &lt;&lt;set _focuses.push(&quot;Chattel&quot;)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;for _f=0; _f &lt; _focuses.length;_f++&gt;&gt;
        	&lt;&lt;set _focus = _focuses[_f]&gt;&gt;
          &lt;&lt;set _location = lowercase(_focus)&gt;&gt;
        
        	&lt;&lt;if $PC.location == _location&gt;&gt;
        		_focus
            
          &lt;&lt;elseif $PC.location == &quot;estate&quot; &amp;&amp; $PC.assignment == &quot;train&quot;&gt;&gt;
            &lt;&lt;set _index = $estate.facilities.training.trainers.indexOf($PC.ID)&gt;&gt;
            &lt;&lt;capture _index, _location, _focus&gt;&gt;[[_focus|Main Menu][$PC.focus = _focus, $PC.location = _location, $PC.position = null, $PC.assignment = &quot;rest&quot;, $estate.facilities.training.trainers.splice(_index, 1)]]&lt;&lt;/capture&gt;&gt;
            
        	&lt;&lt;else&gt;&gt;
            &lt;&lt;capture _focus, _location&gt;&gt;&lt;&lt;link _focus&gt;&gt;
              &lt;&lt;set $PC.focus = _focus&gt;&gt;
              &lt;&lt;set $PC.location = _location&gt;&gt;
              &lt;&lt;set $PC.position = null&gt;&gt;
              &lt;&lt;set $PC.assignment = &quot;rest&quot;&gt;&gt;
              
              &lt;&lt;replace &#39;#Discipline&#39; t8n&gt;&gt;
                &lt;&lt;appendLink &#39;Discipline&#39;&gt;&gt;
              &lt;&lt;/replace&gt;&gt;
              
              &lt;&lt;replace &#39;#DisciplineZ&#39; t8n&gt;&gt;
                &lt;&lt;appendLink &#39;DisciplineZ&#39;&gt;&gt;
              &lt;&lt;/replace&gt;&gt;
            &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
            
        	&lt;&lt;/if&gt;&gt;
        
        	&lt;&lt;if _f &lt; _focuses.length-1&gt;&gt;
        		|
        	&lt;&lt;/if&gt;&gt;
        
        &lt;&lt;/for&gt;&gt;
        
        &lt;br&gt;
        
        &lt;&lt;if $PC.location == &quot;estate&quot;&gt;&gt;
          &lt;&lt;if $PC.assignment == &quot;rest&quot;&gt;&gt;
            This week you will spend most of your free time resting, giving you more energy to perform more actions with your slaves next week.
            
          &lt;&lt;elseif $PC.assignment == &quot;train&quot;&gt;&gt;
            This week you will spend most of your free time training your slaves to whichever specifications you&#39;ve chosen.
            
          &lt;&lt;elseif $PC.assignment == &quot;manage&quot;&gt;&gt;
            This week you will spend most of your free time budgeting your estate, reducing your slave expenses by 50%.
            
          &lt;&lt;/if&gt;&gt;
          
        &lt;&lt;elseif $PC.location == &quot;brothel&quot;&gt;&gt;
        	This week you will spend most of your free time managing your brothel, increasing its income by 125%. 
        &lt;&lt;elseif $PC.location == &quot;ranch&quot;&gt;&gt;
        	This week you will spend most of your free time managing your ranch, increasing its income by 125%.
        &lt;&lt;elseif $PC.location == &quot;chattel&quot;&gt;&gt;
        	This week you will spend most of your free time managing your chattel, reducing your chattel expenses by 50%.
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;TrainingRoom&quot;&gt;&gt;
      &lt;&lt;if $estate.facilities.trainingroom&gt;&gt;
        &lt;&lt;switch $estate.facilities.page&gt;&gt;
          &lt;&lt;case &quot;Training&quot;&gt;&gt;
            Upgrade your training facility and enable your slave trainers to do the best job they can do. A fully equipped facility with all the latest permits and permissions will allow them to reward and discipline the slaves under their authority in many different ways. A good facility does not make the trainer but it does help.
            
            &lt;br&gt;&lt;br&gt;
            
            &lt;&lt;switch $estate.facilities.training.rooms&gt;&gt;
              &lt;&lt;case 1&gt;&gt;
                &lt;&lt;set _cost = 40000&gt;&gt;
                
              &lt;&lt;case 2&gt;&gt;
                &lt;&lt;set _cost = 80000&gt;&gt;
              
              &lt;&lt;case 3&gt;&gt;
                &lt;&lt;set _cost = 120000&gt;&gt;
              
              &lt;&lt;case 4&gt;&gt;
              
            &lt;&lt;/switch&gt;&gt;
            
            &lt;&lt;if $estate.facilities.training.rooms &lt; 4&gt;&gt;
              &lt;b&gt;&lt;&lt;link &quot;Build Another Training Room&quot;&gt;&gt;
                &lt;&lt;set $estate.facilities.training.rooms++&gt;&gt;
                &lt;&lt;set $PC.money -= _cost&gt;&gt;
                
                &lt;&lt;replace &#39;#TrainingRoom&#39; t8n&gt;&gt;
                  &lt;&lt;appendLink &#39;TrainingRoom&#39;&gt;&gt;
                &lt;&lt;/replace&gt;&gt;
              &lt;&lt;/link&gt;&gt;&lt;/b&gt;
              
              | &lt;b&gt; $estate.facilities.training.rooms&lt;/b&gt; → &lt;b&gt;&lt;&lt;print $estate.facilities.training.rooms+1&gt;&gt;&lt;/b&gt; | @@color:lightgreen;💎&lt;&lt;print commify(_cost)&gt;&gt;@@ | Increase the amount of training rooms you have and use your trainers to train a mix of different slaves, a mix of the same slaves, or even just one slave!
            
            &lt;&lt;else&gt;&gt;
              &lt;b&gt;You have built the maximum amount of training rooms for your estate!&lt;/b&gt;
              
            &lt;&lt;/if&gt;&gt;
  
            &lt;br&gt;
            
            &lt;&lt;if $estate.facilities.training.permit == 0&gt;&gt;
              &lt;br&gt;
              &lt;b&gt;&lt;&lt;link &quot;Buy Slave Liability Permit&quot;&gt;&gt;
                &lt;&lt;set $estate.facilities.training.permit++&gt;&gt;
                &lt;&lt;set $PC.money -= 10000&gt;&gt;
                
                &lt;&lt;replace &#39;#TrainingRoom&#39; t8n&gt;&gt;
                  &lt;&lt;appendLink &#39;TrainingRoom&#39;&gt;&gt;
                &lt;&lt;/replace&gt;&gt;
              &lt;&lt;/link&gt;&gt;&lt;/b&gt; 
              
              | @@color:lightgreen;💎10,000@@ | Getting this permit will allow you to reward your slave by bringing them outside. Slaves tend to cause many problems in the streets, so the kingdom has created the Slave Liability Permit (SLP) to gather the money necessary to hire the guards to deal with all the extra problems they bring. You may not have personally caused any problems, but if you want to bring your slaves off your property for any other reason than transportation you&#39;ll have to get this permit.
            
            &lt;&lt;elseif $estate.facilities.training.permit == 1&gt;&gt;
              &lt;br&gt;
              &lt;b&gt;&lt;&lt;link &quot;Upgrade Slave Liability Permit&quot;&gt;&gt;
                &lt;&lt;set $estate.facilities.training.permit++&gt;&gt;
                &lt;&lt;set $PC.money -= 50000&gt;&gt;
                
                &lt;&lt;replace &#39;#TrainingRoom&#39; t8n&gt;&gt;
                  &lt;&lt;appendLink &#39;TrainingRoom&#39;&gt;&gt;
                &lt;&lt;/replace&gt;&gt;
              &lt;&lt;/link&gt;&gt;&lt;/b&gt; 
              
              | @@color:lightgreen;💎50,000@@ | @@color:lightgreen;💎1,000@@ &lt;b&gt;Weekly Fee&lt;/b&gt; | Upgrading this permit will allow you to punish your slave in public. Doing so will almost always cause a public scene, causing chaos among the citizens. For the kingdom to cover the costs necessary to hire enough guards to prevent that from happening, it needed to heavily tax its citizens or outright ban public punishments. Instead, they created a permit which is quite pricey and comes with a weekly fee, allowing slave trainers to do their job.
            
            &lt;&lt;elseif $estate.facilities.training.permit == 2&gt;&gt;
              &lt;&lt;if $estate.facilities.training.rooms != 4&gt;&gt;
                &lt;br&gt;
              &lt;&lt;/if&gt;&gt;
              &lt;b&gt;You have completely upgraded your slave liability permit!&lt;/b&gt;
              
            &lt;&lt;/if&gt;&gt;
            
            &lt;br&gt;
            
            &lt;&lt;if $estate.facilities.training.implements == 0&gt;&gt;
              &lt;br&gt;
              &lt;b&gt;&lt;&lt;link &quot;Buy Enchanted Training Implements&quot;&gt;&gt;
                &lt;&lt;set $estate.facilities.training.implements++&gt;&gt;
                &lt;&lt;set $PC.money -= 25000&gt;&gt;
                
                &lt;&lt;replace &#39;#TrainingRoom&#39; t8n&gt;&gt;
                  &lt;&lt;appendLink &#39;TrainingRoom&#39;&gt;&gt;
                &lt;&lt;/replace&gt;&gt;
              &lt;&lt;/link&gt;&gt;&lt;/b&gt;
              
              | @@color:lightgreen;💎25,000@@ | Enchanted training implements are a must for any slave trainer. These implements are a dozen times more painful than their unenchanted counterparts and leave no marks on the body while allowing slaves to feel their sting for up to weeks.
            
            &lt;&lt;elseif $estate.facilities.training.implements == 1&gt;&gt;
              &lt;&lt;if $estate.facilities.training.permit != 2&gt;&gt;
                &lt;br&gt;
              &lt;&lt;/if&gt;&gt;
              &lt;b&gt;Your training room(s) have been outfitted with enchanted training implements!&lt;/b&gt;
            
            &lt;&lt;/if&gt;&gt;
            
            &lt;br&gt;
            
            &lt;&lt;if $estate.facilities.training.bedding == 0&gt;&gt;
              &lt;br&gt;
              &lt;b&gt;&lt;&lt;link &quot;Buy Enchanted Bedding&quot;&gt;&gt;
                &lt;&lt;set $estate.facilities.training.bedding++&gt;&gt;
                &lt;&lt;set $PC.money -= 40000&gt;&gt;
                
                &lt;&lt;replace &#39;#TrainingRoom&#39; t8n&gt;&gt;
                  &lt;&lt;appendLink &#39;TrainingRoom&#39;&gt;&gt;
                &lt;&lt;/replace&gt;&gt;
              &lt;&lt;/link&gt;&gt;&lt;/b&gt;
              
              | @@color:lightgreen;💎40,000@@ | Enchanted bedding is extremely useful for allowing trainers to give slaves sexual rewards without feelings growing on either side. Pleasure is amplified and more endorphins are released while sexual rewards are given out on enchanted bedding, making sexual rewards a very effective positive reinforcement tool.
            
            &lt;&lt;elseif $estate.facilities.training.bedding == 1&gt;&gt;
              &lt;&lt;if $estate.facilities.training.implements != 1&gt;&gt;
                &lt;br&gt;
              &lt;&lt;/if&gt;&gt;
              &lt;b&gt;Your training room(s) have been furnished with enchanted bedding!&lt;/b&gt;
            
            &lt;&lt;/if&gt;&gt;
            
          &lt;&lt;case &quot;Hypnotherapy&quot;&gt;&gt;
          
        &lt;&lt;/switch&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        Building a training facility inside your estate will enable you to train a large number of slaves all at the same time. Choose your trainers, choose which slaves will be trained and how you want them to be trained. Once the training facility is built, you can upgrade it to accommodate your trainers and slaves better.
        
        &lt;br&gt;&lt;br&gt;
        
        &lt;&lt;if $PC.money &gt;= 20000&gt;&gt;
          &lt;b&gt;[[Build Training Room|Main Menu][$estate.facilities.trainingroom = 1, $estate.facilities.page = &quot;Training&quot;, $PC.money -= 20000]] | @@color:lightgreen;💎20,000@@
          &lt;/b&gt;
          
        &lt;&lt;else&gt;&gt;
          &lt;b&gt;Build Training Room | @@color:red;💎20,000@@&lt;/b&gt;
          
        &lt;&lt;/if&gt;&gt;
      
      &lt;&lt;/if&gt;&gt;
      
    &lt;&lt;case &quot;Facilities&quot;&gt;&gt;
      &lt;&lt;if $estate.facilities.trainingroom&gt;&gt;
        &lt;&lt;if $estate.facilities.page == &quot;Training&quot;&gt;&gt;
          Training |
        &lt;&lt;else&gt;&gt;
          &lt;&lt;link &#39;Training&#39;&gt;&gt;
            &lt;&lt;set $estate.facilities.page = &quot;Training&quot;&gt;&gt;
            
            &lt;&lt;replace &#39;#Facilities&#39; t8n&gt;&gt;
              &lt;&lt;appendLink &#39;Facilities&#39;&gt;&gt;
            &lt;&lt;/replace&gt;&gt;
            
            &lt;&lt;replace &#39;#TrainingRoom&#39; t8n&gt;&gt;
              &lt;&lt;appendLink &#39;TrainingRoom&#39;&gt;&gt;
            &lt;&lt;/replace&gt;&gt;
          &lt;&lt;/link&gt;&gt;
           | 
        &lt;&lt;/if&gt;&gt;
        
        &lt;&lt;if $estate.facilities.page == &quot;Hypnotherapy&quot;&gt;&gt;
          Hypnotherapy
        &lt;&lt;else&gt;&gt;
          &lt;&lt;link &#39;Hypnotherapy&#39;&gt;&gt;
            &lt;&lt;set $estate.facilities.page = &quot;Hypnotherapy&quot;&gt;&gt;
            
            &lt;&lt;replace &#39;#Facilities&#39; t8n&gt;&gt;
              &lt;&lt;appendLink &#39;Facilities&#39;&gt;&gt;
            &lt;&lt;/replace&gt;&gt;
            
            &lt;&lt;replace &#39;#TrainingRoom&#39; t8n&gt;&gt;
              &lt;&lt;appendLink &#39;TrainingRoom&#39;&gt;&gt;
            &lt;&lt;/replace&gt;&gt;
            &lt;&lt;/link&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        
      &lt;&lt;else&gt;&gt;
        Training Room
      
      &lt;&lt;/if&gt;&gt;
    
    &lt;&lt;case &quot;EstateRest&quot;&gt;&gt;
      &lt;&lt;link &#39;Rest&#39;&gt;&gt;
          &lt;&lt;replace &#39;#rest&#39; t8n&gt;&gt;Resting&lt;&lt;/replace&gt;&gt;
          
          &lt;&lt;if [&quot;estate&quot;, &quot;brothel&quot;].contains($activeCharacter.location) &amp;&amp; (($main.page == &quot;estate&quot; &amp;&amp; $estate.page == &quot;Overview&quot;) || ($main.page == &quot;brothel&quot; &amp;&amp; $estate.brothel.page == &quot;Overview&quot;))&gt;&gt;
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#assignment&quot; + $activeCharacter.ID + &quot;&#39; t8n&gt;&gt;Resting&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
          
          &lt;&lt;replace &#39;#work&#39; t8n&gt;&gt;
            &lt;&lt;link &#39;Work&#39;&gt;&gt;
              &lt;&lt;replace &#39;#work&#39; t8n&gt;&gt;Working&lt;&lt;/replace&gt;&gt;
              
              &lt;&lt;if [&quot;estate&quot;, &quot;brothel&quot;].contains($activeCharacter.location) &amp;&amp; (($main.page == &quot;estate&quot; &amp;&amp; $estate.page == &quot;Overview&quot;) || ($main.page == &quot;brothel&quot; &amp;&amp; $estate.brothel.page == &quot;Overview&quot;))&gt;&gt;
                &lt;&lt;print &quot;&lt;&lt;replace &#39;#assignment&quot; + $activeCharacter.ID + &quot;&#39; t8n&gt;&gt;Working&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
              &lt;&lt;/if&gt;&gt;
              
              &lt;&lt;if $activeCharacter.location == &quot;estate&quot;&gt;&gt;
                &lt;&lt;set $activeCharacter.assignment = &#39;odd jobs&#39;&gt;&gt;
              
              &lt;&lt;elseif $activeCharacter.location == &quot;brothel&quot;&gt;&gt;
                &lt;&lt;set $activeCharacter.assignment = &#39;whore&#39;&gt;&gt;
              
              &lt;&lt;elseif $activeCharacter.location == &quot;ranch&quot;&gt;&gt;
                &lt;&lt;set $activeCharacter.assignment = &#39;husbandry&#39;&gt;&gt;
              
              &lt;&lt;/if&gt;&gt;
              
              &lt;&lt;set $activeCharacter.renew = null&gt;&gt;
              
              &lt;&lt;replace &#39;#rest&#39; t8n&gt;&gt;&lt;&lt;appendLink &quot;EstateRest&quot;&gt;&gt;&lt;&lt;/replace&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $activeCharacter.assignment = &#39;rest&#39;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
        
    &lt;&lt;case &quot;EstateWork&quot;&gt;&gt;
      &lt;&lt;link &#39;Work&#39;&gt;&gt;
          &lt;&lt;replace &#39;#work&#39; t8n&gt;&gt;Working&lt;&lt;/replace&gt;&gt;
          
          &lt;&lt;if [&quot;estate&quot;, &quot;brothel&quot;].contains($activeCharacter.location) &amp;&amp; (($main.page == &quot;estate&quot; &amp;&amp; $estate.page == &quot;Overview&quot;) || ($main.page == &quot;brothel&quot; &amp;&amp; $estate.brothel.page == &quot;Overview&quot;))&gt;&gt;
            &lt;&lt;print &quot;&lt;&lt;replace &#39;#assignment&quot; + $activeCharacter.ID + &quot;&#39; t8n&gt;&gt;Working&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
          
          &lt;&lt;replace &#39;#rest&#39; t8n&gt;&gt;
            &lt;&lt;link &#39;Rest&#39;&gt;&gt;
              &lt;&lt;replace &#39;#rest&#39; t8n&gt;&gt;Resting&lt;&lt;/replace&gt;&gt;
              
              &lt;&lt;if [&quot;estate&quot;, &quot;brothel&quot;].contains($activeCharacter.location) &amp;&amp; (($main.page == &quot;estate&quot; &amp;&amp; $estate.page == &quot;Overview&quot;) || ($main.page == &quot;brothel&quot; &amp;&amp; $estate.brothel.page == &quot;Overview&quot;))&gt;&gt;
                &lt;&lt;print &quot;&lt;&lt;replace &#39;#assignment&quot; + $activeCharacter.ID + &quot;&#39; t8n&gt;&gt;Resting&lt;&lt;/replace&gt;&gt;&quot;&gt;&gt;
              &lt;&lt;/if&gt;&gt;
              
              &lt;&lt;set $activeCharacter.assignment = &#39;rest&#39;&gt;&gt;
              
              &lt;&lt;replace &#39;#work&#39; t8n&gt;&gt;&lt;&lt;appendLink &quot;EstateWork&quot;&gt;&gt;&lt;&lt;/replace&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/replace&gt;&gt;
          
          &lt;&lt;if $activeCharacter.location == &quot;estate&quot;&gt;&gt;
            &lt;&lt;set $activeCharacter.assignment = &#39;odd jobs&#39;&gt;&gt;
          
          &lt;&lt;elseif $activeCharacter.location == &quot;brothel&quot;&gt;&gt;
            &lt;&lt;set $activeCharacter.assignment = &#39;whore&#39;&gt;&gt;
          
          &lt;&lt;elseif $activeCharacter.location == &quot;ranch&quot;&gt;&gt;
            &lt;&lt;set $activeCharacter.assignment = &#39;husbandry&#39;&gt;&gt;
          
          &lt;&lt;/if&gt;&gt;
          
          &lt;&lt;set $activeCharacter.renew = null&gt;&gt;
        &lt;&lt;/link&gt;&gt;
  &lt;&lt;/switch&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="349" name="Sex Selection" tags="nobr" position="1284,1382" size="100,100">&lt;&lt;if $sex == null&gt;&gt;
  &lt;&lt;set $sex = {partners:[], round:1, stage:1, start:0, position:{}, action:{}, prior:{}, text:{}}&gt;&gt;
  &lt;&lt;set $sex.position = {current:&quot;Laying Down&quot;, actor:$PC.ID, patient:null}&gt;&gt;
  &lt;&lt;set $sex.action = {primary:{}, secondary:{}, tertiary:{}}&gt;&gt;
  &lt;&lt;set $sex.prior = {position:{}, action:null, actor:null, patient:null}&gt;&gt;
  &lt;&lt;set $sex.prior.position = {current:null, actor:null, patient:null}&gt;&gt;
  &lt;&lt;set $sex.partners.push($PC.ID)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sexPartner&gt;&gt;
  &lt;&lt;if $sex.partners.length &gt; 1&gt;&gt;
    &lt;&lt;set _removed = $sex.partners.splice(1, 1)&gt;&gt;
    &lt;&lt;unset _removed&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set _number = $sexPartner.slice($sexPartner.indexOf(&quot;[&quot;) + 1, $sexPartner.indexOf(&quot;]&quot;))&gt;&gt;
  &lt;&lt;set $sexPartner = $slaves[_number]&gt;&gt;
  &lt;&lt;set $sex.partners.push($sexPartner.ID)&gt;&gt;
  &lt;&lt;set $sex.position.patient = $sexPartner.ID&gt;&gt;
  &lt;&lt;set $sexPartner = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;table class=&#39;inventory&#39; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
  &lt;tr&gt;
  &lt;th class = &#39;listing&#39; colspan = 120&gt;Partner Selection&lt;/th&gt;
  &lt;/tr&gt;
  
  &lt;&lt;set _partners = [null]&gt;&gt;
  
  &lt;&lt;for _i = 1; _i &lt;= $slaves.amount; _i++&gt;&gt;
    &lt;&lt;set _character = $slaves[_i]&gt;&gt;
    
    &lt;&lt;if !$sex.partners.includes(_character.ID)&gt;&gt;
      &lt;&lt;set _partners.push(&quot;[&quot; + _i + &quot;] &quot; + _character.name)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    
  &lt;&lt;/for&gt;&gt;
  
  &lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;Choose any slave as a sexual partner. Slaves who are disobedient will need to be either sedated or bound as unruly slaves will try to sexually dominate you during sex.&lt;/td&gt;&lt;/tr&gt;
  
  
  &lt;&lt;if _partners.length&gt;&gt;
    &lt;&lt;set $sexPartner = null&gt;&gt;
    &lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;&lt;dropdown &quot;$sexPartner&quot; _partners&gt;&gt;&lt;/td&gt;&lt;/tr&gt;
    
  &lt;&lt;else&gt;&gt;
    &lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;@@color:red;You don&#39;t have any slaves who you can use as a sexual partner.@@&lt;/td&gt;&lt;/tr&gt;
    
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if $sex.partners.length &gt; 1&gt;&gt;
    &lt;tr&gt;&lt;td class = &#39;noborder&#39; colspan = 120&gt;&lt;center&gt;[[Start|Sex Combat]]&lt;/center&gt;&lt;/td&gt;&lt;/tr&gt;
  &lt;&lt;/if&gt;&gt;
&lt;/table&gt;

&lt;&lt;if $sex.partners.length&gt;&gt;
  &lt;table class=&#39;inventory&#39; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
    &lt;tr&gt;
    &lt;th class = &#39;listing&#39; colspan = 40&gt;Partner&lt;/th&gt;
    &lt;th class = &#39;listing&#39; colspan = 15&gt;State&lt;/th&gt;
    &lt;th class = &#39;listing&#39; colspan = 13&gt;Experience&lt;/th&gt;
    &lt;th class = &#39;listing&#39; colspan = 13&gt;Stamina&lt;/th&gt;
    &lt;th class = &#39;listing&#39; colspan = 13&gt;Libido&lt;/th&gt;
    &lt;th class = &#39;listing&#39; colspan = 13&gt;Strength&lt;/th&gt;
    &lt;th class = &#39;listing&#39; colspan = 13&gt;Speed&lt;/th&gt;
    &lt;/tr&gt;
    
    &lt;&lt;for _p = 0; _p &lt; $sex.partners.length;_p++&gt;&gt;
      &lt;&lt;set _partnerID = $sex.partners[_p]&gt;&gt;
      
      &lt;&lt;capture _partnerID&gt;&gt;
      &lt;tr&gt;
      &lt;td class = &#39;noborder&#39; colspan = 40&gt;&lt;&lt;print &quot;&lt;span id=&#39;Character&quot; + _partnerID + &quot;&#39;&gt;&lt;&lt;appendLink &#39;Sex&#39; &#39;Character&#39; &#39;&quot; + _partnerID + &quot;&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;&lt;/td&gt;
      &lt;td class = &#39;noborder&#39; colspan = 15&gt;&lt;&lt;print &quot;&lt;span id=&#39;State&quot; + _partnerID + &quot;&#39;&gt;&lt;&lt;appendLink &#39;Sex&#39; &#39;State&#39; &#39;&quot; + _partnerID + &quot;&#39;&gt;&gt;&lt;/span&gt;&quot;&gt;&gt;&lt;/td&gt;
      &lt;td class = &#39;noborder&#39; colspan = 13&gt;&lt;span id=&#39;Stats&#39;&gt;&lt;&lt;appendLink &#39;Sex&#39; &#39;Experience&#39; _partnerID&gt;&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;td class = &#39;noborder&#39; colspan = 13&gt;&lt;span id=&#39;Stats&#39;&gt;&lt;&lt;appendLink &#39;Sex&#39; &#39;Stamina&#39; _partnerID&gt;&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;td class = &#39;noborder&#39; colspan = 13&gt;&lt;span id=&#39;Stats&#39;&gt;&lt;&lt;appendLink &#39;Sex&#39; &#39;Libido&#39; _partnerID&gt;&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;td class = &#39;noborder&#39; colspan = 13&gt;&lt;span id=&#39;Stats&#39;&gt;&lt;&lt;appendLink &#39;Sex&#39; &#39;Strength&#39; _partnerID&gt;&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;td class = &#39;noborder&#39; colspan = 13&gt;&lt;span id=&#39;Stats&#39;&gt;&lt;&lt;appendLink &#39;Sex&#39; &#39;Speed&#39; _partnerID&gt;&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;&lt;/capture&gt;&gt;
    &lt;&lt;/for&gt;&gt;
  &lt;/table&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="350" name="Sex Combat" tags="nobr noreturn notruereturn" position="1284,1263" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;

&lt;&lt;if settings.cheats&gt;&gt;	
	&lt;&lt;if [&quot;playerUnlimited&quot;, &quot;npcUnlimited&quot;].contains($cheat)&gt;&gt;
		&lt;&lt;run addCheatPage($cheat)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;if [&quot;playerUnlimited&quot;, &quot;npcUnlimited&quot;].contains($cheat)&gt;&gt;
		&lt;&lt;run toggleCheat($cheat)&gt;&gt;
	&lt;&lt;/if&gt;&gt;
	
	&lt;&lt;set $cheat = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex == null&gt;&gt;
  &lt;&lt;set $sex = {partners:[], round:1, stage:1, start:0, position:{}, action:{}, prior:{}, text:{}}&gt;&gt;
  &lt;&lt;set $sex.position = {current:&quot;Laying Down&quot;, actor:$PC.ID, patient:$activeCharacter.ID}&gt;&gt;
  &lt;&lt;set $sex.action = {primary:{}, secondary:{}, tertiary:{}}&gt;&gt;
  &lt;&lt;set $sex.prior = {position:{}, action:null, actor:null, patient:null}&gt;&gt;
  &lt;&lt;set $sex.prior.position = {current:null, actor:null, patient:null}&gt;&gt;
  &lt;&lt;set $sex.partners.push($PC.ID)&gt;&gt;
	&lt;&lt;set $sex.partners.push($activeCharacter.ID)&gt;&gt;
	&lt;&lt;set $activeCharacter = null&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.round == 1 &amp;&amp; $sex.stage == 1&gt;&gt;
  &lt;&lt;set $Previous = &quot;Interact&quot;&gt;&gt;
  &lt;&lt;for _p = 0; _p &lt; $sex.partners.length;_p++&gt;&gt;
    &lt;&lt;set _participant = getSlave($sex.partners[_p])&gt;&gt;
		
		&lt;&lt;if _participant.ID != &quot;PLAYER&quot;&gt;&gt;
			&lt;&lt;set _participant.combat.partner = $PC.ID&gt;&gt;
			&lt;&lt;set $PC.combat.partner = _participant.ID&gt;&gt;
		&lt;&lt;/if&gt;&gt;
    
    &lt;&lt;set _participant.combat.stamina.max = 100 + (_participant.sexual.stamina.current*20)&gt;&gt;
    &lt;&lt;set _participant.combat.stamina.current = _participant.combat.stamina.max&gt;&gt;
    
    &lt;&lt;set _participant.combat.arousal.max = 100 + (_participant.sexual.control.current*20)&gt;&gt;
    &lt;&lt;set _participant.combat.arousal.current = 0&gt;&gt;
    
    &lt;&lt;set _participant.combat.libido.max = Math.max(_participant.sexual.libido.current, 1)&gt;&gt;
    &lt;&lt;set _participant.combat.libido.current = _participant.combat.libido.max&gt;&gt;
		
		&lt;&lt;set _participant.combat.stimulation = 0&gt;&gt;
    
  &lt;&lt;/for&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;span id=&#39;SexStats&#39;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;/span&gt;

&lt;br&gt;

&lt;span id=&#39;SexText&#39;&gt;&lt;&lt;print generateSexText(getSlave($sex.partners[0]), getSlave($sex.partners[1]), &quot;base&quot;, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;/span&gt;

&lt;br&gt;&lt;br&gt;

&lt;table class=&#39;subchart&#39; style=&#39;table-layout:fixed;width:1000px&#39;&gt;
  &lt;tr&gt;
  &lt;th class = &#39;listing&#39; colspan = 20&gt;Actor&lt;/th&gt;
  &lt;th class = &#39;listing&#39; colspan = 20&gt;Position&lt;/th&gt;
  &lt;th class = &#39;listing&#39; colspan = 80&gt;&lt;/th&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td class = &#39;noborder&#39; colspan = 20&gt;&lt;span id=&#39;SexActor&#39;&gt;&lt;&lt;appendLink &#39;SexActor&#39;&gt;&gt;&lt;/span&gt;&lt;/td&gt;
  &lt;td class = &#39;noborder&#39; colspan = 100&gt;&lt;span id=&#39;SexPosition&#39;&gt;&lt;&lt;appendLink &#39;SexPosition&#39;&gt;&gt;&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;&lt;th&gt;&lt;br&gt;&lt;/th&gt;&lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;th colspan = 20&gt;Actions&lt;/th&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td colspan = 60 valign = &#39;top&#39;&gt;&lt;span id=&#39;SexActions1&#39;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;/span&gt;&lt;/td&gt;
	&lt;td colspan = 60 valign = &#39;baseline&#39;&gt;&lt;span id=&#39;SexActions2&#39;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  
&lt;/table&gt;</tw-passagedata><tw-passagedata pid="351" name="Combatbar Widget" tags="nobr widget" position="2015,1611" size="100,100">&lt;&lt;widget &quot;combatbar&quot;&gt;&gt;

&lt;&lt;if $args[2] == &quot;large&quot;&gt;&gt;
  &lt;&lt;set _size = 60&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _size = 30&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _ee = $args[0] / $args[1]&gt;&gt;

&lt;&lt;if _ee &gt;= 1&gt;&gt;
	&lt;&lt;set _statcolor = &quot;darkturquoise&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .8&gt;&gt;
	&lt;&lt;set _statcolor = &quot;forestgreen&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .6&gt;&gt;
	&lt;&lt;set _statcolor = &quot;greenyellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .4&gt;&gt;
	&lt;&lt;set _statcolor = &quot;yellow&quot;&gt;&gt;
&lt;&lt;elseif _ee &gt;= .2&gt;&gt;
	&lt;&lt;set _statcolor = &quot;orange&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _statcolor = &quot;red&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ee &gt;= .5&gt;&gt;
	&lt;&lt;set _current = Math.floor(_ee * _size)&gt;&gt;
&lt;&lt;else&gt;&gt;
	&lt;&lt;set _current = Math.ceil(_ee * _size)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _gone = _size - _current&gt;&gt;

&lt;&lt;set _bars to &quot;|&quot;.repeat(_current)&gt;&gt;
&lt;&lt;set _gone to &quot;|&quot;.repeat(_gone)&gt;&gt;

&lt;&lt;set _cstat = &#39;&lt;b&gt;[@@color:&#39; + _statcolor + &#39;;&#39; + _bars + &#39;@@&#39;&gt;&gt;
&lt;&lt;set _gstat = &#39;@@color:&#39; + &quot;gray&quot; + &#39;;&#39; + _gone + &#39;@@]&lt;/b&gt;&#39;&gt;&gt;
&lt;&lt;print _cstat + _gstat&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="352" name="Sex Actions" tags="nobr widget" position="1283,1502" size="100,100">&lt;&lt;widget &quot;SexActions&quot;&gt;&gt;

&lt;&lt;if $sex.round &gt; 1 || $sex.stage &gt; 1&gt;&gt;
  &lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
  &lt;&lt;set $CustomLink = &quot;End Intercourse&quot;&gt;&gt;
  &lt;&lt;updatebar&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $sex.position.actor == $PC.ID&gt;&gt;
  &lt;&lt;if $args[0] == 1&gt;&gt;
    &lt;&lt;set _actor = getSlave($sex.partners[0])&gt;&gt;
    &lt;&lt;set _patient = getSlave($sex.partners[1])&gt;&gt;

  &lt;&lt;elseif $args[0] == 2&gt;&gt;
    &lt;&lt;set _actor = getSlave($sex.partners[1])&gt;&gt;
    &lt;&lt;set _patient = getSlave($sex.partners[0])&gt;&gt;

  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;else&gt;&gt;
  &lt;&lt;if $args[0] == 1&gt;&gt;
    &lt;&lt;set _actor = getSlave($sex.partners[1])&gt;&gt;
    &lt;&lt;set _patient = getSlave($sex.partners[0])&gt;&gt;

  &lt;&lt;elseif $args[0] == 2&gt;&gt;
    &lt;&lt;set _actor = getSlave($sex.partners[0])&gt;&gt;
    &lt;&lt;set _patient = getSlave($sex.partners[1])&gt;&gt;

  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
 &lt;&lt;set _action = &quot;Kiss _patient.name.&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
 &lt;&lt;set _action = &quot;_actor.name kisses you.&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
 
&lt;&lt;if getStamina(&quot;kiss&quot;, _actor, _patient) &amp;&amp; positionCheck(&quot;kiss&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
 &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
   &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
   &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
   &lt;&lt;set $sex.action.primary.current = &quot;kiss&quot;&gt;&gt;
   
   &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
   &lt;&lt;run increaseStage()&gt;&gt;
   &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
   
   &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
   
   &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
 &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
 &lt;br&gt;
&lt;&lt;/if&gt;&gt;
 
&lt;&lt;if getStamina(&quot;breastplay&quot;, _actor, _patient) &amp;&amp; _patient.bust.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
    &lt;&lt;set _action = &quot;Play with _patient.name&#39;s breasts.&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _action = &quot;_actor.name plays with your breasts.&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if positionCheck(&quot;breastplay&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
    &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
      &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
      &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
      &lt;&lt;set $sex.action.primary.current = &quot;breastplay&quot;&gt;&gt;
      
      &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
      &lt;&lt;run increaseStage()&gt;&gt;
      &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
      
      &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
      
      &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
    &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
    &lt;br&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
 
&lt;&lt;if getStamina(&quot;nippleplay&quot;, _actor, _patient) &amp;&amp; !_patient.bust.current&gt;&gt;
 &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
    &lt;&lt;set _action = &quot;Play with _patient.name&#39;s nipples.&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _action = &quot;_actor.name plays with your nipples.&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if positionCheck(&quot;nippleplay&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
    &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
      &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
      &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
      &lt;&lt;set $sex.action.primary.current = &quot;nippleplay&quot;&gt;&gt;
      
      &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
      &lt;&lt;run increaseStage()&gt;&gt;
      &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
      
      &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
      
      &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
    &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
    &lt;br&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;handjob&quot;, _actor, _patient) &amp;&amp; _patient.cock.current &amp;&amp; _patient.girth.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Pleasure _patient.name&#39;s cock with your hands.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name pleasures your cock with &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; hands.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;handjob&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;handjob&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;ballplay&quot;, _actor, _patient) &amp;&amp; _patient.balls.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Pleasure _patient.name&#39;s balls with your hands.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name pleasures your balls with &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; hands.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;ballplay&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;ballplay&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;paizuri&quot;, _actor, _patient) &amp;&amp; _actor.bust.current &gt; 2 &amp;&amp; _patient.cock.current &amp;&amp; _patient.girth.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Pleasure _patient.name&#39;s cock with your breasts.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name pleasures your cock with &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; breasts.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;paizuri&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;paizuri&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;pussyteasing&quot;, _actor, _patient) &amp;&amp; _patient.pussy.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Tease _patient.name&#39;s pussy.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name teases your pussy.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;pussyteasing&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;pussyteasing&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;fingering&quot;, _actor, _patient) &amp;&amp; _patient.pussy.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Finger _patient.name&#39;s pussy.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name fingers your pussy.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;fingering&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;fingering&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;handriding&quot;, _actor, _patient) &amp;&amp; _actor.pussy.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Grind your pussy against _patient.name&#39;s hand.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name grinds &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; pussy against your hand.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;handriding&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;handriding&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;breastsucking&quot;, _actor, _patient) &amp;&amp; _patient.bust.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
    &lt;&lt;set _action = &quot;Suck _patient.name&#39;s breasts.&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _action = &quot;_actor.name sucks your breasts.&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;if positionCheck(&quot;breastsucking&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
    &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
      &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
      &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
      &lt;&lt;set $sex.action.primary.current = &quot;breastsucking&quot;&gt;&gt;
      
      &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
      &lt;&lt;run increaseStage()&gt;&gt;
      &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
      
      &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
      
      &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
    &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
    &lt;br&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;blowjob&quot;, _actor, _patient) &amp;&amp; _patient.cock.current &amp;&amp; _patient.girth.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Suck _patient.name&#39;s cock.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name sucks your cock.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;blowjob&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;blowjob&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;deepthroat&quot;, _actor, _patient) &amp;&amp; _patient.cock.current &amp;&amp; _patient.girth.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Deepthroat _patient.name&#39;s cock.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name deepthroats your cock.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;deepthroat&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;deepthroat&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;irrumatio&quot;, _actor, _patient) &amp;&amp; _actor.cock.current &amp;&amp; _actor.girth.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Facefuck _patient.name.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name facefucks you.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;irrumatio&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;irrumatio&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;ballsucking&quot;, _actor, _patient) &amp;&amp; _patient.balls.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Suck _patient.name&#39;s balls.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name sucks your balls.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;ballsucking&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;ballsucking&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;teabagging&quot;, _actor, _patient) &amp;&amp; _actor.balls.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Force your balls into _patient.name&#39;s mouth.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name forces &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; balls into your mouth.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;teabagging&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;teabagging&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
 &lt;&lt;set _action = &quot;Rim _patient.name&#39;s asshole.&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
 &lt;&lt;set _action = &quot;_actor.name rims your asshole.&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
 
&lt;&lt;if positionCheck(&quot;rimjob&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
 &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
   &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
   &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
   &lt;&lt;set $sex.action.primary.current = &quot;rimjob&quot;&gt;&gt;
   
   &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
   &lt;&lt;run increaseStage()&gt;&gt;
   &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
   
   &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
   
   &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
 &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
 &lt;br&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;cunnilingus&quot;, _actor, _patient) &amp;&amp; _patient.pussy.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Lick _patient.name&#39;s pussy.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name licks &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; your pussy.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;cunnilingus&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;cunnilingus&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;clitsucking&quot;, _actor, _patient) &amp;&amp; _patient.clit.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Suck _patient.name&#39;s clit.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name sucks &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; your clit.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;clitsucking&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;clitsucking&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;facesitting&quot;, _actor, _patient) &amp;&amp; _actor.pussy.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Ride _patient.name&#39;s face.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name rides your face.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;facesitting&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;facesitting&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;tribbing&quot;, _actor, _patient) &amp;&amp; _actor.pussy.current &amp;&amp; _patient.pussy.current&gt;&gt;
  &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Grind your pussy against _patient.name&#39;s pussy.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name grinds &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; pussy against your pussy.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
   
 &lt;&lt;if positionCheck(&quot;tribbing&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;tribbing&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;cocksex&quot;, _actor, _patient) &amp;&amp; _actor.cock.current &amp;&amp; _actor.girth.current &amp;&amp; _patient.pussy.current&gt;&gt;
 &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Fuck _patient.name&#39;s pussy with your cock.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name fucks your pussy with &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; cock.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
 
 &lt;&lt;if positionCheck(&quot;cocksex&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;cocksex&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     
     &lt;&lt;if $PC.pregnancy.type &amp;&amp; _actor.combat.arousal.current == _actor.combat.arousal.max&gt;&gt;
       &lt;&lt;set _mother = _patient&gt;&gt;
       &lt;&lt;set _partner = _actor&gt;&gt;
       &lt;&lt;breeding&gt;&gt;

       &lt;&lt;if _progeny&gt;&gt;
         &lt;&lt;set $sex.text[_mother.ID] = &quot;&lt;b&gt;@@color:forestgreen;[Impregnated: &lt;&lt;print &#39;&quot; + pronouns(&#39;Name&#39;, _mother) + &quot;&#39;&gt;&gt;]@@&lt;/b&gt;&lt;br&gt;&lt;&lt;print &#39;&quot; + pronouns(&#39;Name&#39;, _mother) + &quot;&#39;&gt;&gt; &lt;&lt;print &#39;&quot; + pronouns(&#39;has&#39;, _mother) + &quot;&#39;&gt;&gt; been impregnated by &lt;&lt;print &#39;&quot; + pronouns(&#39;name&#39;, _partner) + &quot;&#39;&gt;&gt;.&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
         

         &lt;&lt;set _patient.pregnancy.child.push(_progeny)&gt;&gt;
         
         &lt;&lt;if _patient.ID != $PC.ID&gt;&gt;
          &lt;&lt;set _patient.pregnancy.type == $PC.pregnancy.type&gt;&gt;
         &lt;&lt;/if&gt;&gt;

         &lt;&lt;if _patient.pregnancy.child.length &gt; 1&gt;&gt;
           &lt;&lt;set _patient.pregnancy.duration += 2&gt;&gt;

         &lt;&lt;elseif _patient.pregnancy.type == &quot;hyperpregnancy&quot;&gt;&gt;
           &lt;&lt;set _patient.pregnancy.duration = 16&gt;&gt;

         &lt;&lt;else&gt;&gt;
           &lt;&lt;set _patient.pregnancy.duration = 8&gt;&gt;

         &lt;&lt;/if&gt;&gt;

         &lt;&lt;set _progeny = null&gt;&gt;
       &lt;&lt;/if&gt;&gt;

     &lt;&lt;/if&gt;&gt;
     
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;

     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if getStamina(&quot;pussysex&quot;, _actor, _patient) &amp;&amp; _actor.pussy.current &amp;&amp; _patient.cock.current &amp;&amp; _patient.girth.current&gt;&gt;
 &lt;&lt;if _actor.ID == $PC.ID&gt;&gt;
   &lt;&lt;set _action = &quot;Fuck _patient.name&#39;s cock with your pussy.&quot;&gt;&gt;
 &lt;&lt;else&gt;&gt;
   &lt;&lt;set _action = &quot;_actor.name fucks your cock with &quot; + pronouns(&quot;hisher&quot;, _actor) + &quot; pussy.&quot;&gt;&gt;
 &lt;&lt;/if&gt;&gt;
 
 &lt;&lt;if positionCheck(&quot;pussysex&quot;, _actor.ID, $sex.position) == $args[0]&gt;&gt;
   &lt;&lt;capture _actor, _patient&gt;&gt;&lt;&lt;link &quot;_action&quot;&gt;&gt;
     &lt;&lt;set $sex.action.primary.actor = _actor.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.patient = _patient.ID&gt;&gt;
     &lt;&lt;set $sex.action.primary.current = &quot;pussysex&quot;&gt;&gt;
     
     &lt;&lt;run simulateStimulation(_actor, _patient, $sex.action.primary)&gt;&gt;
     &lt;&lt;run increaseStage()&gt;&gt;
     &lt;&lt;replace &#39;#SexText&#39; t8n&gt;&gt;&lt;&lt;print generateSexText(_actor, _patient, $sex.action.primary, $sex.position, $sex.prior)&gt;&gt;&lt;&lt;appendLink &#39;SexContinue&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     
     &lt;&lt;run sexAction($sex, _actor, _patient)&gt;&gt;
     
     &lt;&lt;replace &#39;#SexStats&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexStats&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
     &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
   &lt;&lt;/link&gt;&gt;&lt;&lt;/capture&gt;&gt;
   &lt;br&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if ($sex.prior.position.current != $sex.position.current || $sex.prior.position.actor != $sex.position.actor) &amp;&amp; $sex.prior.position.current &amp;&amp; $args[0] == 1&gt;&gt;
  &lt;br&gt;
  &lt;&lt;link &quot;Return&quot;&gt;&gt;
    &lt;&lt;set $sex.position.current = $sex.prior.position.current&gt;&gt;
    &lt;&lt;set $sex.position.actor = $sex.prior.position.actor&gt;&gt;
    &lt;&lt;set $sex.position.patient = $sex.prior.position.patient&gt;&gt;
    
    &lt;&lt;replace &#39;#SexActor&#39; t8n&gt;&gt;&lt;&lt;appendLink &#39;SexActor&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
    &lt;&lt;replace &#39;#SexPosition&#39;&gt;&gt;&lt;&lt;appendLink &#39;SexPosition&#39;&gt;&gt;&lt;&lt;/replace&gt;&gt;
    &lt;&lt;replace &#39;#SexActions1&#39; t8n&gt;&gt;&lt;&lt;SexActions 1&gt;&gt;&lt;&lt;/replace&gt;&gt;
    &lt;&lt;replace &#39;#SexActions2&#39; t8n&gt;&gt;&lt;&lt;SexActions 2&gt;&gt;&lt;&lt;/replace&gt;&gt;
  &lt;&lt;/link&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="353" name="Sex End" tags="nobr" position="1283.3333333333335,1622" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="354" name="Update Sidebar Widget" tags="nobr widget" position="2013.6666666666667,1479.3333333333333" size="100,100">&lt;&lt;widget &quot;updatebar&quot;&gt;&gt;&lt;&lt;silently&gt;&gt;
  &lt;&lt;replace &quot;#story-caption&quot;&gt;&gt;&lt;&lt;include &quot;StoryCaption&quot;&gt;&gt;&lt;&lt;/replace&gt;&gt;
&lt;&lt;/silently&gt;&gt;&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="355" name="Village1" tags="nobr" position="25,2925" size="100,100">&lt;&lt;include &quot;Unset Passages&quot;&gt;&gt;
&lt;&lt;set $Previous = &quot;Travel&quot;&gt;&gt;
&lt;&lt;set $Main = 1&gt;&gt;
&lt;&lt;include &quot;Shops&quot;&gt;&gt;
&lt;&lt;set $Guild = {type:null, loc:null}&gt;&gt;
&lt;&lt;unset $SlaveShop&gt;&gt;
&lt;&lt;unset $Store&gt;&gt;
&lt;&lt;unset $ragdoll&gt;&gt;
&lt;&lt;unset $cost&gt;&gt;
&lt;&lt;unset $character&gt;&gt;
&lt;&lt;unset $choice&gt;&gt;
&lt;&lt;include &quot;Mobile Header&quot;&gt;&gt;
&lt;&lt;include &quot;images&quot;&gt;&gt;


&lt;center&gt;
&lt;h2&gt;Hokoi Village&lt;/h2&gt;
Upon entering this trading outpost you notice there seem to be few, if any, permanent residents left.&lt;br&gt; Caravans have set up makeshift camps in rough, but organized groups inside the stockade.
&lt;br&gt;&lt;br&gt;

&#39;&#39;[[$villageshop.name|General Store][$Store to $villageshop]]&#39;&#39; &lt;br&gt;
A shop featuring a small selection of rare items.
&lt;br&gt;&lt;br&gt;


&lt;center&gt;[img[Sex Training|$iconSex][Training Battle][$trainingtype = &quot;Sexual&quot;]]&lt;/center&gt;

[img[$iconHarlot]]
[img[$iconStud]]
[img[$iconPrince]]



&lt;hr&gt;
&lt;/center&gt;</tw-passagedata><tw-passagedata pid="356" name="iconHarlot" tags="" position="600,3600" size="100,100">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAADJ9JREFUeNrtXFlMVFka1rEzsTvxYcZHQyeOmUxiOpnOJMbMy0zmbfqhH5qMySzEgEghLgiKiCWulMimAooowQ0FRC8ozaJGEJVFQXHFDddylwK1XBAR68733XjJ5fat4hZQFNrnT043UFXnnPt///L9/znlqLCVx3owPooxIkbnKPxHFmPEjPe9gEzbt2+MGP4bKg69gIwaJY8eJcRvIgARgAgRgAhAhAhABCBCBCACECECEAGIAEQAIkQAIgARIgARgAgRgAhAhAhABCACEAGIEAGIAESIAEQAIkQAMiSSkpKyNTc3Ny8nJycvISEhLz4+fqIAZJhlxowZwdnZ2Y0vXrxofPLkSU9bW5vM8ejRI7mrq6vlwIEDjaGhoUkCEEhycvK4I0eOBMBS66EY5+PHj52yLDtdLpcybt686YQ1O1evXp2alZUVsHLlyt+anXvfvn1jCgoKQpqamrrev38vYz7ZSLq7u2Ws211XV5d68OBBr9b4YgCJjo7+OjMzM7CysjL/woULMhXmSWDdMoCTq6qqYuPi4v7Z3/wWi+Uft27dsty/f1/2RhobG2UYRmxNTc1XvypAKioqEk6dOiW/ffvWK4U5HA758OHDL3bv3m0NCwv7u9HcSUlJP+7fv//By5cv5YHIvXv3ZHjVqpkzZwZ+8YCEh4dbmpub8xDLu+UBSk9Pj3z79m355MmTl9LS0vJiYmImIgf8PioqKq+wsDDv0qVLtzs7O+XBCHPM3r1772G///piAUEeCIYSHW/evHEbz70RJGQZwMpOp7MF47zdbpfb29vlDx8+DHpu7u/Vq1cyPO0RPPGHLwoQJldYW8j58+e7aN2eLN/Ta+5ep/KGAmAjIbjYe+fChQsJyugvAhDE/JCrV6/2+/AdHR3yu3fvDF+j5TN/fPz4UfaHFBcXy5GRkT999oAgeQeD7XS5s2zGeoYeDf00tHaGj7t377oFbChCFJmep3AHT3nhq0Q/LICUl5dbkHwdnqyaLOvZs2cKGHwfmRFzjFHIArCGrw0FGM+fP5efPn3qMWxybxLkswSEnkEwtBZH5bMuUD2CQhAYirReYuQFVBoBef36tdtwpxcUlYY5gQagFa7HWki7L3fAgUR0HD9+POKzAYQJvKSkJOTKlStdes/gA1GhoL19LF1NytqhfU21WirSCCwqmW0QrYD6yjdu3PjFe69fvy4/ePCgz/xnz56VtTSZ67mjzXyma9eudRUUFMweyoreZ4CwVXH58uV+La2lpcWttWtBoXJYpdNzaMFGIeXhw4e9yldzwbFjx5TPaAXUWKn2tcI9sKbRrs3Q1B91ZkWfmJgYC1C+GrGAZGZmBpPamonbVBoVqX9wKoR/UxWvKkgfZrTCip+FnCr0FnqB3kNramr6eAeFv2tB5mfMUuiqqiq5tLR03IgEJCUlxQLXd3hKikasxuj9DBf0ChUsUl4Wfe7mQfHWJ/6TqelDDr2F79P3zPi+gdYw3PuZM2c2jThAWIHDSh2eGoRqXDZTRXOeT63x3tzBhO5Odu/e3UfRJA/adahw5pTTp0/LZg3GbMEJY+nC+kkjApBp06aNSUhICAHr6OrvQdXQc+fOHUVharLmz/QGxPEne/bssS9fvty+aNEiO4owe3x8vD0/P9/Odkt9fb2S0I0UlJOT08dDjBQJ1qeAbMYbuC/WPcwt7vKcdi08U/f27dtTkU++8SsgBIPJ0xvKz1hPlsXKHSHuYVFRkRQTEyNZLJZJ7tYJCQmZumzZMunEiRMSclQHC0RtP2zjxo1a9uVSqSxDF6kvKK0LRV1TbW1tx7lz52SSDpAAF7u6rD1Uxsf5mEPIxC5evOhVV4CfycvLy1i7du3v/AKI1WoNRpLsMuP2n2K1C1SYuaB0586dNoBpQ9X7H283DuAiYI02WKUNiq6hQaxZs8YFZTMkuZhooZxSKNqGwtSWkZFhi4qKsoWFhX3Pz86aNcsWFxdnS05OtnEesC4bwqENwEnwdJnz1NXVeRXaVAEdlrdt25Y1EDo8KECYwLFpMwncxUIQD41Q2x4EbwhKTU0dsjNsKPe7xYsXB82dO5fzBq1bty4I3hYEoCcOAOhv4YVBSUlJQfCgIBhNJ3MOqbI3SZ+5Dp/dNGyAkNqSTWmTqH7DbEMgZrsqKyuXo96YAkX9+XM7hwdAf0GYmwIPy9qxY4eiaLMhDKGyC8+e5FNAtC10JlDGaCa8T70nJxKmXZIkJuVGh8MxzmazTYiOjv7D7NmzAwoLCwMQIkJgzc4VK1YoZ+RlZWVOcHgnwo0T3uYELe09R8f8TniWE8zNCa/ieTo/p5x3L1iwIGCwbXCQka+RlwKWLl0awHN6hK4AdZ94DmUAgICmpqYAWPskhKDJJSUl4+F9V/G7HSHRDqN7QzJCHVAXpNVq/cT/I2R2b9myxRkaGvpvnwCya9eu8UBdQjEnweolxG5p69atEpPtvHnzVmEEYuOBAC0QsT0Q4OSvX79eRihRYrK+dc4HYMxmxWtGeBCFpC7TWqGo/wHgwPDw8MlmHjYiIuJP3F9aWlog5ggEsCmbN29W6PKhQ4eUqj49PZ3xX/EEKprkg4SAYQtGIYPlxYLxBSIfBQLMyVh7HtiglJubq5AN5EcJeU2Cd0ggC8rfYEgSAPmbTwDh7RAsYFUHlG0FQFYkMisUe+Tnn39WKlfyfSqPNQcbdizo9CFN7WmRiurP1I3iNRVEFqOyIdYloMIy1qxJTEy0wtKtCDFWtTUOZf0IZVmhdCsKN2V/8EglYZN2G+UFrkFwuCdSXr1wv3wevn706NEarG9F+LYuWbLEOn/+fK5thfK/4/r4eSH3w8E85xNAGC6qq6sVOshB2srWB0MWrV3/gLQwPry7YpFAETx3DTx1Ps5NLyJD0ws8RUYoVZqDbJ9gX/fw2Ty89zb/xv4Wq/z+brRoC0oou1+WxZBNoyCrIo3mPhoaGqiPWrycB6/qpsEgHMokHD4BhPEWhZtptsENM7l7as4ZtbvpWQxvaqVNa6V1G3V5GWrgAb3guausvWFJ9EIYn2kQ3QEGkKqLi4unzJkzZ7yvWNZoTP4TkxoS1hsu6ulBqUB3D6WebRh5Br1Oe2rIOE4LNLqqA1Lgsemot36jPRs1E7k3kJcBgUEDQqhsQo02dtjqEBR18+DWEly2eyDXbagAbXdWa1n6s3fmJSO6yRDG19w1LfWfUXOAPhTRi43CEz3YG8/Cei6GaJCYapCbscNaGKoCyrqsublZokV527TTA8m/EZDW1tY+f2NIcteqIEtzd9HN6AIeQ5/eaxmi9MbxqT9l+joRnl3pQmzYsKEUSXyCX7u9sIZvwU6CAExtf424/rqoVJb+6icVbyRs/JGSGgmTOUOf/uSRgOgPrdytoZ7zm/AMJbmDUpcOpEPgs/MQsJ2J4OQtg0mGtEjST/3FAiNhg5FMyl0cp/foLZy018jqyRqNLmD3d8auAgejrB6oZ/j0xJDtZ4yrSOiOgRz60NrM1CX9nZHwM+Xl5b+wcIYyo9BqlMDNnIUw/6DeaQoODh47WN359NYJCq+pAKXF20ttakI2S0890WqjM3V3X0lgsveWlzDH0DOGAoxhuQYEDm7lpn1105CW7inGs1A0k5QJEHOAF0bjIhVnAp8+ffqEodKXzwFhGyE9Pb3WqHXia+F6ZD1mmZ/+4oOnkEoCQDAGk8D9dnORm161alWL/s7UcAj7aWa9k6eGZoTMbigSuF/v9loslm+QNP8Iy3KYYS1DJWav86jHtp6EoRGs7klUVFTjUOUMv95+p2zatGkqmE8L64OBHI/6S0AcXKixmqqrqyf5Uj9++cIOv4JWUlJiq6+vf+TtV9mGOwdxoEh1ob6qy8rK+t7nuvHndwyRV35obW2dTybkq68XDAYMCoym/eTJk0G8HDEcOvH7lz55M4Nn1kVFRVmsoAcCzGBb7UYNQlbtPOlEiP3rcOpjxHxPncDwfmx0dHQFL8qB4zv41QK2TNgbYxOSgyGOv7O1wtfb29vfIqTYQRjsx48ft6PusSO8KAO5yt7Q0GBvaWmxt7W1OVhAqvNxHs7HwpItFr4G2vuhsrJSuaSHffw3NjZ23HDrYcT+Sw68FBcRESEBKOW8uqysTKqoqJCgaOUMPy4ujpfqJISSGJMsb+qcOXOU+bKzsyV4pXTw4EEpPz9fysjIkCIjI3nuvcXfzy3+8ZkRJgIQAYgQAYgARIgARAAiRAAiABEiABGACEAEIEIEIAIQIQIQAYgQAYgARIgARAAiABGACBGACECECEAEIEIEIL8uQMQYGYOXnX+DH3qEMkbG+D86Lnb5Sgj43gAAAABJRU5ErkJggg==</tw-passagedata><tw-passagedata pid="357" name="iconStud" tags="" position="600,3700" size="100,100">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABkCAYAAAAPM4elAAAABHNCSVQICAgIfAhkiAAABftJREFUeNrtnF1oHFUUx2OVFPqh9EPMgygYVARBqObBikX8aIXW0tanklYQtQ/WFpEKFqEspfiqiBYRH6xIqcGa0mA0mmYfNqKYSBN0Ibjdz2R3szuzs7PzsZmdTXb8X9mEpTVmvnZ2kj1/OEyyWcKd3z333HPuvTMdbwRGkjCDzFvraAAvvB4Y4cmaa7eAf+3ctfs7SE0XgSfwBJ7AE3gCTyLwBJ5E4Ak8icATeBKBJ/AEnsATeAK/lm7QMIzbYethdxB4j1QoFF5QVfUGoBuVSmWG5/kDBL6JikQi6wH6zDxkNKhWq5VFUXyPwDdB0Wj0QQD+EWb8l/B5DZ1yYXx8fDuBd0mZTObQwsLCtGFCuq5fx2UbgXc4gSqK8i6g64YFIf7nY7HYLgJvD3ongH+1XGgx4fkSJt1nCbxFwdNP24XeCD+dTj9F4C1IEIT+myfParU6bRW+pmmyKOa6CbxJAfLzjR4P7+VyudwRO56PmN9P4E1qaGhooyRJYcT5Sp3fVUHg+9lECxNYX5gFX6stVFOpVDeBN6FwONyZTqcOcxx3GJPkQVx7kVY+zapWWZaPIWcvWfF6dNZpAm9CiM3HWKipGw9wWRSsWfys2Ak3CF15dOZWAr+CAPqE4bJKpdJJAr+CRFHsRjiR3QSPzpxg9QGBN1G5IiPZh5z+KELFFYSZOSfgWdgql8svE3iLwgh4dG5u7iKuVbvwMXf8ReBtKplMbslms3sx2R5lo2Fi4o89yHw+MlPpskJsejrRS+DdC0vrwDRoxusRbsYIvLvV7m6TXq/juzsJvIsC1BGTef1VXG4j8K4trvHHzXg9UksD80IPgXcxBUXmoposqH4m8C5KkqQvTRZU1Vgs9hiBd0kcx+2zkNefJ/AuKRKJ3I0iy1SVi1pAjkaj9xF4l6Tr+phZr0c1/D6Bdy/Of2YWPLw+zdb/CbwLghcHrCyeKYrSS+BdUC6XO2Bl8Qxzwq+BQGAdgXeezz9hBTw7jplOp3cSeI/B15cRPiTwrQFfyOfzmwi8sxi/285GSaFQeJXAOyuiAnbAq6o6SuAdSJblgM0N8crk5OS9BN6mADBgd0Oc5/k3Cbz9yTVgd0Nc1/VLBL4F4DVN40Kh0JZVAR7t3cDKbsTWPjT8Gn5WUQ2qpVIpjjStj53igm31Cnw2m/nNyfkb3MPDvgaP9OtOURTPobEzJm6IRyd8EIvF7vFgrWbMcCCAf8u34DOZzA7Ew3GrT26gPL+RSqV6lhk5nRzH7ZUk6R1MkF80GkbTmWKxeGh2dnbjSm1DmxyBR8d97kvwgLMD3ivYvTGEIS0ejy89GIz8uYedEkOnlMxs2QHsFYSzV5brBHzNEXjoB9+BR6PuKpfLMw5vjHl+BpeDuH7PzrrYzEDiSP+ONLZvcHCQPYj8t5O2wRES7JCUb8CzpVN45gWnD4a5KbRlIZ/Pf7e4mREO/94FcE6dwrDznoSmgUeIeeamJ9r9At/AJH+xPiK7XHIM/4DXtPJlw79irzk4jzD4jUv/zx/gMZQ3sYnNaAPVR4w/wCOLedFPsb2ZUlWlFgwG/QFeEPiPjfaRf9JJNKZtwCNzI/CtEOayk74Bj3K9nUKNf9ZqNE3d3y6Tq6/Asyej2yWd9BX4+nLrTwS+BeALhcIe9hjLWi+eNE3b7yvwrKhAoy6vYejzpVLpE7unh5u6LKwoSlelUuHXWPpYmZ+f/zqZTD7n63M1mUxml67r8mp2bsBmi2q/YAS/7daLhDzZ+kskEk+i8X+uJtoYqVnYt6qqHhdF8QG3mXi22T08PLwNN3IWsbHoo7DBdqaKsASysEsA/Cm8+qVQKPRQszfZPT/eIUnSdlS2J+BJfbj3oCgWq+iQf3dymNULr1rdbhn2//P5Eky2qwSIrIODzNi7CwRBCOLzs/j9VC6XO4W/Py7L8iPB4EBLXnXb8gNNo6OjmzmOWzKAcWxTU1ObBwYGNvj5IBW9uJ/AE3gCT+AJPInAE3gSgSfwJAJP4EkEnsATeAJP4Ak8YfEW/PXFX8i8s8VeUAmGt/YPv9kFy8e+qtIAAAAASUVORK5CYII=</tw-passagedata><tw-passagedata pid="358" name="iconHypnosis" tags="" position="900,3700" size="100,100">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAA3NCSVQICAjb4U/gAAACvlBMVEUAAAD///////////////////////////////9xjsb///9mgLP///9di7n////////////////////////w8PD////x8fH////y8vL///9mgL/y8vL////z8/P////////////////19fX////////29vb////29vb////////39/f////39/f////39/f39/f////4+Pj////4+Pj////x8fH////////5+fn////z8/P5+fn////5+fn////////6+vr////6+vr////////////////19fX////6+vr////29vb29vb7+/v////7+/v////////7+/v////39/f////7+/v39/f7+/v////////////////////09PT4+Pj////7+/v////4+Pj////4+Pj////19fX8/Pz////8/Pz////////29vb5+fn////////z8/P29vb////////29vb////5+fn8/Pz////////////09PT5+fn8/Pz////8/Pz////09PT////6+vr////////////6+vr////////////4+Pj6+vr////9/f39/f329vb////6+vr////4+Pj////4+Pj6+vr////29vb////9/f3////5+fn////////////7+/v////9/f35+fn////39/f9/f3////////39/f////////////5+fn7+/v9/f3////9/f3////9/f3////39/f////////9/f39/f35+fn9/f39/f36+vr9/f3////////9/f3////9/f38/Pz9/f329vb8/Pz9/f3////9/f34+Pj9/f34+Pj8/Pz////////////9/f339/f5+fn5+fn////29vb////////9/f39/f35+fn9/f3////+/v75+flmgL5lgL5lgL5lgL5lgL5lgL7b4d9h7X2iAAAA6HRSTlMAAQIDBAUGBwgJCQoKCwsMDQ4PEBEREhITExQUFBUVFhcYGRkaGxscHB0eHh8fICEhIiMkJCUlJygqKywsLS0uLy8wMDEyMzQ1Nzc4OTk5Ojo7PD0+Pj9AQEBBREVGR0dHSEhJSktLTU1NT09QUVFRUlNTU1RVVVZWVldYWVlZWVpbXF1eXl9gYWFkZmdnZ2hqbGxtbW5vcXFzdHR1dXZ2eHl6enx9fX5+fn+AgIGCg4ODg4SEhYWGhoeIiYqKi4yMjY6QkJKTk5WVlZWWl5mampqbnJ2fn6Kio6Okpaanqaqsrdjj6/X2sMs8fgAABEZJREFUaN7tmvdjFEUUx793l2YoJlKOgwAKkgChSe9VURGVFiEUKQpIB+m9K01QCViw0DtGQm+CUlWqKL0XyfwXzO3u3c3s7YaZudv7hbwfkvemfXZm5+2Ud3j8xHF5iP/zHZdHFFK2iLOSn08hxeCsFEIKIc+SZN/YnDwSkO05X7/8UpQhrg5HiYWseN8dNUidP4itnM6KCqT2CVKwDIgYkrqGPFs6RwZpT4Tkl9QIIB2IqFRQhbhWEXHxKkK2ERnxKUE2EznxKkDeI7Lik4Y0JPLiloS4FBhkh1sOMjC8iTNdX/HTu0y2p3wgBYkPqz9MyH1elIEMMLt0Mp//jQ3kRxmIqW4TmhTX87xuLIyj1lc2lExxSDpfsyVNGsXYw6n9vTXkpDjkS65icyDpBpcyL7yz9l2xg3DVVtN5cMfU1CigvjVkpxokBTDWrUNv0bwWa/1qOnBL0CNtIFXYSnOBTro22cjuTfU8YLQ1ZLAgpAk/9T26Ml5zkdLQmwcaMIX21PoroO5TgPwJ9NCU/UCKfy3+zYU4DcIOanHUC+oKkJ7A38R4Cxc0ZSyQS0j/aEIqwh2oa8yn28BqQsZwkARmsilA0lApMFqGP67UID4Ows7oOHkIUDkAGaEpB11a84CXK7UgqE8Qg6RaQKiSQf+O9Od3JOQAMDRUaCawwdbn7Zzx31D9cgFITa0Db9Dct/WWroYKxbNjJ+rx3dkXX1xXlgFd6b82ra/oftneqrsyEOa5ageNJCCHBH0/mV/QZihAvghW+Qn43Fh+aXrnS1RZX4lql7mOME/1nzBkCdtCiqHNCeUn/cMwJgFtQtYnwpCl7EvBKUM9l2hkt+U+iTC5jMLy+zvwWtBYnl0CWRPucYzywPyQtVUYMoRtpCqwroDN1kdABcZ8VRSSwLVyGIFZbMNwM+Znwmu8aTnqVADlQ8CTy9jJopCwLWodoK41oxktvZux3xHed00Pa6sadb6L4YhNZWjpvUzCEfFtqsUT1zWWdlb2+w8kZe6zSUWFIROtxuVd/wa5UcgFrw3Rtr19uULtxI8O1qN/THtKT3rG1O+yM9ITtJKteIe5KX4IamQ3kaakceUSX79hKpAqDvHa+8TxaT6P/unyvXkwLHekzJlxC1GSu5Kn35QDChCv7BE7U56xXPqyoLo8pCSc78mviAGkhTyktDQkUeGWqMYDSYjSfdcpOcZiJYhkRxYpQWbGAuKKBQTNYwGReyu7YgFRm8LoJ4O43lQNMkgcsaeK6g13tihiY1oEd/WCjLYRRR26iSDOuyKOn2SPo9JL14dbMT6OdkyrVDijX/QDZyPMjMoOROfMn7OKjoQAZ5hPLY7EGeXfhwJkdogxyLmIaZBx1sGw7CyDcd/jICTe/rI8igHmTzVGH2ej2El+xs9Oh8q/tbhkjDqklH4Sdjjov/eHGPyyoHFC4W8kCiHPI8R5wQuPnYc8BehQ/6ug4n9nAAAAAElFTkSuQmCC</tw-passagedata><tw-passagedata pid="359" name="iconPrince" tags="" position="700,3700" size="100,100">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAACaZJREFUeNrtnXtsFEUcx6uAID6QhwGMQY0ajaCoIIhCESRKEMRHkEQkSrSK8EcDBjDxD6uoQUANRiKRt1FEAqIBFQEpiJEINUHjoQSb0havpfRxves+7vZ21++vt6vrcTe3e7f32s4kk2uv292b+czvOb/dKymrOKDzXji9xPJLhPe89v8B0Up4y2vjQDgQ3jgQDiS3LRQKXRkMBseFw+Hp1KPR6HRBEKa0tbVdq+v6hRxIlhtNsizLkyKRyFr00yqarmt6fNM0TQecVkVRdnZ0dMz2+/29ORAXG02oKMuLMMl1ehoN/9cOgCvb29v7cSAZNqigadFIeiASSE0TzvcsB5KeeuoJ9bRO1VRNd7FFo6oOVbbNr+u9ORCbramp6VKomIOquyzi1dhROAT9OZAUraamphdgVJKKyXaDpPx87ty5yzgQRoP7ujEN2xDBa4Px6hTKdrxcwIEkaLAZ01QbeoomHVJ0DMeXQ+3cjLe6mW4xPKkb8bcyTPQeHBe1cy5JkuZwIOcb8Yuwwk/bWNENoig+aitwDIeGAdrBznCFfc7mfLvEBQcEq/TpVOoGE/tLS0vL1U6DSQBcQkFksvPTu5CqdzgQS8MqPcICgvn8GzHE4AzUYTlLHeJvzfmM6AsKCOWeAENlTJYaCoXGu+AwrGdBx99ncCCxaPxFlqrCRG134zqtra19YKdakl0HautTDgQNk/QRCwjsS6mLbvUKhnE/w4HE7MdellflZiodbvI9SVUj9FltbW3fLg8EJsLHCtzczgSw4pNAIHBnlweC6MzHsB/Ls7AAGpJdDxJ0b5cHojGAYPIWZcFmtXMg7BX7G0NClrmssq7QGL5vICCM5EZdUb5j2JAv3bxWR0fHJFZe6+zZswO52xuNfMjYt2ijPJdb10Ks8W7Sa6mqUFVV1aPLA0GcUcZatVBbs9y4Tn19/cUA3MCQxiq3xtTY2HhJ0QJBBD1EZaRkMVG+U6dO9XQhKFycIuu7yqUF9mQoFJpf1MnFaFT5McX+R0aTJQjCCDCXWUBkWX4wI/dd17vhHMsghZoQEEYUNRCsqtmsxB95RqIolqdzbtq0gnTUp8gmN1FhRQYZgAG4xh4SdCwusnvdixoIBtADK6smxe6ehhW4won6osI62oBKtWuI41ZmIH1T8NkbLa76rqI26pbJm5pyCxeThwn+A9Iyk7UK4d7eTmkXSuun2viiKkda4Wm40AMh2Vviz4/3XvMEEMPwrrezD65qpBqiZ2FbPsfEvwyYC/DzArz3Pn4/ztohTGCfXnCaD6PrRRWlJdE1AOp+zwChwWKF5aQMyFjNW+1+tpaWlssJBID7GYAjdJxngFAzCuX2pSpOyLS0VAkrX6UKOn0+30WAMJnKk/B52lOdF8f8WvSBYTIjj4lYxdraTbeRNgPwD+ga8dclh4FS8Pj7PKqeNxORdiUWx2/0JBCzIcC6D4NsdlMy4BW9BVU1Dv0pQF+IvgYS8DUA/IkezURdkj3zBBCqHsTk3xKJSHOoJAcQdmNwJ2iFanpu7IkbDZ99dtECobpauK8zMOkbKMeUK0OeZSehtKiAUOxAJaNY/Tugyzu8ACFOQkYWBRAYyr7Q00uoXNRjDIoLCNVCQYyX2nEZExng+J/p1drtnofVqZhUc+BJpQAyqiCBGJnPckpL2PVczdvO0H+IhMObIVEVOMd8eEWPAOrYtra24bA7g6urq/tQaRAVQDAyt1PoGEbvjiB0kN/vH4LIejhF17jGLNi0xeQSQ6VWUlGdU0h2C8FzCgSDuxWDOmojHghj4N9jYt/ApE9FQDjIyXXwv0sZ7ucENzw/ut2BFoVxe4NiQ0KeLygg+PBzsbIkhgTUkVsLaA9kuumUbSAJUuz9MT4KGH3JJAdje68ggJAKkARhXaIPCknA54xshUqY6GYVYq6BWMZKtzjMSAQG7x3KOxAjzbEdqz8eBN6WV9MWbTYmJl9A4uzkIto7s4xZor37vALByl9jTQQahQm7IOI3ZXNC8g0kzmaeMKUF9vDhvAGRBWGutfCM7IcgCWW5mIhCAWJmHWgLN7YYI5/kBQhWxiAACFnvQoJuHZ2rSSgkIKYdhaRswpyI9GCcnAOB/lxrKeWXASOndbGFBsQ0+JiXbU736DMGgoBqAFaCYNoMCqhyPfhCBGLuqQDI/kAgcH3OgEBfPmGxG42JYgro1asAagxFwtl4flWhAjHU+UAY97m5BLLcEgyts7rA8LpepZIeM1dEHhht/lAwmM7gmpub73IDiJFXu6YQN+IyBgIIH1sGv9BMNWDA38QnBU2XGMcpkJjHHdsqUTyO1fZQJkDIC8Ii+Ql/KvUkEEjIZ5ZE3kIjHpkQH7kSDEzmc6qiHDdSJ+1OPRBM7kn8HzkNM7EQhlv6FkZOaZ55HK5/B14PGX8q9aqErI6XELwuSVL3tEEKSNdRMpES3QD3ulMgiQoNWFUp1vR63HHeBEKb+fE2hB6PkUR9HDD+p5I2HiKwJ+kAcal5EwgM9GRzxUKd/EXv0QNcMHlN1pVMqxMq7SVDqvYaqzfIgbgMpPPpPZj82ASrOuxCp7GmTSRKIQDSGboBRpYjna4f2Q3ACRoAazmQLETqUFGvWB/LSlXgiY6D5NwA6Thiqcyo4ECyAMSoIDms/feYI41KKTH5m+kGG8rrxJ7yoyqm+oL0HKP6XadADOdAQq8zu6LEMgWJvSyl2XJsoEsAoUb30mGSNyW7Je1fT0dTNXKVKThLw6M7qUbVJrrFIA7Um0nroxRpokVCybaZBdzeBmKJgm/DhL8N1XUYbOow+Dp6xUQcpTtfKX2S7rmhCvfBBg3LJDCkhYP3vkDvGkCy2err6/u5kTqhTEI6twpwIB5ILnIgHAgHwoFwIBwIB8KBcCAcCAfCgXAgHIi3gdATfeKrVpwACQaD050+oYcDSdFkWT4kiuJKM33PAiJJMSBUHxUOh3fSt7RxCXG5GQ8RoD2X3/HzUDYQaQLgPUaPZqIKS6d3Z3EgNhuV8xg7lCJ+rmbcyeQzq/JpW4DbkCw1KRQa7+TuWyo9cvolMByIcynZbwtITFJWcy8r21IiSWPtfHkY1Fo4W7fTcSDnS8kBG0+K21gs4yl6IIhL7mY9w52+05DKjziQ3ErJXoaXtYlH6jluiL7HJpIS40vEhnIg+ZGSfQm+4mJHsY3DM0BgJ0ZbPS56RmMmNWAciEu2xJJU3FmMY/AUENiSMSQl1EVRHMWBFECD3diN/m2xfn7PAaG4JJdPkeBAPN44EA6ENw6kSIFEzF94z3uXS56pqOzFJ6JwgPwDfSb44yNgNv4AAAAASUVORK5CYII=</tw-passagedata><tw-passagedata pid="360" name="iconPrincess" tags="" position="700,3600" size="100,100">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAADhlJREFUeNrtXQtwFdUZ5lECETEIFsgUUhl5BkOh0EEIQ0pLW8S2FoXRCaApbc0gaEdeUqWQ2lIBKVMirYUAhRQYeXWKQQgQSEgCCQmQEB5JeQiCRAEJKCCPkHv6fddz02Xde+/u3t29MezOfLObm5s9j+/853+dc9LgNyk7q4AbLuoETjSQD8JFnUBlLSHj3sx78JX5eyJdhAc+UmoJ4YcN3Ctsl0uIS4h7uYS4hLiXS4hLiHu5hLiE1P1LCNGwsLCw7Z49exKAXwA/LCoqaucSEqZr165dHUHCX4FTwB2gsqCgYEFeXl4XlxCHr+zs7Ga7d++eDhKuAkKBz0HKzIMHDzZ3CXHw2rt3b2t0fr6KDAGSPPn5+VuAri4hDl65ubnfhCQc0CCE9xwgziXEwYtTEghJRcffVpFyE6Tw81YuIQ5bWJiW+oKU99H51wEPiLgFZMDyesxV6uFR7N9A58eChHcBSsYx4FGQ1cglJExXRkbGfZCSf9HsBRlngG+7fkgYL05bIKPIZ/ICY11CwqdHGoGAF4BLkpA7lBb6KC4h4fNF3gFqFFZWMdDbJcSAIs7Ly3vwyJEjEaG+C9LwXUmA0uy9gM9/7RKig4ijR48OKy8v34h7Ce47Dh8+/DTN1xCmq0TgCxUhVO5/R3ktjb4Tg6RdRUXFSNQtuaysrL/T1pqjhBw6dOjHIOIyUAN4JC4CY8yQAmXeApKwnP6H2lsH9uN3/QySMRB1qQAZN3C/CVzDZ+8A99dLQtDA7YBAg5UgKdv27dsXbfR98D86M7qrQQZxC4SMw3ub6HkXvncfOn6fun4kBVI8vr4SclpFhpAdUITO6GX0fej0ZD9k+GJa7+rNjaD8WHa+xoCpAVbWV0KyfA1W3Ckh20tLS79lNGyCTs8ORAhwjj6KBYSsqK+EDJdzcy0pcp5+ee3atY0NTlc90eFXghBSAyl5ncZEsPcdP368KepxSNZJKcFX6+2UJRudiEYWANclOeP1zvMq64pZwuoghBDleH+UTinph/ocA+4At/FzFchIo36pk4TQb4Aj1hd4AiP0R2hsJz2jT32VlJS0RIP/zenKjO5gehZlH/JjXWnpkqf1ToOwBH+Kel04+uX1DD5rHEoHo/xI9FdHGBjdUY82lhHCF8sQBRNC1+h8AZtQyA+M2uogoRN9EFpYeH7NqO5A415B2VV6yJCEbNQzcPhu1GcEzV7gAyAuRDJaoexXcf8PsAPP/+RAtoQQSgVeeoLpUUVj+bwHhTxgpKJoaAJGX5mco3OMjEKU1Z4dLBc0CJ2oxN/10TFQIiAhU2S9qnFPDMUxRD1TgM+YwZRZzKBhHSMSwjn7lkZj78CSecyghIxCgz+RDT8HC6uLgUaOYIjdABneDCLw52DOJx1A1CdNYXAsp94zQ0ZWVhaXJlX6yFAQchMSPtsKQhb5GZVcUDBYb0VpTXGaotKUjb6Kn5P1/K3MoS9WBRL1wPOlIBf2DCK5rVGXfIWFVUl9Z4aQ4uLi3jKLqVWXtVYQ8hzwsUKR+u7H9SgrVaMX+cxLadGsCDYSpd/xE+C0QTJ8oIk8JVBAE9NVB9SlSumH4PuPmyEEgyeafpBWBAGYGzIhUIoPQRLekg3zyFFajhGbZMSHQIM7A5sVhBAFdMyChTa4cIE6TDUF6JYS/M023Lv5KwMmbjzjbKqwzsJQdIhKSthvJYxQW2L2UhJAyii8NAuowM9jjNrotPWBMpVHfBY/PxtEmceizI805mRDUsKwvD8poQOoEcs6aNYPYX+hvGXSKqWZns7pPZChYNgx3Lx5c1MU8hpwHvi5ifD242jkFVXDbwOzAk0naNwcvX5HMClBp8T4IWSxRqztAu79TaYb7peEHMD9ZyQomGFhmBDpJY9FAR6AXuxDRvIh6PSXZPxK2Wj6I+/TP/FjcndBWZ+GSIYPXMP1K61pFnXRivZ+AUw3mTzrLv2lLEq4baETSgZAU/I8WB+kN5fBhW3ML6hHoWz4GfxuqNbfUNQN+h3BcJhKVxXWeQB1+EwrPcCE2smTJ6NMEDIfYHnrioqKOthJyBAU8gkbRzNUbyoW32sF7NBoNFGN301UW1uS/DMWTFd3ASN2ssrCGsD4mtZgAUqBAQaTZzHSX2K9V9Bkt40QFDCASl2GJS4BvXQS0g44o46oKkzMNfg8WumVA2tByG0ryZA4qrS4oD9eZLDTj/ReAsYZlI7X5SpK9lGqXsPAFCF5eXnfQYEFiljRIp0p3J4Kh1Cr4R+WlZXF+fQN3jsO7/80BKsqEOgPzIcuiZCD5W2GSzR0iJAp57/pjRpT5zGFLMNMzO//Sa9rYFZCOjGwqCDkPEj6vg5CxvgUuh9CPBipz7Py4DseKJWWkeWEyM76ABjJwCnKzlUbGwpCiN16ItO0QvHueVx4Iet8DfdJtuZDuIVMLi6ojWdRcakVpYZZudDPHK3EWk5VeP8aqRDtBEnJKi4uHoHOLvej23zEXJHh+IaBLFDojmF0mBX+0nkjKylNESLt6/mqxtEveZmjLYCXnhOMEHznY7znj3jPDZvJ8OEGLKACDJaqIITwPquioqKFv/bRksL7VjFxppBqSuFwWwmRU8p0lSnqkZtnErRG0dmzZyN9Ed5AjYaZK3SkZi0F6n2npKTEE4wQOaAe9he6x7smKPM0kpTD7BPbU7iYVl6UC5uVjWNK9T0tmxuNeRSNuRaowVDoAgpROEmGghRv+coFGBp1/JyL5/xIRy8pDUJFyF4aQbYTggY8w9iSn/zIGgYjVYSMkZk4v5IRLjIUvomA4UHzW2gZHlT6uE9TZh/lpqEY9Md+ta8kCdlJnWg7IdwPDhwJ0MB0KMuuvkAaGvIXOn/qEcjn0tLSsJPhA+vB+miRwmfmSzj9+qZudPj35HKkGj+xs41GVuKHIiFc5FwYxM7PoEJjvAsNyZT2fG3joEjFgQMHhAPWlGFSoFO89dMg5Tqk6BEaNujsJ1H3nX4yqUKStNyRZUCoyMMyvxDI1qe1cQLfXY8Gnse05OE8zemJRGDerVNEqHUK66cmhpKzf//+t9CuBcB/gyxFYrzvTUcI4cIGFLYhCCE+069GRoe983Rdk4hgxFBiSA6mYO8dbbiiseJeC3QKX3JsoRwK/IfOxWr3Ki6DzOFOEjJD41gLF/+fIS4aXZETKiEvsFC38/2GZSqNmLwhEwIynjCxRupewgmjm09DIkSavsccEn9DixtsCNebQb6ti639rKootTqbp8aOHTvE7NmzRUJCgujWrZvo06ePGD16tFi2bJnYvn27wDxd+10+b926VaSnp4vJkyeLESNGeDFt2jSxfv16kZub66QOSXeUEJlEyrGLEI7yLVu2eDu/cePGgpEKJZo1ayaGDRsmFixY4CVm27ZtYu7cuV7imjdvftd3GzZsKDp37izmzJkjcnJynCJlhqOESMVu9QKEu6aoqVOniqioqK+QoezomJgYMXbsWJGYmChat27t97tEjx49xOrVq22f0mQCLNFxQmBF/EHjeCRLsGnTJu9oZ6cH6mQiMjJSU4rUaNSokZg0aZIjUxdI6e84ISg0iafw2NGgxYsXi65duwbtZKMgyZhunSCkjeOEMPftZ5V3yOB8Hx0dbTkhJNluQkDGORgXzR0nBA1rh8Jt8dbnzZsn2rdvbzkhsbGxTkjIrkDpbNsIkTmBj+xQ6jRru3fvbjkhgwYNcoKQ5VyB4jgh0tLKtaNRmZmZYvDgwZYTMmHCBLuVOi2s35vZEGsJIXKFty1+yMSJE0WLFi0sI6NNmzZi6dKldpq9Hhm2H2Vmf6JVhLxq12ijszdw4EBdpm8wREREiOTkZK/nb/N0xX2E8WZWzFtCCHyRJ+1s4MqVK0XHjh1DJmPo0KFiw4YNTjiEZ/Pz83uEjRAeWGx3omrWrFmibdu2psigM9i3b1+7pyolClHOI+GUkPZ250UYf5oyZYopUuLi4kRaWtpdQUibEXRZra2EcFUJV3vbHX7n3D9jxgzRoUMH3WRQMlatWuVkOJ5Lf1J5hGE4CYkKtuDBKlLQUK9/0q9fP9G0aVO/UxSDjElJSSIjI8PptC11yG/NnidplQ6JhFUxx8mGZ2VleS0mKvsmTZrUktGyZUsxZMgQkZqa6mjuQwGGkUY2MHlZQggdIFRivNONZ4cvXLjQm4CiRx8fH+9NRDFKHMY8+ulgB8zYToiUkuE61yrZksRasmSJWLdunVdxhzl9W8TlpWEnhBviUZGzYVpuU0uCTdvfjIA7yzqFnRAe7MJ0LnDb7hx7HV2DVS13Jr9h9LgqWwjhche5Iv7t3V9eF+Vi4/pMDk1c7pEpwz2NG3OMHldoGyHKcDyULc8lSeYJajxsRZ714aknkkASuLP2FBeR4z4VEjHQimPTbSFEuZGFm+WZVwZ+yaO/5QEs1Qp7/etGSJU8K4VnvQyBNMSYCbGHhRANs7gVN+rzZAaMqLnSGrleRyVHWSfuGXwPdeWG1gHcLWXnKaWO/3cESg7nWTqTPF4cBD3FDfwy5XkaDefhmjyn8IZcXuSxueOrpbl+RZ7dwgPZNvH/INKfyMzMbEX9aPRc4a8NIYEu/i8Q2vA8hwsj8Q2Z+MqQW8b24fNy3D/kyXY8XFLuv6j2M/155O+uA5cBnn94Sh6pwYMos+VhmotQ1u/w/Cw3Z5pZmFBvCVFfKSkp3IjfgnM1TxXFM88KHgminpdTyGTcZ/LoCgKf10J+NhN/MwXgduXncH9KHpzTm+9k55v9Vxn3JCH34uUS4hLiXi4hLiHu5RLiEuJeLiEuIe7lEuIScjchLuoGGiSlZDfDQ5XbGXUD/wNbVwFg7DIAtwAAAABJRU5ErkJggg==</tw-passagedata><tw-passagedata pid="361" name="iconSex" tags="" position="800,3600" size="100,100">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAEx1JREFUeNrtXQeUVNUZZoGFlSJFQVEjgorSVFBQiIaigNgAxYIHxAJoTOwQbOjaokYpIYLCsrQFRI2JBsSQHEU0SmKJ5NBMggqKGIWFRWD77Ob71u9xhvGV+9qA58w75z87Ozvz3r33u3///7u1Rue+WZyhg4NG5b65vRZeVGfooKFiC5DiMblLGmTowJEFyj5AamWuA3plAMkAkrkygGQAyVw/CkCqq6vrgLJB9UA5oAagQ0D1Rdn6TFa6F4LPBNXVGOrbULb+nvWjBkSTaAhqBToDdAnoWtDNoLtAt4FuAl0PGgo6G9Qa1ESg1Y55g3BDHA46GdQbdBloDOhGEV9fp/d7gdqBmgqkrB8NIOKCI7XANyUSiSn4uRS0GrQFtLOqqqoYtBu0A7QV732Cn2/gs7Pw+j7Q5aDOoGZcvIjHdoQ2yAjQY3jmIvx8G7QBY9gGKhRt59hA6/G3t0AFGttggdM4yk0TOSBi/ZagfpjkQ5jIctAmUCneq6r2uKq+vyoFEsHjQt0O6gE6LMyulNg5GnQ+KBf3f5WbALTbZGy6EiAC9RHml19ZWUnO7kjxe9ABIvHUCXQP6E0M+mtQRXXwi4tUgnt8BvoTXt8BOo1iJsAmOayiouJcLOKvxQlfg8qJfqCBfX/twf3WERiJ2yPCirHIABEYAzC4ORjoF3hd5mPXmUyewHyK+y/EW1dIHNY25IoOBFPcWgNEhGNLgIpAq/Dr/aC2YUCJBBCBcSGIE94ZdNf5mPzf8OtY0AluukUKuxdAnIbvUDcURwWEzdi4ATeBpoQBJTQg3KWgKzEgKrw9cU3YRoz9Gws9Ea+7kAtsxkXL7mKKOtC3FJ1xbZQkUKj7vsG4ZuLX49IOiMAgZ7wD2psKhtMCVNlcPoHkVyowcU5+tvRK3aRx0VweBFqlTZIwvWnq+AKMi1xcKFAapw0QgfEzPPx1kAVGlcPCc5ClUvJvYbBP4s/XgM7lPaQQx+P9BVTgeL0LP10VbtK998hk7SLRWUcm6QZQhdOC2oyNVt1aKWgaD8NBF8n/GEvdRbHHsfG+HpuN9/yW5jSoUboAaSPZXJg6uOQdhs+UcZE10X7yKepr8WqLLA8+R2bpNfjOK6CvKJuTdqvTApTi/ovFKQSYVlnCReRV6at7QGvw3efE6S01huwkcK2xNZDOokP7hgBM2I0ryXSn7zKSfk+sgOABh4JGg/jASjswKCbw4zvQCtjqV/u10+U9E5gllMuaYJWHf7BUfoWrmJQFSE7MA53DDeJzbG0B4uOgT504WY/aK3O9m6nz6BsQ7RxOgjt4j8vEd+DX5/XZeiGstw5yMNeaOpdu4kk6ZaVCIq2CWkPcMBjXrbjnxxJ5VQ5W4Zd4OQHUIi5AyNbj5X077Qx6vhQhZ9lZQAE9/1G47zvSV0HAIIcV4q2X5Kk3qhXyEig3U+y5cArB+ite9k02PCIBRPL0TMn3Eoc1oMJbgZ99gnKGi5gcjHv/WRadH0AIxlYs3gyO36+I8hgXuexBcoKd3tLzN+PZ99KZjRqQQ3HjMXjAfxzkOd/+irvZb3jDcPJUrBczLAMqNfRZOKZvMe5npfSzIx4TObgT7l8gx9NuUeg3LZHEqB0lIMeCptrpDj2YbPsHxo1iDJkzLH8tnvNPhUC8/IldElNnR8mxNrpuKJ7lZlCsVWS5YSSA6KE96HfYKVY99Bs+NA3JpCOlxzbaWV9JeqNY4nOI10JEMCYGFuc7bJIqefD0S1pFBUiOQiQbnOJMMG8ZYzo6Hdm9srKyDuXl5fmY5E4HQCpzc3OrS0tLb8FbzdOUdRypTWm3Ycsw1hcUqs8yA+QhV0AaK8O304E7yvHAJ6JUmG6ALF26tO3atWsncdGxEfbDhK8BWAX/9t577109Y8aMBmkChAmrf9mFarRGbzMF4KbH/HAITc/fcOc5hceVnq0TNxhY4MPnzp17HRectGfPnn2A8Cc2RrX1twULFszPz88/e+rUqenYKIxAvOKi29bgxzA3J9kIEFkSbeTZOinQ3V7sGMU1Z86cprNnz77SWnCLsPNqwCCVlJTs9zeAN33evHldAGR2GkB5OtUsTwpSfqr6gcZhAamtxX7BxYrYHLf+ePHFFxthYYemgiEu2QfI9u3bf/B3gPI70Om4R9wcfCvoO4c12qLAZZOwgNRRQcBrLoB8TEsjrolC9BwKzhhmB4ZF0CX7iatUwvfngXrGySk0fFz07FYl1ppGAQg93OUuDvEH1DNx6AxwxdEQVePcwCBRVKWKKzuaP3/+BXHpFDmuhQ6L9K3qDZpFIbI6y8FyAmS9SWjAz8WdDCA6Q9TkeS2yXwLIN4NbWsQAyI1yRu04hPn8cVFwCJX6iaC5LgkfsmnrCPVFczvlHTEo0wD4aaCcCAG5NzWSkeSoRqZDspQ4muoS/i5WeKJ2SCDqiSse9bvAM2fO7IjvXej3ewB+eF5e3hF4HbrgDTpsngoe7ADZoIRVwyj8EJZPTnAJoJUJ/eyAQNSZNWtWc+zaIX4XFAAuxve6r1ixoi4XFa9HBrjH4wDmTDqRIXIkzbEOf7eJ+n4fOqis/ADEXH9OFICwpOZ6mbdOFRevuclHJ+6Dkm3IxcCi5AZYyGewu09PtpxokeH9q4KIMYxjFOgnQSwxzOU85olc1odGUU+3vIgfQLLhfPXDTd91CS4SrL4+nLwcTL4tfl4fcPHuB3WwWzx4541x3/MhwhYFAHkauKzPwoULm5mKMXrfLN6wiYRba0XfhPmY46MKLtLSag9a4BIaKFbBgGv5CyfJ8AcWcwAm/2xAMK6jOezm6E2aNOkQAHMGnvFEkGcAzFvx3ZO9TGTp2LNYwGcnrkSfS6Q3jzIfcrisiK0ulYUbVMFR14krqHzx886AltF80EDuXhNZT+7Bwh7PxQ3yPIxzJg0FiNWWTtyi0PsjoO0OCbIKSZaBXjrWLyAMng1QkUClg7VVKn/llGSLi4tHux8THEyPOeCOvQ8L04mWmB/ZzoWUwTAQlB/w2fcXFBScmmoiKwrOhNnqlMLyfYV2KpybzmhwHEUObKZ5Wl6nUxq3kJOQM1kXC3gITVnK/IC7dD4W5BLs9iZhgpcUb9RZuNddAcdBa24ogGlFiy6pXPUth8qTKhXrfQi6yqQUKgggOQoPrFRZjq30siaxZcuWHhAvl2MRng+oK8ZSceN13VoRXYwYU+GDngvILY+8/vrrPUpLSy9S3dhepxoD0DbQNBbZmYwtaKHcMfJJPrPLj+iqDONF09LhomFHHhZHSF8O6MmgW8KMk2ESl3IoFje8ozxR/TgBIbt2V73rTpdwSqKkpKQsABijIRZOiDupRKClW/pg10/yO044eeUu+fxK+ST3+YmCh6ntbag6qbedKvesDJ5JBFZATAadQ5GSzk5cAo9nHgcaYTLOwsLCmlC/g79hgbJTfkd7P+GksO0IND1vwMPXycJwBKW8vNzLnB0OXdM6HVk9J26ZNm1aI4DSzc342L17d03OxW7/JXEHN+gyvHW6SbVilIBkyTcZLXmacKkgrNlVu3btSuWKCYy4Mht4IPrTbUzkujTPYV5fmgpGWVnZvqykS6LOqtw8xy8YoQGxro0bN7ZUXrvMrUDdKkCAdVIzwU2bNk1cvXp1O5qQtQ6ya/ny5Q3XrFnTT+lhljhVezVgEQ1+fv369aM+//zzQCH90IDQUYK4Ge9jF1nAsANqC+gpvH1SkN0Uo/jKUaDwLxjfXpf2lOT5ULfsM/dhlHRNOyAMJwCQh+2UnlUFYtjI+ZGqMdrGVe5pAEJtGSqn8ZADVdG4crsFRHFxsZOR0s1vUUVgQOg1M1TtleN245aUiwswT60CzeOu70rRg/WVEaWB8p5Xb701J4qxoqIiNwdyEX0dP4mvQIDQTMTDzvXhPJUYNtpU6vSGsapUj1XRy59iO8EFbFVQ0LTKwZzd10OpstndhqZ8LkMtsQFCtPPz80/Cg6b4caJwfeNmhaW0pn2thp8REmNxtBCw36S7mv3fVb9hlUdbQ433HcDRvZzxvFgAUTbuWsOYz9iVK1e2hz7hKTuUy5+k5ptdDBYq09Xq2GWu/tAIwWDoZzjuz6j0lwYnO1g9k0UyaW/bsWPHKYsXL+5vGI+bwU0cOSCcDG9sUpZD/2LWrFmttQD1JKN/TstFeYOEQedThU7ieUVHOh0bpohC1tOp6nj6UIo74dKpaw3FahLNV6t0C46Du541XoagDGOqOlJAOACTIgSAASxmnZCszARMM7W6TVYdV6nB6QoWt7BQ+SlVUAbJd9NQGAKOe57lOG598Em1uAlVIb6hE4k6pnaGMVWcXPjtRPjcNK5JpIBgoY8E0o8aiKqfumTXspVTGYF5v2ydGORxakKVosrkrD/qoIEWJgpf3MnDZ+7BPd4XuAnvHtEaQ2S9iqd7aTNlOZn/WJeHDDbq+V6hIWNAVF7TxWAn5Jpk9FTF0hU79kFYLO8rjJ3w4BgrTvQhvjdO/RjZHoq7L4+5UJFapVsLnAU8Ps9N8nv8frXq0TzFJADparBR72I6IRJAFBEdbJDz7uLTGWN72iCF8jebWGISN//V4TPdUsWIdT4Ws3T43FKdNpEwOHelWCc7PKJsp3HjKsW5V3EfE2LgpjaRAKJI6C1eqVbK1IDKlmHqO1lopipIk5N3vmb3q85KbJBSdEADYpVHNi/5bBIaDy8rmdQqiNGAzXieQaH3GW7euzEgkpNPerDkDUFTrdrVVLz9schzdQKCiSW2Uws5UGKQlYd38/gmHaHh9f29qtyfIAsscFJMlSleeuRit8SbcW2vigPyvMRVWM9aSriduGWVywEF+x21h5crdM7jbRJ9lV7966D/KVwzSKIzVLiGehYLvsDD/B3pZv4aASKFfooX+nl5ecdEGOhrriMD56vfwuuoJob+/4HPf+F0okLKaRMb1KvRwa3WNkD0+0Gv4js616EAocxjMbMBIJF2UFncwv5unQjkdUxTpYu+sL5eAavuHdBQgR7pucAA5HYvS4uB2dCAsBjaQGHF0kGlrOSNOjcxyFF9luIulr7pHnV8zBQQljWxZiAtgETNITaR2f6MJSWdYOd1XJ/FUZZFNlHdxLFFkLEp4+cQlWJ2MfBBYu3ClW6h18xDwYrcfIskUVWmduTH4gaDFxb8Hg8r6/bQgFhWFmNUHiKrU9wTVjKJbRGvOhWpJZdxKvT/sMI1cY8ty6sakq4BCzpC+yGMY4EmeoRNroi7D1wTb0ilrORXqUNJTiIpF9MxHRlIOsUGUmSIW0+jMSDqEx/rwY5TTBMxYa/Nmze3tZ7LvHZKepXtY+X829atW4esW7cuLXl6HkxgYPic7VZl44dDcky6Yk1CzGEvRkyxQc6yq3SxCg+Kiopqaotfeuml2+Nof7YzfLxCSwBsXkFBwUmRxLKIKtith0n/d8x58Cw24LBJ03omj9KwuEQnAf0ghcpYXJyAMBlnsDYPelmivvIhbIb00iOytdvGKKePAiC/Sn0mS3EsDtm2bZvdmPouW7asfkzcUc+k85cSxkuk+wJEEd8RJp1Obs5PUM6g6AH90u2sE9aDOTXbQH73ivKQAD8+Gp67EJvpVC/p4QsQ+iMmiRiBcllUB4ep0oWc8Qu3Z/JEIBbpeXRA9YnK8EhyByYbAHKbV3IqUNUJb+oVHkiSmQPDgkJxwA6qoO1wDoszmH0hYXQdNwk47lhslLsNixx6mrgEvgGxAo3cbSYDwYAvCyK+rGYaTHpAHIfPMIRBoP02kCZZnSd6RXaTNsCd7Bo2uW+gykX6JJjQNT525DiWVJo6jeQq7ig84wGfizzZb4s1xnU1m3VMx8ZcBj7f27S/XuWknU25MXBtLy0urwyiXRyHjfwENHWAOoqJXUyXBmkvIxgwKdtQcQfprqWMB51lx800+anD1Fb9uJ9743tD/HBhYED8KHiHBZyEyd9NE5bAghaFuNd0gNGeu1wNN8NC6pgpDBJSrLE/nfcPeJ/xGFMTP6IwVDuCTL5euTGeaWWgLH+LXdsuuQ6MIo9W3oEcF/01t8xgLIAk5ZF7H6BJj2fI304+K9TT90CMi2ItSPVNJIAk6ZSeaeaMK93yCpbsB6fwULMn07hJJriF19MGiKKdHSlC4pwwdQ89Y1NFSe5hfwZ27ag0bJJRYWNmUf+nT1bHH8XG/xiAmE0TNWhWUqb0mQzrxDA29tf3jiIyEcs/J+bA4NR1xwLcEcFkp7MfhU5cFCc78Jwu3K8fRUsE4ukZtRm0iSoxF+d/i2Y6sylz8Txuj14tFrfAkPWfxmfH6MiL46NOeslkZ6CyK3UR6AGWwRqCkC9zuD/jWFEf/5GO/6eexZPdmAdguAG7iWcrXiAPeTSJuww0CJP8Gf7engV3SofG9r/UkzZNDsuXmFjj2Y08rAw0DO/fJOL4riRXMSPIDcKQTly99bEDYrc7qZAp1qgAaZHwNXdaOvLxXgBxbORIbggSx8gNxUhCOk6aSDsgmSsDSAaQzJUBJANI5soAkgEkcx14QDJ0kFCtMblLGmQW4uCh/wPxymy8Y9sL1wAAAABJRU5ErkJggg==</tw-passagedata><tw-passagedata pid="362" name="iconWhip" tags="" position="800,3700" size="100,100">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAGvlJREFUeNrtXQlYVFUbdgVBFBKVNVzRUcMIU8YFNDXGBTUtRmVCERVTUFSYFDKXUHGS1HIlUzMXMC1NLVMrtRLTJLeyTCMzcUkLtzSrf+7/vvN4eG7jAMMw4ICc57mZONw597zf8n7f+c53K0mS1AeXtuKyiat1pZHTP5MqLtu4MKIrALFVQDDUlSrGAxkVgFQAUjHKNSA1atRo4OrqqmjWrJmiTZs2ivbt2+ddfn5+ioYNGyqcnZ0bVwBipdGgQQOPgIAA5YgRI5SvvfaacuvWrcqsrCzl+fPnlbdv31aqVKojuKTnnntOGjJkiDRy5EgpOjpawucljUYj9e/fX+rVq9fPv//+u/LYsWPKjIwM5UsvvaTs06eP0svLS4mv8KkApIDRuHFjZwLARduzZ49y7NixCyMjI6WUlBQpPT1d+vzzz6UffvhB+u233yQAIv3777+SXq+X8hv8t//973/SjRs3pB9//FH65JNPpLS0NCk+Pp5A8VrzxhtvKLt3765s1KiRWwUgGG5ubjUVCoVqxowZqjlz5iTFxsZKb7/9tgSJlm7dulXggotFL+wzpsbdu3eln376Sdq8ebM0efJkacqUKYuWLl2qgrlTubu713voAOnSpUuN4OBgdWpq6oS4uDhp06ZNEkxRvgvMn/3zzz/SzZs3DRrCz549e1b6+eefDde5c+f0Fy9elGCepDt37hQJKH7uypUr0u7duyVopzR79mxdVFSUGnOs+1AA0rFjRzXs+ahp06ZJX3/9tWGhjSReTwnmAn/77bcGU7Vt2zZ+9vDp06cz8PcM+JOMdevWZbzzzjuGC4Bm7Ny5MwOfyfj11183vvvuu/qPP/5Yf+DAAenUqVMGoGi+CgOJZpCfh7ZIGzZsmPbCCy+oQQy4Jo7lDhAfH5+hMEfRME0GXyCXYv5Jv8Cf79ixQ8KCn4TEpk2fPj0NTngZGFOai4tLFzO/ys7JyWkZmNYyOPdl8+fPTwOgmwGc9MUXX0gATPr7778L1ZpLly5Ja9eulYYOHSqFhIRMDgsLsysXgFStWjUSJkCLxb1NjaCkyiRSf+HCBemjjz6iw81+6623dKGhoTpvb+8B1pyDg4MD5MFHN2bMGB0c+QeLFi0ygEPzV5jWEBiC+d57773cvHlzbZkGBJIdCVp6gSxJ7qQJSk5ODs2CPikpKWf48OE6T0/P4aVhq+3s7Fo3adJE9/LLL+tWrVq1h44dPug/ptOUxpw8eZL+RYqJidFWqVJldJkDBLRyRHJy8iUyJvnD5ubmSrD/jBmu9+7dOwkaNPRBUU3GIxCYJDjzAytWrJCys7MLBIa+jdoMM3YDAjSpzACSkJAwClqRQ5MgTBT//PLLLyU4yruDBg2KoSmzlaAMPicYAhSD2OcgaTe1V25a5YM/B7mQ4Jtu9ejRY4pNA4JFHgLJX7hr165saoIwUdeuXZOWLFkiwX7Hg7VE22r6AnPrDumPgcYcZyBJopEfDefzgc39jkAz3iYBIRhwyD9RpRkviAehNEHyJJVKNbJNmzbVy0JeCb6vCzRAA+f/C+MdU9oimCG0/jcEl2vgV7S2BMgoqHw2uL9hkmLCZDLMKeEBh+Ez1cpaBlatVgfjyt6zZ48hRjEFyl9//SUdPHhQGjZs2GV7e3utTQACNV8I9TUwKTFRRr6gsbGgm6FknmU1Le7h4REcGBh4mU6fWYD8nD1BwTqctxQUqwECyjpi+/btOUziCTAY3EHlY+Dca5aT7Yq2Wq02aNKkSTf//PPPAkGJjIz8DeYr4YEAolQqIxcvXnyJTlv4DGoGnHdsOQIjb/Tp06cVU/t//PGHSVCYASAoiHHSSh0QFxeXyNjY2At0egKMo0ePSqCCkpubW2ilcjrat2/fbvDgwYYo39SgT9m3b99VCOT4UgUEDETLuEIwEHJ3bhTVq1dvWFn2GWaMyv7+/m2hLYYssSlHT1+zdu3aayEhIYmlAsizzz47dPXq1bdFVMsJTJ8+XWrVqtXIssimLAGldevWzcPCwiThO41BoRmfM2fOHS8vr/gSBQSmqv+IESP+vHr1al7Gdv369VJUVFR8WYkzrAVKt27d2k6cONFk9pjrwhhs0KBBd/DZESUFSFWdThfx6aef5n0p9yzef//9mEoP6RgzZkzbuXPn3skvB/bhhx9K8LUTCrMcFgHy+OOPq+Gs8hJwjDtmzpx5nVndkn7wpk2b1g4KCvIYP368Byi1R1pamseaNWsMfyYlJXkMGDDAo27duh4PApQlS5YouYlmKnikk+dmHMx5jFUBwYLYL126dNRXX32VV0BATYmPj08qoees2aJFC8NiHz582OPpp59eyQoTbrOCahsyxgxG4cskaC35v9SyZUvuW3h06NChfinnwAJ69ux5Vc445eP48ePcU0kEQ3OwGiAsAMDi5FV7gPbp4civOjo6WjVZ2Lx581ogDYrg4OC5oaGhjGkMD2Qq0Sd8mPg5bTmDUrVafRlzU+B2pVaXBYHpOGvWrPMiW2E8T1a89O/fX2MVQEBlnRClxh06dChv7xl+gw+us9YDsQwIZkcJk/QSK0GgFQZ1N34wRsqMAUizudtI6slFEHvmvPj3ZcuWSdDqk6WpKQBEzXUxlYzk1nF6evq0Ll26uBQbEJgOJQvRBJvgIsAu5tjb21vDmTth4Xj/OIBuKAHKby+C38/gc+XKlVJiYiJN1VHw/cwjR45kIkL+h/VX169fz4sFNm3a9DOj69ICBBS3W3R09KnLly+b1BJuQSDSDy0uIM69evWK++CDD/JuTN8xdOjQYmsHuHzNwMDAOFBDKb+MqrGDZCHExo0bJZYPzZs374WnnnpKBVJRw9XVdRMedgfus4vpC6Y3qEFjx47NLE0tgWCpucll6lm4I5mamjoVAljPYkDq1Kmj7Nq1q6GUhmDcvHlTv2rVqjNgNOHFmHcNd3d3dXJy8gRQRsmURBU2qEWk3FOnTqVDHwPJNMRAYDN2MAsZ+/bt2/LNN99wC+AUnG630gIE69UeZvcQTaopLWEADQEPtRiQgQMHsrxTvtmvnz179rJizLkq6POo8PBw6bPPPiuwJEfszH3//fcGx04WI/yF3IxBQAhKpACFA4vigof/6M0335Q8PT1LVUtGjx4dDbZnknEx3TRs2DBal7oWAYIbK/fu3ZvnzLdu3Sr5+fmlWTpZSHAspZpaUVgJDheezpAmio4eQRj9hn779u2G8hz5fj0XHr4uTv5dYWFh7p07d97s4+NTqoA0atQoaOHChQeYPjEeJCURERH6Rx99NKjIgGDx6kycOHGhuDHTJXCo39vZ2VlUN+Xg4DCOzphbvPc0QM977ty5U1q+fLmhrpdlOTQ18pQ+zeWWLVukvn37Sh4eHpug8jqAeo6+QjAxOnHQZcnE17LKvdQzCaDr2v3795sUNMZR0KKiAxISEqIYN25c3sKcOHGCNjDD0knCAedSsoVUwwTpFyxYkANTo0P8ofP399eB+uowYR00cU9mZmbeljC1k+qekJCwEkFYE/iFF6ABl0kGuDnEwUDRVlIq0EwtWZUpK8DwAVpedEDgKxSs2hP2fNeuXRJYkUWAuLi4TEHQdkde4KzVai83a9bMZF0WHLMSqr2D5sp4NxIasoEHdqpWrToC/3+Rzp0As+DNVgBxc3NTIhbaQRpuPPg8sbGxq+XHIMwCBBKqIO8XW5SQ0MNwkCEWRrK5ojSIUr9+/fprvr6+gwsB8YnevXt/zEoW4fxpmuCwpXbt2hkkDOZzYHx8/O+8Jx/UlhKPeEYthcUUWYmJiZGCg4P9zAYE9K026O46gTBtPViRxeYK0pJLe0+/QYcOlc4xU9ICEQHvZdAnxpo1a7hNmqfynTp1GoL45PaZM2dsChDEQFr6R1MDTl+aMGGC+YDwSBl8SJ4NvBfUWAwIFjSXfoCmBdH4HwjkzCYGSqXSUNUi5sJyI5CA/9hgBIm5JAW2BEjHjh21nJOpQdMLum4+ICqVyoPpEnnGEvzZIkCw+Ctgrv6+d/BGv27dupwi2uPHEOhtFxUf3BB75ZVX/gMI5pvbrVs3mwIEwbP2tddeM+nYv/vuOwkuwXxAwHw8GC+IQYrJCNiSiTVs2PCsyDHBF+hTUlJyinqPrKyshTSb3IuBquf5EDHwdxV8kk0VV9jb2zeBad3A7QH6PVBdw/YBTS6pPQJe8wHhPgRT32LwJFPTpk0tAkShUJwVTAnkQM/EZFHvgQdYyHiE5gq2eRI3rMrCjiIIR4NBgwYFBQQEBLVs2TIIWhyEWCwI/vlokZw6d+W4+SNYwSeffKKHo7cIEETKZwU5IFuCGhcJEDCpxLS0tCuMS7p3714uyoxA27lXU8NsQLg1mpGRkQcIz+xhYSwCBBH6WcYd4vDme++9VyRAIEkLWbAN6izBH8XiR7XK2OIngiQda9GixbFatWod4yMVOblIQHg6Vh6QIRCzCBBHR0dP2MvrgmUdPnz4n8qVKx8sQlC5EA80pVWrVkyDlJmaLzz3qH79+p3dvXv3DSZGmQHmfs+cOXMusziiyIBs2LBBriFS9erVLaa9oH+5DC55r4sXL+qxuEXREqq2XVnSiipVqowLCwu7TTZFqyA/zsfgFutxE0yxlcU+hDW7zs7OFgMSHh6eS9rKe9HBW+LYy9J4/vnntSzEyO9sCUHp37//DTj6VhaxLMQB+kaNGlkMiJOT0wUe8BeJQqZkatasWVp73lXatGnjCK13DAwMjGC8wtIc7llwHjQl3KenWWGGlplnFlW7u7tL3t7e7Tw9PYt8Th0RupZn3gva6+F5eGiJn9lxCDh03g1Y/hMUFJRRnFVZsGBBrlBdsi6tVvsjnJxrSaGAuKka67Vw9cYwnDvn4pvb5YFEhEeo4Ywllo7ilpXN/e4TJ05oRWY7v8HEKYTEPECMI3U6o4iIiGIBAvX8XuyFUJV5bh1al1lCGuERExMTzIP/PMklypfkF+dAGk7zwYu5NlNNbZhF5l5L3759m5s7gW3btmkZ/DGhyr0dmmu5L+Gfr7/+ujRp0iTzAGEuizRT3IDNWmbPnp1R3JWiGRQFAAQHEz/C4MlaSEDjFASCCyivzpcfQYPk67Ozs3ldhaCdBGE5ye4Re/fuPXno0KEbNDXUDvkC8veg0dJTTz1lFig9e/aMGjx48ElYmpNxcXEnYQZPHjx48BpbhlAICNLAgQN/evzxx5uZm353hZQdERE2J4iJFxsQX1/fgzyEL6SUlSEIFE9g4gorJPOe7NChAxsS/GevnqBQUrnBBvp+JTk5ORO+JLNevXr37SRWq1ZtLhhgZkpKCuLQzFusXhGg8p6wGnfq1q0bYMn84JOmJSQkZEJQ/mDbqSJlezn27NmjoNoJCTl+/PhuODnfYqak7aERh8XZCoLCfXNM8AAcKRuLFfn+3DfR6XSs7bpJ8yIHggJFxw0Jze3Ro0cmyEWyuff18/Nbs3jx4lvyFhz0Qf7+/sViiBCGudBkmuomRQKEO4YifSxikSeeeKLYWsKCaZbDiKNhQlPAOCRI+F5MuKU596lTp04HgKCCbb9ErZC3ZqI0UyPgNHN79eq1A5I/05K5guovgQbfFq1BaMYQMF+FtHcp6PcAfsPU1FQVnkuFoJj9wFSgwvkWg5sFCFgK7XGedNCxJyYmZljB1Lu4ubltmTdv3n9OIVGauU0MbdkNdqPu3r27Gr6shfwXQUE7wY6r4RDVUVFRZ1kySjYjd5b4u37Lli23AXwGouXk4k4WVmHRp59+elf4FCyyvm3btgVqCcIGLVkUhY79vVikAW1buGLFCk+LAYGt9FSr1btpfzmouunp6fvxkE8WGxGMxo0bfwQpkuRV4/xTZHWpMQAtHQ+kPn36tBoOUT158uTD/DnPXQj7Ln6XC0YTO3PmzNugqUutSdsQxOWKBCmLBSHxBQHSGJZlrfHhUG7nskEayJKnRYBwsHkk20yIgI4lpaCvaVZ6Tnf2woKUb2Z6X1BiOSui6aFAcNuXCyKkVE5NOS+WmNK8ggml2dnZ6SpZedSuXXs+yMhfwrlnZWXlFJDDGsk6ZeNDPJzz/Pnz9cOGDbO8cpEV6S+++GLeAjA3M2vWrDRrPixMkw808V1u5JCqimKIQppc6vE5PWiqnuU2AHUB2y6VZLi/bt26XEEWICDX4ZijTH2OZy2p+abmz4M9MMeWAwKz4jN8+PA1ov6Wdv79998/0LRp085Wft5m0BbdtGnTdHCaH69fv17PdA0FgCaNTIz7+vRjLPZevXq1fv/+/Svx4DoCwYLrks6/gC7nCklnPAGTbjL1M2jQoJHMY+UXncNsWQ4IBykliwzEZFiTe68+tUQGFte/c+fOSSAQSXiwJJjMJJi0JPiVJNDXJPD3pICAgCQAUaonpTCfXHmnOS8vL5OAQAOiTVUtcu2YQytWsTUHz4cwBSFOB5EZIeLOAuPpV+khGnDkufKAFpT4PkCqV68egDjrM1N5LK4bCMdShULRsFiAYLj169dvEUxIXsDFgueS1BJbHDA3uSIHBkCuOTg43Ffo17x5czULGUydyuUWhin/YQkgPIGrYrWHKMUh2nCk32ICfR8GMGrUqJEGJndXVHFmZmaaZFlgV2qm9Y0HAUJsooeptQ4gTk5O9agRjA+EPWRpEJxq0sMASKdOnXJFRT7puak4BBrTKSIi4jAJiPHgGZfp06enIiCubxVAOMCs1Gx4LwJF+hQ4++/Dw8N7lXdAmIIRpbC0DsHBwfcBwgwCnbap+IP9tgYOHGidU7jy4B0MYRorB4Vz++WXX1jJfbp+/fr9yysYMDPvQur/oe/ApT969OgVX1/fQOPPga6ruZFnPEgA8G/zCjo/b3GvEwRxzoiIZzAyFg6eUXaPHj3O4597l0dAEPOcFQUa/HPcuHH3aQc0pgPilLPyrnMiMGTiMwajoO8oVjcgf3//kcznCwfPSfCoclRUlKa8gYEgb+O5c+fuisWlL3B1dc0xEcWruDMpj875/0z3MEGL3yk5QNhIQK1Wz2IhnZjAPUd3BZrSrbyA4e7u/vHOnTvvMnclXhQQGRl5G//kZWQ1nkDQeEmc5DKiuvqxY8eyv69TiQHC0bNnT/v58+e/zH1xIQ3Mbo4aNeoWKXJZB6Ny5cofLViw4F95/2HGEXju2kaB4JOwGDfFLqh88BARY5LCtMMqgHDUqlVLS3UUZ7I5Ieb+NRrNLTCy9mUZkISEhH3cfRTkhcBA0O477sBXMs2aNctkowC+LmPq1KmvVDKjyM9qXUnr1q07DRP6WzQ0E3keFhk0a9asXaUilM7YwmDXI8z9Q+42ypvaIL74E4JW2yjnpmCrP+NtA+FXX3311b8feeQRs9rGWrVvLx5iFtT7lly9mR1mywxQva5hYWFVywIYWGCXrl277mLyVEg8/QLLdeAfneWfRZBXZdmyZcHGNFf4GqaZYK7MTi1ZvdU4uPqsd9555095m/F7PkUaMGBAW1vXFJ43USqVm7gTKc6+M8Bjqt/Ly+tSpf9W3FdBPOZPpmnMqu51LNKnpqbeBPl56YEBwvHkk0/qQP9uiL4oolpl5syZ3Cdvy5opWwQjMDDQLSQkZB2bFsjBgA/Qt2vX7iejTnWVGzVqZKj7MtVUmc+dmZmp12q1RUq8ltjrKsA45i5duvQPbuCIeiZOkg/LmqlWrVq1tbE449EhQ4ZsZMsQQVsJBtljt27djkJzmsg/zxrhjh07GjbLTA3GHYsWLbpkDrMqFUA4GjRoMHfevHnXmVaR53XYpTM8PPzOxIkTlY6OjgEPEgh8vwcorBK+YBUDOjFPOvAjR45I8HvfPvbYY02Mf2/KlCldRI2Bqd4s9Ckw06Xf2bqw4ezsPHfChAk32EZCpB0EN2ejGEjfVQRUjFcCH4CJ8u7cufNyNvQULygTc6MzhtBktWjR4jHj32PQy7nnt9dPUw3rcKF27drjbA4Qg+erUuXV6OjojG3bthlKMsWDkMFQ5VnOo1KpTvGdhpVMHPOy9vD09HwU36eePXv2m9ySFllr8Som7mPAWX8ODb9PexGD9Ic23cqvyRp/DgKgf+aZZyyqWyvV1+a1b99+EaL6u+T28uJnag41iNFs3759j4DTq9kAzNrfr1AoXJkanzRp0vzk5GRDPkre2okBICW/U6dOB9hh1Pj3+cqNMWPG3KIG5DdYs4a44xcHB4c4mweEo2bNmvNnzJixjJlPpqPlak9gWETGyniwk0Pg/CNBQUfCMQYWQxscvb29o+Pi4kauWrUqhWU5bH4g92lkSWREEJYvQEbSTJnP+vXrP4to/KrxnOXZXN6TaRU4e4urOh/Ymz7ZgmnHjh2L2b1TXgIqpJURP1suERxce2BatPBFWvgbLRZZCwluYuq+9vb243x9fbVwxtq5c+dqEU8k0ySSPZFcGHehO3XqFOu59Pj8535+fia1km+AwLjAPiv5HU0TBQ+JiYnZVatWDS9zgHDAPNViXyxExG9xwWgyjB9YNLRnHRY/w763NDe7du1aCUqtxSJp4ZC1Z86c0V65ckUL9nObhXbskkDHzHsa23tKMrdXqaUwkwdBw3XVqlXramqOcMyDNRrNBbarza+NuDgrCLObA4dfrPcw2sTbosG0XBEHJCHCX8rqQ3J/0YIjvwWgdDMbQHvOrVSSBZqe/N51Kw7p0H/RT8AkHoOvSnJycupagHl9PiIi4pesrKxCe0LyIJM1Op/a1PvU2cgLjj9m+fLlMenp6St4ro99HplFLuhFjwW90psg8VwINQasKhtaEQMBiIFpK7TfV2ho6FZ+f2HvzGVNAZhZNoLdZ8sVIPKBh2sKahoDUGLgAzbzGBn9CWkqk36sbueRM5aX0jeQPnMvghUw7E3FElOmwyG11/jWhqioqJjGjRsXacHwnVvzi8Tl583J1jBXq5yRtFlAjEZLsBwNJFuDBdbw3YIbN27UwOlrYLc1MCmaAwcOaACEBpqgSUlJ0QwdOlQDJ62xtFEnBxjeVu5l5NdhW5QCgbmdB01XPUyAPJDh7u7edvz48d8aszMBBs0oa3cRQFrtnH0FIIWMkJCQDqNHj85mbkruS0RdVnh4+O9gaF0qACnF0bp16wCMM9AWPY/aMb3CBmxghVfwb1bNwVUAYv7wRVDqt3btWrgmvxs8u+/j42P1Pi0VgFhIAr29vf1AGFpUAFLOh0lA7v3ghYqr9K98Aam4HuyF0aMS/vN8xWLYBBiGZmb/BxJR9FEtDn0PAAAAAElFTkSuQmCC</tw-passagedata><tw-passagedata pid="363" name="images" tags="nobr" position="600,3500" size="100,100">&lt;&lt;set $iconHarlot to Story.get(&quot;iconHarlot&quot;).text &gt;&gt;

&lt;&lt;set $iconStud to Story.get(&quot;iconStud&quot;).text &gt;&gt;

&lt;&lt;set $iconPrincess to Story.get(&quot;iconPrincess&quot;).text &gt;&gt;

&lt;&lt;set $iconPrince to Story.get(&quot;iconPrince&quot;).text &gt;&gt;

&lt;&lt;set $iconSex to Story.get(&quot;iconSex&quot;).text &gt;&gt;

&lt;&lt;set $iconWhip to Story.get(&quot;iconWhip&quot;).text &gt;&gt;

&lt;&lt;set $iconHypnosis to Story.get(&quot;iconHypnosis&quot;).text &gt;&gt;
</tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){(function(window,document,jQuery,undefined){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function mesg(where,error,isFatal,isUncaught){var mesg="Error",nice="A".concat(isFatal?" fatal":"n"," error has occurred.");nice+=isFatal?" Aborting.":" You may be able to continue, but some parts may not work properly.";var isObject=null!==error&&"object"===_typeof(error),what=(isObject&&"message"in error?String(error.message).replace(errorPrologRegExp,""):String(error)).trim()||"unknown error";null!=where&&(mesg+=" [".concat(where,"]")),mesg+=": ".concat(what,"."),isObject&&"stack"in error&&(mesg+="\n\nStack Trace:\n".concat(error.stack)),mesg&&(nice+="\n\n".concat(mesg)),isUncaught||console[isFatal?"error":"warn"](mesg),window.alert(nice)}var origOnError;return origOnError=window.onerror,window.onerror=function(what,source,lineNum,colNum,error){"complete"===document.readyState?mesg(null,null!=error?error:what,!1,!0):(mesg(null,null!=error?error:what,!0,!0),window.onerror=origOnError,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.freeze(Object.defineProperties({},{error:{value:function(where,error){mesg(where,error)}},fatal:{value:function(where,error){mesg(where,error,!0)}}}))}(),Patterns=(wsMap=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),wsRe=/^\s$/,missing="",wsMap.forEach((function(pat,char){wsRe.test(char)||(missing+=pat)})),space=missing?"[\\s".concat(missing,"]"):"\\s",spaceNoTerminator="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",notSpace="\\s"===space?"\\S":space.replace(/^\[/,"[^"),anyChar="(?:.|".concat("[\\n\\r\\u2028\\u2029]",")"),anyLetter="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",anyLetterStrict=anyLetter.replace("\\-",""),identifier="".concat("[$A-Z_a-z]").concat("[$0-9A-Z_a-z]","*"),variable="[$_]"+identifier,htmlTagName="[A-Za-z](?:".concat(cENChar="(?:[\\x2D.0-9A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])","*-").concat(cENChar,"*|[0-9A-Za-z]*)"),twStyle="(".concat(anyLetter,"+)\\(([^\\)\\|\\n]+)\\):"),cssStyle="".concat(spaceNoTerminator,"*(").concat(anyLetter,"+)").concat(spaceNoTerminator,"*:([^;\\|\\n]+);"),idOrClass="".concat(spaceNoTerminator,"*((?:").concat("[#.]").concat(anyLetter,"+").concat(spaceNoTerminator,"*)+);"),inlineCss="".concat(twStyle,"|").concat(cssStyle,"|").concat(idOrClass),Object.freeze({space:space,spaceNoTerminator:spaceNoTerminator,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:notSpace,anyChar:anyChar,anyLetter:anyLetter,anyLetterStrict:anyLetterStrict,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:identifier,variableSigil:"[$_]",variable:variable,macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",htmlTagName:htmlTagName,cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:inlineCss,url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})),wsMap,wsRe,missing,cENChar,twStyle,cssStyle,idOrClass,space,spaceNoTerminator,notSpace,anyChar,anyLetter,anyLetterStrict,identifier,variable,htmlTagName,inlineCss;!function(){var startWSRe,endWSRe,_trimString=(startWSRe=new RegExp("^".concat(Patterns.space).concat(Patterns.space,"*")),endWSRe=new RegExp("".concat(Patterns.space).concat(Patterns.space,"*$")),function(str,where){var val=String(str);if(!val)return val;switch(where){case"start":return startWSRe.test(val)?val.replace(startWSRe,""):val;case"end":return endWSRe.test(val)?val.replace(endWSRe,""):val;default:throw new Error('_trimString called with incorrect where parameter value: "'.concat(where,'"'))}});function _createPadString(length,padding){var targetLength=Number.parseInt(length,10)||0;if(targetLength<1)return"";var padString=void 0===padding?"":String(padding);for(""===padString&&(padString=" ");padString.length<targetLength;){var curPadLength=padString.length,remainingLength=targetLength-curPadLength;padString+=curPadLength>remainingLength?padString.slice(0,remainingLength):padString}return padString.length>targetLength&&(padString=padString.slice(0,targetLength)),padString}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function flat(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var depth=0===arguments.length?1:Number(arguments[0])||0;return depth<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,(function(acc,cur){return cur instanceof Array?acc.push.apply(acc,_toConsumableArray(flat.call(cur,depth-1))):acc.push(cur),acc}),[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var length=this.length>>>0;if(0===length)return!1;var needle=arguments[0],i=Number(arguments[1])||0;for(i<0&&(i=Math.max(0,length+i));i<length;++i){var value=this[i];if(value===needle||value!=value&&needle!=needle)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(obj).map((function(key){return[key,obj[key]]}))}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(iter){return Array.from(iter).reduce((function(acc,pair){if(Object(pair)!==pair)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return pair[0]in acc?Object.defineProperty(acc,pair[0],{configurable:!0,enumerable:!0,writable:!0,value:pair[1]}):acc[pair[0]]=pair[1],acc}),{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(obj){if(null==obj)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var O=Object(obj);return Reflect.ownKeys(O).reduce((function(acc,key){var desc=Object.getOwnPropertyDescriptor(O,key);return void 0!==desc&&(key in acc?Object.defineProperty(acc,key,{configurable:!0,enumerable:!0,writable:!0,value:desc}):acc[key]=desc),acc}),{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.values object parameter must be an object");return Object.keys(obj).map((function(key){return obj[key]}))}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:_createPadString(targetLength-baseLength,padding)+baseString}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:baseString+_createPadString(targetLength-baseLength,padding)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return _trimString(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return _trimString(this,"end")}})}(),function(){var _nativeMathRandom=Math.random,_regExpMetaCharsRe,_hasRegExpMetaCharsRe,_formatRegExp,_hasFormatRegExp;function _random(){var min,max;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:min=0,max=arguments[0];break;default:min=arguments[0],max=arguments[1]}if(min>max){var _ref=[max,min];min=_ref[0],max=_ref[1]}return Math.floor(_nativeMathRandom()*(max-min+1))+min}function _randomIndex(length,boundsArgs){var min,max;switch(boundsArgs.length){case 1:min=0,max=length-1;break;case 2:min=0,max=Math.trunc(boundsArgs[1]);break;default:min=Math.trunc(boundsArgs[1]),max=Math.trunc(boundsArgs[2])}return Number.isNaN(min)?min=0:!Number.isFinite(min)||min>=length?min=length-1:min<0&&(min=length+min)<0&&(min=0),Number.isNaN(max)?max=0:(!Number.isFinite(max)||max>=length||max<0&&(max=length+max)<0)&&(max=length-1),_random(min,max)}function _getCodePointStartAndEnd(str,pos){var code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};if(code<55296||code>57343)return{char:str.charAt(pos),start:pos,end:pos};if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)throw new Error("high surrogate without trailing low surrogate");var nextCode=str.charCodeAt(nextPos);if(nextCode<56320||nextCode>57343)throw new Error("high surrogate without trailing low surrogate");return{char:str.charAt(pos)+str.charAt(nextPos),start:pos,end:nextPos}}if(0===pos)throw new Error("low surrogate without leading high surrogate");var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);if(prevCode<55296||prevCode>56319)throw new Error("low surrogate without leading high surrogate");return{char:str.charAt(prevPos)+str.charAt(pos),start:prevPos,end:pos}}Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(array){if("object"!==_typeof(array)||null===array||!Object.prototype.hasOwnProperty.call(array,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var length=array.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments,1));return array[index]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var result=Array.from(this);if(0===arguments.length)return result;var items=Array.prototype.reduce.call(arguments,(function(prev,cur){return prev.concat(cur)}),[]),addSize=items.length;if(0===addSize)return result;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=items[i];-1===indexOf.call(result,value)&&push.call(result,value)}return result}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var indexOf=Array.prototype.indexOf,needle=arguments[0],pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,++pos;return count}}),Object.defineProperty(Array.prototype,"countWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.countWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.countWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return 0;for(var count=0,i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&++count;return count}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var needles=Array.prototype.concat.apply([],arguments),needlesLength=needles.length,indices=[],i=0;i<length;++i)for(var value=this[i],j=0;j<needlesLength;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){indices.push(i);break}}for(var result=[],_i=0,iend=indices.length;_i<iend;++_i)result[_i]=this[indices[_i]];for(var splice=Array.prototype.splice,_i2=indices.length-1;_i2>=0;--_i2)splice.call(this,indices[_i2],1);return result}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,cpyIndices=_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map((function(x){return x<0?Math.max(0,length+x):x}))).values()),delIndices=_toConsumableArray(cpyIndices).sort((function(a,b){return b-a})),result=[],i=0,iend=cpyIndices.length;i<iend;++i)result[i]=this[cpyIndices[i]];for(var _i3=0,_iend=delIndices.length;_i3<_iend;++_i3)splice.call(this,delIndices[_i3],1);return result}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,indices=[],result=[],i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&(result.push(this[i]),indices.push(i));for(var _i4=indices.length-1;_i4>=0;--_i4)splice.call(this,indices[_i4],1);return result}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!==this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(!Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var length=this.length>>>0;if(0!==length)return this[length-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return Array.prototype.splice.call(this,index,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var splice=Array.prototype.splice,result=[],max=length-1;do{result.push(splice.call(this,_random(0,max--),1)[0])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&push.call(this,value)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return this[index]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var picked=new Map,result=[],max=length-1;do{var i=void 0;do{i=_random(0,max)}while(picked.has(i));picked.set(i,!0),result.push(this[i])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var length=this.length>>>0;if(0===length)return this;for(var i=length-1;i>0;--i){var j=Math.floor(_nativeMathRandom()*(i+1));if(i!==j){var swap=this[i];this[i]=this[j],this[j]=swap}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,unshift=Array.prototype.unshift,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&unshift.call(this,value)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var slice=Array.prototype.slice,fn=this,bound=slice.call(arguments,0);return function(){for(var applied=[],argc=0,i=0;i<bound.length;++i)applied.push(bound[i]===undefined?arguments[argc++]:bound[i]);return fn.apply(this,applied.concat(slice.call(arguments,argc)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(num,min,max){var value=Number(num);return Number.isNaN(value)?NaN:value.clamp(min,max)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(num){return 1-(Math.cos(Number(num)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var min=Number(arguments[0]),max=Number(arguments[1]);if(min>max){var _ref2=[max,min];min=_ref2[0],max=_ref2[1]}return Math.min(Math.max(this,min),max)}}),RegExp.escape||(_regExpMetaCharsRe=/[\\^$*+?.()|[\]{}]/g,_hasRegExpMetaCharsRe=new RegExp(_regExpMetaCharsRe.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(str){var val=String(str);return val&&_hasRegExpMetaCharsRe.test(val)?val.replace(_regExpMetaCharsRe,"\\$&"):val}})),_formatRegExp=/{(\d+)(?:,([+-]?\d+))?}/g,_hasFormatRegExp=new RegExp(_formatRegExp.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(format){function padString(str,align,pad){if(!align)return str;var plen=Math.abs(align)-str.length;if(plen<1)return str;var padding=String(pad).repeat(plen);return align<0?str+padding:padding+str}if(arguments.length<2)return 0===arguments.length?"":format;var args=2===arguments.length&&Array.isArray(arguments[1])?_toConsumableArray(arguments[1]):Array.prototype.slice.call(arguments,1);return 0===args.length?format:_hasFormatRegExp.test(format)?(_formatRegExp.lastIndex=0,format.replace(_formatRegExp,(function(match,index,align){var retval=args[index];if(null==retval)return"";for(;"function"==typeof retval;)retval=retval();switch(_typeof(retval)){case"string":break;case"object":retval=JSON.stringify(retval);break;default:retval=String(retval)}return padString(retval,align?Number.parseInt(align,10):0," ")}))):format}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var needle=String(arguments[0]||"");if(""===needle)return 0;for(var indexOf=String.prototype.indexOf,step=needle.length,pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,pos+=step;return count}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var str=String(this);return _getCodePointStartAndEnd(str,str.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(startAt,delCount,replacement){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var length=this.length>>>0;if(0===length)return"";var start=Number(startAt);Number.isSafeInteger(start)?start<0&&(start+=length)<0&&(start=0):start=0,start>length&&(start=length);var count=Number(delCount);(!Number.isSafeInteger(count)||count<0)&&(count=0);var res=this.slice(0,start);return void 0!==replacement&&(res+=replacement),start+count<length&&(res+=this.slice(start+count)),res}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd3=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd3.char,end=_getCodePointStartAnd3.end;return-1===end?"":char.toLocaleUpperCase()+str.slice(end+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd4=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd4.char,end=_getCodePointStartAnd4.end;return-1===end?"":char.toUpperCase()+str.slice(end+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","(".concat(this.toString(),")")]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",_toConsumableArray(this)]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",_toConsumableArray(this)]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(code,data){if("string"!=typeof code)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[code,data]]}}),Object.defineProperty(JSON,"_real_stringify",{value:JSON.stringify}),Object.defineProperty(JSON,"stringify",{configurable:!0,writable:!0,value:function(_value,replacer,space){return JSON._real_stringify(_value,(function(key,val){var value=val;if("function"==typeof replacer)try{value=replacer(key,value)}catch(ex){}return void 0===value&&(value=["(revive:eval)","undefined"]),value}),space)}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,(function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(ex){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(ex){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(ex){}return value}))}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var match,re=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),names=[];null!==(match=re.exec(this));)match[1]?names.push(match[1]):match[2]&&names.push(match[2]);return names}})}();var Browser=(userAgent=navigator.userAgent.toLowerCase(),winPhone=userAgent.includes("windows phone"),isMobile=Object.freeze({Android:!winPhone&&userAgent.includes("android"),BlackBerry:/blackberry|bb10/.test(userAgent),iOS:!winPhone&&/ip(?:hone|ad|od)/.test(userAgent),Opera:!winPhone&&("object"===_typeof(window.operamini)||userAgent.includes("opera mini")),Windows:winPhone||/iemobile|wpdesktop/.test(userAgent),any:function(){return isMobile.Android||isMobile.BlackBerry||isMobile.iOS||isMobile.Opera||isMobile.Windows}}),isGecko=!isMobile.Windows&&!/khtml|trident|edge/.test(userAgent)&&userAgent.includes("gecko"),isIE=!userAgent.includes("opera")&&/msie|trident/.test(userAgent),ieVersion=isIE?(ver=/(?:msie\s+|rv:)(\d+\.\d)/.exec(userAgent))?Number(ver[1]):0:null,isOpera=userAgent.includes("opera")||userAgent.includes(" opr/"),operaVersion=isOpera?function(){var ver=new RegExp("".concat(/khtml|chrome/.test(userAgent)?"opr":"version","\\/(\\d+\\.\\d+)")).exec(userAgent);return ver?Number(ver[1]):0}():null,isVivaldi=userAgent.includes("vivaldi"),Object.freeze({userAgent:userAgent,isMobile:isMobile,isGecko:isGecko,isIE:isIE,ieVersion:ieVersion,isOpera:isOpera,operaVersion:operaVersion,isVivaldi:isVivaldi})),ver,userAgent,winPhone,isMobile,isGecko,isIE,ieVersion,isOpera,operaVersion,isVivaldi,Has=(hasAudioElement=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(ex){}return!1}(),hasFile=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(ex){}return!1}(),hasGeolocation=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(ex){}return!1}(),hasMutationObserver=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(ex){}return!1}(),hasPerformance=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(ex){}return!1}(),hasTouch=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(ex){}return!1}(),hasTransitionEndEvent=function(){try{for(var teMap=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),teKeys=_toConsumableArray(teMap.keys()),el=document.createElement("div"),i=0;i<teKeys.length;++i)if(el.style[teKeys[i]]!==undefined)return teMap.get(teKeys[i])}catch(ex){}return!1}(),Object.freeze({audio:hasAudioElement,fileAPI:hasFile,geolocation:hasGeolocation,mutationObserver:hasMutationObserver,performance:hasPerformance,touch:hasTouch,transitionEndEvent:hasTransitionEndEvent})),hasAudioElement,hasFile,hasGeolocation,hasMutationObserver,hasPerformance,hasTouch,hasTransitionEndEvent,Visibility=(vendor=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find((function(vnd){return vnd.hiddenProperty in document})))}catch(ex){}return undefined}(),Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},state:{get:function(){return vendor&&document[vendor.stateProperty]||"visible"}},isEnabled:{value:function(){return Boolean(vendor)}},isHidden:{value:function(){return Boolean(vendor&&document[vendor.hiddenProperty])}},hiddenProperty:{value:vendor&&vendor.hiddenProperty},stateProperty:{value:vendor&&vendor.stateProperty},changeEvent:{value:vendor&&vendor.changeEvent}}))),vendor,Fullscreen=function(){var _hasPromise,vendor=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find((function(vnd){return vnd.isEnabled in document})))}catch(ex){}return undefined}(),_returnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,vendor)try{var value=document.exitFullscreen();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise});function _selectElement(requestedEl){var selectedEl=requestedEl||document.documentElement;return selectedEl===document.documentElement&&("msRequestFullscreen"===vendor.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(selectedEl=document.body),selectedEl}function isFullscreen(){return Boolean(vendor&&document[vendor.element])}function requestFullscreen(options,requestedEl){var _this=this;if(!vendor)return Promise.reject(new Error("fullscreen not supported"));var element=_selectElement(requestedEl);if("function"!=typeof element[vendor.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(isFullscreen())return Promise.resolve();if(_returnsPromise())return element[vendor.requestFn](options);var namespace=".Fullscreen_requestFullscreen";return new Promise((function(resolve,reject){jQuery(element).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen request error")):resolve()})),element[vendor.requestFn](options)}))}function exitFullscreen(){var _this2=this;if(!vendor||"function"!=typeof document[vendor.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!isFullscreen())return Promise.reject(new TypeError("fullscreen mode not active"));if(_returnsPromise())return document[vendor.exitFn]();var namespace=".Fullscreen_exitFullscreen";return new Promise((function(resolve,reject){jQuery(document).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this2).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen exit error")):resolve()})),document[vendor.exitFn]()}))}return Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},element:{get:function(){return vendor?document[vendor.element]:null}},isEnabled:{value:function(){return Boolean(vendor&&document[vendor.isEnabled])}},isFullscreen:{value:isFullscreen},request:{value:requestFullscreen},exit:{value:exitFullscreen},toggle:{value:function(options,requestedEl){return isFullscreen()?exitFullscreen():requestFullscreen(options,requestedEl)}},onChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.changeEvent,handlerFn)}}},offChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.changeEvent,handlerFn):$(element).off(vendor.changeEvent)}}},onError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.errorEvent,handlerFn)}}},offError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.errorEvent,handlerFn):$(element).off(vendor.errorEvent)}}}}))}(),_ref3=Object.freeze(Object.defineProperties({},{clone:{value:function clone(orig){return"object"!==_typeof(orig)||null===orig?orig:orig instanceof String?String(orig):orig instanceof Number?Number(orig):orig instanceof Boolean?Boolean(orig):"function"==typeof orig.clone?orig.clone(!0):orig.nodeType&&"function"==typeof orig.cloneNode?orig.cloneNode(!0):(orig instanceof Array?copy=new Array(orig.length):orig instanceof Date?copy=new Date(orig.getTime()):orig instanceof Map?(copy=new Map,orig.forEach((function(val,key){return copy.set(key,clone(val))}))):orig instanceof RegExp?copy=new RegExp(orig):orig instanceof Set?(copy=new Set,orig.forEach((function(val){return copy.add(clone(val))}))):copy=Object.create(Object.getPrototypeOf(orig)),Object.keys(orig).forEach((function(name){return copy[name]=clone(orig[name])})),copy);var copy}},convertBreaks:{value:function(source){for(var node,output=document.createDocumentFragment(),para=document.createElement("p");null!==(node=source.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":if(null!==node.nextSibling&&node.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===node.nextSibling.nodeName.toUpperCase()){source.removeChild(node.nextSibling),source.removeChild(node),output.appendChild(para),para=document.createElement("p");continue}if(!para.hasChildNodes()){source.removeChild(node);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":para.hasChildNodes()&&(output.appendChild(para),para=document.createElement("p")),output.appendChild(node);continue}para.appendChild(node)}para.hasChildNodes()&&output.appendChild(para),source.appendChild(output)}},safeActiveElement:{value:function(){try{return document.activeElement||null}catch(ex){return null}}},setDisplayTitle:{value:function(title){if("string"!=typeof title)throw new TypeError("story display title must be a string (received: ".concat(Util.getType(title),")"));var render=document.createDocumentFragment();new Wikifier(render,title);var text=function(source){for(var node,copy=source.cloneNode(!0),frag=document.createDocumentFragment();null!==(node=copy.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":case"DIV":case"P":frag.appendChild(document.createTextNode(" "))}frag.appendChild(node)}return frag.textContent}(render).trim();document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?"".concat(State.passage," | ").concat(text):text;var storyTitle=document.getElementById("story-title");null!==storyTitle&&jQuery(storyTitle).empty().append(render)}},setPageElement:{value:function(idOrElement,titles,defaultText){var el="object"===_typeof(idOrElement)?idOrElement:document.getElementById(idOrElement);if(null==el)return null;var ids=Array.isArray(titles)?titles:[titles];jQuery(el).empty();for(var i=0,iend=ids.length;i<iend;++i)if(Story.has(ids[i]))return new Wikifier(el,Story.get(ids[i]).processText().trim()),el;if(null!=defaultText){var text=String(defaultText).trim();""!==text&&new Wikifier(el,text)}return el}},throwError:{value:function(place,message,source){var $wrapper=jQuery(document.createElement("div")),$toggle=jQuery(document.createElement("button")),$source=jQuery(document.createElement("pre")),mesg="".concat(L10n.get("errorTitle"),": ").concat(message||"unknown error");return $toggle.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},(function(){$toggle.hasClass("enabled")?($toggle.removeClass("enabled"),$source.attr({"aria-hidden":!0,hidden:"hidden"})):($toggle.addClass("enabled"),$source.removeAttr("aria-hidden hidden"))})).appendTo($wrapper),jQuery(document.createElement("span")).addClass("error").text(mesg).appendTo($wrapper),jQuery(document.createElement("code")).text(source).appendTo($source),$source.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo($wrapper),$wrapper.addClass("error-view").appendTo(place),console.warn("".concat(mesg,"\n\t").concat(source.replace(/\n/g,"\n\t"))),!1}},stringFrom:{value:function stringFrom(value){switch(_typeof(value)){case"function":return"[function]";case"number":if(Number.isNaN(value))return"[number NaN]";break;case"object":if(null===value)return"[null]";if(value instanceof Array)return value.map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Set)return Array.from(value).map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Map){var result=Array.from(value).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1];return"".concat(stringFrom(key)," → ").concat(stringFrom(val))}));return"{ ".concat(result.join(", ")," }")}if(value instanceof Date)return value.toLocaleString();if(value instanceof Element){if(value===document.documentElement||value===document.head||value===document.body)throw new Error("illegal operation; attempting to convert the <html>, <head>, or <body> tags to string is not allowed");return value.outerHTML}return value instanceof Node?value.textContent:"function"==typeof value.toString?value.toString():Object.prototype.toString.call(value);case"symbol":var desc=void 0!==value.description?' "'.concat(value.description,'"'):"";return"[symbol".concat(desc,"]");case"undefined":return"[undefined]"}return String(value)}}})),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setDisplayTitle=_ref3.setDisplayTitle,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,stringFrom=_ref3.stringFrom;!function(){function onKeypressFn(ev){13!==ev.which&&32!==ev.which||(ev.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function onClickFnWrapper(fn){return function(){var $this=jQuery(this);$this.ariaIsDisabled()||($this.is("[aria-pressed]")&&$this.attr("aria-pressed","true"===$this.attr("aria-pressed")?"false":"true"),fn.apply(this,arguments))}}function oneClickFnWrapper(fn){return onClickFnWrapper((function(){jQuery(this).off(".aria-clickable").removeAttr("role tabindex aria-controls aria-pressed").filter("button").prop("disabled",!0),fn.apply(this,arguments)}))}jQuery.fn.extend({ariaClick:function(options,handler){if(0===this.length||0===arguments.length)return this;var opts=options,fn=handler;return null==fn&&(fn=opts,opts=undefined),"string"!=typeof(opts=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,role:undefined,controls:undefined,pressed:undefined,label:undefined},opts)).namespace?opts.namespace="":"."!==opts.namespace[0]&&(opts.namespace=".".concat(opts.namespace)),"boolean"==typeof opts.pressed&&(opts.pressed=opts.pressed?"true":"false"),this.filter("button").prop("type","button"),null!=opts.role?this.attr("role",opts.role):this.not("[role]").filter("a,[data-passage]").attr("role","link").end().not("a").not("[data-passage]").attr("role","button").end().end().end(),this.attr("tabindex",0),null!=opts.controls&&this.attr("aria-controls",opts.controls),null!=opts.pressed&&this.attr("aria-pressed",opts.pressed),null!=opts.label&&this.attr({"aria-label":opts.label,title:opts.label}),this.not("button").on("keypress.aria-clickable".concat(opts.namespace),opts.selector,onKeypressFn),this.on("click.aria-clickable".concat(opts.namespace),opts.selector,opts.data,opts.one?oneClickFnWrapper(fn):onClickFnWrapper(fn)),this},ariaDisabled:function(disable){if(0===this.length||0===arguments.length)return this;var $nonDisableable=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),$disableable=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return disable?($nonDisableable.each((function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true")})),$disableable.each((function(){this.disabled=!0,this.setAttribute("aria-disabled","true")}))):($nonDisableable.each((function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")})),$disableable.each((function(){this.disabled=!1,this.removeAttribute("aria-disabled")}))),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.extend({wikiWithOptions:function(options){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];if(0!==sources.length){var frag=document.createDocumentFragment();sources.forEach((function(content){return new Wikifier(frag,content,options)}));var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "))}},wiki:function(){for(var _len2=arguments.length,sources=new Array(_len2),_key2=0;_key2<_len2;_key2++)sources[_key2]=arguments[_key2];this.wikiWithOptions.apply(this,[undefined].concat(sources))}}),jQuery.fn.extend({wikiWithOptions:function(options){for(var _len3=arguments.length,sources=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)sources[_key3-1]=arguments[_key3];if(0===this.length||0===sources.length)return this;var frag=document.createDocumentFragment();return sources.forEach((function(content){return new Wikifier(frag,content,options)})),this.append(frag),this},wiki:function(){for(var _len4=arguments.length,sources=new Array(_len4),_key4=0;_key4<_len4;_key4++)sources[_key4]=arguments[_key4];return this.wikiWithOptions.apply(this,[undefined].concat(sources))}});var Util=function(){var toString,utilGetType="[object Object]"===(toString=Object.prototype.toString).call(new Map)?function(O){if(null===O)return"null";if(O instanceof Map)return"Map";if(O instanceof Set)return"Set";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType}:function(O){if(null===O)return"null";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType};function utilToEnum(obj){var pEnum=Object.create(null);if(obj instanceof Array)obj.forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Set)Array.from(obj).forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Map)obj.forEach((function(val,key){return pEnum[String(key)]=val}));else{if("object"!==_typeof(obj)||null===obj||Object.getPrototypeOf(obj)!==Object.prototype)throw new TypeError("Util.toEnum obj parameter must be an Array, Map, Set, or generic object");Object.assign(pEnum,obj)}return Object.freeze(pEnum)}function utilToStringTag(obj){return Object.prototype.toString.call(obj).slice(8,-1)}var _illegalSlugCharsRe=/[\x00-\x20!-/:-@[-^`{-\x9f]+/g,_isInvalidSlugRe=/^-*$/;var _illegalFilenameCharsRE=/[\x00-\x1f"#$%&'*+,/:;<=>?\\^`|\x7f-\x9f]+/g;var _markupCharsRe=/[!"#$&'*\-/<=>?@[\\\]^_`{|}~]/g,_hasMarkupCharsRe=new RegExp(_markupCharsRe.source),_markupCharsMap=utilToEnum({"!":"&#33;",'"':"&quot;","#":"&#35;",$:"&#36;","&":"&amp;","'":"&#39;","*":"&#42;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","?":"&#63;","@":"&#64;","[":"&#91;","\\":"&#92;","]":"&#93;","^":"&#94;",_:"&#95;","`":"&#96;","{":"&#123;","|":"&#124;","}":"&#125;","~":"&#126;"});var _htmlCharsRe=/[&<>"'`]/g,_hasHtmlCharsRe=new RegExp(_htmlCharsRe.source),_htmlCharsMap=utilToEnum({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"});function utilEscape(str){if(null==str)return"";var val=String(str);return val&&_hasHtmlCharsRe.test(val)?val.replace(_htmlCharsRe,(function(ch){return _htmlCharsMap[ch]})):val}var _escapedHtmlRe=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,_hasEscapedHtmlRe=new RegExp(_escapedHtmlRe.source,"i"),_escapedHtmlMap=utilToEnum({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"});function utilUnescape(str){if(null==str)return"";var val=String(str);return val&&_hasEscapedHtmlRe.test(val)?val.replace(_escapedHtmlRe,(function(entity){return _escapedHtmlMap[entity.toLowerCase()]})):val}var _nowSource=Has.performance?performance:Date;var _cssTimeRe=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;var utilScrubEventKey=function(){var separatorKey,decimalKey;if("undefined"!=typeof Intl&&"function"==typeof Intl.NumberFormat){var match=(new Intl.NumberFormat).format(111111.5).match(/(\D*)\d+(\D*)/);match&&(separatorKey=match[1],decimalKey=match[2])}return separatorKey||decimalKey||(separatorKey=",",decimalKey="."),function(key){switch(key){case"Scroll":return"ScrollLock";case"Spacebar":return" ";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Del":return"Delete";case"Crsel":return"CrSel";case"Exsel":return"ExSel";case"Esc":return"Escape";case"Apps":return"ContextMenu";case"Nonconvert":return"NonConvert";case"MediaNextTrack":return"MediaTrackNext";case"MediaPreviousTrack":return"MediaTrackPrevious";case"VolumeUp":return"AudioVolumeUp";case"VolumeDown":return"AudioVolumeDown";case"VolumeMute":return"AudioVolumeMute";case"Zoom":return"ZoomToggle";case"SelectMedia":case"MediaSelect":return"LaunchMediaPlayer";case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Decimal":return decimalKey;case"Separator":return separatorKey}return key}}(),utilHasMediaQuery="function"!=typeof window.matchMedia?function(){return!1}:function(mediaQuery){return window.matchMedia(mediaQuery).matches};return Object.freeze(Object.defineProperties({},{getType:{value:utilGetType},isBoolean:{value:function(obj){return"boolean"==typeof obj||"string"==typeof obj&&("true"===obj||"false"===obj)}},isIterable:{value:function(obj){return null!=obj&&"function"==typeof obj[Symbol.iterator]}},isNumeric:{value:function(obj){var num;switch(_typeof(obj)){case"number":num=obj;break;case"string":num=Number(obj);break;default:return!1}return!Number.isNaN(num)&&Number.isFinite(num)}},sameValueZero:{value:function(a,b){return a===b||a!=a&&b!=b}},toEnum:{value:utilToEnum},toStringTag:{value:utilToStringTag},slugify:{value:function(str){var base=String(str).trim(),_legacy=base.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return _isInvalidSlugRe.test(_legacy)?base.replace(_illegalSlugCharsRe,"").replace(/[_\s\u2013\u2014-]+/g,"-"):_legacy}},sanitizeFilename:{value:function(str){return String(str).trim().replace(_illegalFilenameCharsRE,"")}},escapeMarkup:{value:function(str){if(null==str)return"";var val=String(str);return val&&_hasMarkupCharsRe.test(val)?val.replace(_markupCharsRe,(function(ch){return _markupCharsMap[ch]})):val}},escape:{value:utilEscape},unescape:{value:utilUnescape},charAndPosAt:{value:function(text,position){var str=String(text),pos=Math.trunc(position),code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};var retval={char:str.charAt(pos),start:pos,end:pos};if(code<55296||code>57343)return retval;if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)return retval;var nextCode=str.charCodeAt(nextPos);return nextCode<56320||nextCode>57343||(retval.char=retval.char+str.charAt(nextPos),retval.end=nextPos),retval}if(0===pos)return retval;var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);return prevCode<55296||prevCode>56319||(retval.char=str.charAt(prevPos)+retval.char,retval.start=prevPos),retval}},now:{value:function(){return _nowSource.now()}},fromCssTime:{value:function(cssTime){var match=_cssTimeRe.exec(String(cssTime));if(null===match)throw new SyntaxError('invalid time value syntax: "'.concat(cssTime,'"'));var msec=Number(match[1]);if(1===match[2].length&&(msec*=1e3),Number.isNaN(msec)||!Number.isFinite(msec))throw new RangeError('invalid time value: "'.concat(cssTime,'"'));return msec}},toCssTime:{value:function(msec){if("number"!=typeof msec||Number.isNaN(msec)||!Number.isFinite(msec)){var what;switch(_typeof(msec)){case"string":what='"'.concat(msec,'"');break;case"number":what=String(msec);break;default:what=utilToStringTag(msec)}throw new Error("invalid milliseconds: ".concat(what))}return"".concat(msec,"ms")}},fromCssProperty:{value:function(cssName){if(!cssName.includes("-"))switch(cssName){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return cssName}return("-ms-"===cssName.slice(0,4)?cssName.slice(1):cssName).split("-").map((function(part,i){return 0===i?part:part.toUpperFirst()})).join("")}},parseUrl:{value:function(url){var el=document.createElement("a"),queryObj=Object.create(null);el.href=url,el.search&&el.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach((function(query){var _query$split2=_slicedToArray(query.split("="),2),key=_query$split2[0],value=_query$split2[1];queryObj[key]=value}));var pathname=el.host&&"/"!==el.pathname[0]?"/".concat(el.pathname):el.pathname;return{href:el.href,protocol:el.protocol,host:el.host,hostname:el.hostname,port:el.port,path:"".concat(pathname).concat(el.search),pathname:pathname,query:el.search,search:el.search,queries:queryObj,searches:queryObj,hash:el.hash}}},newExceptionFrom:{value:function(original,exceptionType,override){if("object"!==_typeof(original)||null===original)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof exceptionType)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var ex=new exceptionType(original.message);void 0!==original.name&&(ex.name=original.name),void 0!==original.code&&(ex.code=original.code),void 0!==original.columnNumber&&(ex.columnNumber=original.columnNumber),void 0!==original.description&&(ex.description=original.description),void 0!==original.fileName&&(ex.fileName=original.fileName),void 0!==original.lineNumber&&(ex.lineNumber=original.lineNumber),void 0!==original.number&&(ex.number=original.number),void 0!==original.stack&&(ex.stack=original.stack);var overrideType=_typeof(override);if("undefined"!==overrideType)if("object"===overrideType&&null!==override)Object.assign(ex,override);else{if("string"!==overrideType)throw new Error("Util.newExceptionFrom override parameter must be an object or string");ex.message=override}return ex}},scrubEventKey:{value:utilScrubEventKey},hasMediaQuery:{value:utilHasMediaQuery},random:{value:Math.random},entityEncode:{value:utilEscape},entityDecode:{value:utilUnescape},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=(_adapters=[],_initialized=null,Object.freeze(Object.defineProperties({},{adapters:{value:_adapters},create:{value:function(storageId,persistent){if(_initialized)return _initialized.create(storageId,persistent);for(var i=0;i<_adapters.length;++i)if(_adapters[i].init(storageId,persistent))return(_initialized=_adapters[i]).create(storageId,persistent);throw new Error("no valid storage adapters found")}}}))),_adapters,_initialized,_ok,_WebStorageAdapter;SimpleStore.adapters.push((_ok=!1,_WebStorageAdapter=function(){function _WebStorageAdapter(storageId,persistent){_classCallCheck(this,_WebStorageAdapter);var prefix="".concat(storageId,"."),engine=null,name=null;persistent?(engine=window.localStorage,name="localStorage"):(engine=window.sessionStorage,name="sessionStorage"),Object.defineProperties(this,{_engine:{value:engine},_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:name},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_WebStorageAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var keys=[],i=0;i<this._engine.length;++i){var key=this._engine.key(i);this._prefixRe.test(key)&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&this._engine.hasOwnProperty(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=this._engine.getItem(this._prefix+key);return null==value?null:_WebStorageAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{this._engine.setItem(this._prefix+key,_WebStorageAdapter._serialize(value))}catch(ex){if(/quota.?(?:exceeded|reached)/i.test(ex.name+ex.message))throw Util.newExceptionFrom(ex,Error,"".concat(this.name," quota exceeded"));throw ex}return!0}},{key:"delete",value:function(key){return!("string"!=typeof key||!key||(this._engine.removeItem(this._prefix+key),0))}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_serialize",value:function(obj){return LZString.compressToUTF16(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromUTF16(str))}}]),_WebStorageAdapter}(),Object.freeze(Object.defineProperties({},{init:{value:function(){function hasWebStorage(storeId){try{var store=window[storeId],tid="_sc_".concat(String(Date.now()));store.setItem(tid,tid);var result=store.getItem(tid)===tid;return store.removeItem(tid),result}catch(ex){}return!1}return _ok=hasWebStorage("localStorage")&&hasWebStorage("sessionStorage")}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _WebStorageAdapter(storageId,persistent)}}})))),SimpleStore.adapters.push(function(){var _MAX_EXPIRY="Tue, 19 Jan 2038 03:14:07 GMT",_MIN_EXPIRY="Thu, 01 Jan 1970 00:00:00 GMT",_ok=!1,_CookieAdapter=function(){function _CookieAdapter(storageId,persistent){_classCallCheck(this,_CookieAdapter);var prefix="".concat(storageId).concat(persistent?"!":"*",".");Object.defineProperties(this,{_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:"cookie"},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_CookieAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var cookies=document.cookie.split(/;\s*/),keys=[],i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(this._prefixRe.test(key))""!==decodeURIComponent(kvPair[1])&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&null!==_CookieAdapter._getCookie(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=_CookieAdapter._getCookie(this._prefix+key);return null===value?null:_CookieAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,_CookieAdapter._serialize(value),this.persistent?"Tue, 19 Jan 2038 03:14:07 GMT":undefined),!this.has(key))throw new Error("unknown validation error during set")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"delete",value:function(key){if("string"!=typeof key||!key||!this.has(key))return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,undefined,_MIN_EXPIRY),this.has(key))throw new Error("unknown validation error during delete")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_getCookie",value:function(prefixedKey){if(!prefixedKey||""===document.cookie)return null;for(var cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("=");if(prefixedKey===decodeURIComponent(kvPair[0]))return decodeURIComponent(kvPair[1])||null}return null}},{key:"_setCookie",value:function(prefixedKey,value,expiry){if(prefixedKey){var payload="".concat(encodeURIComponent(prefixedKey),"=");null!=value&&(payload+=encodeURIComponent(value)),null!=expiry&&(payload+="; expires=".concat(expiry)),payload+="; path=/",document.cookie=payload}}},{key:"_serialize",value:function(obj){return LZString.compressToBase64(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromBase64(str))}}]),_CookieAdapter}();return Object.freeze(Object.defineProperties({},{init:{value:function(storageId){try{var tid="_sc_".concat(String(Date.now()));_CookieAdapter._setCookie(tid,_CookieAdapter._serialize(tid),undefined),_ok=_CookieAdapter._deserialize(_CookieAdapter._getCookie(tid))===tid,_CookieAdapter._setCookie(tid,undefined,_MIN_EXPIRY)}catch(ex){_ok=!1}return _ok&&function(storageId){if(""===document.cookie)return;for(var oldPrefix="".concat(storageId,"."),oldPrefixRe=new RegExp("^".concat(RegExp.escape(oldPrefix))),persistPrefix="".concat(storageId,"!."),sessionPrefix="".concat(storageId,"*."),sessionTestRe=/\.(?:state|rcWarn)$/,cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(oldPrefixRe.test(key)){var value=decodeURIComponent(kvPair[1]);""!==value&&function(){var persist=!sessionTestRe.test(key);_CookieAdapter._setCookie(key,undefined,_MIN_EXPIRY),_CookieAdapter._setCookie(key.replace(oldPrefixRe,(function(){return persist?persistPrefix:sessionPrefix})),value,persist?_MAX_EXPIRY:undefined)}()}}}(storageId),_ok}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _CookieAdapter(storageId,persistent)}}}))}());var DebugView=function(){function DebugView(parent,type,name,title){_classCallCheck(this,DebugView),Object.defineProperties(this,{parent:{value:parent},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:title,"aria-label":title,"data-type":null!=type?type:"","data-name":null!=name?name:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(DebugView,[{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(type){this.view.setAttribute("data-type",null!=type?type:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(name){this.view.setAttribute("data-name",null!=name?name:"")}},{key:"title",get:function(){return this.view.title},set:function(title){this.view.title=title}},{key:"append",value:function(el){return jQuery(this.view).append(el),this}},{key:"modes",value:function(options){if(null==options){var current={};return this.view.className.splitOrEmpty(/\s+/).forEach((function(name){"debug"!==name&&(current[name]=!0)})),current}if("object"===_typeof(options))return Object.keys(options).forEach((function(name){this[options[name]?"addClass":"removeClass"](name)}),jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var $view=jQuery(this.view);this.view.hasChildNodes()&&$view.contents().appendTo(this.parent),$view.remove(),jQuery(this.break).remove()}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?DebugView.disable():DebugView.enable()}}]),DebugView}(),NodeTyper=function(){var NodeTyper=function(){function NodeTyper(config){if(_classCallCheck(this,NodeTyper),"object"!==_typeof(config)||null===config)throw new Error("config parameter must be an object (received: ".concat(Util.getType(config),")"));if(!(config.hasOwnProperty("targetNode")&&config.targetNode instanceof Node))throw new Error('config parameter object "targetNode" property must be a node');Object.defineProperties(this,{node:{value:config.targetNode},childNodes:{value:[]},nodeValue:{writable:!0,value:""},appendTo:{writable:!0,value:config.parentNode||null},classNames:{writable:!0,value:config.classNames||null},finished:{writable:!0,value:!1}});var childNode,node=this.node;for(node.nodeValue&&(this.nodeValue=node.nodeValue,node.nodeValue="");null!==(childNode=node.firstChild);)this.childNodes.push(new NodeTyper({targetNode:childNode,parentNode:node,classNames:this.classNames})),node.removeChild(childNode)}return _createClass(NodeTyper,[{key:"finish",value:function(){for(;this.type(!0););return!1}},{key:"type",value:function(flush){if(this.finished)return!1;if(this.appendTo){if(this.appendTo.appendChild(this.node),this.appendTo=null,this.node.nodeType!==Node.ELEMENT_NODE&&this.node.nodeType!==Node.TEXT_NODE||"none"===jQuery(this.node.parentNode).css("display"))return this.finish();this.node.parentNode&&this.classNames&&jQuery(this.node.parentNode).addClass(this.classNames)}if(this.nodeValue){if(flush)this.node.nodeValue+=this.nodeValue,this.nodeValue="";else{var _Util$charAndPosAt=Util.charAndPosAt(this.nodeValue,0),char=_Util$charAndPosAt.char,start=_Util$charAndPosAt.start,end=_Util$charAndPosAt.end;this.node.nodeValue+=char,this.nodeValue=this.nodeValue.slice(1+end-start)}return!0}this.classNames&&(jQuery(this.node.parentNode).removeClass(this.classNames),this.classNames=null);for(var childNodes=this.childNodes;childNodes.length>0;){if(childNodes[0].type())return!0;childNodes.shift()}return this.finished=!0,!1}}]),NodeTyper}();return NodeTyper}(),PRNGWrapper=function(){function PRNGWrapper(seed,useEntropy){_classCallCheck(this,PRNGWrapper),Object.defineProperties(this,new Math.seedrandom(seed,useEntropy,(function(prng,seed){return{_prng:{value:prng},seed:{writable:!0,value:seed},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}})))}return _createClass(PRNGWrapper,null,[{key:"marshal",value:function(prng){if(!prng||!prng.hasOwnProperty("seed")||!prng.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:prng.seed,pull:prng.pull}}},{key:"unmarshal",value:function(prngObj){if(!prngObj||!prngObj.hasOwnProperty("seed")||!prngObj.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var prng=new PRNGWrapper(prngObj.seed,!1),i=prngObj.pull;i>0;--i)prng.random();return prng}}]),PRNGWrapper}(),StyleWrapper=(_imageMarkupRe=new RegExp(Patterns.cssImage,"g"),_hasImageMarkupRe=new RegExp(Patterns.cssImage),function(){function StyleWrapper(style){if(_classCallCheck(this,StyleWrapper),null==style)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:style}})}return _createClass(StyleWrapper,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(rawCss){this.clear(),this.add(rawCss)}},{key:"add",value:function(rawCss){var css=rawCss;_hasImageMarkupRe.test(css)&&(_imageMarkupRe.lastIndex=0,css=css.replace(_imageMarkupRe,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text.trim())}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),this.style.styleSheet?this.style.styleSheet.cssText+=css:this.style.appendChild(document.createTextNode(css))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),StyleWrapper}()),_imageMarkupRe,_hasImageMarkupRe,Diff=(Op=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3}),Object.freeze(Object.defineProperties({},{Op:{value:Op},diff:{value:function diff(orig,dest){for(var aOpRef,objToString=Object.prototype.toString,origIsArray=orig instanceof Array,keys=[].concat(Object.keys(orig),Object.keys(dest)).sort().filter((function(val,i,arr){return 0===i||arr[i-1]!==val})),diffed={},keyIsAOpRef=function(key){return key===aOpRef},i=0,klen=keys.length;i<klen;++i){var key=keys[i],origP=orig[key],destP=dest[key];if(orig.hasOwnProperty(key))if(dest.hasOwnProperty(key)){if(origP===destP)continue;if(_typeof(origP)===_typeof(destP))if("function"==typeof origP)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,destP]);else if("object"!==_typeof(origP)||null===origP)diffed[key]=[Op.Copy,destP];else{var origPType=objToString.call(origP);if(origPType===objToString.call(destP))if(origP instanceof Date)Number(origP)!==Number(destP)&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Map)diffed[key]=[Op.Copy,clone(destP)];else if(origP instanceof RegExp)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Set)diffed[key]=[Op.Copy,clone(destP)];else if("[object Object]"!==origPType)diffed[key]=[Op.Copy,clone(destP)];else{var recurse=diff(origP,destP);null!==recurse&&(diffed[key]=recurse)}else diffed[key]=[Op.Copy,clone(destP)]}else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}else if(origIsArray&&Util.isNumeric(key)){var nKey=Number(key);if(!aOpRef){aOpRef="";do{aOpRef+="~"}while(keys.some(keyIsAOpRef));diffed[aOpRef]=[Op.SpliceArray,nKey,nKey]}nKey<diffed[aOpRef][1]&&(diffed[aOpRef][1]=nKey),nKey>diffed[aOpRef][2]&&(diffed[aOpRef][2]=nKey)}else diffed[key]=Op.Delete;else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}return Object.keys(diffed).length>0?diffed:null}},patch:{value:function patch(orig,diffed){for(var keys=Object.keys(diffed||{}),patched=clone(orig),i=0,klen=keys.length;i<klen;++i){var key=keys[i],diffedP=diffed[key];if(diffedP===Op.Delete)delete patched[key];else if(diffedP instanceof Array)switch(diffedP[0]){case Op.SpliceArray:patched.splice(diffedP[1],diffedP[2]-diffedP[1]+1);break;case Op.Copy:patched[key]=clone(diffedP[1]);break;case Op.CopyDate:patched[key]=new Date(diffedP[1])}else patched[key]=patch(patched[key],diffedP)}return patched}}}))),Op,L10n=(_patternRe=/\{\w+\}/g,_hasPatternRe=new RegExp(_patternRe.source),Object.freeze(Object.defineProperties({},{init:{value:function(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach((function(id){try{var value;switch(id){case"identity":value=strings.identity;break;case"aborting":value=strings.aborting;break;case"cancel":value=strings.cancel;break;case"close":value=strings.close;break;case"ok":value=strings.ok;break;case"errorTitle":value=strings.errors.title;break;case"errorNonexistentPassage":value=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":value=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":value=strings.errors.saveIdMismatch;break;case"warningDegraded":value=strings.warnings.degraded;break;case"debugViewTitle":value=strings.debugView.title;break;case"debugViewToggle":value=strings.debugView.toggle;break;case"uiBarToggle":value=strings.uiBar.toggle;break;case"uiBarBackward":value=strings.uiBar.backward;break;case"uiBarForward":value=strings.uiBar.forward;break;case"uiBarJumpto":value=strings.uiBar.jumpto;break;case"jumptoTitle":value=strings.jumpto.title;break;case"jumptoTurn":value=strings.jumpto.turn;break;case"jumptoUnavailable":value=strings.jumpto.unavailable;break;case"savesTitle":value=strings.saves.title;break;case"savesDisallowed":value=strings.saves.disallowed;break;case"savesIncapable":value=strings.saves.incapable;break;case"savesLabelAuto":value=strings.saves.labelAuto;break;case"savesLabelDelete":value=strings.saves.labelDelete;break;case"savesLabelExport":value=strings.saves.labelExport;break;case"savesLabelImport":value=strings.saves.labelImport;break;case"savesLabelLoad":value=strings.saves.labelLoad;break;case"savesLabelClear":value=strings.saves.labelClear;break;case"savesLabelSave":value=strings.saves.labelSave;break;case"savesLabelSlot":value=strings.saves.labelSlot;break;case"savesUnavailable":value=strings.saves.unavailable;break;case"savesUnknownDate":value=strings.saves.unknownDate;break;case"settingsTitle":value=strings.settings.title;break;case"settingsOff":value=strings.settings.off;break;case"settingsOn":value=strings.settings.on;break;case"settingsReset":value=strings.settings.reset;break;case"restartTitle":value=strings.restart.title;break;case"restartPrompt":value=strings.restart.prompt;break;case"shareTitle":value=strings.share.title;break;case"alertTitle":break;case"autoloadTitle":value=strings.autoload.title;break;case"autoloadCancel":value=strings.autoload.cancel;break;case"autoloadOk":value=strings.autoload.ok;break;case"autoloadPrompt":value=strings.autoload.prompt;break;case"macroBackText":value=strings.macros.back.text;break;case"macroReturnText":value=strings.macros.return.text}value&&(l10nStrings[id]=value.replace(/%\w+%/g,(function(pat){return"{".concat(pat.slice(1,-1),"}")})))}catch(ex){}}))}},get:{value:function(ids,overrides){if(!ids)return"";var selectedId,id=((Array.isArray(ids)?ids:[ids]).some((function(id){return!!l10nStrings.hasOwnProperty(id)&&(selectedId=id,!0)})),selectedId);if(!id)return"";for(var processed=l10nStrings[id],iteration=0;_hasPatternRe.test(processed);){if(++iteration>50)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");_patternRe.lastIndex=0,processed=processed.replace(_patternRe,(function(pat){var subId=pat.slice(1,-1);return overrides&&overrides.hasOwnProperty(subId)?overrides[subId]:l10nStrings.hasOwnProperty(subId)?l10nStrings[subId]:void 0}))}return processed}}}))),_patternRe,_hasPatternRe,strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveDiskLoadFailed:"failed to load save file from disk",errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",alertTitle:"Alert",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=(_debug=!1,_addVisitedLinkClass=!1,_cleanupWikifierOutput=!1,_loadDelay=0,_audioPauseOnFadeToZero=!0,_audioPreloadMetadata=!0,_historyControls=!0,_historyMaxStates=40,_macrosIfAssignmentError=!0,_macrosMaxLoopIterations=1e3,_macrosTypeSkipKey=" ",_macrosTypeVisitedPassages=!0,_passagesDisplayTitles=!1,_passagesNobr=!1,_savesId="untitled-story",_savesSlots=8,_savesTryDiskOnMobile=!0,_uiStowBarInitially=800,_uiUpdateStoryElements=!0,_errHistoryModeDeprecated="Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code",Object.freeze({get debug(){return _debug},set debug(value){_debug=Boolean(value)},get addVisitedLinkClass(){return _addVisitedLinkClass},set addVisitedLinkClass(value){_addVisitedLinkClass=Boolean(value)},get cleanupWikifierOutput(){return _cleanupWikifierOutput},set cleanupWikifierOutput(value){_cleanupWikifierOutput=Boolean(value)},get loadDelay(){return _loadDelay},set loadDelay(value){if(!Number.isSafeInteger(value)||value<0)throw new RangeError("Config.loadDelay must be a non-negative integer");_loadDelay=value},audio:Object.freeze({get pauseOnFadeToZero(){return _audioPauseOnFadeToZero},set pauseOnFadeToZero(value){_audioPauseOnFadeToZero=Boolean(value)},get preloadMetadata(){return _audioPreloadMetadata},set preloadMetadata(value){_audioPreloadMetadata=Boolean(value)}}),history:Object.freeze({get controls(){return _historyControls},set controls(value){var controls=Boolean(value);if(1===_historyMaxStates&&controls)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");_historyControls=controls},get maxStates(){return _historyMaxStates},set maxStates(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.history.maxStates must be a positive integer");_historyMaxStates=value,_historyControls&&1===value&&(_historyControls=!1)},get mode(){throw new Error(_errHistoryModeDeprecated)},set mode(_){throw new Error(_errHistoryModeDeprecated)},get tracking(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")},set tracking(_){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}}),macros:Object.freeze({get ifAssignmentError(){return _macrosIfAssignmentError},set ifAssignmentError(value){_macrosIfAssignmentError=Boolean(value)},get maxLoopIterations(){return _macrosMaxLoopIterations},set maxLoopIterations(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.macros.maxLoopIterations must be a positive integer");_macrosMaxLoopIterations=value},get typeSkipKey(){return _macrosTypeSkipKey},set typeSkipKey(value){_macrosTypeSkipKey=String(value)},get typeVisitedPassages(){return _macrosTypeVisitedPassages},set typeVisitedPassages(value){_macrosTypeVisitedPassages=Boolean(value)}}),navigation:Object.freeze({get override(){return _navigationOverride},set override(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_navigationOverride=value}}),passages:Object.freeze({get descriptions(){return _passagesDescriptions},set descriptions(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"Object"!==valueType&&"function"!==valueType)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: ".concat(valueType,")"))}_passagesDescriptions=value},get displayTitles(){return _passagesDisplayTitles},set displayTitles(value){_passagesDisplayTitles=Boolean(value)},get nobr(){return _passagesNobr},set nobr(value){_passagesNobr=Boolean(value)},get onProcess(){return _passagesOnProcess},set onProcess(value){if(null!=value){var valueType=Util.getType(value);if("function"!==valueType)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: ".concat(valueType,")"))}_passagesOnProcess=value},get start(){return _passagesStart},set start(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType)throw new TypeError("Config.passages.start must be a string or null/undefined (received: ".concat(valueType,")"))}_passagesStart=value},get transitionOut(){return _passagesTransitionOut},set transitionOut(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: ".concat(valueType,")"))}_passagesTransitionOut=value}}),saves:Object.freeze({get autoload(){return _savesAutoload},set autoload(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"string"!==valueType&&"function"!==valueType)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: ".concat(valueType,")"))}_savesAutoload=value},get autosave(){return _savesAutosave},set autosave(value){if(null!=value){var valueType=Util.getType(value);if("string"===valueType)return void(_savesAutosave=[value]);if("boolean"!==valueType&&("Array"!==valueType||!value.every((function(item){return"string"==typeof item})))&&"function"!==valueType)throw new TypeError("Config.saves.autosave must be a boolean, Array<string>, function, or null/undefined (received: ".concat(valueType).concat("Array"===valueType?"<any>":"",")"))}_savesAutosave=value},get id(){return _savesId},set id(value){if("string"!=typeof value||""===value)throw new TypeError("Config.saves.id must be a non-empty string (received: ".concat(Util.getType(value),")"));_savesId=value},get isAllowed(){return _savesIsAllowed},set isAllowed(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_savesIsAllowed=value},get slots(){return _savesSlots},set slots(value){if(!Number.isSafeInteger(value)||value<0)throw new TypeError("Config.saves.slots must be a non-negative integer (received: ".concat(Util.getType(value),")"));_savesSlots=value},get tryDiskOnMobile(){return _savesTryDiskOnMobile},set tryDiskOnMobile(value){_savesTryDiskOnMobile=Boolean(value)},get version(){return _savesVersion},set version(value){_savesVersion=value},get onLoad(){throw new Error("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead")},set onLoad(value){console.warn("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead"),Save.onLoad.add(value)},get onSave(){throw new Error("Config.saves.onSave has been deprecated, use the Save.onSave API instead")},set onSave(value){console.warn("Config.saves.onSave has been deprecated, use the Save.onSave API instead"),Save.onSave.add(value)}}),ui:Object.freeze({get stowBarInitially(){return _uiStowBarInitially},set stowBarInitially(value){var valueType=Util.getType(value);if("boolean"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: ".concat(valueType,")"));_uiStowBarInitially=value},get updateStoryElements(){return _uiUpdateStoryElements},set updateStoryElements(value){_uiUpdateStoryElements=Boolean(value)}})})),_navigationOverride,_passagesDescriptions,_passagesStart,_passagesOnProcess,_passagesTransitionOut,_savesAutoload,_savesAutosave,_savesIsAllowed,_savesVersion,_debug,_addVisitedLinkClass,_cleanupWikifierOutput,_loadDelay,_audioPauseOnFadeToZero,_audioPreloadMetadata,_historyControls,_historyMaxStates,_macrosIfAssignmentError,_macrosMaxLoopIterations,_macrosTypeSkipKey,_macrosTypeVisitedPassages,_passagesDisplayTitles,_passagesNobr,_savesId,_savesSlots,_savesTryDiskOnMobile,_uiStowBarInitially,_uiUpdateStoryElements,_errHistoryModeDeprecated,SimpleAudio=function(){var _hasPromise,_gestureEventNames=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),_specialIds=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),_formatSpecRe=/^([\w-]+)\s*\|\s*(\S.*)$/,_badIdRe=/[:\s]/,_tracks=new Map,_groups=new Map,_lists=new Map,_subscribers=new Map,_masterRate=1,_masterVolume=1,_masterMute=!1,_masterMuteOnHidden=!1,_playReturnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,Has.audio)try{var audio=document.createElement("audio");audio.muted=!0;var value=audio.play();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise}),AudioTrack=function(){function AudioTrack(obj){if(_classCallCheck(this,AudioTrack),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioTrack))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioTrack,[{key:"_create",value:function(sourceList){var dataUriRe=/^data:\s*audio\/(?:x-)?([^;,]+)\s*[;,]/i,extRe=/\.([^./\\]+)$/,formats=AudioTrack.formats,usedSources=[],audio=document.createElement("audio");audio.preload="none",sourceList.forEach((function(src){var srcUri=null;switch(_typeof(src)){case"string":var match;if("data:"===src.slice(0,5)){if(null===(match=dataUriRe.exec(src)))throw new Error("source data URI missing media type")}else if(null===(match=extRe.exec(Util.parseUrl(src).pathname)))throw new Error("source URL missing file extension");formats[match[1]]&&(srcUri=src);break;case"object":if(null===src)throw new Error("source object cannot be null");if(!src.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!src.hasOwnProperty("format"))throw new Error('source object missing required "format" property');formats[src.format]&&(srcUri=src.src);break;default:throw new Error("invalid source value (type: ".concat(_typeof(src),")"))}if(null!==srcUri){var source=document.createElement("source");source.src=srcUri,audio.appendChild(source),usedSources.push(srcUri)}})),audio.hasChildNodes()&&Config.audio.preloadMetadata&&(audio.preload="metadata"),this._finalize(audio,usedSources,clone(sourceList))}},{key:"_copy",value:function(obj){this._finalize(obj.audio.cloneNode(!0),clone(obj.sources),clone(obj.originals))}},{key:"_finalize",value:function(audio,sources,originals){var _this3=this;Object.defineProperties(this,{audio:{configurable:!0,value:audio},sources:{value:Object.freeze(sources)},originals:{value:Object.freeze(originals)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",(function(){return _this3._error=!1})).on("error.AudioTrack",(function(){return _this3._error=!0})).find("source:last-of-type").on("error.AudioTrack",(function(){return _this3._trigger("error")})),function(id,callback){if("function"!=typeof callback)throw new Error("callback parameter must be a function");_subscribers.set(id,callback)}(this,(function(mesg){if(_this3.audio)switch(mesg){case"loadwithscreen":if(_this3.hasSource()){var lockId=LoadScreen.lock();_this3.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",(function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(lockId)})).load()}break;case"load":_this3.load();break;case"mute":_this3._updateAudioMute();break;case"rate":_this3._updateAudioRate();break;case"stop":_this3.stop();break;case"volume":_this3._updateAudioVolume();break;case"unload":_this3.unload()}else unsubscribe(_this3)})),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(eventName){jQuery(this.audio).triggerHandler(eventName)}},{key:"_destroy",value:function(){unsubscribe(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new AudioTrack(this)}},{key:"load",value:function(){var _this4=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach((function(srcUri){var source=document.createElement("source");source.src=srcUri,_this4.audio.appendChild(source)}))}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var audio=this.audio;for(audio.preload="none";audio.hasChildNodes();)audio.removeChild(audio.firstChild);audio.load()}},{key:"play",value:function(){var _this5=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var namespace=".AudioTrack_play";return _playReturnsPromise()?this.audio.play():new Promise((function(resolve,reject){_this5.isPlaying()?resolve():(jQuery(_this5.audio).off(namespace).one("error".concat(namespace," playing").concat(namespace," timeupdate").concat(namespace),(function(ev){jQuery(_this5).off(namespace),"error"===ev.type?reject(new Error("unknown audio play error")):resolve()})),_this5.audio.play())}))}},{key:"playWhenAllowed",value:function(){var _this6=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioTrack_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),_this6.audio.play()}))}))}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(duration,toVol,fromVol){var _this7=this;if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var from=Math.clamp(null==fromVol?this.volume():fromVol,0,1),to=Math.clamp(toVol,0,1);return from!==to?(this.volume(from),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",(function(){var min,max;from<to?(min=from,max=to):(min=to,max=from);var time=Math.max(duration,1),delta=(to-from)/(time/.025);_this7._trigger(":fading"),_this7._faderId=setInterval((function(){_this7.isPlaying()?(_this7.volume(Math.clamp(_this7.volume()+delta,min,max)),Config.audio.pauseOnFadeToZero&&0===_this7.volume()&&_this7.pause(),_this7.volume()===to&&(_this7.fadeStop(),_this7._trigger(":faded"))):_this7.fadeStop()}),25)})),this.play()):void 0}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(_loop){return null==_loop?this.audio.loop:(this.audio.loop=!!_loop,this)}},{key:"mute",value:function(_mute){return null==_mute?this._mute:(this._mute=!!_mute,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||_masterMute}},{key:"rate",value:function(_rate){if(null==_rate)return this._rate;if("number"!=typeof _rate)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*_masterRate,.2,5)}},{key:"time",value:function(_time){var _this8=this;if(null==_time)return this.audio.currentTime;if("number"!=typeof _time)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=_time:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",(function(){return _this8.audio.currentTime=_time})),this}},{key:"volume",value:function(_volume){if(null==_volume)return this._volume;if("number"!=typeof _volume)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*_masterVolume,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return jQuery.fn.on.apply(jQuery(this.audio),args),this}},{key:"one",value:function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return jQuery.fn.one.apply(jQuery(this.audio),args),this}},{key:"off",value:function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return jQuery.fn.off.apply(jQuery(this.audio),args),this}}]),AudioTrack}();Object.defineProperties(AudioTrack,{formats:{value:function(){var audio=document.createElement("audio"),types=new Map;function canPlay(mimeType){return types.has(mimeType)||types.set(mimeType,""!==audio.canPlayType(mimeType).replace(/^no$/i,"")),types.get(mimeType)}return Object.assign(Object.create(null),{aac:canPlay("audio/aac"),caf:canPlay("audio/x-caf")||canPlay("audio/caf"),flac:canPlay("audio/x-flac")||canPlay("audio/flac"),mp3:canPlay('audio/mpeg; codecs="mp3"')||canPlay("audio/mpeg")||canPlay("audio/mp3")||canPlay("audio/mpa"),mpeg:canPlay("audio/mpeg"),m4a:canPlay("audio/x-m4a")||canPlay("audio/m4a")||canPlay("audio/aac"),mp4:canPlay("audio/x-mp4")||canPlay("audio/mp4")||canPlay("audio/aac"),ogg:canPlay("audio/ogg"),oga:canPlay("audio/ogg"),opus:canPlay('audio/ogg; codecs="opus"')||canPlay("audio/opus"),wav:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),wave:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),weba:canPlay("audio/webm"),webm:canPlay("audio/webm")})}()}});var AudioList=function(){function AudioList(obj){if(_classCallCheck(this,AudioList),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioList))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioList,[{key:"_create",value:function(trackList){var _this9=this;this._finalize(trackList.map((function(trackObj){if("object"!==_typeof(trackObj))throw new Error("tracks parameter array members must be objects");var own,rate,track,volume;if(trackObj instanceof AudioTrack)own=!0,rate=trackObj.rate(),track=trackObj.clone(),volume=trackObj.volume();else{if(!trackObj.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(trackObj.track instanceof AudioTrack))throw new Error('track object\'s "track" property must be an AudioTrack object');own=trackObj.hasOwnProperty("own")&&trackObj.own,rate=trackObj.hasOwnProperty("rate")?trackObj.rate:trackObj.track.rate(),track=trackObj.track,volume=trackObj.hasOwnProperty("volume")?trackObj.volume:trackObj.track.volume()}return track.stop(),track.loop(!1),track.mute(!1),track.rate(rate),track.volume(volume),track.on("ended.AudioList",(function(){return _this9._onEnd()})),{own:own,track:track,volume:volume,rate:rate}})))}},{key:"_copy",value:function(obj){this._finalize(clone(obj.tracks))}},{key:"_finalize",value:function(tracks){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(tracks)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter((function(trackObj){return trackObj.own})).forEach((function(trackObj){return trackObj.track._destroy()})),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach((function(trackObj){return trackObj.track.load()}))}},{key:"unload",value:function(){this.stop(),this.tracks.forEach((function(trackObj){return trackObj.track.unload()}))}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var _this10=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioList_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioList_playWhenAllowed"),_this10.play()}))}))}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(duration,toVol,fromVol){if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var adjFromVol,adjToVol=Math.clamp(toVol,0,1)*this.current.volume;return null!=fromVol&&(adjFromVol=Math.clamp(fromVol,0,1)*this.current.volume),this._volume=toVol,this.current.track.fade(duration,adjToVol,adjFromVol)}}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(_loop2){return null==_loop2?this._loop:(this._loop=!!_loop2,this)}},{key:"mute",value:function(_mute2){return null==_mute2?this._mute:(this._mute=!!_mute2,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(_rate2){if(null==_rate2)return this._rate;if("number"!=typeof _rate2)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate2,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(_shuffle){var _this11=this;if(null==_shuffle)return this._shuffle;if(this._shuffle=!!_shuffle,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var _this$queue,firstIdx=this.queue.findIndex((function(trackObj){return trackObj===_this11.current}));if(-1!==firstIdx)(_this$queue=this.queue).push.apply(_this$queue,_toConsumableArray(this.queue.splice(0,firstIdx+1)))}return this}},{key:"volume",value:function(_volume2){if(null==_volume2)return this._volume;if("number"!=typeof _volume2)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume2,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var remainingTime=this.queue.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0);return null!==this.current&&(remainingTime+=this.current.track.remaining()),remainingTime}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){var nextTrack;for(null!==this.current&&(this.current.track.stop(),this.current=null);nextTrack=this.queue.shift();)if(!nextTrack.track.isUnavailable()){this.current=nextTrack;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var _this$queue2;this._drainQueue(),(_this$queue2=this.queue).push.apply(_this$queue2,_toConsumableArray(this.tracks.filter((function(trackObj){return!trackObj.track.isUnavailable()})))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),AudioList}(),AudioRunner=function(){function AudioRunner(list){if(_classCallCheck(this,AudioRunner),!(list instanceof Set||list instanceof AudioRunner))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(list instanceof AudioRunner?list.trackIds:list)}})}return _createClass(AudioRunner,[{key:"load",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.load)}},{key:"unload",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.unload)}},{key:"play",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.play)}},{key:"playWhenAllowed",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.playWhenAllowed)}},{key:"pause",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.pause)}},{key:"stop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.stop)}},{key:"fade",value:function(duration,toVol,fromVol){if(null==duration||null==toVol)throw new Error("fade requires parameters");AudioRunner._run(this.trackIds,AudioTrack.prototype.fade,duration,toVol,fromVol)}},{key:"fadeIn",value:function(duration,fromVol){if(null==duration)throw new Error("fadeIn requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeIn,duration,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){if(null==duration)throw new Error("fadeOut requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeOut,duration,fromVol)}},{key:"fadeStop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeStop)}},{key:"loop",value:function(_loop3){if(null==_loop3)throw new Error("loop requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.loop,_loop3),this}},{key:"mute",value:function(_mute3){if(null==_mute3)throw new Error("mute requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.mute,_mute3),this}},{key:"rate",value:function(_rate3){if(null==_rate3)throw new Error("rate requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.rate,_rate3),this}},{key:"time",value:function(_time2){if(null==_time2)throw new Error("time requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.time,_time2),this}},{key:"volume",value:function(_volume3){if(null==_volume3)throw new Error("volume requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.volume,_volume3),this}},{key:"on",value:function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.on].concat(args)),this}},{key:"one",value:function(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.one].concat(args)),this}},{key:"off",value:function(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.off].concat(args)),this}}],[{key:"_run",value:function(ids,fn){for(var _len11=arguments.length,args=new Array(_len11>2?_len11-2:0),_key11=2;_key11<_len11;_key11++)args[_key11-2]=arguments[_key11];ids.forEach((function(id){var track=_tracks.get(id);track&&fn.apply(track,args)}))}}]),AudioRunner}();var _runnerParseSelector=function(){var notWsRe=/\S/g,parenRe=/[()]/g;function processNegation(str,startPos){var match;if(notWsRe.lastIndex=startPos,null===(match=notWsRe.exec(str))||"("!==match[0])throw new Error('invalid ":not()" syntax: missing parentheticals');parenRe.lastIndex=notWsRe.lastIndex;for(var start=notWsRe.lastIndex,result={str:"",nextMatch:-1},depth=1;null!==(match=parenRe.exec(str));)if("("===match[0]?++depth:--depth,depth<1){result.nextMatch=parenRe.lastIndex,result.str=str.slice(start,result.nextMatch-1);break}return result}return function parseSelector(idArg){for(var match,ids=[],idRe=/:?[^\s:()]+/g;null!==(match=idRe.exec(idArg));){var id=match[0];if(":not"===id){if(0===ids.length)throw new Error('invalid negation: no group ID preceded ":not()"');var parent=ids[ids.length-1];if(":"!==parent.id[0])throw new Error('invalid negation of track "'.concat(parent.id,'": only groups may be negated with ":not()"'));var negation=processNegation(idArg,idRe.lastIndex);if(-1===negation.nextMatch)throw new Error('unknown error parsing ":not()"');idRe.lastIndex=negation.nextMatch,parent.not=parseSelector(negation.str)}else ids.push({id:id})}return ids}}();function masterMute(mute){if(null==mute)return _masterMute;publish("mute",_masterMute=!!mute)}function unsubscribe(id){_subscribers.delete(id)}function publish(mesg,data){_subscribers.forEach((function(fn){return fn(mesg,data)}))}function _newTrack(sources){return new AudioTrack(sources.map((function(source){if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);if(passage.tags.includes("Twine.audio"))return passage.text.trim()}var match=_formatSpecRe.exec(source);return null===match?source:{format:match[1],src:match[2]}})))}return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("track ID"),arguments.length<2&&errors.push("sources"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='track ID "'.concat(id,'"');if(_badIdRe.test(id))throw new Error("invalid ".concat(what,": track IDs must not contain colons or whitespace"));var track,sources=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{track=_newTrack(sources)}catch(ex){throw new Error("".concat(what,": error during track initialization: ").concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("".concat(what,": no supported audio sources found"));_tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.set(id,track)}},delete:{value:function(id){return _tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.delete(id)}},clear:{value:function(){_tracks.forEach((function(track){return track._destroy()})),_tracks.clear()}},has:{value:function(id){return _tracks.has(id)}},get:{value:function(id){return _tracks.get(id)||null}}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("group ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='group ID "'.concat(id,'"');if(":"!==id[0]||_badIdRe.test(id.slice(1)))throw new Error("invalid ".concat(what,": group IDs must start with a colon and must not contain colons or whitespace"));if(_specialIds.includes(id))throw new Error("cannot clobber special ".concat(what));var group,trackIds=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{group=new Set(trackIds.map((function(trackId){if(!_tracks.has(trackId))throw new Error('track "'.concat(trackId,'" does not exist'));return trackId})))}catch(ex){throw new Error("".concat(what,": error during group initialization: ").concat(ex.message))}_groups.set(id,Object.freeze(Array.from(group)))}},delete:{value:function(id){return _groups.delete(id)}},clear:{value:function(){_groups.clear()}},has:{value:function(id){return _groups.has(id)}},get:{value:function(id){return _groups.get(id)||null}}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("list ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='list ID "'.concat(id,'"');if(_badIdRe.test(id))return this.error("invalid ".concat(what,": list IDs must not contain colons or whitespace"));var list,descriptors=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{list=new AudioList(descriptors.map((function(desc){if(null===desc)throw new Error("track descriptor must be a string or object (type: null)");switch(_typeof(desc)){case"string":desc={id:desc};break;case"object":if(!desc.hasOwnProperty("id")&&!desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(desc.hasOwnProperty("id")&&desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: ".concat(_typeof(desc),")"))}var own,track,volume;if(desc.hasOwnProperty("id")){if("string"!=typeof desc.id)throw new Error('"id" property must be a string');if(!_tracks.has(desc.id))throw new Error('track "'.concat(desc.id,'" does not exist'));track=_tracks.get(desc.id)}else if(desc.hasOwnProperty("sources")){if(!Array.isArray(desc.sources)||0===desc.sources.length)throw new Error('"sources" property must be a non-empty array');if(desc.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{track=_newTrack(desc.sources),own=!0}catch(ex){throw new Error("error during track initialization: ".concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("no supported audio sources found")}if(desc.hasOwnProperty("own")){if("boolean"!=typeof desc.own)throw new Error('"own" property must be a boolean');(own=desc.own)&&(track=track.clone())}if(desc.hasOwnProperty("volume")){if("number"!=typeof desc.volume||Number.isNaN(desc.volume)||!Number.isFinite(desc.volume)||desc.volume<0)throw new Error('"volume" property must be a non-negative finite number');volume=desc.volume}return{own:null!=own&&own,track:track,volume:null!=volume?volume:track.volume()}})))}catch(ex){throw new Error("".concat(what,": error during playlist initialization: ").concat(ex.message))}_lists.has(id)&&_lists.get(id)._destroy(),_lists.set(id,list)}},delete:{value:function(id){return _lists.has(id)&&_lists.get(id)._destroy(),_lists.delete(id)}},clear:{value:function(){_lists.forEach((function(list){return list._destroy()})),_lists.clear()}},has:{value:function(id){return _lists.has(id)}},get:{value:function(id){return _lists.get(id)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var selector=String(arguments[0]).trim(),trackIds=new Set;try{var renderIds=function renderIds(idObj){var ids,id=idObj.id;switch(id){case":all":ids=allIds;break;case":looped":ids=allIds.filter((function(id){return _tracks.get(id).loop()}));break;case":muted":ids=allIds.filter((function(id){return _tracks.get(id).mute()}));break;case":paused":ids=allIds.filter((function(id){return _tracks.get(id).isPaused()}));break;case":playing":ids=allIds.filter((function(id){return _tracks.get(id).isPlaying()}));break;default:ids=":"===id[0]?_groups.get(id):[id]}if(idObj.hasOwnProperty("not")){var negated=idObj.not.map((function(idObj){return renderIds(idObj)})).flat(1/0);ids=ids.filter((function(id){return!negated.includes(id)}))}return ids},allIds=Array.from(_tracks.keys());_runnerParseSelector(selector).forEach((function(idObj){return renderIds(idObj).forEach((function(id){if(!_tracks.has(id))throw new Error('track "'.concat(id,'" does not exist'));trackIds.add(id)}))}))}catch(ex){throw new Error("error during runner initialization: ".concat(ex.message))}return new AudioRunner(trackIds)}},load:{value:function(){publish("load")}},loadWithScreen:{value:function(){publish("loadwithscreen")}},mute:{value:masterMute},muteOnHidden:{value:function(mute){if(!Visibility.isEnabled())return!1;if(null==mute)return _masterMuteOnHidden;var namespace=".SimpleAudio_masterMuteOnHidden";if(_masterMuteOnHidden=!!mute){var visibilityChange="".concat(Visibility.changeEvent).concat(namespace);jQuery(document).off(namespace).on(visibilityChange,(function(){return masterMute(Visibility.isHidden())})),Visibility.isHidden()&&masterMute(!0)}else jQuery(document).off(namespace)}},rate:{value:function(rate){if(null==rate)return _masterRate;if("number"!=typeof rate||Number.isNaN(rate)||!Number.isFinite(rate))throw new Error("rate must be a finite number");publish("rate",_masterRate=Math.clamp(rate,.2,5))}},stop:{value:function(){publish("stop")}},unload:{value:function(){publish("unload")}},volume:{value:function(volume){if(null==volume)return _masterVolume;if("number"!=typeof volume||Number.isNaN(volume)||!Number.isFinite(volume))throw new Error("volume must be a finite number");publish("volume",_masterVolume=Math.clamp(volume,0,1))}}}))}(),State=function(){var _history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null,_tempVariables={};function stateMarshal(noDelta){var stateObj={index:_activeIndex};return noDelta?stateObj.history=clone(_history):stateObj.delta=historyDeltaEncode(_history),_expired.length>0&&(stateObj.expired=_toConsumableArray(_expired)),null!==_prng&&(stateObj.seed=_prng.seed),stateObj}function stateUnmarshal(stateObj,noDelta){if(null==stateObj)throw new Error("state object is null or undefined");if(!stateObj.hasOwnProperty(noDelta?"history":"delta")||0===stateObj[noDelta?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!stateObj.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==_prng&&!stateObj.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===_prng&&stateObj.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");_history=noDelta?clone(stateObj.history):historyDeltaDecode(stateObj.delta),_activeIndex=stateObj.index,_expired=stateObj.hasOwnProperty("expired")?_toConsumableArray(stateObj.expired):[],stateObj.hasOwnProperty("seed")&&(_prng.seed=stateObj.seed),momentActivate(_activeIndex)}function momentCreate(title,variables){return{title:null==title?"":String(title),variables:null==variables?{}:clone(variables)}}function momentActivate(moment){if(null==moment)throw new Error("moment activation attempted with null or undefined");switch(_typeof(moment)){case"object":_active=clone(moment);break;case"number":if(historyIsEmpty())throw new Error("moment activation attempted with index on empty history");if(moment<0||moment>=historySize())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, ".concat(historySize()-1,"], got ").concat(moment));_active=clone(_history[moment]);break;default:throw new TypeError('moment activation attempted with a "'.concat(_typeof(moment),'"; must be an object or valid history stack index'))}return null!==_prng&&(_prng=PRNGWrapper.unmarshal({seed:_prng.seed,pull:_active.pull})),session.set("state",stateMarshal()),jQuery.event.trigger(":historyupdate"),_active}function historyLength(){return _activeIndex+1}function historySize(){return _history.length}function historyIsEmpty(){return 0===_history.length}function historyTop(){return _history.length>0?_history[_history.length-1]:null}function historyGoTo(index){return!(null==index||index<0||index>=historySize()||index===_activeIndex)&&(momentActivate(_activeIndex=index),!0)}function historyDeltaEncode(historyArr){if(!Array.isArray(historyArr))return null;if(0===historyArr.length)return[];for(var delta=[historyArr[0]],i=1,iend=historyArr.length;i<iend;++i)delta.push(Diff.diff(historyArr[i-1],historyArr[i]));return delta}function historyDeltaDecode(delta){if(!Array.isArray(delta))return null;if(0===delta.length)return[];for(var historyArr=[clone(delta[0])],i=1,iend=delta.length;i<iend;++i)historyArr.push(Diff.patch(historyArr[i-1],delta[i]));return historyArr}function prngInit(seed,useEntropy){var scriptSection;if(!historyIsEmpty())throw scriptSection="the Story JavaScript",new Error("State.prng.init must be called during initialization, within either ".concat(scriptSection," or the StoryInit special passage"));_prng=new PRNGWrapper(seed,useEntropy),_active.pull=_prng.pull}function metadataDelete(key){if("string"!=typeof key)throw new TypeError("State.metadata.delete key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");store&&store.hasOwnProperty(key)&&(1===Object.keys(store).length?storage.delete("metadata"):(delete store[key],storage.set("metadata",store)))}return Object.freeze(Object.defineProperties({},{reset:{value:function(){session.delete("state"),_history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null===_prng?null:new PRNGWrapper(_prng.seed,!1)}},restore:{value:function(){if(session.has("state")){var stateObj=session.get("state");return null!=stateObj&&(stateUnmarshal(stateObj),!0)}return!1}},marshalForSave:{value:function(){return stateMarshal(!0)}},unmarshalForSave:{value:function(stateObj){return stateUnmarshal(stateObj,!0)}},expired:{get:function(){return _expired}},turns:{get:function(){return _expired.length+historyLength()}},passages:{get:function(){return _expired.concat(_history.slice(0,historyLength()).map((function(moment){return moment.title})))}},hasPlayed:{value:function(title){return null!=title&&""!==title&&(!!_expired.includes(title)||!!_history.slice(0,historyLength()).some((function(moment){return moment.title===title})))}},active:{get:function(){return _active}},activeIndex:{get:function(){return _activeIndex}},passage:{get:function(){return _active.title}},variables:{get:function(){return _active.variables}},history:{get:function(){return _history}},length:{get:historyLength},size:{get:historySize},isEmpty:{value:historyIsEmpty},current:{get:function(){return _history.length>0?_history[_activeIndex]:null}},top:{get:historyTop},bottom:{get:function(){return _history.length>0?_history[0]:null}},index:{value:function(index){return historyIsEmpty()||index<0||index>_activeIndex?null:_history[index]}},peek:{value:function(offset){if(historyIsEmpty())return null;var lengthOffset=1+(offset?Math.abs(offset):0);return lengthOffset>historyLength()?null:_history[historyLength()-lengthOffset]}},has:{value:function(title){if(historyIsEmpty()||null==title||""===title)return!1;for(var i=_activeIndex;i>=0;--i)if(_history[i].title===title)return!0;return!1}},create:{value:function(title){for(0,historyLength()<historySize()&&_history.splice(historyLength(),historySize()-historyLength()),_history.push(momentCreate(title,_active.variables)),_prng&&(historyTop().pull=_prng.pull);historySize()>Config.history.maxStates;)_expired.push(_history.shift().title);return momentActivate(_activeIndex=historySize()-1),historyLength()}},goTo:{value:historyGoTo},go:{value:function(offset){return null!=offset&&0!==offset&&historyGoTo(_activeIndex+offset)}},deltaEncode:{value:historyDeltaEncode},deltaDecode:{value:historyDeltaDecode},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:prngInit},isEnabled:{value:function(){return null!==_prng}},pull:{get:function(){return _prng?_prng.pull:NaN}},seed:{get:function(){return _prng?_prng.seed:null}}}))},random:{value:function(){return _prng?_prng.random():Math.random()}},clearTemporary:{value:function(){TempVariables=_tempVariables={}}},temporary:{get:function(){return _tempVariables}},getVar:{value:function(varExpression){try{return Scripting.evalTwineScript(varExpression)}catch(ex){}}},setVar:{value:function(varExpression,value){try{return Scripting.evalTwineScript("".concat(varExpression," = evalTwineScript$Data$"),null,value),!0}catch(ex){}return!1}},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:function(){storage.delete("metadata")}},delete:{value:metadataDelete},entries:{value:function(){var store=storage.get("metadata");return store&&Object.entries(store)}},get:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.get key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)?store[key]:undefined}},has:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.has key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)}},keys:{value:function(){var store=storage.get("metadata");return store&&Object.keys(store)}},set:{value:function(key,value){if("string"!=typeof key)throw new TypeError("State.metadata.set key parameter must be a string (received: ".concat(_typeof(key),")"));if(void 0===value)metadataDelete(key);else{var store=storage.get("metadata")||{};store[key]=value,storage.set("metadata",store)}}},size:{get:function(){var store=storage.get("metadata");return store?Object.keys(store).length:0}}}))},initPRNG:{value:prngInit},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(targets,selector,handler,one,namespace){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var fn,opts;if("function"==typeof selector?(fn=selector,opts={namespace:one,one:!!handler}):(fn=handler,opts={namespace:namespace,one:!!one,selector:selector}),"function"!=typeof fn)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(targets).ariaClick(opts,fn)}function insertElement(place,type,id,classNames,text,title){var $el=jQuery(document.createElement(type));return id&&$el.attr("id",id),classNames&&$el.addClass(classNames),title&&$el.attr("title",title),text&&$el.text(text),place&&$el.appendTo(place),$el[0]}function insertText(place,text){jQuery(place).append(document.createTextNode(text))}function removeChildren(node){jQuery(node).empty()}function removeElement(node){jQuery(node).remove()}function fade(el,options){var current,intervalId,direction="in"===options.fade?1:-1,proxy=el.cloneNode(!0);function setOpacity(el,opacity){el.style.zoom=1,el.style.filter="alpha(opacity=".concat(Math.floor(100*opacity),")"),el.style.opacity=opacity}el.parentNode.replaceChild(proxy,el),"in"===options.fade?(current=0,proxy.style.visibility="visible"):current=1,setOpacity(proxy,current),intervalId=window.setInterval((function(){current+=.05*direction,setOpacity(proxy,Math.easeInOut(current)),(1===direction&&current>=1||-1===direction&&current<=0)&&(el.style.visibility="in"===options.fade?"visible":"hidden",proxy.parentNode.replaceChild(el,proxy),proxy=null,window.clearInterval(intervalId),options.onComplete&&options.onComplete())}),25)}function scrollWindowTo(el,incrementBy){var increment=null!=incrementBy?Number(incrementBy):.1;Number.isNaN(increment)||!Number.isFinite(increment)||increment<0?increment=.1:increment>1&&(increment=1);var intervalId,start=window.scrollY?window.scrollY:document.body.scrollTop,end=function(el){var posTop=function(el){var curtop=0;for(;el.offsetParent;)curtop+=el.offsetTop,el=el.offsetParent;return curtop}(el),posBottom=posTop+el.offsetHeight,winTop=window.scrollY?window.scrollY:document.body.scrollTop,winHeight=window.innerHeight?window.innerHeight:document.body.clientHeight,winBottom=winTop+winHeight;return posTop>=winTop&&posBottom>winBottom&&el.offsetHeight<winHeight?posTop-(winHeight-el.offsetHeight)+20:posTop}(el),distance=Math.abs(start-end),direction=start>end?-1:1,progress=0;intervalId=window.setInterval((function(){progress+=increment,window.scroll(0,start+direction*(distance*Math.easeInOut(progress))),progress>=1&&window.clearInterval(intervalId)}),25)}function toStringOrDefault(value){return stringFrom(value)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(key){if("string"!=typeof key)throw new TypeError("forget key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.delete(key)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,i=0,iend=needles.length;i<iend;++i)if(!played.includes(needles[i]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,uBound=played.length-1,turns=State.turns,i=0,iend=needles.length;i<iend&&turns>-1;++i){var lastIndex=played.lastIndexOf(needles[i]);turns=Math.min(turns,-1===lastIndex?-1:uBound-lastIndex)}return turns}function memorize(key,value){if("string"!=typeof key)throw new TypeError("memorize key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.set(key,value)}function passage(){return State.passage}function previous(){var passages=State.passages;if(arguments.length>0){var offset=Number(arguments[0]);if(!Number.isSafeInteger(offset)||offset<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return passages.length>offset?passages[passages.length-1-offset]:""}for(var i=passages.length-2;i>=0;--i)if(passages[i]!==State.passage)return passages[i];return""}function random(){var min,max;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:min=0,max=Math.trunc(arguments[0]);break;default:min=Math.trunc(arguments[0]),max=Math.trunc(arguments[1])}if(!Number.isInteger(min))throw new Error("random min parameter must be an integer");if(!Number.isInteger(max))throw new Error("random max parameter must be an integer");if(min>max){var _ref6=[max,min];min=_ref6[0],max=_ref6[1]}return Math.floor(State.random()*(max-min+1))+min}function randomFloat(){var min,max;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:min=0,max=Number(arguments[0]);break;default:min=Number(arguments[0]),max=Number(arguments[1])}if(Number.isNaN(min)||!Number.isFinite(min))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(max)||!Number.isFinite(max))throw new Error("randomFloat max parameter must be a number");if(min>max){var _ref7=[max,min];min=_ref7[0],max=_ref7[1]}return State.random()*(max-min)+min}function recall(key,defaultValue){if("string"!=typeof key)throw new TypeError("recall key parameter must be a string (received: ".concat(Util.getType(key),")"));return State.metadata.has(key)?State.metadata.get(key):defaultValue}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var passages=Array.prototype.concat.apply([],arguments),tags=[],i=0,iend=passages.length;i<iend;++i)tags=tags.concat(Story.get(passages[i]).tags);return tags}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),played=State.passages,count=State.turns,i=0,iend=needles.length;i<iend&&count>0;++i)count=Math.min(count,played.count(needles[i]));return count}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],arguments),nLength=needles.length,played=State.passages,seen=new Map,count=0,i=0,iend=played.length;i<iend;++i){var title=played[i];if(seen.has(title))seen.get(title)&&++count;else{var _tags2=Story.get(title).tags;if(_tags2.length>0){for(var found=0,j=0;j<nLength;++j)_tags2.includes(needles[j])&&++found;found===nLength?(++count,seen.set(title,!0)):seen.set(title,!1)}}}return count}var _ref8=function(){function slugifyUrl(url){return Util.parseUrl(url).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function addScript(url){return new Promise((function(resolve,reject){jQuery(document.createElement("script")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importScripts failed to load the script "'.concat(url,'".')))})).appendTo(document.head).attr({id:"script-imported-".concat(slugifyUrl(url)),type:"text/javascript",src:url})}))}function addStyle(url){return new Promise((function(resolve,reject){jQuery(document.createElement("link")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importStyles failed to load the stylesheet "'.concat(url,'".')))})).appendTo(document.head).attr({id:"style-imported-".concat(slugifyUrl(url)),rel:"stylesheet",href:url})}))}function sequence(callbacks){return callbacks.reduce((function(seq,fn){return seq.then(fn)}),Promise.resolve())}return{importScripts:function(){for(var _len12=arguments.length,urls=new Array(_len12),_key12=0;_key12<_len12;_key12++)urls[_key12]=arguments[_key12];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addScript(url)}}))):addScript(oneOrSeries)})))},importStyles:function(){for(var _len13=arguments.length,urls=new Array(_len13),_key13=0;_key13<_len13;_key13++)urls[_key13]=arguments[_key13];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addStyle(url)}}))):addStyle(oneOrSeries)})))}}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=function(){var tokenTable=Util.toEnum({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),parseRe=new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(`(?:\\\\.|[^`\\\\])+`)","(?:[=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),notSpaceRe=/\S/,varTest=new RegExp("^".concat(Patterns.variable)),withColonTestRe=/^\s*:/,withNotTestRe=/^\s+not\b/;function parse(rawCodeString){if(0!==parseRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var match,code=rawCodeString;null!==(match=parseRe.exec(code));)if(match[1]){var rawTemplate=match[1],parsedTemplate=parseTemplate(rawTemplate);parsedTemplate!==rawTemplate&&(code=code.splice(match.index,rawTemplate.length,parsedTemplate),parseRe.lastIndex+=parsedTemplate.length-rawTemplate.length)}else if(match[2]){var token=match[2];if("$"===token||"_"===token)continue;if(varTest.test(token))token=token[0];else if("is"===token){var start=parseRe.lastIndex,ahead=code.slice(start);withNotTestRe.test(ahead)&&(code=code.splice(start,ahead.search(notSpaceRe)),token="isnot")}else{var _ahead=code.slice(parseRe.lastIndex);if(withColonTestRe.test(_ahead))continue}tokenTable[token]&&(code=code.splice(match.index,token.length,tokenTable[token]),parseRe.lastIndex+=tokenTable[token].length-token.length)}return code}var templateGroupStartRe=/\$\{/g,templateGroupParseRe=new RegExp(["(?:\"\"|'')",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(\\{)","(\\})"].join("|"),"g");function parseTemplate(rawTemplateLiteral){if(0!==templateGroupStartRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start of template literal");for(var startMatch,template=rawTemplateLiteral;null!==(startMatch=templateGroupStartRe.exec(template));){var startIdx=startMatch.index+2,endIdx=startIdx,depth=1,endMatch=void 0;for(templateGroupParseRe.lastIndex=startIdx;null!==(endMatch=templateGroupParseRe.exec(template));)if(endMatch[1]?++depth:endMatch[2]&&--depth,0===depth){endIdx=endMatch.index;break}if(endIdx>startIdx){var parseIndex=parseRe.lastIndex,rawGroup=template.slice(startIdx,endIdx);parseRe.lastIndex=0;var parsedGroup=parse(rawGroup);parseRe.lastIndex=parseIndex,template=template.splice(startIdx,rawGroup.length,parsedGroup),templateGroupStartRe.lastIndex+=parsedGroup.length-rawGroup.length}}return template}return parse}();function evalJavaScript(code,output,data){return function(code,output,evalJavaScript$Data$){return eval(code)}.call(output?{output:output}:null,String(code),output,data)}function evalTwineScript(code,output,data){return function(code,output,evalTwineScript$Data$){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output,data)}return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9=function(){var Lexer=function(){function Lexer(source,initialState){if(_classCallCheck(this,Lexer),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:source},initial:{value:initialState},state:{writable:!0,value:initialState},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(Lexer,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(num){this.pos-=num||1}},{key:"forward",value:function(num){this.pos+=num||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(valid){var ch=this.next();return-1!==ch&&(!!valid.includes(ch)||(this.backup(),!1))}},{key:"acceptRe",value:function(validRe){var ch=this.next();return-1!==ch&&(!!validRe.test(ch)||(this.backup(),!1))}},{key:"acceptRun",value:function(valid){for(;;){var ch=this.next();if(-1===ch)return;if(!valid.includes(ch))break}this.backup()}},{key:"acceptRunRe",value:function(validRe){for(;;){var ch=this.next();if(-1===ch)return;if(!validRe.test(ch))break}this.backup()}},{key:"emit",value:function(type){this.items.push({type:type,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(type,message){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:type,message:message,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(names){var obj=names.reduce((function(obj,name,i){return obj[name]=i,obj}),{});return Object.freeze(Object.assign(Object.create(null),obj))}}]),Lexer}();return{EOF:-1,Lexer:Lexer}}(),EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=function(){var _optionsStack,lookaheadRe,idOrClassRe,_callDepth=0,Wikifier=function(){function Wikifier(destination,source,options){_classCallCheck(this,Wikifier),Wikifier.Parser.Profile.isEmpty()&&Wikifier.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(source)},options:{writable:!0,value:Object.assign({profile:"all"},options)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==destination?this.output=document.createDocumentFragment():destination.jquery?this.output=destination[0]:this.output=destination;try{++_callDepth,this.subWikify(this.output),1===_callDepth&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--_callDepth}}return _createClass(Wikifier,[{key:"subWikify",value:function(output,terminator,options){var newOptions,oldOptions,oldOutput=this.output;this.output=output,Wikifier.Option.length>0&&(newOptions=Object.assign(newOptions||{},Wikifier.Option.options)),null!==options&&"object"===_typeof(options)&&(newOptions=Object.assign(newOptions||{},options)),newOptions&&(oldOptions=this.options,this.options=Object.assign({},this.options,newOptions));var terminatorMatch,parserMatch,parsersProfile=Wikifier.Parser.Profile.get(this.options.profile),terminatorRegExp=terminator?new RegExp("(?:".concat(terminator,")"),this.options.ignoreTerminatorCase?"gim":"gm"):null;do{if(parsersProfile.parserRegExp.lastIndex=this.nextMatch,terminatorRegExp&&(terminatorRegExp.lastIndex=this.nextMatch),parserMatch=parsersProfile.parserRegExp.exec(this.source),(terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null)&&(!parserMatch||terminatorMatch.index<=parserMatch.index))return terminatorMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,terminatorMatch.index),this.matchStart=terminatorMatch.index,this.matchLength=terminatorMatch[0].length,this.matchText=terminatorMatch[0],this.nextMatch=terminatorRegExp.lastIndex,this.output=oldOutput,void(oldOptions&&(this.options=oldOptions));if(parserMatch){parserMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,parserMatch.index),this.matchStart=parserMatch.index,this.matchLength=parserMatch[0].length,this.matchText=parserMatch[0],this.nextMatch=parsersProfile.parserRegExp.lastIndex;for(var matchingParser=void 0,i=1,iend=parserMatch.length;i<iend;++i)if(parserMatch[i]){matchingParser=i-1;break}if(parsersProfile.parsers[matchingParser].handler(this),null!=TempState.break)break}}while(terminatorMatch||parserMatch);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=oldOutput,oldOptions&&(this.options=oldOptions)}},{key:"outputText",value:function(destination,startPos,endPos){jQuery(destination).append(document.createTextNode(this.source.substring(startPos,endPos)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(text){var output=document.createDocumentFragment();new Wikifier(output,text);var errors=output.querySelector(".error");if(null!==errors)throw new Error(errors.textContent.replace(errorPrologRegExp,""));return output}},{key:"createInternalLink",value:function(destination,passage,text,callback){var $link=jQuery(document.createElement("a"));return null!=passage&&($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken"),$link.ariaClick({one:!0},(function(){"function"==typeof callback&&callback(),Engine.play(passage)}))),text&&$link.append(document.createTextNode(text)),destination&&$link.appendTo(destination),$link[0]}},{key:"createExternalLink",value:function(destination,url,text){var $link=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(text).appendTo(destination);return null!=url&&$link.attr({href:url,tabindex:0}),$link[0]}},{key:"isExternalLink",value:function(link){return!Story.has(link)&&(new RegExp("^".concat(Patterns.url),"gim").test(link)||/[/.?#]/.test(link))}}]),Wikifier}();return Object.defineProperty(Wikifier,"Option",{value:(_optionsStack=[],Object.freeze(Object.defineProperties({},{length:{get:function(){return _optionsStack.length}},options:{get:function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_optionsStack)))}},clear:{value:function(){_optionsStack=[]}},get:{value:function(idx){return _optionsStack[idx]}},pop:{value:function(){return _optionsStack.pop()}},push:{value:function(options){if("object"!==_typeof(options)||null===options)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: ".concat(Util.getType(options),")"));return _optionsStack.push(options)}}})))}),Object.defineProperty(Wikifier,"Parser",{value:function(){var _profiles,_parsers=[];function parsersHas(name){return!!_parsers.find((function(parser){return parser.name===name}))}return Object.freeze(Object.defineProperties({},{parsers:{get:function(){return _parsers}},add:{value:function(parser){if("object"!==_typeof(parser))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!parser.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof parser.name)throw new Error('parser object "name" property must be a string');if(!parser.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof parser.match)throw new Error('parser object "match" property must be a string');if(!parser.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof parser.handler)throw new Error('parser object "handler" property must be a function');if(parser.hasOwnProperty("profiles")&&!Array.isArray(parser.profiles))throw new Error('parser object "profiles" property must be an array');if(parsersHas(parser.name))throw new Error('cannot clobber existing parser "'.concat(parser.name,'"'));_parsers.push(parser)}},delete:{value:function(name){var parser=_parsers.find((function(parser){return parser.name===name}));parser&&_parsers.delete(parser)}},isEmpty:{value:function(){return 0===_parsers.length}},has:{value:parsersHas},get:{value:function(name){return _parsers.find((function(parser){return parser.name===name}))||null}},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:function(){return _profiles}},compile:{value:function(){var all=_parsers,core=all.filter((function(parser){return!Array.isArray(parser.profiles)||parser.profiles.includes("core")}));return _profiles=Object.freeze({all:{parsers:all,parserRegExp:new RegExp(all.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")},core:{parsers:core,parserRegExp:new RegExp(core.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==_typeof(_profiles)||0===Object.keys(_profiles).length}},has:{value:function(profile){return"object"===_typeof(_profiles)&&_profiles.hasOwnProperty(profile)}},get:{value:function(profile){if("object"!==_typeof(_profiles)||!_profiles.hasOwnProperty(profile))throw new Error('nonexistent parser profile "'.concat(profile,'"'));return _profiles[profile]}}}))}}))}()}),Object.defineProperties(Wikifier,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wikifier.helpers,{inlineCss:{value:(lookaheadRe=new RegExp(Patterns.inlineCss,"gm"),idOrClassRe=new RegExp("(".concat(Patterns.cssIdOrClassSigil,")(").concat(Patterns.anyLetter,"+)"),"g"),function(w){var matched,css={classes:[],id:"",styles:{}};do{lookaheadRe.lastIndex=w.nextMatch;var match=lookaheadRe.exec(w.source);if(matched=match&&match.index===w.nextMatch){if(match[1])css.styles[Util.fromCssProperty(match[1])]=match[2].trim();else if(match[3])css.styles[Util.fromCssProperty(match[3])]=match[4].trim();else if(match[5]){var subMatch=void 0;for(idOrClassRe.lastIndex=0;null!==(subMatch=idOrClassRe.exec(match[5]));)"."===subMatch[1]?css.classes.push(subMatch[2]):css.id=subMatch[2]}w.nextMatch=lookaheadRe.lastIndex}}while(matched);return css})},evalText:{value:function(text){var result;try{switch(_typeof(result=Scripting.evalTwineScript(text))){case"string":""===result.trim()&&(result=text);break;case"number":result=String(result);break;default:result=text}}catch(ex){result=text}return result}},evalPassageId:{value:function(passage){return null==passage||Story.has(passage)?passage:Wikifier.helpers.evalText(passage)}},hasBlockContext:{value:function(nodes){for(var hasGCS="function"==typeof window.getComputedStyle,i=nodes.length-1;i>=0;--i){var node=nodes[i];switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.nodeName.toUpperCase();if("BR"===tagName)return!0;var styles=hasGCS?window.getComputedStyle(node,null):node.currentStyle;if(styles&&styles.display){if("none"===styles.display)continue;return"block"===styles.display}switch(tagName){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){var macroParser=null;function getMacroContextShadowView(){for(var macro=macroParser||function(){if(!macroParser&&!(macroParser=Wikifier.Parser.get("macro")))throw new Error('cannot find "macro" parser');return macroParser}(),view=new Set,context=macro.context;null!==context;context=context.parent)context._shadows&&context._shadows.forEach((function(name){return view.add(name)}));return _toConsumableArray(view)}return function(code){var shadowStore={};return getMacroContextShadowView().forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]})),function(){var shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null;try{return shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),Scripting.evalJavaScript(code)}finally{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}}()},parseSquareBracketedMarkup:{value:function(){var Item=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),Delim=Lexer.enumFromNames(["None","LTR","RTL"]);function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexLeftMeta(lexer){if(!lexer.accept("["))return lexer.error(Item.Error,"malformed square-bracketed markup");if(lexer.accept("["))lexer.data.isLink=!0,lexer.emit(Item.LinkMeta);else{if(lexer.accept("<>"),!(lexer.accept("Ii")&&lexer.accept("Mm")&&lexer.accept("Gg")&&lexer.accept("[")))return lexer.error(Item.Error,"malformed square-bracketed markup");lexer.data.isLink=!1,lexer.emit(Item.ImageMeta)}return lexer.depth=2,lexCoreComponents}function lexCoreComponents(lexer){for(var what=lexer.data.isLink?"link":"image",delim=Delim.None;;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup"));break;case"|":delim===Delim.None&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(),lexer.emit(Item.DelimLTR));break;case"-":delim===Delim.None&&">"===lexer.peek()&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(2),lexer.emit(Item.DelimLTR));break;case"<":delim===Delim.None&&"-"===lexer.peek()&&(delim=Delim.RTL,lexer.backup(),lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.DelimRTL));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.InnerMeta),lexer.data.isLink?lexSetter:lexImageLink;case"]":return--lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexImageLink(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup link component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.InnerMeta),lexSetter;case"]":return--lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexSetter(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup setter component"));break;case"'":if(slurpQuote(lexer,"'")===EOF)return lexer.error(Item.Error,"unterminated single quoted string in ".concat(what," markup setter component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)return"]"!==lexer.peek()?lexer.error(Item.Error,"malformed ".concat(what," markup")):(--lexer.depth,lexer.backup(),lexer.emit(Item.Setter),lexer.forward(2),lexer.emit(Item.RightMeta),null)}}return function(w){var lexer=new Lexer(w.source,lexLeftMeta);lexer.start=lexer.pos=w.matchStart;var markup={},items=lexer.run(),last=items.last();return last&&last.type===Item.Error?markup.error=last.message:items.forEach((function(item){var text=item.text.trim();switch(item.type){case Item.ImageMeta:markup.isImage=!0,"<"===text[1]?markup.align="left":">"===text[1]&&(markup.align="right");break;case Item.LinkMeta:markup.isLink=!0;break;case Item.Link:"~"===text[0]?(markup.forceInternal=!0,markup.link=text.slice(1)):markup.link=text;break;case Item.Setter:markup.setter=text;break;case Item.Source:markup.source=text;break;case Item.Text:markup.text=text}})),markup.pos=lexer.pos,markup}}()}}),Wikifier}();!function(){function _verbatimTagHandler(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(match[1]).appendTo(w.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("blockquote")).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,i,destStack=[w.output],curLevel=0,newLevel=w.matchLength;do{if(newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement("blockquote")).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();curLevel=newLevel,w.subWikify(destStack[destStack.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(destStack[destStack.length-1]),this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);(matched=match&&match.index===w.nextMatch)&&(newLevel=match[0].length,w.nextMatch+=match[0].length)}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?".concat(Patterns.macroName,")(?:\\s*)((?:(?:/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/)|(?://.*\\n)|(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>"),"gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(w){var matchStart=this.lookahead.lastIndex=w.matchStart;if(this.parseTag(w)){var macro,nextMatch=w.nextMatch,name=this.working.name,rawArgs=this.working.arguments;try{if(!(macro=Macro.get(name))){if(Macro.tags.has(name)){var tags=Macro.tags.get(name);return throwError(w.output,"child tag <<".concat(name,">> was found outside of a call to its parent macro").concat(1===tags.length?"":"s"," <<").concat(tags.join(">>, <<"),">>"),w.source.slice(matchStart,w.nextMatch))}return throwError(w.output,"macro <<".concat(name,">> does not exist"),w.source.slice(matchStart,w.nextMatch))}var payload=null;if(void 0!==macro.tags&&!(payload=this.parseBody(w,macro)))return w.nextMatch=nextMatch,throwError(w.output,"cannot find a closing tag for macro <<".concat(name,">>"),"".concat(w.source.slice(matchStart,w.nextMatch),"…"));if("function"!=typeof macro.handler)return throwError(w.output,"macro <<".concat(name,">> handler function ").concat(void 0===macro.handler?"does not exist":"is not a function"),w.source.slice(matchStart,w.nextMatch));var args=payload?payload[0].args:this.createArgs(rawArgs,this.skipArgs(macro,macro.name));if(void 0!==macro._MACRO_API){this.context=new MacroContext({macro:macro,name:name,args:args,payload:payload,source:w.source.slice(matchStart,w.nextMatch),parent:this.context,parser:w});try{macro.handler.call(this.context)}finally{this.context=this.context.parent}}else{var prevRawArgs=w._rawArgs;w._rawArgs=rawArgs;try{macro.handler(w.output,name,args,w,payload)}finally{w._rawArgs=prevRawArgs}}}catch(ex){return throwError(w.output,"cannot execute ".concat(macro&&macro.isWidget?"widget":"macro"," <<").concat(name,">>: ").concat(ex.message),w.source.slice(matchStart,w.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else w.outputText(w.output,w.matchStart,w.nextMatch)},parseTag:function(w){var match=this.lookahead.exec(w.source);return!(!match||match.index!==w.matchStart||!match[1])&&(w.nextMatch=this.lookahead.lastIndex,this.working.source=w.source.slice(match.index,this.lookahead.lastIndex),this.working.name=match[1],this.working.arguments=match[2],this.working.index=match.index,!0)},parseBody:function(w,macro){for(var openTag=this.working.name,closeTag="/".concat(openTag),closeAlt="end".concat(openTag),bodyTags=!!Array.isArray(macro.tags)&&macro.tags,payload=[],end=-1,opened=1,curSource=this.working.source,curTag=this.working.name,curArgument=this.working.arguments,contentStart=w.nextMatch;-1!==(w.matchStart=w.source.indexOf(this.match,w.nextMatch));)if(this.parseTag(w)){var tagSource=this.working.source,tagName=this.working.name,tagArgs=this.working.arguments,tagBegin=this.working.index,tagEnd=w.nextMatch,hasArgs=""!==tagArgs.trim();switch(tagName){case openTag:++opened;break;case closeAlt:case closeTag:if(hasArgs)throw w.nextMatch=tagBegin+2+tagName.length,new Error('malformed closing tag: "'.concat(tagSource,'"'));--opened;break;default:if(hasArgs&&(tagName.startsWith("/")||tagName.startsWith("end"))){this.lookahead.lastIndex=w.nextMatch=tagBegin+2+tagName.length;continue}if(1===opened&&bodyTags)for(var i=0,iend=bodyTags.length;i<iend;++i)tagName===bodyTags[i]&&(payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),curSource=tagSource,curTag=tagName,curArgument=tagArgs,contentStart=tagEnd)}if(0===opened){payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),end=tagEnd;break}}else this.lookahead.lastIndex=w.nextMatch=w.matchStart+this.match.length;return-1!==end?(w.nextMatch=end,payload):null},createArgs:function(rawArgsString,skipArgs){var args=skipArgs?[]:this.parseArgs(rawArgsString);return Object.defineProperties(args,{raw:{value:rawArgsString},full:{value:Scripting.parse(rawArgsString)}}),args},skipArgs:function(macro,tagName){if(void 0!==macro.skipArgs){var sa=macro.skipArgs;return"boolean"==typeof sa&&sa||Array.isArray(sa)&&sa.includes(tagName)}return void 0!==macro.skipArg0&&(macro.skipArg0&&macro.name===tagName)},parseArgs:function(){var Item=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),spaceRe=new RegExp(Patterns.space),notSpaceRe=new RegExp(Patterns.notSpace),varTest=new RegExp("^".concat(Patterns.variable));function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexSpace(lexer){var offset=lexer.source.slice(lexer.pos).search(notSpaceRe);if(offset===EOF)return null;switch(0!==offset&&(lexer.pos+=offset,lexer.ignore()),lexer.next()){case"`":return lexExpression;case'"':return lexDoubleQuote;case"'":return lexSingleQuote;case"[":return lexSquareBracket;default:return lexBareword}}function lexExpression(lexer){return slurpQuote(lexer,"`")===EOF?lexer.error(Item.Error,"unterminated backquote expression"):(lexer.emit(Item.Expression),lexSpace)}function lexDoubleQuote(lexer){return slurpQuote(lexer,'"')===EOF?lexer.error(Item.Error,"unterminated double quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSingleQuote(lexer){return slurpQuote(lexer,"'")===EOF?lexer.error(Item.Error,"unterminated single quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSquareBracket(lexer){var what;if(lexer.accept("<>IiMmGg")?(what="image",lexer.acceptRun("<>IiMmGg")):what="link",!lexer.accept("["))return lexer.error(Item.Error,"malformed ".concat(what," markup"));lexer.depth=2;loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case"[":++lexer.depth;break;case"]":if(--lexer.depth,lexer.depth<0)return lexer.error(Item.Error,"unexpected right square bracket ']'");if(1===lexer.depth){if("]"===lexer.next()){--lexer.depth;break loop}lexer.backup()}}return lexer.emit(Item.SquareBracket),lexSpace}function lexBareword(lexer){var offset=lexer.source.slice(lexer.pos).search(spaceRe);return lexer.pos=offset===EOF?lexer.source.length:lexer.pos+offset,lexer.emit(Item.Bareword),offset===EOF?null:lexSpace}return function(rawArgsString){var lexer=new Lexer(rawArgsString,lexSpace),args=[];return lexer.run().forEach((function(item){var arg=item.text;switch(item.type){case Item.Error:throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(item.message));case Item.Bareword:if(varTest.test(arg))arg=State.getVar(arg);else if(/^(?:settings|setup)[.[]/.test(arg))try{arg=Scripting.evalTwineScript(arg)}catch(ex){throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(ex.message))}else if("null"===arg)arg=null;else if("undefined"===arg)arg=undefined;else if("true"===arg)arg=!0;else if("false"===arg)arg=!1;else if("NaN"===arg)arg=NaN;else{var argAsNum=Number(arg);Number.isNaN(argAsNum)||(arg=argAsNum)}break;case Item.Expression:if(""===(arg=arg.slice(1,-1).trim()))arg=undefined;else try{arg=Scripting.evalTwineScript("(".concat(arg,")"))}catch(ex){throw new Error('unable to parse macro argument expression "'.concat(arg,'": ').concat(ex.message))}break;case Item.String:try{arg=Scripting.evalJavaScript(arg)}catch(ex){throw new Error('unable to parse macro argument string "'.concat(arg,'": ').concat(ex.message))}break;case Item.SquareBracket:var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:arg,matchStart:0});if(markup.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(markup.error));if(markup.pos<arg.length)throw new Error('unable to parse macro argument "'.concat(arg,'": unexpected character(s) "').concat(arg.slice(markup.pos),'" (pos: ').concat(markup.pos,")"));markup.isLink?((arg={isLink:!0}).count=markup.hasOwnProperty("text")?2:1,arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):arg.link,arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null):markup.isImage&&(arg=function(source){var imgObj={source:source,isImage:!0};if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(imgObj.source=passage.text,imgObj.passage=passage.title)}return imgObj}(Wikifier.helpers.evalPassageId(markup.source)),markup.hasOwnProperty("align")&&(arg.align=markup.align),markup.hasOwnProperty("text")&&(arg.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("link")&&(arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link)),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null)}args.push(arg)})),args}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{w.nextMatch=markup.pos;var link=Wikifier.helpers.evalPassageId(markup.link),text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):link,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,output=(Config.debug?new DebugView(w.output,"link-markup","[[link]]",w.source.slice(w.matchStart,w.nextMatch)):w).output;markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(output,link,text,setFn):Wikifier.createExternalLink(output,link,text)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(w){w.outputText(Wikifier.createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{var debugView;w.nextMatch=markup.pos,Config.debug&&(debugView=new DebugView(w.output,"image-markup",markup.hasOwnProperty("link")?"[img[][link]]":"[img[]]",w.source.slice(w.matchStart,w.nextMatch))).modes({block:!0});var source,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,el=(Config.debug?debugView:w).output;if(markup.hasOwnProperty("link")){var link=Wikifier.helpers.evalPassageId(markup.link);(el=markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(el,link,null,setFn):Wikifier.createExternalLink(el,link)).classList.add("link-image")}if(el=jQuery(document.createElement("img")).appendTo(el).get(0),"data:"!==(source=Wikifier.helpers.evalPassageId(markup.source)).slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(el.setAttribute("data-passage",passage.title),source=passage.text.trim())}el.src=source,markup.hasOwnProperty("text")&&(el.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("align")&&(el.align=markup.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){var pre=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(match[1]).appendTo(pre),pre.appendTo(w.output),w.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(w){switch(w.matchText){case"''":w.subWikify(jQuery(document.createElement("strong")).appendTo(w.output).get(0),"''");break;case"//":w.subWikify(jQuery(document.createElement("em")).appendTo(w.output).get(0),"//");break;case"__":w.subWikify(jQuery(document.createElement("u")).appendTo(w.output).get(0),"__");break;case"^^":w.subWikify(jQuery(document.createElement("sup")).appendTo(w.output).get(0),"\\^\\^");break;case"~~":w.subWikify(jQuery(document.createElement("sub")).appendTo(w.output).get(0),"~~");break;case"==":w.subWikify(jQuery(document.createElement("s")).appendTo(w.output).get(0),"==");break;case"{{{":var lookahead=/\{\{\{((?:.|\n)*?)\}\}\}/gm;lookahead.lastIndex=w.matchStart;var match=lookahead.exec(w.source);match&&match.index===w.matchStart&&(jQuery(document.createElement("code")).text(match[1]).appendTo(w.output),w.nextMatch=lookahead.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(w){var css=Wikifier.helpers.inlineCss(w);this.blockRe.lastIndex=w.nextMatch;var blockMatch=this.blockRe.exec(w.source),blockLevel=blockMatch&&blockMatch.index===w.nextMatch,$el=jQuery(document.createElement(blockLevel?"div":"span")).appendTo(w.output);0===css.classes.length&&""===css.id&&0===Object.keys(css.styles).length?$el.addClass("marked"):(css.classes.forEach((function(className){return $el.addClass(className)})),""!==css.id&&$el.attr("id",css.id),$el.css(css.styles)),blockLevel?(w.nextMatch+=blockMatch[0].length,w.subWikify($el[0],"\\n?".concat(this.terminator))):w.subWikify($el[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(match[1]||match[2]).appendTo(w.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(w){jQuery(document.createElement("hr")).appendTo(w.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(w){jQuery(document.createTextNode("—")).appendTo(w.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(w){jQuery(document.createTextNode("$")).appendTo(w.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:"".concat(Patterns.variable,"(?:(?:\\.").concat(Patterns.identifier,")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[").concat(Patterns.variable,"\\]))*"),handler:function(w){var result=State.getVar(w.matchText);null==result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"variable",w.matchText,w.matchText):w).output,stringFrom(result))}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?".concat(Patterns.templateName),handler:function(w){var name=w.matchText.slice(1),template=Template.get(name),result=null;switch(template instanceof Array&&(template=template.random()),_typeof(template)){case"function":try{result=stringFrom(template.call({name:name}))}catch(ex){return throwError(w.output,"cannot execute function template ?".concat(name,": ").concat(ex.message),w.source.slice(w.matchStart,w.nextMatch))}break;case"string":result=template}null===result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"template",w.matchText,w.matchText):w).output,result)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("h".concat(w.matchLength))).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,table=jQuery(document.createElement("table")).appendTo(w.output).get(0),prevColumns=[],curRowType=null,$rowContainer=null,rowCount=0;w.nextMatch=w.matchStart;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var nextRowType=match[2];"k"===nextRowType?(table.className=match[1],w.nextMatch+=match[0].length+1):(nextRowType!==curRowType&&(curRowType=nextRowType,$rowContainer=jQuery(document.createElement(this.rowTypes[nextRowType])).appendTo(table)),"c"===curRowType?($rowContainer.css("caption-side",0===rowCount?"top":"bottom"),w.nextMatch+=1,w.subWikify($rowContainer[0],this.rowTerminator)):this.rowHandler(w,jQuery(document.createElement("tr")).appendTo($rowContainer).get(0),prevColumns),++rowCount)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))},rowHandler:function(w,rowEl,prevColumns){var matched,_this12=this,cellRe=new RegExp(this.cellPattern,"gm"),col=0,curColCount=1;do{cellRe.lastIndex=w.nextMatch;var cellMatch=cellRe.exec(w.source);if(matched=cellMatch&&cellMatch.index===w.nextMatch){if("~"===cellMatch[1]){var last=prevColumns[col];last&&(++last.rowCount,last.$element.attr("rowspan",last.rowCount).css("vertical-align","middle")),w.nextMatch=cellMatch.index+cellMatch[0].length-1}else if(">"===cellMatch[1])++curColCount,w.nextMatch=cellMatch.index+cellMatch[0].length-1;else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}!function(){++w.nextMatch;for(var css=Wikifier.helpers.inlineCss(w),spaceLeft=!1,spaceRight=!1,$cell=void 0;" "===w.source.substr(w.nextMatch,1);)spaceLeft=!0,++w.nextMatch;"!"===w.source.substr(w.nextMatch,1)?($cell=jQuery(document.createElement("th")).appendTo(rowEl),++w.nextMatch):$cell=jQuery(document.createElement("td")).appendTo(rowEl),prevColumns[col]={rowCount:1,$element:$cell},curColCount>1&&($cell.attr("colspan",curColCount),curColCount=1),w.subWikify($cell[0],_this12.cellTerminator)," "===w.matchText.substr(w.matchText.length-2,1)&&(spaceRight=!0),css.classes.forEach((function(className){return $cell.addClass(className)})),""!==css.id&&$cell.attr("id",css.id),spaceLeft&&spaceRight?css.styles["text-align"]="center":spaceLeft?css.styles["text-align"]="right":spaceRight&&(css.styles["text-align"]="left"),$cell.css(css.styles),w.nextMatch=w.nextMatch-1}()}++col}}while(matched)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){w.nextMatch=w.matchStart;var matched,i,destStack=[w.output],curType=null,curLevel=0;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var newType=match[2]?"ol":"ul",newLevel=match[0].length;if(w.nextMatch+=match[0].length,newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();else newLevel===curLevel&&newType!==curType&&(destStack.pop(),destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0)));curLevel=newLevel,curType=newType,w.subWikify(jQuery(document.createElement("li")).appendTo(destStack[destStack.length-1]).get(0),this.terminator)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\".concat(Patterns.spaceNoTerminator,"*\\n|\\n").concat(Patterns.spaceNoTerminator,"*\\\\|\\n?\\\\").concat(Patterns.spaceNoTerminator,"*$|^").concat(Patterns.spaceNoTerminator,"*\\\\\\n?"),handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(w){w.options.nobr||jQuery(document.createElement("br")).appendTo(w.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(w){jQuery(document.createDocumentFragment()).append(w.matchText).appendTo(w.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){w.nextMatch=this.lookahead.lastIndex;var css=match[2];this.hasImageMarkup.test(css)&&(this.imageMarkup.lastIndex=0,css=css.replace(this.imageMarkup,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text)}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),jQuery(document.createDocumentFragment()).append(match[1]+css+match[3]).appendTo(w.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/<(\/?)[Ss][Vv][Gg][^>]*>/gm,namespace:"http://www.w3.org/2000/svg",handler:function(w){var _this13=this;this.lookahead.lastIndex=w.nextMatch;for(var match,depth=1;depth>0&&null!==(match=this.lookahead.exec(w.source));)depth+="/"===match[1]?-1:1;if(0===depth){w.nextMatch=this.lookahead.lastIndex;var svgTag=w.source.slice(w.matchStart,this.lookahead.lastIndex),$frag=jQuery(document.createDocumentFragment()).append(svgTag);$frag.find("a[data-passage],image[data-passage]").each((function(_,el){var tagName=el.tagName.toLowerCase();try{_this13.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"svg|<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}el.hasAttribute("data-passage")&&_this13.processDataAttributes(el,tagName)})),$frag.appendTo(w.output)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref10){var name=_ref10.name,value=_ref10.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if("image"===tagName)"data:"!==passage.slice(0,5)&&Story.has(passage)&&(passage=Story.get(passage)).tags.includes("Twine.image")&&el.setAttribute("href",passage.text.trim());else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<".concat(Patterns.htmlTagName,"(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>"),tagRe:new RegExp("^<(".concat(Patterns.htmlTagName,")")),mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(w){var tagMatch=this.tagRe.exec(w.matchText),tag=tagMatch&&tagMatch[1],tagName=tag&&tag.toLowerCase();if(tagName){var terminator,terminatorMatch,isVoid=this.voidTags.includes(tagName)||w.matchText.endsWith("/>"),isNobr=this.nobrTags.includes(tagName);if(!isVoid){terminator="<\\/".concat(tagName,"\\s*>");var terminatorRe=new RegExp(terminator,"gim");terminatorRe.lastIndex=w.matchStart,terminatorMatch=terminatorRe.exec(w.source)}if(!isVoid&&!terminatorMatch)return throwError(w.output,"cannot find a closing tag for HTML <".concat(tag,">"),"".concat(w.matchText,"…"));var debugView,output=w.output,el=document.createElement(w.output.tagName);for(el.innerHTML=w.matchText;el.firstChild;)el=el.firstChild;try{this.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}if(el.hasAttribute("data-passage")&&(this.processDataAttributes(el,tagName),Config.debug&&((debugView=new DebugView(w.output,"html-".concat(tagName),tagName,w.matchText)).modes({block:"img"===tagName,nonvoid:terminatorMatch}),output=debugView.output)),terminatorMatch){try{Wikifier.Option.push({nobr:isNobr}),w.subWikify(el,terminator,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}debugView&&jQuery(el).find(".debug.block").length>0&&debugView.modes({block:!0})}output.appendChild("track"===tagName?el.cloneNode(!0):el)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref11){var name=_ref11.name,value=_ref11.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if(this.mediaTags.includes(tagName)){if("data:"!==passage.slice(0,5)&&Story.has(passage)){var parentName,twineTag;switch(passage=Story.get(passage),tagName){case"audio":case"video":twineTag="Twine.".concat(tagName);break;case"img":twineTag="Twine.image";break;case"track":twineTag="Twine.vtt";break;case"source":var $parent=$(el).closest("audio,picture,video");$parent.length&&(parentName=$parent.get(0).tagName.toLowerCase(),twineTag="Twine.".concat("picture"===parentName?"image":parentName))}passage.tags.includes(twineTag)&&(el["picture"===parentName?"srcset":"src"]=passage.text.trim())}}else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}})}();var Template=(_templates=new Map,_validNameRe=new RegExp("^(?:".concat(Patterns.templateName,")$")),_validType=function(template){var templateType=_typeof(template);return"function"===templateType||"string"===templateType},Object.freeze(Object.defineProperties({},{add:{value:function(name,template){if(!(_validType(template)||template instanceof Array&&template.length>0&&template.every(_validType)))throw new TypeError("invalid template type (".concat(name,"); templates must be: functions, strings, or an array of either"));(name instanceof Array?name:[name]).forEach((function(name){if(!_validNameRe.test(name))throw new Error('invalid template name "'.concat(name,'"'));if(_templates.has(name))throw new Error("cannot clobber existing template ?".concat(name));_templates.set(name,template)}))}},delete:{value:function(name){(name instanceof Array?name:[name]).forEach((function(name){return _templates.delete(name)}))}},get:{value:function(name){return _templates.has(name)?_templates.get(name):null}},has:{value:function(name){return _templates.has(name)}},size:{get:function(){return _templates.size}}}))),_templates,_validNameRe,_validType,Macro=function(){var _macros={},_tags={},_validNameRe=new RegExp("^(?:".concat(Patterns.macroName,")$"));function macrosHas(name){return _macros.hasOwnProperty(name)}function tagsRegister(parent,bodyTags){if(!parent)throw new Error("no parent specified");for(var endTags=["/".concat(parent),"end".concat(parent)],allTags=[].concat(endTags,Array.isArray(bodyTags)?bodyTags:[]),i=0;i<allTags.length;++i){var tag=allTags[i];if(macrosHas(tag))throw new Error("cannot register tag for an existing macro");tagsHas(tag)?_tags[tag].includes(parent)||(_tags[tag].push(parent),_tags[tag].sort()):_tags[tag]=[parent]}}function tagsUnregister(parent){if(!parent)throw new Error("no parent specified");Object.keys(_tags).forEach((function(tag){var i=_tags[tag].indexOf(parent);-1!==i&&(1===_tags[tag].length?delete _tags[tag]:_tags[tag].splice(i,1))}))}function tagsHas(name){return _tags.hasOwnProperty(name)}return Object.freeze(Object.defineProperties({},{add:{value:function macrosAdd(name,def){if(Array.isArray(name))name.forEach((function(name){return macrosAdd(name,def)}));else{if(!_validNameRe.test(name))throw new Error('invalid macro name "'.concat(name,'"'));if(macrosHas(name))throw new Error("cannot clobber existing macro <<".concat(name,">>"));if(tagsHas(name))throw new Error("cannot clobber child tag <<".concat(name,">> of parent macro").concat(1===_tags[name].length?"":"s"," <<").concat(_tags[name].join(">>, <<"),">>"));try{if("object"===_typeof(def))_macros[name]=Object.assign(Object.create(null),def,{_MACRO_API:!0});else{if(!macrosHas(def))throw new Error("cannot create alias of nonexistent macro <<".concat(def,">>"));_macros[name]=Object.create(_macros[def],{_ALIAS_OF:{enumerable:!0,value:def}})}Object.defineProperty(_macros,name,{writable:!1})}catch(ex){throw"TypeError"===ex.name?new Error("cannot clobber protected macro <<".concat(name,">>")):new Error("unknown error when attempting to add macro <<".concat(name,">>: [").concat(ex.name,"] ").concat(ex.message))}if(void 0!==_macros[name].tags)if(null==_macros[name].tags)tagsRegister(name);else{if(!Array.isArray(_macros[name].tags))throw new Error('bad value for "tags" property of macro <<'.concat(name,">>"));tagsRegister(name,_macros[name].tags)}}}},delete:{value:function macrosDelete(name){if(Array.isArray(name))name.forEach((function(name){return macrosDelete(name)}));else if(macrosHas(name)){void 0!==_macros[name].tags&&tagsUnregister(name);try{Object.defineProperty(_macros,name,{writable:!0}),delete _macros[name]}catch(ex){throw new Error("unknown error removing macro <<".concat(name,">>: ").concat(ex.message))}}else if(tagsHas(name))throw new Error("cannot remove child tag <<".concat(name,">> of parent macro <<").concat(_tags[name],">>"))}},isEmpty:{value:function(){return 0===Object.keys(_macros).length}},has:{value:macrosHas},get:{value:function(name){var macro=null;return macrosHas(name)&&"function"==typeof _macros[name].handler?macro=_macros[name]:macros.hasOwnProperty(name)&&"function"==typeof macros[name].handler&&(macro=macros[name]),macro}},init:{value:function(){var handler=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(_macros).forEach((function(name){"function"==typeof _macros[name][handler]&&_macros[name][handler](name)})),Object.keys(macros).forEach((function(name){"function"==typeof macros[name][handler]&&macros[name][handler](name)}))}},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:tagsRegister},unregister:{value:tagsUnregister},has:{value:tagsHas},get:{value:function(name){return tagsHas(name)?_tags[name]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var MacroContext=function(){function MacroContext(contextData){_classCallCheck(this,MacroContext);var context=Object.assign({parent:null,macro:null,name:"",displayName:"",args:null,payload:null,parser:null,source:""},contextData);if(null===context.macro||""===context.name||null===context.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:context.macro},name:{value:void 0===context.macro._ALIAS_OF?context.name:context.macro._ALIAS_OF},displayName:{value:context.name},args:{value:context.args},payload:{value:context.payload},source:{value:context.source},parent:{value:context.parent},parser:{value:context.parser},_output:{value:context.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(MacroContext,[{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return _toConsumableArray(this._shadows)}},{key:"shadowView",get:function(){var view=new Set;return this.contextSelectAll((function(ctx){return ctx._shadows})).forEach((function(ctx){return ctx._shadows.forEach((function(name){return view.add(name)}))})),_toConsumableArray(view)}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}},{key:"contextHas",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return!0;return!1}},{key:"contextSelect",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return context;return null}},{key:"contextSelectAll",value:function(filter){for(var result=[],context=this;null!==(context=context.parent);)filter(context)&&result.push(context);return result}},{key:"addShadow",value:function(){var _this14=this;this._shadows||(this._shadows=new Set);for(var varRe=new RegExp("^".concat(Patterns.variable,"$")),_len14=arguments.length,names=new Array(_len14),_key14=0;_key14<_len14;_key14++)names[_key14]=arguments[_key14];names.flat(1/0).forEach((function(name){if("string"!=typeof name)throw new TypeError("variable name must be a string; type: ".concat(_typeof(name)));if(!varRe.test(name))throw new Error('invalid variable name "'.concat(name,'"'));_this14._shadows.add(name)}))}},{key:"createShadowWrapper",value:function(callback,doneCallback,startCallback){var shadowStore,shadowContext=this;return"function"==typeof callback&&(shadowStore={},this.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]}))),function(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];if("function"==typeof startCallback&&startCallback.apply(this,args),"function"==typeof callback){var contextCache,shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null,macroParser=Wikifier.Parser.get("macro");try{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),contextCache=macroParser.context,macroParser.context=shadowContext,callback.apply(this,args)}finally{contextCache!==undefined&&(macroParser.context=contextCache),shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}"function"==typeof doneCallback&&doneCallback.apply(this,args)}}},{key:"createDebugView",value:function(name,title){return this._debugView=new DebugView(this._output,"macro",name||this.displayName,title||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(message,source){return throwError(this._output,"<<".concat(this.displayName,">>: ").concat(message),source||this.source)}}]),MacroContext}();return MacroContext}();!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,tsVarRe:new RegExp("(".concat(Patterns.variable,")"),"g"),handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var valueCache={};try{for(var match,tsVarRe=this.self.tsVarRe;null!==(match=tsVarRe.exec(this.args.raw));){var varName=match[1],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),this.addShadow(varName)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,jsVarRe:new RegExp("State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var match,jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var store=State[match[1]],name=match[2];store.hasOwnProperty(name)&&delete store[name]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}for(var match,remember=storage.get("remember")||{},jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];remember[name]=State.variables[name]}if(!storage.set("remember",remember))return this.error("unknown error, cannot remember: ".concat(this.args.raw));Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var remember=storage.get("remember");remember&&Object.keys(remember).forEach((function(name){return State.variables[name]=remember[name]}))}}),Macro.add("forget",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var match,remember=storage.get("remember"),jsVarRe=this.self.jsVarRe,needStore=!1;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];State.variables.hasOwnProperty(name)&&delete State.variables[name],remember&&remember.hasOwnProperty(name)&&(needStore=!0,delete remember[name])}if(needStore)if(0===Object.keys(remember).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",remember))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var output=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,output)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.createDebugView(),output.hasChildNodes()&&this.output.appendChild(output)}}),Macro.add("include",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?(Config.debug&&this.debugView.modes({block:!0}),passage=Story.get(passage),void(this.args[1]?jQuery(document.createElement(this.args[1])).addClass("".concat(passage.domId," macro-").concat(this.name)).attr("data-passage",passage.title).appendTo(this.output):jQuery(this.output)).wiki(passage.processText())):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var result=stringFrom(Scripting.evalJavaScript(this.args.full));null!==result&&new Wikifier(this.output,"-"===this.name?Util.escape(result):result)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var frag=document.createDocumentFragment();if(new Wikifier(frag,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(frag);else{var errList=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent}));if(errList.length>0)return this.error("error".concat(1===errList.length?"":"s"," within contents (").concat(errList.join("; "),")"))}}}),Macro.add("type",{isAsync:!0,tags:null,typeId:0,handler:function(){if(0===this.args.length)return this.error("no speed specified");var cursor,speed=Util.fromCssTime(this.args[0]);if(speed<0)return this.error("speed time value must be non-negative (received: ".concat(this.args[0],")"));for(var elClass="",elId="",elTag="div",skipKey=Config.macros.typeSkipKey,start=400,options=this.args.slice(1);options.length>0;){var option=options.shift();switch(option){case"class":if(0===options.length)return this.error("class option missing required class name(s)");if(""===(elClass=options.shift()))throw new Error('class option class name(s) must be non-empty (received: "")');break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=options.shift()))throw new Error('element option tag name must be non-empty (received: "")');break;case"id":if(0===options.length)return this.error("id option missing required ID");if(""===(elId=options.shift()))throw new Error('id option ID must be non-empty (received: "")');break;case"keep":cursor="keep";break;case"none":cursor="none";break;case"skipkey":if(0===options.length)return this.error("skipkey option missing required key value");if(""===(skipKey=options.shift()))throw new Error('skipkey option key value must be non-empty (received: "")');break;case"start":if(0===options.length)return this.error("start option missing required time value");var value=options.shift();if((start=Util.fromCssTime(value))<0)throw new Error("start option time value must be non-negative (received: ".concat(value,")"));break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:!0});var className="macro-".concat(this.name),namespace=".".concat(className),$target=jQuery(document.createElement(elTag)).addClass("".concat(className," ").concat(className,"-target")).appendTo(this.output);TempState.macroTypeQueue||(TempState.macroTypeQueue=[],$(document).off(namespace).one(":passageinit".concat(namespace),(function(){return $(document).off(namespace)})));var startTyping=0===TempState.macroTypeQueue.length,selfId=++this.self.typeId;TempState.macroTypeQueue.push({id:selfId,handler:function(){var $wrapper=jQuery(document.createElement(elTag)).addClass(className);elId&&$wrapper.attr("id",elId),elClass&&$wrapper.addClass(elClass),new Wikifier($wrapper,contents);var passage=State.passage,turn=State.turns;if(!Config.macros.typeVisitedPassages&&State.passages.slice(0,-1).some((function(title){return title===passage}))||$wrapper.find(".error").length>0)return $target.replaceWith($wrapper),TempState.macroTypeQueue.shift(),void(TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().handler());var typer=new NodeTyper({targetNode:$wrapper.get(0),classNames:"none"===cursor?null:"".concat(className,"-cursor")});$target.replaceWith($wrapper);var keydownAndNS="keydown".concat(namespace),typingStopAndNS="".concat(":typingstop").concat(namespace);$(document).off(keydownAndNS).on(keydownAndNS,(function(ev){Util.scrubEventKey(ev.key)!==skipKey||ev.target!==document.body&&ev.target!==document.documentElement||(ev.preventDefault(),$(document).off(keydownAndNS),typer.finish())})).one(typingStopAndNS,(function(){TempState.macroTypeQueue&&(0===TempState.macroTypeQueue.length?jQuery.event.trigger(":typingcomplete"):TempState.macroTypeQueue.first().handler())}));var typeNode=function(){var typeNodeMember=function(typeIntervalId){State.passage===passage&&State.turns===turn&&typer.type()||(typeIntervalId&&clearInterval(typeIntervalId),TempState.macroTypeQueue&&TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().id===selfId&&TempState.macroTypeQueue.shift(),$wrapper.trigger(":typingstop"),$wrapper.addClass("".concat(className,"-done")),"keep"===cursor&&$wrapper.addClass("".concat(className,"-cursor")))};$wrapper.trigger(":typingstart"),typeNodeMember();var typeNodeMemberId=setInterval((function(){return typeNodeMember(typeNodeMemberId)}),speed)};start?setTimeout(typeNode,start):typeNode()}}),startTyping&&(Engine.isPlaying()?$(document).one(":passageend".concat(namespace),(function(){return TempState.macroTypeQueue.first().handler()})):TempState.macroTypeQueue.first().handler())}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],elseifWsRe:/^\s*if\b/i,ifAssignRe:/[^!=&^|<>*/%+-]=[^=>]/,handler:function(){var i;try{var len=this.payload.length,elseifWsRe=this.self.elseifWsRe,ifAssignRe=this.self.ifAssignRe;for(i=0;i<len;++i)if("else"===this.payload[i].name){if(this.payload[i].args.raw.length>0)return elseifWsRe.test(this.payload[i].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'.concat(i>0?" (#"+i+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<else>> must be the final clause")}else{if(0===this.payload[i].args.full.length)return this.error("no conditional expression specified for <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""));if(Config.macros.ifAssignmentError&&ifAssignRe.test(this.payload[i].args.full))return this.error("assignment operator found within <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""," (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ").concat(this.payload[i].args.raw))}var evalJavaScript=Scripting.evalJavaScript,success=!1;for(i=0;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"else"===this.payload[i].name||evalJavaScript(this.payload[i].args.full)){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!success,invalid:!success})}}catch(ex){return this.error("bad conditional expression in <<".concat(0===i?"if":"elseif",">> clause").concat(i>0?" (#"+i+")":"",": ").concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var i,result,len=this.payload.length;if(1===len)return this.error("no cases specified");for(i=1;i<len;++i)if("default"===this.payload[i].name){if(this.payload[i].args.length>0)return this.error("<<default>> does not accept values, invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<default>> must be the final case")}else if(0===this.payload[i].args.length)return this.error("no value(s) specified for <<".concat(this.payload[i].name,">> (#").concat(i,")"));try{result=Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}var debugView=this.debugView,success=!1;for(Config.debug&&debugView.modes({nonvoid:!1,hidden:!0}),i=1;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"default"===this.payload[i].name||this.payload[i].args.some((function(val){return val===result}))){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});debugView.modes({nonvoid:!1,hidden:!0,invalid:!success}),this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0,invalid:!success})}}}),Macro.add("for",{skipArgs:!0,tags:null,hasRangeRe:new RegExp("^\\S".concat(Patterns.anyChar,"*?\\s+range\\s+\\S").concat(Patterns.anyChar,"*?$")),rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")\\s*,\\s*)?State\\.(variables|temporary)\\.(").concat(Patterns.identifier,")\\s+range\\s+(\\S").concat(Patterns.anyChar,"*?)$")),threePartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,forInRe:/^\S+\s+in\s+\S+/i,forOfRe:/^\S+\s+of\s+\S+/i,handler:function(){var argsStr=this.args.full.trim(),payload=this.payload[0].contents.replace(/\n$/,"");if(0===argsStr.length)this.self.handleFor.call(this,payload,null,!0,null);else if(this.self.hasRangeRe.test(argsStr)){var parts=argsStr.match(this.self.rangeRe);if(null===parts)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self.handleForRange.call(this,payload,{type:parts[1],name:parts[2]},{type:parts[3],name:parts[4]},parts[5])}else{var init,condition,post;if(-1===argsStr.indexOf(";")){if(this.self.forInRe.test(argsStr))return this.error("invalid syntax, for…in is not supported; see: for…range");if(this.self.forOfRe.test(argsStr))return this.error("invalid syntax, for…of is not supported; see: for…range");condition=argsStr}else{var _parts=argsStr.match(this.self.threePartRe);if(null===_parts)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");init=_parts[1],condition=_parts[2].trim(),post=_parts[3],0===condition.length&&(condition=!0)}this.self.handleFor.call(this,payload,init,condition,post)}},handleFor:function(payload,init,condition,post){var evalJavaScript=Scripting.evalJavaScript,first=!0,safety=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,init)try{evalJavaScript(init)}catch(ex){return this.error("bad init expression: ".concat("object"===_typeof(ex)?ex.message:ex))}for(;evalJavaScript(condition);){if(--safety<0)return this.error("exceeded configured maximum loop iterations (".concat(Config.macros.maxLoopIterations,")"));if(new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(post)try{evalJavaScript(post)}catch(ex){return this.error("bad post expression: ".concat("object"===_typeof(ex)?ex.message:ex))}}}catch(ex){return this.error("bad conditional expression: ".concat("object"===_typeof(ex)?ex.message:ex))}finally{TempState.break=null}},handleForRange:function(payload,indexVar,valueVar,rangeExp){var rangeList,first=!0;try{rangeList=this.self.toRangeList(rangeExp)}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var i=0;i<rangeList.length;++i)if(indexVar.name&&(State[indexVar.type][indexVar.name]=rangeList[i][0]),State[valueVar.type][valueVar.name]=rangeList[i][1],new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(ex){return this.error("object"===_typeof(ex)?ex.message:ex)}finally{TempState.break=null}},toRangeList:function(rangeExp){var value,list,evalJavaScript=Scripting.evalJavaScript;try{value=evalJavaScript("{"===rangeExp[0]?"(".concat(rangeExp,")"):rangeExp)}catch(ex){if("object"!==_typeof(ex))throw new Error("bad range expression: ".concat(ex));throw ex.message="bad range expression: ".concat(ex.message),ex}switch(_typeof(value)){case"string":list=[];for(var i=0;i<value.length;){var obj=Util.charAndPosAt(value,i);list.push([i,obj.char]),i=1+obj.end}break;case"object":if(Array.isArray(value))list=value.map((function(val,i){return[i,val]}));else if(value instanceof Set)list=_toConsumableArray(value).map((function(val,i){return[i,val]}));else if(value instanceof Map)list=_toConsumableArray(value.entries());else{if("Object"!==Util.toStringTag(value))throw new Error("unsupported range expression type: ".concat(Util.toStringTag(value)));list=Object.keys(value).map((function(key){return[key,value[key]]}))}break;default:throw new Error("unsupported range expression type: ".concat(_typeof(value)))}return list}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas((function(ctx){return"for"===ctx.name})))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var _this15=this;if(0===this.args.length)return this.error("no ".concat("button"===this.name?"button":"link"," text specified"));var passage,$link=jQuery(document.createElement("button"===this.name?"button":"a"));if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var $image=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo($link);$link.addClass("link-image"),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link}else $link.append(document.createTextNode(this.args[0].text)),passage=this.args[0].link;else $link.wikiWithOptions({profile:"core"},this.args[0]),passage=this.args.length>1?this.args[1]:undefined;null!=passage?($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken")):$link.addClass("link-internal"),$link.addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:null!=passage?"link":"button",one:null!=passage},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(_this15.payload[0].contents.trim())}:null,null!=passage?function(){return Engine.play(passage)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("unchecked value"),this.args.length<3&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),uncheckValue=this.args[1],checkValue=this.args[2],el=document.createElement("input");switch(jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:"checkbox",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.checked?checkValue:uncheckValue)}))).appendTo(this.output),this.args[3]){case"autocheck":State.getVar(varName)===checkValue?el.checked=!0:State.setVar(varName,uncheckValue);break;case"checked":el.checked=!0,State.setVar(varName,checkValue);break;default:State.setVar(varName,uncheckValue)}}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var _this16=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),len=this.payload.length;if(1===len)return this.error("no options specified");for(var config={autoselect:!1,once:!1},i=1;i<this.args.length;++i){var arg=this.args[i];switch(arg){case"once":config.once=!0;break;case"autoselect":config.autoselect=!0;break;default:return this.error("unknown argument: ".concat(arg))}}for(var options=[],tagCount={option:0,optionsfrom:0},selectedIdx=-1,_i5=1;_i5<len;++_i5){var payload=this.payload[_i5];if("option"===payload.name){if(++tagCount.option,0===payload.args.length)return this.error("no arguments specified for <<".concat(payload.name,">> (#").concat(tagCount.option,")"));var option={label:String(payload.args[0])},isSelected=!1;switch(payload.args.length){case 1:option.value=payload.args[0];break;case 2:"selected"===payload.args[1]?(option.value=payload.args[0],isSelected=!0):option.value=payload.args[1];break;default:option.value=payload.args[1],"selected"===payload.args[2]&&(isSelected=!0)}if(options.push(option),isSelected){if(config.autoselect)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==selectedIdx)return this.error("multiple selected keywords specified for <<".concat(payload.name,">> (#").concat(selectedIdx+1," & #").concat(tagCount.option,")"));selectedIdx=options.length-1}}else{var _ret=function(){if(++tagCount.optionsfrom,0===payload.args.full.length)return{v:_this16.error("no expression specified for <<".concat(payload.name,">> (#").concat(tagCount.optionsfrom,")"))};var result=void 0;try{var exp=payload.args.full;result=Scripting.evalJavaScript("{"===exp[0]?"(".concat(exp,")"):exp)}catch(ex){return{v:_this16.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}if("object"!==_typeof(result)||null===result)return{v:_this16.error("expression must yield a supported collection or generic object (type: ".concat(null===result?"null":_typeof(result),")"))};if(result instanceof Array||result instanceof Set)result.forEach((function(val){return options.push({label:String(val),value:val})}));else if(result instanceof Map)result.forEach((function(val,key){return options.push({label:String(key),value:val})}));else{var oType=Util.toStringTag(result);if("Object"!==oType)return{v:_this16.error("expression must yield a supported collection or generic object (object type: ".concat(oType,")"))};Object.keys(result).forEach((function(key){return options.push({label:key,value:result[key]})}))}}();if("object"===_typeof(_ret))return _ret.v}}if(-1===selectedIdx)if(config.autoselect){var sameValueZero=Util.sameValueZero,curValue=State.getVar(varName),curValueIdx=options.findIndex((function(opt){return sameValueZero(opt.value,curValue)}));selectedIdx=-1===curValueIdx?0:curValueIdx}else selectedIdx=0;if("cycle"===this.name){var lastIdx=options.length-1;if(config.once&&selectedIdx===lastIdx)jQuery(this.output).wikiWithOptions({profile:"core"},options[selectedIdx].label);else{var cycleIdx=selectedIdx;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},options[selectedIdx].label).attr("id","".concat(this.name,"-").concat(varId)).addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:"button"},this.createShadowWrapper((function(){var $this=$(this);cycleIdx=(cycleIdx+1)%options.length,State.setVar(varName,options[cycleIdx].value),$this.empty().wikiWithOptions({profile:"core"},options[cycleIdx].label),config.once&&cycleIdx===lastIdx&&$this.off().contents().unwrap()}))).appendTo(this.output)}}else{var $select=jQuery(document.createElement("select"));options.forEach((function(opt,i){jQuery(document.createElement("option")).val(i).text(opt.label).appendTo($select)})),$select.attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),tabindex:0}).addClass("macro-".concat(this.name)).val(selectedIdx).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,options[Number(this.value)].value)}))).appendTo(this.output)}State.setVar(varName,options[selectedIdx].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this17=this;if(0===this.args.length)return this.error("no link text specified");var $link=jQuery(document.createElement("a")),$insert=jQuery(document.createElement("span")),transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]);$link.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-".concat(this.name)).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper((function(){if("linkreplace"===_this17.name?$link.remove():$link.wrap('<span class="macro-'.concat(_this17.name,'"></span>')).replaceWith((function(){return $link.html()})),""!==_this17.payload[0].contents){var frag=document.createDocumentFragment();new Wikifier(frag,_this17.payload[0].contents),$insert.append(frag)}transition&&setTimeout((function(){return $insert.removeClass("macro-".concat(_this17.name,"-in"))}),Engine.minDomActionDelay)}))).appendTo(this.output),$insert.addClass("macro-".concat(this.name,"-insert")),transition&&$insert.addClass("macro-".concat(this.name,"-in")),"linkprepend"===this.name?$insert.insertBefore($link):$insert.insertAfter($link)}}),Macro.add(["numberbox","textbox"],{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var asNumber="numberbox"===this.name,defaultValue=asNumber?Number(this.args[1]):this.args[1];if(asNumber&&Number.isNaN(defaultValue))return this.error('default value "'.concat(this.args[1],'" is neither a number nor can it be parsed into a number'));var passage,varId=Util.slugify(varName),el=document.createElement("input"),autofocus=!1;this.args.length>3?(passage=this.args[2],autofocus="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?autofocus=!0:passage=this.args[2]),"object"===_typeof(passage)&&(passage=passage.link),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:asNumber?"number":"text",inputmode:asNumber?"decimal":"text",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,asNumber?Number(this.value):this.value)}))).on("keypress.macros",this.createShadowWrapper((function(ev){13===ev.which&&(ev.preventDefault(),State.setVar(varName,asNumber?Number(this.value):this.value),null!=passage&&Engine.play(passage))}))).appendTo(this.output),asNumber&&(el.step="any"),State.setVar(varName,defaultValue),el.value=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),checkValue=this.args[1],el=document.createElement("input");switch(TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(varId)||(TempState[this.name][varId]=0),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId,"-").concat(TempState[this.name][varId]++),name:"".concat(this.name,"-").concat(varId),type:"radio",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){this.checked&&State.setVar(varName,checkValue)}))).appendTo(this.output),this.args[2]){case"autocheck":State.getVar(varName)===checkValue&&(el.checked=!0);break;case"checked":el.checked=!0,State.setVar(varName,checkValue)}}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var varId=Util.slugify(varName),defaultValue=this.args[1],autofocus="autofocus"===this.args[2],el=document.createElement("textarea");jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),rows:4,tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.value)}))).appendTo(this.output),State.setVar(varName,defaultValue),el.textContent=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var $list=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),i=0;i<this.args.length;++i){var passage=void 0,text=void 0,$image=void 0,setFn=void 0;if("object"===_typeof(this.args[i])?this.args[i].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[i].source),this.args[i].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[i].passage),this.args[i].hasOwnProperty("title")&&$image.attr("title",this.args[i].title),this.args[i].hasOwnProperty("align")&&$image.attr("align",this.args[i].align),passage=this.args[i].link,setFn=this.args[i].setFn):(text=this.args[i].text,passage=this.args[i].link,setFn=this.args[i].setFn):text=passage=this.args[i],!(State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(passage)&&State.variables["#actions"][passage])){var $link=jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo($list),passage,null,function(passage,fn){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][passage]=!0,"function"==typeof fn&&fn()}}(passage,setFn))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text));$image&&$link.addClass("link-image")}}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var passage,text,$image,$link,momentIndex=-1;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(passage=this.args[0].link)):(1===this.args[0].count||(text=this.args[0].text),passage=this.args[0].link):1===this.args.length&&(text=this.args[0])),null==passage){for(var i=State.length-2;i>=0;--i)if(State.history[i].title!==State.passage){momentIndex=i,passage=State.history[i].title;break}if(null==passage&&"return"===this.name)for(var _i6=State.expired.length-1;_i6>=0;--_i6)if(State.expired[_i6]!==State.passage){passage=State.expired[_i6];break}}else{if(!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));if("back"===this.name){for(var _i7=State.length-2;_i7>=0;--_i7)if(State.history[_i7].title===passage){momentIndex=_i7;break}if(-1===momentIndex)return this.error('cannot find passage "'.concat(passage,'" in the current story history'))}}if(null==passage)return this.error("cannot find passage");"back"!==this.name||-1!==momentIndex?($link=jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(passage)}:function(){return Engine.goTo(momentIndex)}),$image&&$link.addClass("link-image")):$link=jQuery(document.createElement("span")).addClass("link-disabled"),$link.addClass("macro-".concat(this.name)).append($image||document.createTextNode(text||L10n.get("macro".concat(this.name.toUpperFirst(),"Text")))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var passage,text,$image,setFn,$link,choiceId=State.passage;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link,setFn=this.args[0].setFn):(text=this.args[0].text,passage=this.args[0].link,setFn=this.args[0].setFn):text=passage=this.args[0]:(passage=this.args[0],text=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(choiceId)&&State.variables["#choice"][choiceId])return $link=jQuery(document.createElement("span")).addClass("link-disabled macro-".concat(this.name)).attr("tabindex",-1).append($image||document.createTextNode(text)).appendTo(this.output),void($image&&$link.addClass("link-image"));$link=jQuery(Wikifier.createInternalLink(this.output,passage,null,(function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][choiceId]=!0,"function"==typeof setFn&&setFn()}))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text)),$image&&$link.addClass("link-image")}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("selector"),this.args.length<2&&errors.push("class names"),this.error("no ".concat(errors.join(" or ")," specified"))}var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));switch(this.name){case"addclass":$targets.addClass(this.args[1].trim());break;case"toggleclass":$targets.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));this.args.length>1?$targets.removeClass(this.args[1].trim()):$targets.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));jQuery(this.output).append($targets.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this18=this;if(0===this.args.length)return this.error("no selector specified");var $insert,$targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));if(""!==this.payload[0].contents)switch(this.args.length>1&&this.self.t8nRe.test(this.args[1])?(($insert=jQuery(document.createElement("span"))).addClass("macro-".concat(this.name,"-insert macro-").concat(this.name,"-in")),setTimeout((function(){return $insert.removeClass("macro-".concat(_this18.name,"-in"))}),Engine.minDomActionDelay)):$insert=jQuery(document.createDocumentFragment()),$insert.wiki(this.payload[0].contents),this.name){case"replace":$targets.empty();case"append":$targets.append($insert);break;case"prepend":$targets.prepend($insert)}else"replace"===this.name&&$targets.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));$targets.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var errorOnePlaybackAction=function(cur,prev){return'only one playback action allowed per invocation, "'.concat(cur,'" cannot be combined with "').concat(prev,'"')};Macro.add("audio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track and/or group IDs"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var selected;try{selected=SimpleAudio.select(this.args[0])}catch(ex){return this.error(ex.message)}for(var action,fadeTo,loop,mute,passage,time,volume,args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors=[];return args.length<1&&_errors.push("seconds"),args.length<2&&_errors.push("level"),this.error("fadeoverto missing required ".concat(_errors.join(" and ")," value").concat(_errors.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"time":if(0===args.length)return this.error("time missing required seconds value");if(raw=args.shift(),time=Number.parseFloat(raw),Number.isNaN(time)||!Number.isFinite(time))return this.error("cannot parse time: ".concat(raw));break;case"loop":case"unloop":loop="loop"===arg;break;case"goto":if(0===args.length)return this.error("goto missing required passage title");if(raw=args.shift(),passage="object"===_typeof(raw)?raw.link:raw,!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));break;default:return this.error("unknown action: ".concat(arg))}}try{if(null!=volume&&selected.volume(volume),null!=time&&selected.time(time),null!=mute&&selected.mute(mute),null!=loop&&selected.loop(loop),null!=passage){var nsEnded="ended.macros.macro-".concat(this.name,"_goto");selected.off(nsEnded).one(nsEnded,(function(){selected.off(nsEnded),Engine.play(passage)}))}switch(action){case"fade":selected.fade(fadeOver,fadeTo);break;case"load":selected.load();break;case"pause":selected.pause();break;case"play":selected.playWhenAllowed();break;case"stop":selected.stop();break;case"unload":selected.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("cacheaudio",{handler:function(){var _this19=this;if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track ID"),this.args.length<2&&errors.push("sources"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim(),oldFmtRe=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(id,this.args.slice(1).map((function(source){if(oldFmtRe.test(source)){if(Config.debug)return _this19.error('track ID "'.concat(id,'": format specifier migration required, "format:formatId;" → "formatId|"'));source=source.replace(oldFmtRe,"$1|")}return source})))}catch(ex){return this.error(ex.message)}if(Config.debug&&!SimpleAudio.tracks.get(id).hasSource())return this.error('track ID "'.concat(id,'": no supported audio sources found'));Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var groupId=String(this.args[0]).trim(),trackIds=[],i=1,len=this.payload.length;i<len;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");trackIds.push(String(this.payload[i].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(groupId,trackIds)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var playlist=Macro.get("playlist");if(null!==playlist.from&&"createplaylist"!==playlist.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var listId=String(this.args[0]).trim(),trackObjs=[],i=1,len=this.payload.length;i<len;++i){if(0===this.payload[i].args.length)return this.error("no track ID specified");for(var trackObj={id:String(this.payload[i].args[0]).trim()},args=this.payload[i].args.slice(1);args.length>0;){var arg=args.shift(),raw=void 0,parsed=void 0;switch(arg){case"copy":case"own":trackObj.own=!0;break;case"rate":args.length>0&&args.shift();break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),parsed=Number.parseFloat(raw),Number.isNaN(parsed)||!Number.isFinite(parsed))return this.error("cannot parse volume: ".concat(raw));trackObj.volume=parsed;break;default:return this.error("unknown action: ".concat(arg))}}trackObjs.push(trackObj),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(listId,trackObjs)}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="createplaylist"),Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var action,mute,muteOnHide,volume,args=this.args.slice(0);args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"mute":case"unmute":mute="mute"===arg;break;case"muteonhide":case"nomuteonhide":muteOnHide="muteonhide"===arg;break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=mute&&SimpleAudio.mute(mute),null!=muteOnHide&&SimpleAudio.muteOnHidden(muteOnHide),null!=volume&&SimpleAudio.volume(volume),action){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("playlist",{from:null,handler:function(){var list,args,action,from=this.self.from;if(null===from)return this.error("no playlists have been created");if("createplaylist"===from){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("list ID"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));list=SimpleAudio.lists.get(id),args=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");list=SimpleAudio.lists.get("setplaylist"),args=this.args.slice(0)}for(var fadeTo,loop,mute,shuffle,volume,fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors2=[];return args.length<1&&_errors2.push("seconds"),args.length<2&&_errors2.push("level"),this.error("fadeoverto missing required ".concat(_errors2.join(" and ")," value").concat(_errors2.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"loop":case"unloop":loop="loop"===arg;break;case"shuffle":case"unshuffle":shuffle="shuffle"===arg;break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=volume&&list.volume(volume),null!=mute&&list.mute(mute),null!=loop&&list.loop(loop),null!=shuffle&&list.shuffle(shuffle),action){case"fade":list.fade(fadeOver,fadeTo);break;case"load":list.load();break;case"pause":list.pause();break;case"play":list.playWhenAllowed();break;case"skip":list.skip();break;case"stop":list.stop();break;case"unload":list.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.groups.has(id))return this.error('group "'.concat(id,'" does not exist'));SimpleAudio.groups.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));SimpleAudio.lists.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var playlist=Macro.get("playlist");if(null!==playlist.from&&"setplaylist"!==playlist.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("done",{skipArgs:!0,tags:null,handler:function(){var contents=this.payload[0].contents.trim();""!==contents&&setTimeout(this.createShadowWrapper((function(){return $.wiki(contents)})),Engine.minDomActionDelay)}}),Macro.add("goto",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?void setTimeout((function(){return Engine.play(passage)}),Engine.minDomActionDelay):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){var delay,_this20=this;if(0===this.args.length)return this.error("no time value specified");try{delay=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper((function(){var frag=document.createDocumentFragment();new Wikifier(frag,_this20.payload[0].contents);var $output=$wrapper;transition&&($output=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-repeat-in")}),Engine.minDomActionDelay)})),delay)},registerInterval:function(callback,delay){var _this21=this;if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null;timerId=setInterval((function(){if(State.passage!==passage||State.turns!==turn)return clearInterval(timerId),void timers.delete(timerId);var timerIdCache;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(timerIdCache=TempState.repeatTimerId),TempState.repeatTimerId=timerId,callback.call(_this21)}finally{void 0!==timerIdCache?TempState.repeatTimerId=timerIdCache:delete TempState.repeatTimerId,TempState.break=null}}),delay),timers.add(timerId),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearInterval(timerId)})),timers.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var timers=Macro.get("repeat").timers,timerId=TempState.repeatTimerId;clearInterval(timerId),timers.delete(timerId),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var i,items=[];try{items.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(ex){return this.error("".concat(ex.message," in <<timed>>"))}if(this.payload.length>1)try{var len;for(i=1,len=this.payload.length;i<len;++i)items.push({name:this.payload[i].name,source:this.payload[i].source,delay:0===this.payload[i].args.length?items[items.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[i].args[0])),content:this.payload[i].contents})}catch(ex){return this.error("".concat(ex.message," in <<next>> (#").concat(i,")"))}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper((function(item){var frag=document.createDocumentFragment();new Wikifier(frag,item.content);var $output=$wrapper;Config.debug&&"next"===item.name&&($output=jQuery(new DebugView($output[0],"macro",item.name,item.source).output)),transition&&($output=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-timed-in")}),Engine.minDomActionDelay)})),items)},registerTimeout:function(callback,items){if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null,nextItem=items.shift();timerId=setTimeout((function worker(){if(timers.delete(timerId),State.passage===passage&&State.turns===turn){var curItem=nextItem;null!=(nextItem=items.shift())&&(timerId=setTimeout(worker,nextItem.delay),timers.add(timerId)),callback.call(this,curItem)}}),nextItem.delay),timers.add(timerId),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearTimeout(timerId)})),timers.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var widgetCode,widgetName=this.args[0],isNonVoid=this.args.length>1&&"container"===this.args[1];if(Macro.has(widgetName)){if(!Macro.get(widgetName).isWidget)return this.error('cannot clobber existing macro "'.concat(widgetName,'"'));Macro.delete(widgetName)}try{var widgetDef={isWidget:!0,handler:(widgetCode=this.payload[0].contents,function(){var shadowStore={};State.temporary.hasOwnProperty("args")&&(shadowStore._args=State.temporary.args),State.temporary.args=_toConsumableArray(this.args),State.temporary.args.raw=this.args.raw,State.temporary.args.full=this.args.full,this.addShadow("_args"),isNonVoid&&(State.temporary.hasOwnProperty("contents")&&(shadowStore._contents=State.temporary.contents),State.temporary.contents=this.payload[0].contents,this.addShadow("_contents")),State.variables.hasOwnProperty("args")&&(shadowStore.$args=State.variables.args),State.variables.args=State.temporary.args,this.addShadow("$args");try{var resFrag=document.createDocumentFragment(),errList=[];if(new Wikifier(resFrag,widgetCode),Array.from(resFrag.querySelectorAll(".error")).forEach((function(errEl){errList.push(errEl.textContent)})),0!==errList.length)return this.error("error".concat(errList.length>1?"s":""," within widget code (").concat(errList.join("; "),")"));this.output.appendChild(resFrag)}catch(ex){return this.error("cannot execute widget: ".concat(ex.message))}finally{shadowStore.hasOwnProperty("_args")?State.temporary.args=shadowStore._args:delete State.temporary.args,isNonVoid&&(shadowStore.hasOwnProperty("_contents")?State.temporary.contents=shadowStore._contents:delete State.temporary.contents),shadowStore.hasOwnProperty("$args")?State.variables.args=shadowStore.$args:delete State.variables.args}})};isNonVoid&&(widgetDef.tags=[]),Macro.add(widgetName,widgetDef),Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error('cannot create widget macro "'.concat(widgetName,'": ').concat(ex.message))}}})}();var Dialog=function(){var _$overlay=null,_$dialog=null,_$dialogTitle=null,_$dialogBody=null,_lastActive=null,_scrollbarWidth=0,_dialogObserver=null;function dialogClose(ev){return _$dialogBody.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),_dialogObserver?(_dialogObserver.disconnect(),_dialogObserver=null):_$dialogBody.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),_$dialog.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),_$overlay.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),_$dialogTitle.empty(),_$dialogBody.empty().removeClass(),null!==_lastActive&&(jQuery(_lastActive).focus(),_lastActive=null),ev&&ev.data&&"function"==typeof ev.data.closeFn&&ev.data.closeFn(ev),_$dialogBody.trigger(":dialogclose"),_$dialogBody.trigger(":dialogclosed"),Dialog}function dialogIsOpen(classNames){return _$dialog.hasClass("open")&&(!classNames||classNames.splitOrEmpty(/\s+/).every((function(cn){return _$dialogBody.hasClass(cn)})))}function dialogOpen(options,closeFn){_$dialogBody.trigger(":dialogopening");var top=jQuery.extend({top:50},options).top;return dialogIsOpen()||(_lastActive=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),_$overlay.addClass("open"),null!==_$dialogBody[0].querySelector("img")&&_$dialogBody.imagesLoaded().always((function(){return _resizeHandler({data:{top:top}})})),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),_$dialog.css(_calcPosition(top)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),Has.mutationObserver?(_dialogObserver=new MutationObserver((function(mutations){for(var i=0;i<mutations.length;++i)if("childList"===mutations[i].type){_resizeHandler({data:{top:top}});break}}))).observe(_$dialogBody[0],{childList:!0,subtree:!0}):_$dialogBody.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),jQuery(document).one("click.dialog-close",".ui-close",{closeFn:closeFn},(function(ev){dialogClose(ev)})).one("keypress.dialog-close",".ui-close",(function(ev){13!==ev.which&&32!==ev.which||jQuery(this).trigger("click")})),_$dialogBody.trigger(":dialogopen"),_$dialogBody.trigger(":dialogopened"),Dialog}function _calcPosition(topPos){var top=null!=topPos?topPos:50,$parent=jQuery(window),dialogPos={left:"",right:"",top:"",bottom:""};_$dialog.css(dialogPos);var horzSpace=$parent.width()-_$dialog.outerWidth(!0)-1,vertSpace=$parent.height()-_$dialog.outerHeight(!0)-1;return horzSpace<=32+_scrollbarWidth&&(vertSpace-=_scrollbarWidth),vertSpace<=32+_scrollbarWidth&&(horzSpace-=_scrollbarWidth),dialogPos.left=dialogPos.right=horzSpace<=32?16:horzSpace/2>>0,dialogPos.top=vertSpace<=32?dialogPos.bottom=16:vertSpace/2>top?top:dialogPos.bottom=vertSpace/2>>0,Object.keys(dialogPos).forEach((function(key){""!==dialogPos[key]&&(dialogPos[key]+="px")})),dialogPos}function _resizeHandler(ev){var top=ev&&ev.data&&void 0!==ev.data.top?ev.data.top:50;"block"===_$dialog.css("display")&&(_$dialog.css({display:"none"}),_$dialog.css(jQuery.extend({display:""},_calcPosition(top))))}return Object.freeze(Object.defineProperties({},{append:{value:function(){var _$dialogBody2;return(_$dialogBody2=_$dialogBody).append.apply(_$dialogBody2,arguments),Dialog}},body:{value:function(){return _$dialogBody.get(0)}},close:{value:dialogClose},init:{value:function(){if(!document.getElementById("ui-dialog")){_scrollbarWidth=function(){var scrollbarWidth;try{var inner=document.createElement("p"),outer=document.createElement("div");inner.style.width="100%",inner.style.height="200px",outer.style.position="absolute",outer.style.left="0px",outer.style.top="0px",outer.style.width="100px",outer.style.height="100px",outer.style.visibility="hidden",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="auto";var w2=inner.offsetWidth;w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),scrollbarWidth=w1-w2}catch(ex){}return scrollbarWidth||17}();var $elems=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+'<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'.concat(L10n.get("close"),'"></button>')+'</div><div id="ui-dialog-body"></div></div>');_$overlay=jQuery($elems.find("#ui-overlay").get(0)),_$dialog=jQuery($elems.find("#ui-dialog").get(0)),_$dialogTitle=jQuery($elems.find("#ui-dialog-title").get(0)),_$dialogBody=jQuery($elems.find("#ui-dialog-body").get(0)),$elems.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:dialogIsOpen},open:{value:dialogOpen},resize:{value:function(data){return _resizeHandler("object"===_typeof(data)?{data:data}:undefined)}},setup:{value:function(title,classNames){return _$dialogBody.empty().removeClass(),null!=classNames&&_$dialogBody.addClass(classNames),_$dialogTitle.empty().append((null!=title?String(title):"")||" "),_$dialogBody.get(0)}},wiki:{value:function(){var _$dialogBody3;return(_$dialogBody3=_$dialogBody).wiki.apply(_$dialogBody3,arguments),Dialog}},addClickHandler:{value:function(targets,options,startFn,doneFn,closeFn){return jQuery(targets).ariaClick((function(ev){ev.preventDefault(),"function"==typeof startFn&&startFn(ev),dialogOpen(options,closeFn),"function"==typeof doneFn&&doneFn(ev)}))}}}))}(),Engine=function(){var States=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),_initDebugViews=[],_state=States.Idle,_lastPlay=null,_outlinePatch=null,_updating=null;function engineGo(offset){var succeded=State.go(offset);return succeded&&engineShow(),succeded}function engineShow(){return enginePlay(State.passage,!0)}function enginePlay(title,noHistory){var passageReadyOutput,passageDoneOutput,passageTitle=title;if(_state=States.Playing,TempState={},State.clearTemporary(),"function"==typeof Config.navigation.override)try{var overrideTitle=Config.navigation.override(passageTitle);overrideTitle&&(passageTitle=overrideTitle)}catch(ex){}var passage=Story.get(passageTitle);if(jQuery.event.trigger({type:":passageinit",passage:passage}),Object.keys(prehistory).forEach((function(task){"function"==typeof prehistory[task]&&prehistory[task].call(passage,task)})),noHistory||State.create(passage.title),document.body.className&&(document.body.className=""),_lastPlay=Util.now(),Object.keys(predisplay).forEach((function(task){"function"==typeof predisplay[task]&&predisplay[task].call(passage,task)})),Story.has("PassageReady"))try{passageReadyOutput=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(ex){console.error(ex),Alert.error("PassageReady",ex.message)}_state=States.Rendering;var dataTags=passage.tags.length>0?passage.tags.join(" "):null,passageEl=document.createElement("div");jQuery(passageEl).attr({id:passage.domId,"data-passage":passage.title,"data-tags":dataTags}).addClass("passage ".concat(passage.className)),jQuery(document.body).attr("data-tags",dataTags).addClass(passage.className),jQuery(document.documentElement).attr("data-tags",dataTags),jQuery.event.trigger({type:":passagestart",content:passageEl,passage:passage}),Object.keys(prerender).forEach((function(task){"function"==typeof prerender[task]&&prerender[task].call(passage,passageEl,task)})),Story.has("PassageHeader")&&new Wikifier(passageEl,Story.get("PassageHeader").processText()),passageEl.appendChild(passage.render()),Story.has("PassageFooter")&&new Wikifier(passageEl,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:passageEl,passage:passage}),Object.keys(postrender).forEach((function(task){"function"==typeof postrender[task]&&postrender[task].call(passage,passageEl,task)}));var debugView,containerEl=document.getElementById("passages");if(containerEl.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?_toConsumableArray(containerEl.childNodes).forEach((function(outgoing){var $outgoing=jQuery(outgoing);if(outgoing.nodeType===Node.ELEMENT_NODE&&$outgoing.hasClass("passage")){if($outgoing.hasClass("passage-out"))return;$outgoing.attr({id:"out-".concat($outgoing.attr("id")),"aria-live":"off"}).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?$outgoing.on(Has.transitionEndEvent,(function(ev){ev.propertyName===Config.passages.transitionOut&&$outgoing.remove()})):setTimeout((function(){return $outgoing.remove()}),Math.max(40,Config.passages.transitionOut))}else $outgoing.remove()})):jQuery(containerEl).empty()),jQuery(passageEl).addClass("passage-in").appendTo(containerEl),setTimeout((function(){return jQuery(passageEl).removeClass("passage-in")}),40),Story.has("StoryDisplayTitle")?null===_updating&&Config.ui.updateStoryElements||setDisplayTitle(Story.get("StoryDisplayTitle").processText()):Config.passages.displayTitles&&passage.title!==Config.passages.start&&(document.title="".concat(passage.title," | ").concat(Story.title)),window.scroll(0,0),_state=States.Playing,Story.has("PassageDone"))try{passageDoneOutput=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(ex){console.error(ex),Alert.error("PassageDone",ex.message)}(jQuery.event.trigger({type:":passagedisplay",content:passageEl,passage:passage}),Object.keys(postdisplay).forEach((function(task){"function"==typeof postdisplay[task]&&postdisplay[task].call(passage,task)})),null!==_updating?_updating.forEach((function(pair){jQuery(pair.element).empty(),new Wikifier(pair.element,Story.get(pair.passage).processText().trim())})):Config.ui.updateStoryElements&&UIBar.update(),Config.debug)&&(null!=passageReadyOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),debugView.append(passageReadyOutput),jQuery(passageEl).prepend(debugView.output)),null!=passageDoneOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),debugView.append(passageDoneOutput),jQuery(passageEl).append(debugView.output)),1===State.turns&&_initDebugViews.length>0&&jQuery(passageEl).prepend(_initDebugViews));switch(jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"object":passage.tags.some((function(tag){return Config.saves.autosave.includes(tag)}))&&Save.autosave.save();break;case"function":Config.saves.autosave()&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",content:passageEl,passage:passage}),_state=States.Idle,_lastPlay=Util.now(),passageEl}function _hideOutlines(){_outlinePatch.set("*:focus{outline:none;}")}return Object.freeze(Object.defineProperties({},{States:{value:States},minDomActionDelay:{value:40},init:{value:function(){var _lastOutlineEvent;jQuery("#init-no-js,#init-lacking").remove(),function(){var $elems=jQuery(document.createDocumentFragment()),markup=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(markup){UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),$elems.append(markup);var $passages=$elems.find("#passages");if(0===$passages.length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');$passages.empty().not("[aria-live]").attr("aria-live","polite").end(),$elems.find("[data-init-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-init-passage" content attribute'));var passage=el.getAttribute("data-init-passage").trim();if(el.hasAttribute("data-passage"))throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> must not contain a "data-passage" content attribute'));if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(el).empty().wiki(Story.get(passage).processText().trim())}));var updating=[];$elems.find("[data-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-passage" content attribute'));var passage=el.getAttribute("data-passage").trim();if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&updating.push({passage:passage,element:el})})),updating.length>0&&(_updating=updating),Config.ui.updateStoryElements=!1}else $elems.append('<div id="story" role="main"><div id="passages" aria-live="polite"></div></div>');$elems.insertBefore("body>script#script-sugarcube")}(),_outlinePatch=new StyleWrapper(jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)),_hideOutlines(),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",(function(ev){ev.type!==_lastOutlineEvent&&(_lastOutlineEvent=ev.type,"keydown"===ev.type?_outlinePatch.clear():_hideOutlines())}))}},start:{value:function(){if(Story.getAllInit().forEach((function(passage){try{var debugBuffer=Wikifier.wikifyEval(passage.text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","".concat(passage.title," [init-tagged]"),"".concat(passage.title," [init-tagged]"));debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("".concat(passage.title," [init-tagged]"),"object"===_typeof(ex)?ex.message:ex)}})),Story.has("StoryInit"))try{var debugBuffer=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("StoryInit","object"===_typeof(ex)?ex.message:ex)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'.concat(Config.passages.start,'") not found'));if(jQuery(document.documentElement).focus(),State.restore())engineShow();else{var loadStart=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(loadStart=!Save.autosave.load())}loadStart&&enginePlay(Config.passages.start)}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}},state:{get:function(){return _state}},isIdle:{value:function(){return _state===States.Idle}},isPlaying:{value:function(){return _state!==States.Idle}},isRendering:{value:function(){return _state===States.Rendering}},lastPlay:{get:function(){return _lastPlay}},goTo:{value:function(idx){var succeded=State.goTo(idx);return succeded&&engineShow(),succeded}},go:{value:engineGo},backward:{value:function(){return engineGo(-1)}},forward:{value:function(){return engineGo(1)}},show:{value:engineShow},play:{value:enginePlay},display:{value:function(title,link,option){var noHistory=!1;switch(option){case undefined:break;case"replace":case"back":noHistory=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'.concat(option,'"; please notify the developer'))}enginePlay(title,noHistory)}}}))}(),Passage=(_tagsToSkip=/^(?:debug|nobr|passage|widget|twine\..*)$/i,function(){function Passage(title,el){var _this22=this;_classCallCheck(this,Passage),Object.defineProperties(this,{title:{value:Util.unescape(title)},element:{value:el||null},tags:{value:Object.freeze(el&&el.hasAttribute("tags")?Array.from(new Set(el.getAttribute("tags").trim().splitOrEmpty(/\s+/))):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-".concat(Util.slugify(this.title))},classes:{value:Object.freeze(0===this.tags.length?[]:_this22.tags.filter((function(tag){return!_tagsToSkip.test(tag)})).map((function(tag){return Util.slugify(tag)})))}})}return _createClass(Passage,[{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var passage=Util.escapeMarkup(this.title),mesg="".concat(L10n.get("errorTitle"),": ").concat(L10n.get("errorNonexistentPassage",{passage:passage}));return'<div class="error-view"><span class="error">'.concat(mesg,"</span></div>")}return this.element.textContent.replace(/\r/g,"")}},{key:"description",value:function(){var descriptions=Config.passages.descriptions;switch(_typeof(descriptions)){case"boolean":if(descriptions)return this.title;break;case"object":if(descriptions.hasOwnProperty(this.title))return descriptions[this.title];break;case"function":var result=descriptions.call(this);if(result)return result}return null===this._excerpt&&(this._excerpt=Passage.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img[".concat(this.text,"]]");var processed=this.text;return Config.passages.onProcess&&(processed=Config.passages.onProcess.call(null,{title:this.title,tags:this.tags,text:processed})),(Config.passages.nobr||this.tags.includes("nobr"))&&(processed=processed.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),processed}},{key:"render",value:function(options){var frag=document.createDocumentFragment();return new Wikifier(frag,this.processText(),options),this._excerpt=Passage.getExcerptFromNode(frag),frag}}],[{key:"getExcerptFromNode",value:function(node,count){if(!node.hasChildNodes())return"";var excerpt=node.textContent.trim();if(""!==excerpt){var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})"));excerpt=excerpt.replace(/\s+/g," ").match(excerptRe)}return excerpt?"".concat(excerpt[1],"…"):"…"}},{key:"getExcerptFromText",value:function(text,count){if(""===text)return"";var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})")),excerpt=text.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(excerptRe);return excerpt?"".concat(excerpt[1],"…"):"…"}}]),Passage}()),_tagsToSkip,Save=function(){var Type=Util.toEnum({Autosave:"autosave",Disk:"disk",Serialize:"serialize",Slot:"slot"}),_slotsUBound=-1,_onLoadHandlers=new Set,_onSaveHandlers=new Set;function savesObjGet(){var saves=storage.get("saves");return null===saves?{autosave:null,slots:_appendSlots([],Config.saves.slots)}:saves}function savesObjClear(){return storage.delete("saves"),!0}function autosaveOk(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function slotsOk(){return"cookie"!==storage.name&&-1!==_slotsUBound}function slotsCount(){if(!slotsOk())return 0;for(var saves=savesObjGet(),count=0,i=0,iend=saves.slots.length;i<iend;++i)null!==saves.slots[i]&&++count;return count}function _appendSlots(array,num){for(var i=0;i<num;++i)array.push(null);return array}function _savesObjIsEmpty(saves){for(var slots=saves.slots,isSlotsEmpty=!0,i=0,iend=slots.length;i<iend;++i)if(null!==slots[i]){isSlotsEmpty=!1;break}return null===saves.autosave&&isSlotsEmpty}function _savesObjSave(saves){return _savesObjIsEmpty(saves)?(storage.delete("saves"),!0):storage.set("saves",saves)}function _savesObjUpdate(saveObj){if(null==saveObj||"object"!==_typeof(saveObj))return!1;var updated=!1;return saveObj.hasOwnProperty("state")&&saveObj.state.hasOwnProperty("delta")&&saveObj.state.hasOwnProperty("index")||(saveObj.hasOwnProperty("data")?(delete saveObj.mode,saveObj.state={delta:State.deltaEncode(saveObj.data)},delete saveObj.data):saveObj.state.hasOwnProperty("delta")?saveObj.state.hasOwnProperty("index")||delete saveObj.state.mode:(delete saveObj.state.mode,saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history),saveObj.state.index=saveObj.state.delta.length-1,updated=!0),saveObj.state.hasOwnProperty("rseed")&&(saveObj.state.seed=saveObj.state.rseed,delete saveObj.state.rseed,saveObj.state.delta.forEach((function(_,i,delta){delta[i].hasOwnProperty("rcount")&&(delta[i].pull=delta[i].rcount,delete delta[i].rcount)})),updated=!0),(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired||saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired&&delete saveObj.state.expired,(saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.expired=[],saveObj.state.hasOwnProperty("unique")&&(saveObj.state.expired.push(saveObj.state.unique),delete saveObj.state.unique),saveObj.state.hasOwnProperty("last")&&(saveObj.state.expired.push(saveObj.state.last),delete saveObj.state.last)),updated=!0),updated}function _marshal(supplemental,details){if(null!=supplemental&&"object"!==_typeof(supplemental))throw new Error("supplemental parameter must be an object");var saveObj=Object.assign({},supplemental,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(saveObj.version=Config.saves.version),_onSaveHandlers.forEach((function(fn){return fn(saveObj,details)})),saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history,saveObj}function _unmarshal(saveObj){try{if(_savesObjUpdate(saveObj),!saveObj||!saveObj.hasOwnProperty("id")||!saveObj.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(saveObj.state.history=State.deltaDecode(saveObj.state.delta),delete saveObj.state.delta,_onLoadHandlers.forEach((function(fn){return fn(saveObj)})),saveObj.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(saveObj.state),Engine.show()}catch(ex){return UI.alert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("aborting"),".")),!1}return!0}return Object.freeze(Object.defineProperties({},{init:{value:function(){if("cookie"===storage.name)return savesObjClear(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.slots=0,!1;var saves=savesObjGet(),updated=!1;Array.isArray(saves)&&(saves={autosave:null,slots:saves},updated=!0),Config.saves.slots!==saves.slots.length&&(Config.saves.slots<saves.slots.length?(saves.slots.reverse(),saves.slots=saves.slots.filter((function(val){return!(null===val&&this.count>0)||(--this.count,!1)}),{count:saves.slots.length-Config.saves.slots}),saves.slots.reverse()):Config.saves.slots>saves.slots.length&&_appendSlots(saves.slots,Config.saves.slots-saves.slots.length),updated=!0),_savesObjUpdate(saves.autosave)&&(updated=!0);for(var i=0;i<saves.slots.length;++i)_savesObjUpdate(saves.slots[i])&&(updated=!0);return _savesObjIsEmpty(saves)&&(storage.delete("saves"),updated=!1),updated&&_savesObjSave(saves),_slotsUBound=saves.slots.length-1,!0}},get:{value:savesObjGet},clear:{value:savesObjClear},ok:{value:function(){return autosaveOk()||slotsOk()}},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:autosaveOk},has:{value:function(){return null!==savesObjGet().autosave}},get:{value:function(){return savesObjGet().autosave}},load:{value:function(){var saves=savesObjGet();return null!==saves.autosave&&_unmarshal(saves.autosave)}},save:{value:function(title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var saves=savesObjGet(),supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.autosave=_marshal(supplemental,{type:Type.Autosave}),_savesObjSave(saves)}},delete:{value:function(){var saves=savesObjGet();return saves.autosave=null,_savesObjSave(saves)}}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:slotsOk},length:{get:function(){return _slotsUBound+1}},isEmpty:{value:function(){return 0===slotsCount()}},count:{value:slotsCount},has:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])}},get:{value:function(slot){if(slot<0||slot>_slotsUBound)return null;var saves=savesObjGet();return slot>=saves.slots.length?null:saves.slots[slot]}},load:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])&&_unmarshal(saves.slots[slot])}},save:{value:function(slot,title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),!1;if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();if(slot>=saves.slots.length)return!1;var supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.slots[slot]=_marshal(supplemental,{type:Type.Slot}),_savesObjSave(saves)}},delete:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length)&&(saves.slots[slot]=null,_savesObjSave(saves))}}}))},export:{value:function(filename,metadata){if("function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed()){var str,now,MM,DD,hh,mm,ss,baseName=null==filename?Story.domId:(str=filename,Util.sanitizeFilename(str).replace(/[_\s\u2013\u2014-]+/g,"-")),saveName="".concat(baseName,"-").concat((now=new Date,MM=now.getMonth()+1,DD=now.getDate(),hh=now.getHours(),mm=now.getMinutes(),ss=now.getSeconds(),MM<10&&(MM="0".concat(MM)),DD<10&&(DD="0".concat(DD)),hh<10&&(hh="0".concat(hh)),mm<10&&(mm="0".concat(mm)),ss<10&&(ss="0".concat(ss)),"".concat(now.getFullYear()).concat(MM).concat(DD,"-").concat(hh).concat(mm).concat(ss)),".save"),supplemental=null==metadata?{}:{metadata:metadata},saveObj=LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Disk})));saveAs(new Blob([saveObj],{type:"text/plain;charset=UTF-8"}),saveName)}else Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed"))}},import:{value:function(event){var file=event.target.files[0],reader=new FileReader;jQuery(reader).one("loadend",(function(){if(reader.error){var ex=reader.error;UI.alert("".concat(L10n.get("errorSaveDiskLoadFailed").toUpperFirst()," (").concat(ex.name,": ").concat(ex.message,").</p><p>").concat(L10n.get("aborting"),"."))}else{var saveObj;try{saveObj=JSON.parse(/\.json$/i.test(file.name)||/^\{/.test(reader.result)?reader.result:LZString.decompressFromBase64(reader.result))}catch(ex){}_unmarshal(saveObj)}})),reader.readAsText(file)}},serialize:{value:function(metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),null;var supplemental=null==metadata?{}:{metadata:metadata};return LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Serialize})))}},deserialize:{value:function(base64Str){var saveObj;try{saveObj=JSON.parse(LZString.decompressFromBase64(base64Str))}catch(ex){}return _unmarshal(saveObj)?saveObj.metadata:null}},onLoad:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onLoad.add handler parameter must be a function (received: ".concat(valueType,")"));_onLoadHandlers.add(handler)}},clear:{value:function(){_onLoadHandlers.clear()}},delete:{value:function(handler){return _onLoadHandlers.delete(handler)}},size:{get:function(){return _onLoadHandlers.size}}}))},onSave:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onSave.add handler parameter must be a function (received: ".concat(valueType,")"));_onSaveHandlers.add(handler)}},clear:{value:function(){_onSaveHandlers.clear()}},delete:{value:function(handler){return _onSaveHandlers.delete(handler)}},size:{get:function(){return _onSaveHandlers.size}}}))}}))}(),Setting=function(){var Types=Util.toEnum({Header:0,Toggle:1,List:2,Range:3}),_definitions=[];function settingsCreate(){return Object.create(null)}function settingsSave(){var savedSettings=settingsCreate();return Object.keys(settings).length>0&&_definitions.filter((function(def){return def.type!==Types.Header&&settings[def.name]!==def.default})).forEach((function(def){return savedSettings[def.name]=settings[def.name]})),0===Object.keys(savedSettings).length?(storage.delete("settings"),!0):storage.set("settings",savedSettings)}function settingsLoad(){var defaultSettings=settingsCreate(),loadedSettings=storage.get("settings")||settingsCreate();_definitions.filter((function(def){return def.type!==Types.Header})).forEach((function(def){return defaultSettings[def.name]=def.default})),window.SugarCube.settings=settings=Object.assign(defaultSettings,loadedSettings)}function settingsClear(){return window.SugarCube.settings=settings=settingsCreate(),storage.delete("settings"),!0}function definitionsAdd(type,name,def){if(arguments.length<3){var errors=[];throw arguments.length<1&&errors.push("type"),arguments.length<2&&errors.push("name"),arguments.length<3&&errors.push("definition"),new Error("missing parameters, no ".concat(errors.join(" or ")," specified"))}if("object"!==_typeof(def))throw new TypeError("definition parameter must be an object");if(definitionsHas(name))throw new Error('cannot clobber existing setting "'.concat(name,'"'));var str,pos,definition={type:type,name:name,label:"string"==typeof def.label?def.label.trim():""};if("string"==typeof def.desc){var desc=def.desc.trim();""!==desc&&(definition.desc=desc)}switch(type){case Types.Header:break;case Types.Toggle:definition.default=!!def.default;break;case Types.List:if(!def.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(def.list))throw new TypeError("list must be an array");if(0===def.list.length)throw new Error("list must not be empty");if(definition.list=Object.freeze(def.list),null==def.default)definition.default=def.list[0];else{var defaultIndex=def.list.indexOf(def.default);if(-1===defaultIndex)throw new Error("list does not contain default");definition.default=def.list[defaultIndex]}break;case Types.Range:if(!def.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof def.min||Number.isNaN(def.min)||!Number.isFinite(def.min))throw new TypeError("min must be a finite number");if(!def.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof def.max||Number.isNaN(def.max)||!Number.isFinite(def.max))throw new TypeError("max must be a finite number");if(!def.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof def.step||Number.isNaN(def.step)||!Number.isFinite(def.step)||def.step<=0)throw new TypeError("step must be a finite number greater than zero");var stepValidate=function(value){if(fracDigits>0){var ma=Number("".concat(def.min,"e").concat(fracDigits)),sa=Number("".concat(def.step,"e").concat(fracDigits)),_va=Number("".concat(value,"e").concat(fracDigits))-ma;return Number("".concat(_va-_va%sa+ma,"e-").concat(fracDigits))}var va=value-def.min;return va-va%def.step+def.min},fracDigits=(str=String(def.step),-1===(pos=str.lastIndexOf("."))?0:str.length-pos-1);if(stepValidate(def.max)!==def.max)throw new RangeError("max (".concat(def.max,") is not a multiple of the step (").concat(def.step,") plus the min (").concat(def.min,")"));if(definition.max=def.max,definition.min=def.min,definition.step=def.step,null==def.default)definition.default=def.max;else{if("number"!=typeof def.default||Number.isNaN(def.default)||!Number.isFinite(def.default))throw new TypeError("default must be a finite number");if(def.default<def.min)throw new RangeError("default (".concat(def.default,") is less than min (").concat(def.min,")"));if(def.default>def.max)throw new RangeError("default (".concat(def.default,") is greater than max (").concat(def.max,")"));definition.default=def.default}break;default:throw new Error("unknown Setting type: ".concat(type))}"function"==typeof def.onInit&&(definition.onInit=Object.freeze(def.onInit)),"function"==typeof def.onChange&&(definition.onChange=Object.freeze(def.onChange)),_definitions.push(Object.freeze(definition))}function definitionsHas(name){return _definitions.some((function(definition){return definition.name===name}))}function definitionsGet(name){return _definitions.find((function(definition){return definition.name===name}))}return Object.freeze(Object.defineProperties({},{Types:{value:Types},init:{value:function(){if(storage.has("options")){var old=storage.get("options");null!==old&&(window.SugarCube.settings=settings=Object.assign(settingsCreate(),old)),settingsSave(),storage.delete("options")}settingsLoad(),_definitions.forEach((function(def){if(def.hasOwnProperty("onInit")){var thisArg={name:def.name,value:settings[def.name],default:def.default};def.hasOwnProperty("list")&&(thisArg.list=def.list),def.onInit.call(thisArg)}}))}},create:{value:settingsCreate},save:{value:settingsSave},load:{value:settingsLoad},clear:{value:settingsClear},reset:{value:function(name){if(0===arguments.length)settingsClear(),settingsLoad();else{if(null==name||!definitionsHas(name))throw new Error('nonexistent setting "'.concat(name,'"'));var def=definitionsGet(name);def.type!==Types.Header&&(settings[name]=def.default)}return settingsSave()}},forEach:{value:function(callback,thisArg){_definitions.forEach(callback,thisArg)}},add:{value:definitionsAdd},addHeader:{value:function(name,desc){definitionsAdd(Types.Header,name,{desc:desc})}},addToggle:{value:function(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];definitionsAdd.apply(void 0,[Types.Toggle].concat(args))}},addList:{value:function(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];definitionsAdd.apply(void 0,[Types.List].concat(args))}},addRange:{value:function(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];definitionsAdd.apply(void 0,[Types.Range].concat(args))}},isEmpty:{value:function(){return 0===_definitions.length}},has:{value:definitionsHas},get:{value:definitionsGet},delete:{value:function definitionsDelete(name){definitionsHas(name)&&delete settings[name];for(var i=0;i<_definitions.length;++i)if(_definitions[i].name===name){_definitions.splice(i,1),definitionsDelete(name);break}}}}))}(),Story=function(){var _passages={},_inits=[],_scripts=[],_styles=[],_widgets=[],_title="",_ifId="",_domId="";function _storySetTitle(rawTitle){if(null==rawTitle)throw new Error("story title must not be null or undefined");var title=Util.unescape(String(rawTitle)).trim();if(""===title)throw new Error("story title must not be empty or consist solely of whitespace");if(document.title=_title=title,""===(_domId=Util.slugify(_title)))if(""!==_ifId)_domId=_ifId;else for(var i=0,len=_title.length;i<len;++i){var _Util$charAndPosAt2=Util.charAndPosAt(_title,i),char=_Util$charAndPosAt2.char,start=_Util$charAndPosAt2.start,end=_Util$charAndPosAt2.end;_domId+=char.codePointAt(0).toString(16),i+=end-start}}return Object.freeze(Object.defineProperties({},{load:{value:function(){var validationCodeTags=["init","widget"],validationNoCodeTagPassages=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"];function validateStartingPassage(passage){if(passage.tags.includesAny(validationCodeTags))throw new Error('starting passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(passage.tags.filter((function(tag){return validationCodeTags.includes(tag)})).sort().join('", "'),'"'))}function validateSpecialPassages(passage){if(validationNoCodeTagPassages.includes(passage.title)){for(var _len19=arguments.length,tags=new Array(_len19>1?_len19-1:0),_key19=1;_key19<_len19;_key19++)tags[_key19-1]=arguments[_key19];throw new Error('special passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(tags.sort().join('", "'),'"'))}var codeTags=[].concat(validationCodeTags),foundTags=[];if(passage.tags.forEach((function(tag){codeTags.includes(tag)&&foundTags.push.apply(foundTags,_toConsumableArray(codeTags.delete(tag)))})),foundTags.length>1)throw new Error('passage "'.concat(passage.title,'" contains multiple special tags; invalid: "').concat(foundTags.sort().join('", "'),'"'))}var $storydata=jQuery("tw-storydata"),startNode=$storydata.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test($storydata.attr("options")),$storydata.children("style").each((function(i){_styles.push(new Passage("tw-user-style-".concat(i),this))})),$storydata.children("script").each((function(i){_scripts.push(new Passage("tw-user-script-".concat(i),this))})),$storydata.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each((function(){var $this=jQuery(this),pid=$this.attr("pid")||"",passage=new Passage($this.attr("name"),this);pid===startNode&&""!==startNode?(Config.passages.start=passage.title,validateStartingPassage(passage),_passages[passage.title]=passage):passage.tags.includes("init")?(validateSpecialPassages(passage,"init"),_inits.push(passage)):passage.tags.includes("widget")?(validateSpecialPassages(passage,"widget"),_widgets.push(passage)):_passages[passage.title]=passage})),_ifId=$storydata.attr("ifid"),_storySetTitle("FST"),Config.saves.id=Story.domId}},init:{value:function(){var storyStyle;storyStyle=document.createElement("style"),new StyleWrapper(storyStyle).add(_styles.map((function(style){return style.text.trim()})).join("\n")),jQuery(storyStyle).appendTo(document.head).attr({id:"style-story",type:"text/css"});for(var i=0;i<_scripts.length;++i)try{Scripting.evalJavaScript(_scripts[i].text)}catch(ex){console.error(ex),Alert.error(_scripts[i].title,"object"===_typeof(ex)?ex.message:ex)}for(var _i8=0;_i8<_widgets.length;++_i8)try{Wikifier.wikifyEval(_widgets[_i8].processText())}catch(ex){console.error(ex),Alert.error(_widgets[_i8].title,"object"===_typeof(ex)?ex.message:ex)}}},title:{get:function(){return _title}},domId:{get:function(){return _domId}},ifId:{get:function(){return _ifId}},add:{value:function(passage){if(!(passage instanceof Passage))throw new TypeError("Story.add passage parameter must be an instance of Passage");var title=passage.title;return!_passages.hasOwnProperty(title)&&(_passages[title]=passage,!0)}},has:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":return _passages.hasOwnProperty(String(title));case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.has title parameter cannot be ".concat(type))}},get:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":var id=String(title);return _passages.hasOwnProperty(id)?_passages[id]:new Passage(id||"(unknown)");case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.get title parameter cannot be ".concat(type))}},getAllInit:{value:function(){return Object.freeze(Array.from(_inits))}},getAllRegular:{value:function(){return Object.freeze(Object.assign({},_passages))}},getAllScript:{value:function(){return Object.freeze(Array.from(_scripts))}},getAllStylesheet:{value:function(){return Object.freeze(Array.from(_styles))}},getAllWidget:{value:function(){return Object.freeze(Array.from(_widgets))}},lookup:{value:function(key,value){var sortKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];"object"===_typeof(passage[key])&&null!==passage[key]?passage[key]instanceof Array&&passage[key].some((function(m){return Util.sameValueZero(m,value)}))&&results.push(passage):Util.sameValueZero(passage[key],value)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}},lookupWith:{value:function(predicate){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof predicate)throw new TypeError("Story.lookupWith predicate parameter must be a function");var results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];predicate(passage)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}}}))}(),UI=function(){function uiAssembleLinkList(passage,listEl){var list=listEl,debugState=Config.debug,cleanState=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==list&&(list=document.createElement("ul"));var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim());var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "));for(;frag.hasChildNodes();){var node=frag.firstChild;if(node.nodeType===Node.ELEMENT_NODE&&"A"===node.nodeName.toUpperCase()){var li=document.createElement("li");list.appendChild(li),li.appendChild(node)}else frag.removeChild(node)}}finally{Config.cleanupWikifierOutput=cleanState,Config.debug=debugState}return list}function uiOpenAlert(message){jQuery(Dialog.setup(L10n.get("alertTitle"),"alert")).append("<p>".concat(message,'</p><ul class="buttons">')+'<li><button id="alert-ok" class="ui-close">'.concat(L10n.get(["alertOk","ok"]),"</button></li>")+"</ul>");for(var _len20=arguments.length,args=new Array(_len20>1?_len20-1:0),_key20=1;_key20<_len20;_key20++)args[_key20-1]=arguments[_key20];Dialog.open.apply(Dialog,args)}function uiBuildAutoload(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>".concat(L10n.get("autoloadPrompt"),'</p><ul class="buttons">')+'<li><button id="autoload-ok" class="ui-close">'.concat(L10n.get(["autoloadOk","ok"]),"</button></li>")+'<li><button id="autoload-cancel" class="ui-close">'.concat(L10n.get(["autoloadCancel","cancel"]),"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",(function(ev){var isAutoloadOk="autoload-ok"===ev.target.id;jQuery(document).one(":dialogclosed",(function(){isAutoloadOk&&Save.autosave.load()||Engine.play(Config.passages.start)}))})),!0}function uiBuildJumpto(){var list=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(list);for(var expired=State.expired.length,i=State.size-1;i>=0;--i)if(i!==State.activeIndex){var passage=Story.get(State.history[i].title);passage&&passage.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(idx){return function(){return jQuery(document).one(":dialogclosed",(function(){return Engine.goTo(idx)}))}}(i)).addClass("ui-close").text("".concat(L10n.get("jumptoTurn")," ").concat(expired+i+1,": ").concat(passage.description()))).appendTo(list)}list.hasChildNodes()||jQuery(list).append("<li><a><em>".concat(L10n.get("jumptoUnavailable"),"</em></a></li>"))}function uiBuildRestart(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>".concat(L10n.get("restartPrompt"),'</p><ul class="buttons">')+'<li><button id="restart-ok">'.concat(L10n.get(["restartOk","ok"]),"</button></li>")+'<li><button id="restart-cancel" class="ui-close">'.concat(L10n.get(["restartCancel","cancel"]),"</button></li>")+"</ul>").find("#restart-ok").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){return Engine.restart()})),Dialog.close()})),!0}function uiBuildSaves(){var savesAllowed="function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed();function createActionItem(bId,bClass,bText,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId)).html(bText);return bClass&&$btn.addClass(bClass),bAction?$btn.ariaClick(bAction):$btn.ariaDisabled(!0),jQuery(document.createElement("li")).append($btn)}var $dialogBody=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),savesOk=Save.ok(),fileOk=Has.fileAPI&&(Config.saves.tryDiskOnMobile||!Browser.isMobile.any());if(savesOk&&$dialogBody.append(function(){function createButton(bId,bClass,bText,bSlot,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId,"-").concat(bSlot)).addClass(bId).html(bText);return bClass&&$btn.addClass(bClass),bAction?"auto"===bSlot?$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelAuto"))},(function(){return bAction()})):$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelSlot")," ").concat(bSlot+1)},(function(){return bAction(bSlot)})):$btn.ariaDisabled(!0),$btn}var saves=Save.get(),$tbody=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var $tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo($tdSlot),saves.autosave?($tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),"auto",(function(){jQuery(document).one(":dialogclosed",(function(){return Save.autosave.load()}))}))),jQuery(document.createElement("div")).text(saves.autosave.title).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.autosave.date?"".concat(new Date(saves.autosave.date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo($tdDesc),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto",(function(){Save.autosave.delete(),uiBuildSaves()})))):($tdLoad.append(createButton("load",null,L10n.get("savesLabelLoad"),"auto")),$tdDesc.addClass("empty").text("•  •  •"),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)}for(var i=0,iend=saves.slots.length;i<iend;++i){var _$tdSlot=jQuery(document.createElement("td")),_$tdLoad=jQuery(document.createElement("td")),_$tdDesc=jQuery(document.createElement("td")),_$tdDele=jQuery(document.createElement("td"));_$tdSlot.append(document.createTextNode(i+1)),saves.slots[i]?(_$tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),i,(function(slot){jQuery(document).one(":dialogclosed",(function(){return Save.slots.load(slot)}))}))),jQuery(document.createElement("div")).text(saves.slots[i].title).appendTo(_$tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.slots[i].date?"".concat(new Date(saves.slots[i].date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo(_$tdDesc),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i,(function(slot){Save.slots.delete(slot),uiBuildSaves()})))):(_$tdLoad.append(createButton("save","ui-close",L10n.get("savesLabelSave"),i,savesAllowed?Save.slots.save:null)),_$tdDesc.addClass("empty").text("•  •  •"),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i))),jQuery(document.createElement("tr")).append(_$tdSlot).append(_$tdLoad).append(_$tdDesc).append(_$tdDele).appendTo($tbody)}return jQuery(document.createElement("table")).attr("id","saves-list").append($tbody)}()),savesOk||fileOk){var $btnBar=jQuery(document.createElement("ul")).addClass("buttons").appendTo($dialogBody);return fileOk&&($btnBar.append(createActionItem("export","ui-close",L10n.get("savesLabelExport"),savesAllowed?function(){return Save.export()}:null)),$btnBar.append(createActionItem("import",null,L10n.get("savesLabelImport"),(function(){return $dialogBody.find("#saves-import-file").trigger("click")}))),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",(function(ev){jQuery(document).one(":dialogclosed",(function(){return Save.import(ev)})),Dialog.close()})).appendTo($dialogBody)),savesOk&&$btnBar.append(createActionItem("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),uiBuildSaves()}:null)),!0}return uiOpenAlert(L10n.get("savesIncapable")),!1}function uiBuildSettings(){var $dialogBody=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach((function(control){if(control.type===Setting.Types.Header){var _name=control.name,_id=Util.slugify(_name),$header=jQuery(document.createElement("div")),$heading=jQuery(document.createElement("h2"));return $header.attr("id","header-body-".concat(_id)).append($heading).appendTo($dialogBody),$heading.attr("id","header-heading-".concat(_id)).wiki(_name),void(control.desc&&jQuery(document.createElement("p")).attr("id","header-desc-".concat(_id)).wiki(control.desc).appendTo($header))}var $control,name=control.name,id=Util.slugify(name),$setting=jQuery(document.createElement("div")),$label=jQuery(document.createElement("label")),$controlBox=jQuery(document.createElement("div"));switch(jQuery(document.createElement("div")).append($label).append($controlBox).appendTo($setting),control.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-".concat(id)).wiki(control.desc).appendTo($setting),$label.attr({id:"setting-label-".concat(id),for:"setting-control-".concat(id)}).wiki(control.label),null==settings[name]&&(settings[name]=control.default),control.type){case Setting.Types.Toggle:$control=jQuery(document.createElement("button")),settings[name]?$control.addClass("enabled").text(L10n.get("settingsOn")):$control.text(L10n.get("settingsOff")),$control.ariaClick((function(){settings[name]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[name]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[name]=!0),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default})}));break;case Setting.Types.List:$control=jQuery(document.createElement("select"));for(var i=0,iend=control.list.length;i<iend;++i)jQuery(document.createElement("option")).val(i).text(control.list[i]).appendTo($control);$control.val(control.list.indexOf(settings[name])).attr("tabindex",0).on("change",(function(){settings[name]=control.list[Number(this.value)],Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,list:control.list})}));break;case Setting.Types.Range:($control=jQuery(document.createElement("input"))).attr({type:"range",min:control.min,max:control.max,step:control.step,value:settings[name],tabindex:0}).on("change input",(function(){settings[name]=Number(this.value),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,min:control.min,max:control.max,step:control.step})})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$control.trigger("change"))}))}$control.attr("id","setting-control-".concat(id)).appendTo($controlBox),$setting.attr("id","setting-body-".concat(id)).appendTo($dialogBody)})),$dialogBody.append('<ul class="buttons">'+'<li><button id="settings-ok" class="ui-close">'.concat(L10n.get(["settingsOk","ok"]),"</button></li>")+'<li><button id="settings-reset">'.concat(L10n.get("settingsReset"),"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){Setting.reset(),window.location.reload()})),Dialog.close()})),!0}function uiBuildShare(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(uiAssembleLinkList("StoryShare"))}catch(ex){return console.error(ex),Alert.error("StoryShare",ex.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:uiAssembleLinkList},alert:{value:uiOpenAlert},jumpto:{value:function(){uiBuildJumpto(),Dialog.open.apply(Dialog,arguments)}},restart:{value:function(){uiBuildRestart(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){uiBuildSaves(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){uiBuildSettings(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){uiBuildShare(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:uiBuildAutoload},buildJumpto:{value:uiBuildJumpto},buildRestart:{value:uiBuildRestart},buildSaves:{value:uiBuildSaves},buildSettings:{value:uiBuildSettings},buildShare:{value:uiBuildShare},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:uiBuildAutoload},buildDialogJumpto:{value:uiBuildJumpto},buildDialogRestart:{value:uiBuildRestart},buildDialogSaves:{value:uiBuildSaves},buildDialogSettings:{value:uiBuildSettings},buildDialogShare:{value:uiBuildShare},buildLinkListFromPassage:{value:uiAssembleLinkList}}))}(),UIBar=function(){var _$uiBar=null;function uiBarStow(noAnimation){var $story;_$uiBar&&!_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.addClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay));return this}function uiBarUpdate(){if(Story.has("StoryDisplayTitle")&&setDisplayTitle(Story.get("StoryDisplayTitle").processText()),_$uiBar){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var menuStory=document.getElementById("menu-story");if(null!==menuStory&&(jQuery(menuStory).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",menuStory)}catch(ex){console.error(ex),Alert.error("StoryMenu",ex.message)}}}return Object.freeze(Object.defineProperties({},{destroy:{value:function(){_$uiBar&&(_$uiBar.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),_$uiBar.remove(),_$uiBar=null)}},hide:{value:function(){return _$uiBar&&_$uiBar.hide(),this}},init:{value:function(){if(!document.getElementById("ui-bar")){var toggleLabel,backwardLabel,jumptoLabel,forwardLabel,$backward,$forward,$elems=(toggleLabel=L10n.get("uiBarToggle"),backwardLabel=L10n.get("uiBarBackward"),jumptoLabel=L10n.get("uiBarJumpto"),forwardLabel=L10n.get("uiBarForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar" aria-live="polite"><div id="ui-bar-tray">'+'<button id="ui-bar-toggle" tabindex="0" title="'.concat(toggleLabel,'" aria-label="').concat(toggleLabel,'"></button>')+'<div id="ui-bar-history">'+'<button id="history-backward" tabindex="0" title="'.concat(backwardLabel,'" aria-label="').concat(backwardLabel,'"></button>')+'<button id="history-jumpto" tabindex="0" title="'.concat(jumptoLabel,'" aria-label="').concat(jumptoLabel,'"></button>')+'<button id="history-forward" tabindex="0" title="'.concat(forwardLabel,'" aria-label="').concat(forwardLabel,'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+'<li id="menu-item-saves"><a tabindex="0">'.concat(L10n.get("savesTitle"),"</a></li>")+'<li id="menu-item-settings"><a tabindex="0">'.concat(L10n.get("settingsTitle"),"</a></li>")+'<li id="menu-item-restart"><a tabindex="0">'.concat(L10n.get("restartTitle"),"</a></li>")+'<li id="menu-item-share"><a tabindex="0">'.concat(L10n.get("shareTitle"),"</a></li>")+"</ul></nav></div></div>"));_$uiBar=jQuery($elems.find("#ui-bar").get(0)),$elems.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",($backward=jQuery("#history-backward"),$forward=jQuery("#history-forward"),function(){$backward.ariaDisabled(State.length<2),$forward.ariaDisabled(State.length===State.size)}))}}},isHidden:{value:function(){return _$uiBar&&"none"===_$uiBar.css("display")}},isStowed:{value:function(){return _$uiBar&&_$uiBar.hasClass("stowed")}},show:{value:function(){return _$uiBar&&_$uiBar.show(),this}},start:{value:function(){_$uiBar&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&uiBarStow(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},(function(){return _$uiBar.toggleClass("stowed")})),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},(function(){return Engine.backward()})),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},(function(){return UI.jumpto()})):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},(function(){return Engine.forward()}))):jQuery("#ui-bar-history").remove(),Story.has("StoryDisplayTitle")?setDisplayTitle(Story.get("StoryDisplayTitle").processText()):jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||uiBarUpdate(),jQuery("#menu-item-saves a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSaves(),Dialog.open()})).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSettings(),Dialog.open()})).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildRestart(),Dialog.open()})).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildShare(),Dialog.open()})).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}},stow:{value:uiBarStow},unstow:{value:function(noAnimation){var $story;return _$uiBar&&_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.removeClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay)),this}},update:{value:uiBarUpdate},setStoryElements:{value:uiBarUpdate}}))}(),DebugBar=function(){var _variableRe=new RegExp("^".concat(Patterns.variable,"$")),_numericKeyRe=/^\d+$/,_watchList=[],_$debugBar=null,_$watchBody=null,_$watchList=null,_$turnSelect=null,_stowed=!0;function debugBarStow(){_$debugBar.css("right","-".concat(_$debugBar.outerWidth(),"px")),_stowed=!0,_updateSession()}function debugBarUnstow(){_$debugBar.css("right",0),_stowed=!1,_updateSession()}function debugBarToggle(){_stowed?debugBarUnstow():debugBarStow()}function debugBarWatchAdd(varName){_variableRe.test(varName)&&(_watchList.pushUnique(varName),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession())}function debugBarWatchAddAll(){Object.keys(State.variables).map((function(name){return _watchList.pushUnique("$".concat(name))})),Object.keys(State.temporary).map((function(name){return _watchList.pushUnique("_".concat(name))})),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchClear(){for(var i=_watchList.length-1;i>=0;--i)_watchList.pop();_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDelete(varName){_watchList.delete(varName),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDisable(){_debugBarWatchDisableNoUpdate(),_updateSession()}function debugBarWatchEnable(){_debugBarWatchEnableNoUpdate(),_updateSession()}function debugBarWatchIsEnabled(){return!_$watchBody.attr("hidden")}function debugBarWatchToggle(){_$watchBody.attr("hidden")?debugBarWatchEnable():debugBarWatchDisable()}function _debugBarWatchDisableNoUpdate(){_$watchBody.attr({"aria-hidden":!0,hidden:"hidden"})}function _debugBarWatchEnableNoUpdate(){_$watchBody.removeAttr("aria-hidden hidden")}function _clearSession(){session.delete("debugState")}function _hasSession(){return session.has("debugState")}function _updateSession(){session.set("debugState",{stowed:_stowed,watchList:_watchList,watchEnabled:debugBarWatchIsEnabled(),viewsEnabled:DebugView.isEnabled()})}function _updateWatchBody(){if(0!==_watchList.length){for(var delLabel=L10n.get("debugBarDeleteWatch"),$table=jQuery(document.createElement("table")),$tbody=jQuery(document.createElement("tbody")),_loop4=function(i,len){var varName=_watchList[i],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary,$row=jQuery(document.createElement("tr")),$delBtn=jQuery(document.createElement("button")),$code=jQuery(document.createElement("code"));$delBtn.addClass("watch-delete").attr("data-name",varName).ariaClick({one:!0,label:delLabel},(function(){return debugBarWatchDelete(varName)})),$code.text(_toWatchString(store[varKey])),jQuery(document.createElement("td")).append($delBtn).appendTo($row),jQuery(document.createElement("td")).text(varName).appendTo($row),jQuery(document.createElement("td")).append($code).appendTo($row),$row.appendTo($tbody)},i=0,len=_watchList.length;i<len;++i)_loop4(i);$table.append($tbody),_$watchBody.empty().append($table)}else _$watchBody.empty().append("<div>".concat(L10n.get("debugBarNoWatches"),"</div>"))}function _updateWatchList(){var svn=Object.keys(State.variables),tvn=Object.keys(State.temporary);if(0!==svn.length||0!==tvn.length){var names=[].concat(_toConsumableArray(svn.map((function(name){return"$".concat(name)}))),_toConsumableArray(tvn.map((function(name){return"_".concat(name)})))).sort(),options=document.createDocumentFragment();names.delete(_watchList);for(var i=0,len=names.length;i<len;++i)jQuery(document.createElement("option")).val(names[i]).appendTo(options);_$watchList.empty().append(options)}else _$watchList.empty()}function _updateTurnSelect(){for(var histLen=State.size,expLen=State.expired.length,options=document.createDocumentFragment(),i=0;i<histLen;++i)jQuery(document.createElement("option")).val(i).text("".concat(expLen+i+1,". ").concat(Util.escape(State.history[i].title))).appendTo(options);_$turnSelect.empty().ariaDisabled(histLen<2).append(options).val(State.activeIndex)}function _toWatchString(value){if(null===value)return"null";switch(_typeof(value)){case"number":if(Number.isNaN(value))return"NaN";if(!Number.isFinite(value))return"Infinity";case"boolean":case"symbol":case"undefined":return String(value);case"string":return JSON.stringify(value);case"function":return"Function"}var objType=Util.toStringTag(value);if("Date"===objType)return"Date {".concat(value.toLocaleString(),"}");if("RegExp"===objType)return"RegExp ".concat(value.toString());var result=[];if(value instanceof Array||value instanceof Set){for(var list=value instanceof Array?value:Array.from(value),i=0,len=list.length;i<len;++i)result.push(list.hasOwnProperty(i)?_toWatchString(list[i]):"<empty>");return Object.keys(list).filter((function(key){return!_numericKeyRe.test(key)})).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(list[key])))})),"".concat(objType,"(").concat(list.length,") [").concat(result.join(", "),"]")}return value instanceof Map?(value.forEach((function(val,key){return result.push("".concat(_toWatchString(key)," → ").concat(_toWatchString(val)))})),"".concat(objType,"(").concat(value.size,") {").concat(result.join(", "),"}")):(Object.keys(value).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(value[key])))})),"".concat(objType," {").concat(result.join(", "),"}"))}return Object.freeze(Object.defineProperties({},{init:{value:function(){var barToggleLabel=L10n.get("debugBarToggle"),watchAddLabel=L10n.get("debugBarAddWatch"),watchAllLabel=L10n.get("debugBarWatchAll"),watchNoneLabel=L10n.get("debugBarWatchNone"),watchToggleLabel=L10n.get("debugBarWatchToggle"),viewsToggleLabel=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch">'+"<div>".concat(L10n.get("debugBarNoWatches"),"</div>>")+"</div><div>"+'<button id="debug-bar-watch-toggle" tabindex="0" title="'.concat(watchToggleLabel,'" aria-label="').concat(watchToggleLabel,'">').concat(L10n.get("debugBarLabelWatch"),"</button>")+'<label id="debug-bar-watch-label" for="debug-bar-watch-input">'.concat(L10n.get("debugBarLabelAdd"),"</label>")+'<input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-watch-add" tabindex="0" title="'.concat(watchAddLabel,'" aria-label="').concat(watchAddLabel,'"></button>')+'<button id="debug-bar-watch-all" tabindex="0" title="'.concat(watchAllLabel,'" aria-label="').concat(watchAllLabel,'"></button>')+'<button id="debug-bar-watch-none" tabindex="0" title="'.concat(watchNoneLabel,'" aria-label="').concat(watchNoneLabel,'"></button>')+"</div><div>"+'<button id="debug-bar-views-toggle" tabindex="0" title="'.concat(viewsToggleLabel,'" aria-label="').concat(viewsToggleLabel,'">').concat(L10n.get("debugBarLabelViews"),"</button>")+'<label id="debug-bar-turn-label" for="debug-bar-turn-select">'.concat(L10n.get("debugBarLabelTurn"),"</label>")+'<select id="debug-bar-turn-select" tabindex="0"></select></div>'+'<button id="debug-bar-toggle" tabindex="0" title="'.concat(barToggleLabel,'" aria-label="').concat(barToggleLabel,'"></button>')+'</div><div id="debug-bar-hint"></div>').appendTo("body"),_$debugBar=jQuery("#debug-bar"),_$watchBody=jQuery(_$debugBar.find("#debug-bar-watch").get(0)),_$watchList=jQuery(_$debugBar.find("#debug-bar-watch-list").get(0)),_$turnSelect=jQuery(_$debugBar.find("#debug-bar-turn-select").get(0));var $barToggle=jQuery(_$debugBar.find("#debug-bar-toggle").get(0)),$watchToggle=jQuery(_$debugBar.find("#debug-bar-watch-toggle").get(0)),$watchInput=jQuery(_$debugBar.find("#debug-bar-watch-input").get(0)),$watchAdd=jQuery(_$debugBar.find("#debug-bar-watch-add").get(0)),$watchAll=jQuery(_$debugBar.find("#debug-bar-watch-all").get(0)),$watchNone=jQuery(_$debugBar.find("#debug-bar-watch-none").get(0)),$viewsToggle=jQuery(_$debugBar.find("#debug-bar-views-toggle").get(0));$barToggle.ariaClick(debugBarToggle),$watchToggle.ariaClick(debugBarWatchToggle),$watchInput.on(":addwatch",(function(){debugBarWatchAdd(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$watchInput.trigger(":addwatch"))})),$watchAdd.ariaClick((function(){return $watchInput.trigger(":addwatch")})),$watchAll.ariaClick(debugBarWatchAddAll),$watchNone.ariaClick(debugBarWatchClear),_$turnSelect.on("change",(function(){Engine.goTo(Number(this.value))})),$viewsToggle.ariaClick((function(){DebugView.toggle(),_updateSession()})),jQuery(document).on(":historyupdate.debug-bar",_updateTurnSelect).on(":passageend.debug-bar",(function(){_updateWatchBody(),_updateWatchList()})).on(":enginerestart.debug-bar",_clearSession),_hasSession()||DebugView.enable()}},isStowed:{value:function(){return _stowed}},start:{value:function(){(function(){if(!_hasSession())return!1;var debugState=session.get("debugState");_stowed=debugState.stowed,_watchList.push.apply(_watchList,_toConsumableArray(debugState.watchList)),debugState.watchEnabled?_debugBarWatchEnableNoUpdate():_debugBarWatchDisableNoUpdate();debugState.viewsEnabled?DebugView.enable():DebugView.disable()})(),_stowed?debugBarStow():debugBarUnstow(),_updateTurnSelect(),_updateWatchBody(),_updateWatchList()}},stow:{value:debugBarStow},toggle:{value:debugBarToggle},unstow:{value:debugBarUnstow},watch:{value:Object.freeze(Object.defineProperties({},{add:{value:debugBarWatchAdd},all:{value:debugBarWatchAddAll},clear:{value:debugBarWatchClear},delete:{value:debugBarWatchDelete},disable:{value:debugBarWatchDisable},enable:{value:debugBarWatchEnable},isEnabled:{value:debugBarWatchIsEnabled},toggle:{value:debugBarWatchToggle}}))}}))}(),LoadScreen=function(){var _locks=new Set,_autoId=0;function loadScreenHide(){jQuery(document.documentElement).removeAttr("data-init")}function loadScreenShow(){jQuery(document.documentElement).attr("data-init","loading")}return Object.freeze(Object.defineProperties({},{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",(function(){_locks.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout((function(){0===_locks.size&&loadScreenHide()}),Math.max(Engine.minDomActionDelay,Config.loadDelay)):loadScreenHide()):loadScreenShow())}))}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),_locks.clear(),loadScreenHide()}},hide:{value:loadScreenHide},show:{value:loadScreenShow},lock:{value:function(){return++_autoId,_locks.add(_autoId),loadScreenShow(),_autoId}},unlock:{value:function(id){if(null==id)throw new Error("LoadScreen.unlock called with a null or undefined ID");_locks.has(id)&&_locks.delete(id),0===_locks.size&&jQuery(document).trigger("readystatechange")}}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:36,patch:1,prerelease:null,build:9717,date:new Date("2021-12-22T05:37:33.467Z"),extensions:{},toString:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,"+").concat(this.build)},short:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.title," (v").concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,")")},long:function(){return"".concat(this.title," v").concat(this.toString()," (").concat(this.date.toUTCString(),")")}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery((function(){try{var lockId=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var $window=$(window),vprCheckId=setInterval((function(){$window.width()&&(clearInterval(vprCheckId),UIBar.start(),Config.debug&&DebugBar.start(),jQuery.event.trigger({type:":storyready"}),setTimeout((function(){return LoadScreen.unlock(lockId)}),2*Engine.minDomActionDelay))}),Engine.minDomActionDelay);Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))})}catch(ex){return console.error(ex),LoadScreen.clear(),Alert.fatal(null,ex.message,ex)}}))})(window,window.document,jQuery);}
	</script>
</body>
</html>
